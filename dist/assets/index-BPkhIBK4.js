function R6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lx={exports:{}},yu={};var gE;function O6(){if(gE)return yu;gE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:u,ref:s!==void 0?s:null,props:o}}return yu.Fragment=t,yu.jsx=n,yu.jsxs=n,yu}var pE;function k6(){return pE||(pE=1,Lx.exports=O6()),Lx.exports}var a=k6(),Bx={exports:{}},ut={};var xE;function D6(){if(xE)return ut;xE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function E(P,z,ee){this.props=P,this.context=z,this.refs=N,this.updater=ee||S}E.prototype.isReactComponent={},E.prototype.setState=function(P,z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,z,"setState")},E.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(P,z,ee){this.props=P,this.context=z,this.refs=N,this.updater=ee||S}var _=T.prototype=new C;_.constructor=T,j(_,E.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function R(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function V(P,z,ee){var Y=ee.ref;return{$$typeof:e,type:P,key:z,ref:Y!==void 0?Y:null,props:ee}}function J(P,z){return V(P.type,z,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function F(P){var z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ee){return z[ee]})}var re=/\/+/g;function be(P,z){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):z.toString(36)}function xe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(R,R):(P.status="pending",P.then(function(z){P.status==="pending"&&(P.status="fulfilled",P.value=z)},function(z){P.status==="pending"&&(P.status="rejected",P.reason=z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function q(P,z,ee,Y,Z){var ie=typeof P;(ie==="undefined"||ie==="boolean")&&(P=null);var le=!1;if(P===null)le=!0;else switch(ie){case"bigint":case"string":case"number":le=!0;break;case"object":switch(P.$$typeof){case e:case t:le=!0;break;case g:return le=P._init,q(le(P._payload),z,ee,Y,Z)}}if(le)return Z=Z(P),le=Y===""?"."+be(P,0):Y,O(Z)?(ee="",le!=null&&(ee=le.replace(re,"$&/")+"/"),q(Z,z,ee,"",function(M){return M})):Z!=null&&(B(Z)&&(Z=J(Z,ee+(Z.key==null||P&&P.key===Z.key?"":(""+Z.key).replace(re,"$&/")+"/")+le)),z.push(Z)),1;le=0;var G=Y===""?".":Y+":";if(O(P))for(var $=0;$<P.length;$++)Y=P[$],ie=G+be(Y,$),le+=q(Y,z,ee,ie,Z);else if($=w(P),typeof $=="function")for(P=$.call(P),$=0;!(Y=P.next()).done;)Y=Y.value,ie=G+be(Y,$++),le+=q(Y,z,ee,ie,Z);else if(ie==="object"){if(typeof P.then=="function")return q(xe(P),z,ee,Y,Z);throw z=String(P),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function H(P,z,ee){if(P==null)return P;var Y=[],Z=0;return q(P,Y,"","",function(ie){return z.call(ee,ie,Z++)}),Y}function K(P){if(P._status===-1){var z=P._result;z=z(),z.then(function(ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=ee)},function(ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=ee)}),P._status===-1&&(P._status=0,P._result=z)}if(P._status===1)return P._result.default;throw P._result}var ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Pe={map:H,forEach:function(P,z,ee){H(P,function(){z.apply(this,arguments)},ee)},count:function(P){var z=0;return H(P,function(){z++}),z},toArray:function(P){return H(P,function(z){return z})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ut.Activity=x,ut.Children=Pe,ut.Component=E,ut.Fragment=n,ut.Profiler=s,ut.PureComponent=T,ut.StrictMode=r,ut.Suspense=f,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ut.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},ut.cache=function(P){return function(){return P.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(P,z,ee){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Y=j({},P.props),Z=P.key;if(z!=null)for(ie in z.key!==void 0&&(Z=""+z.key),z)!L.call(z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&z.ref===void 0||(Y[ie]=z[ie]);var ie=arguments.length-2;if(ie===1)Y.children=ee;else if(1<ie){for(var le=Array(ie),G=0;G<ie;G++)le[G]=arguments[G+2];Y.children=le}return V(P.type,Z,Y)},ut.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},ut.createElement=function(P,z,ee){var Y,Z={},ie=null;if(z!=null)for(Y in z.key!==void 0&&(ie=""+z.key),z)L.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Z[Y]=z[Y]);var le=arguments.length-2;if(le===1)Z.children=ee;else if(1<le){for(var G=Array(le),$=0;$<le;$++)G[$]=arguments[$+2];Z.children=G}if(P&&P.defaultProps)for(Y in le=P.defaultProps,le)Z[Y]===void 0&&(Z[Y]=le[Y]);return V(P,ie,Z)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(P){return{$$typeof:d,render:P}},ut.isValidElement=B,ut.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:K}},ut.memo=function(P,z){return{$$typeof:m,type:P,compare:z===void 0?null:z}},ut.startTransition=function(P){var z=D.T,ee={};D.T=ee;try{var Y=P(),Z=D.S;Z!==null&&Z(ee,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(R,ve)}catch(ie){ve(ie)}finally{z!==null&&ee.types!==null&&(z.types=ee.types),D.T=z}},ut.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ut.use=function(P){return D.H.use(P)},ut.useActionState=function(P,z,ee){return D.H.useActionState(P,z,ee)},ut.useCallback=function(P,z){return D.H.useCallback(P,z)},ut.useContext=function(P){return D.H.useContext(P)},ut.useDebugValue=function(){},ut.useDeferredValue=function(P,z){return D.H.useDeferredValue(P,z)},ut.useEffect=function(P,z){return D.H.useEffect(P,z)},ut.useEffectEvent=function(P){return D.H.useEffectEvent(P)},ut.useId=function(){return D.H.useId()},ut.useImperativeHandle=function(P,z,ee){return D.H.useImperativeHandle(P,z,ee)},ut.useInsertionEffect=function(P,z){return D.H.useInsertionEffect(P,z)},ut.useLayoutEffect=function(P,z){return D.H.useLayoutEffect(P,z)},ut.useMemo=function(P,z){return D.H.useMemo(P,z)},ut.useOptimistic=function(P,z){return D.H.useOptimistic(P,z)},ut.useReducer=function(P,z,ee){return D.H.useReducer(P,z,ee)},ut.useRef=function(P){return D.H.useRef(P)},ut.useState=function(P){return D.H.useState(P)},ut.useSyncExternalStore=function(P,z,ee){return D.H.useSyncExternalStore(P,z,ee)},ut.useTransition=function(){return D.H.useTransition()},ut.version="19.2.0",ut}var vE;function dc(){return vE||(vE=1,Bx.exports=D6()),Bx.exports}var p=dc();const Ms=hi(p),Jy=R6({__proto__:null,default:Ms},[p]);var Ux={exports:{}},bu={},$x={exports:{}},zx={};var yE;function M6(){return yE||(yE=1,(function(e){function t(q,H){var K=q.length;q.push(H);e:for(;0<K;){var ve=K-1>>>1,Pe=q[ve];if(0<s(Pe,H))q[ve]=H,q[K]=Pe,K=ve;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var H=q[0],K=q.pop();if(K!==H){q[0]=K;e:for(var ve=0,Pe=q.length,P=Pe>>>1;ve<P;){var z=2*(ve+1)-1,ee=q[z],Y=z+1,Z=q[Y];if(0>s(ee,K))Y<Pe&&0>s(Z,ee)?(q[ve]=Z,q[Y]=K,ve=Y):(q[ve]=ee,q[z]=K,ve=z);else if(Y<Pe&&0>s(Z,K))q[ve]=Z,q[Y]=K,ve=Y;else break e}}return H}function s(q,H){var K=q.sortIndex-H.sortIndex;return K!==0?K:q.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,x=null,b=3,w=!1,S=!1,j=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _(q){for(var H=n(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=q)r(m),H.sortIndex=H.expirationTime,t(f,H);else break;H=n(m)}}function O(q){if(j=!1,_(q),!S)if(n(f)!==null)S=!0,R||(R=!0,F());else{var H=n(m);H!==null&&xe(O,H.startTime-q)}}var R=!1,D=-1,L=5,V=-1;function J(){return N?!0:!(e.unstable_now()-V<L)}function B(){if(N=!1,R){var q=e.unstable_now();V=q;var H=!0;try{e:{S=!1,j&&(j=!1,C(D),D=-1),w=!0;var K=b;try{t:{for(_(q),x=n(f);x!==null&&!(x.expirationTime>q&&J());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,b=x.priorityLevel;var Pe=ve(x.expirationTime<=q);if(q=e.unstable_now(),typeof Pe=="function"){x.callback=Pe,_(q),H=!0;break t}x===n(f)&&r(f),_(q)}else r(f);x=n(f)}if(x!==null)H=!0;else{var P=n(m);P!==null&&xe(O,P.startTime-q),H=!1}}break e}finally{x=null,b=K,w=!1}H=void 0}}finally{H?F():R=!1}}}var F;if(typeof T=="function")F=function(){T(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,be=re.port2;re.port1.onmessage=B,F=function(){be.postMessage(null)}}else F=function(){E(B,0)};function xe(q,H){D=E(function(){q(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var K=b;b=H;try{return q()}finally{b=K}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=b;b=q;try{return H()}finally{b=K}},e.unstable_scheduleCallback=function(q,H,K){var ve=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ve+K:ve):K=ve,q){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=K+Pe,q={id:g++,callback:H,priorityLevel:q,startTime:K,expirationTime:Pe,sortIndex:-1},K>ve?(q.sortIndex=K,t(m,q),n(f)===null&&q===n(m)&&(j?(C(D),D=-1):j=!0,xe(O,K-ve))):(q.sortIndex=Pe,t(f,q),S||w||(S=!0,R||(R=!0,F()))),q},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(q){var H=b;return function(){var K=b;b=H;try{return q.apply(this,arguments)}finally{b=K}}}})(zx)),zx}var bE;function P6(){return bE||(bE=1,$x.exports=M6()),$x.exports}var Hx={exports:{}},dr={};var wE;function I6(){if(wE)return dr;wE=1;var e=dc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,g)},dr.flushSync=function(f){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=g,r.d.f()}},dr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},dr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},dr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},dr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);r.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dr.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},dr.requestFormReset=function(f){r.d.r(f)},dr.unstable_batchedUpdates=function(f,m){return f(m)},dr.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},dr.useFormStatus=function(){return u.H.useHostTransitionStatus()},dr.version="19.2.0",dr}var jE;function __(){if(jE)return Hx.exports;jE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hx.exports=I6(),Hx.exports}var NE;function L6(){if(NE)return bu;NE=1;var e=P6(),t=dc(),n=__();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function u(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var c=i,h=l;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return f(v),i;if(y===h)return f(v),l;y=y.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=y;else{for(var A=!1,k=v.child;k;){if(k===c){A=!0,c=v,h=y;break}if(k===h){A=!0,h=v,c=y;break}k=k.sibling}if(!A){for(k=y.child;k;){if(k===c){A=!0,c=y,h=v;break}if(k===h){A=!0,h=y,c=v;break}k=k.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var re=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===re?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case E:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case T:return i.displayName||"Context";case C:return(i._context.displayName||"Context")+".Consumer";case _:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return l=i.displayName||null,l!==null?l:be(i.type)||"Memo";case L:l=i._payload,i=i._init;try{return be(i(l))}catch{}}return null}var xe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ve=[],Pe=-1;function P(i){return{current:i}}function z(i){0>Pe||(i.current=ve[Pe],ve[Pe]=null,Pe--)}function ee(i,l){Pe++,ve[Pe]=i.current,i.current=l}var Y=P(null),Z=P(null),ie=P(null),le=P(null);function G(i,l){switch(ee(ie,l),ee(Z,i),ee(Y,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?BS(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=BS(l),i=US(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(Y),ee(Y,i)}function $(){z(Y),z(Z),z(ie)}function M(i){i.memoizedState!==null&&ee(le,i);var l=Y.current,c=US(l,i.type);l!==c&&(ee(Z,i),ee(Y,c))}function U(i){Z.current===i&&(z(Y),z(Z)),le.current===i&&(z(le),gu._currentValue=K)}var I,fe;function te(i){if(I===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||"",fe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+i+fe}var W=!1;function Q(i,l){if(!i||W)return"";W=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(we){var pe=we}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(we){pe=we}i.call(_e.prototype)}}else{try{throw Error()}catch(we){pe=we}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(we){if(we&&pe&&typeof we.stack=="string")return[we.stack,pe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],k=y[1];if(A&&k){var X=A.split(`
`),he=k.split(`
`);for(v=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;if(h===X.length||v===he.length)for(h=X.length-1,v=he.length-1;1<=h&&0<=v&&X[h]!==he[v];)v--;for(;1<=h&&0<=v;h--,v--)if(X[h]!==he[v]){if(h!==1||v!==1)do if(h--,v--,0>v||X[h]!==he[v]){var Ee=`
`+X[h].replace(" at new "," at ");return i.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",i.displayName)),Ee}while(1<=h&&0<=v);break}}}finally{W=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?te(c):""}function ae(i,l){switch(i.tag){case 26:case 27:case 5:return te(i.type);case 16:return te("Lazy");case 13:return i.child!==l&&l!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return Q(i.type,!1);case 11:return Q(i.type.render,!1);case 1:return Q(i.type,!0);case 31:return te("Activity");default:return""}}function Se(i){try{var l="",c=null;do l+=ae(i,c),c=i,i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ne=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Re=e.unstable_cancelCallback,ze=e.unstable_shouldYield,nt=e.unstable_requestPaint,He=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,$e=e.unstable_UserBlockingPriority,Be=e.unstable_NormalPriority,dt=e.unstable_LowPriority,un=e.unstable_IdlePriority,dn=e.log,kn=e.unstable_setDisableYieldValue,Cn=null,Pt=null;function Wn(i){if(typeof dn=="function"&&kn(i),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Cn,i)}catch{}}var Et=Math.clz32?Math.clz32:Je,Ce=Math.log,qe=Math.LN2;function Je(i){return i>>>=0,i===0?32:31-(Ce(i)/qe|0)|0}var Qt=256,xt=262144,Gt=4194304;function Rr(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ca(i,l,c){var h=i.pendingLanes;if(h===0)return 0;var v=0,y=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var k=h&134217727;return k!==0?(h=k&~y,h!==0?v=Rr(h):(A&=k,A!==0?v=Rr(A):c||(c=k&~i,c!==0&&(v=Rr(c))))):(k=h&~y,k!==0?v=Rr(k):A!==0?v=Rr(A):c||(c=h&~i,c!==0&&(v=Rr(c)))),v===0?0:l!==0&&l!==v&&(l&y)===0&&(y=v&-v,c=l&-l,y>=c||y===32&&(c&4194048)!==0)?l:v}function qr(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function eo(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(){var i=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),i}function Js(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function Xa(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ls(i,l,c,h,v,y){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var k=i.entanglements,X=i.expirationTimes,he=i.hiddenUpdates;for(c=A&~c;0<c;){var Ee=31-Et(c),_e=1<<Ee;k[Ee]=0,X[Ee]=-1;var pe=he[Ee];if(pe!==null)for(he[Ee]=null,Ee=0;Ee<pe.length;Ee++){var we=pe[Ee];we!==null&&(we.lane&=-536870913)}c&=~_e}h!==0&&Oc(i,h,0),y!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~l))}function Oc(i,l,c){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-Et(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function el(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var h=31-Et(c),v=1<<h;v&l|i[h]&l&&(i[h]|=l),c&=~v}}function to(i,l){var c=l&-l;return c=(c&42)!==0?1:Qa(c),(c&(i.suspendedLanes|l))!==0?0:c}function Qa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function no(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function tl(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:oE(i.type))}function ro(i,l){var c=H.p;try{return H.p=i,l()}finally{H.p=c}}var ue=Math.random().toString(36).slice(2),Fe="__reactFiber$"+ue,jt="__reactProps$"+ue,fi="__reactContainer$"+ue,ao="__reactEvents$"+ue,io="__reactListeners$"+ue,so="__reactHandles$"+ue,Ld="__reactResources$"+ue,nl="__reactMarker$"+ue;function me(i){delete i[Fe],delete i[jt],delete i[ao],delete i[io],delete i[so]}function ke(i){var l=i[Fe];if(l)return l;for(var c=i.parentNode;c;){if(l=c[fi]||c[Fe]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=GS(i);i!==null;){if(c=i[Fe])return c;i=GS(i)}return l}i=c,c=i.parentNode}return null}function Me(i){if(i=i[Fe]||i[fi]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Zt(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function br(i){var l=i[Ld];return l||(l=i[Ld]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yn(i){i[nl]=!0}var Cj=new Set,Aj={};function rl(i,l){lo(i,l),lo(i+"Capture",l)}function lo(i,l){for(Aj[i]=l,i=0;i<l.length;i++)Cj.add(l[i])}var w4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tj={},_j={};function j4(i){return Ne.call(_j,i)?!0:Ne.call(Tj,i)?!1:w4.test(i)?_j[i]=!0:(Tj[i]=!0,!1)}function Bd(i,l,c){if(j4(l))if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+c)}}function Ud(i,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+c)}}function mi(i,l,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(l,c,""+h)}}function ua(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Rj(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function N4(i,l,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,y=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Rg(i){if(!i._valueTracker){var l=Rj(i)?"checked":"value";i._valueTracker=N4(i,l,""+i[l])}}function Oj(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return i&&(h=Rj(i)?i.checked?"true":"false":i.value),i=h,i!==c?(l.setValue(i),!0):!1}function $d(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var S4=/[\n"\\]/g;function da(i){return i.replace(S4,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Og(i,l,c,h,v,y,A,k){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),l!=null?A==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ua(l)):i.value!==""+ua(l)&&(i.value=""+ua(l)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),l!=null?kg(i,A,ua(l)):c!=null?kg(i,A,ua(c)):h!=null&&i.removeAttribute("value"),v==null&&y!=null&&(i.defaultChecked=!!y),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+ua(k):i.removeAttribute("name")}function kj(i,l,c,h,v,y,A,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),l!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){Rg(i);return}c=c!=null?""+ua(c):"",l=l!=null?""+ua(l):c,k||l===i.value||(i.value=l),i.defaultValue=l}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Rg(i)}function kg(i,l,c){l==="number"&&$d(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function oo(i,l,c,h){if(i=i.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=l.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&h&&(i[c].defaultSelected=!0)}else{for(c=""+ua(c),l=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function Dj(i,l,c){if(l!=null&&(l=""+ua(l),l!==i.value&&(i.value=l),c==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=c!=null?""+ua(c):""}function Mj(i,l,c,h){if(l==null){if(h!=null){if(c!=null)throw Error(r(92));if(xe(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),l=c}c=ua(l),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Rg(i)}function co(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var E4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pj(i,l,c){var h=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,c):typeof c!="number"||c===0||E4.has(l)?l==="float"?i.cssFloat=c:i[l]=(""+c).trim():i[l]=c+"px"}function Ij(i,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in l)h=l[v],l.hasOwnProperty(v)&&c[v]!==h&&Pj(i,v,h)}else for(var y in l)l.hasOwnProperty(y)&&Pj(i,y,l[y])}function Dg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zd(i){return A4.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var Mg=null;function Pg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uo=null,ho=null;function Lj(i){var l=Me(i);if(l&&(i=l.stateNode)){var c=i[jt]||null;e:switch(i=l.stateNode,l.type){case"input":if(Og(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+da(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==i&&h.form===i.form){var v=h[jt]||null;if(!v)throw Error(r(90));Og(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)h=c[l],h.form===i.form&&Oj(h)}break e;case"textarea":Dj(i,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&oo(i,!!c.multiple,l,!1)}}}var Ig=!1;function Bj(i,l,c){if(Ig)return i(l,c);Ig=!0;try{var h=i(l);return h}finally{if(Ig=!1,(uo!==null||ho!==null)&&(Th(),uo&&(l=uo,i=ho,ho=uo=null,Lj(l),i)))for(l=0;l<i.length;l++)Lj(i[l])}}function kc(i,l){var c=i.stateNode;if(c===null)return null;var h=c[jt]||null;if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=!1;if(pi)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){Lg=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Lg=!1}var os=null,Bg=null,Hd=null;function Uj(){if(Hd)return Hd;var i,l=Bg,c=l.length,h,v="value"in os?os.value:os.textContent,y=v.length;for(i=0;i<c&&l[i]===v[i];i++);var A=c-i;for(h=1;h<=A&&l[c-h]===v[y-h];h++);return Hd=v.slice(i,1<h?1-h:void 0)}function qd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Fd(){return!0}function $j(){return!1}function kr(i){function l(c,h,v,y,A){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(c=i[k],this[k]=c?c(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fd:$j,this.isPropagationStopped=$j,this}return x(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),l}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=kr(al),Mc=x({},al,{view:0,detail:0}),T4=kr(Mc),Ug,$g,Pc,Gd=x({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pc&&(Pc&&i.type==="mousemove"?(Ug=i.screenX-Pc.screenX,$g=i.screenY-Pc.screenY):$g=Ug=0,Pc=i),Ug)},movementY:function(i){return"movementY"in i?i.movementY:$g}}),zj=kr(Gd),_4=x({},Gd,{dataTransfer:0}),R4=kr(_4),O4=x({},Mc,{relatedTarget:0}),zg=kr(O4),k4=x({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),D4=kr(k4),M4=x({},al,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),P4=kr(M4),I4=x({},al,{data:0}),Hj=kr(I4),L4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $4(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=U4[i])?!!l[i]:!1}function Hg(){return $4}var z4=x({},Mc,{key:function(i){if(i.key){var l=L4[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=qd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?B4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hg,charCode:function(i){return i.type==="keypress"?qd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),H4=kr(z4),q4=x({},Gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qj=kr(q4),F4=x({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hg}),K4=kr(F4),G4=x({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),V4=kr(G4),W4=x({},Gd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=kr(W4),X4=x({},al,{newState:0,oldState:0}),Q4=kr(X4),Z4=[9,13,27,32],qg=pi&&"CompositionEvent"in window,Ic=null;pi&&"documentMode"in document&&(Ic=document.documentMode);var J4=pi&&"TextEvent"in window&&!Ic,Fj=pi&&(!qg||Ic&&8<Ic&&11>=Ic),Kj=" ",Gj=!1;function Vj(i,l){switch(i){case"keyup":return Z4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function eI(i,l){switch(i){case"compositionend":return Wj(l);case"keypress":return l.which!==32?null:(Gj=!0,Kj);case"textInput":return i=l.data,i===Kj&&Gj?null:i;default:return null}}function tI(i,l){if(fo)return i==="compositionend"||!qg&&Vj(i,l)?(i=Uj(),Hd=Bg=os=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Fj&&l.locale!=="ko"?null:l.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yj(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!nI[i.type]:l==="textarea"}function Xj(i,l,c,h){uo?ho?ho.push(h):ho=[h]:uo=h,l=Ph(l,"onChange"),0<l.length&&(c=new Kd("onChange","change",null,c,h),i.push({event:c,listeners:l}))}var Lc=null,Bc=null;function rI(i){kS(i,0)}function Vd(i){var l=Zt(i);if(Oj(l))return i}function Qj(i,l){if(i==="change")return l}var Zj=!1;if(pi){var Fg;if(pi){var Kg="oninput"in document;if(!Kg){var Jj=document.createElement("div");Jj.setAttribute("oninput","return;"),Kg=typeof Jj.oninput=="function"}Fg=Kg}else Fg=!1;Zj=Fg&&(!document.documentMode||9<document.documentMode)}function eN(){Lc&&(Lc.detachEvent("onpropertychange",tN),Bc=Lc=null)}function tN(i){if(i.propertyName==="value"&&Vd(Bc)){var l=[];Xj(l,Bc,i,Pg(i)),Bj(rI,l)}}function aI(i,l,c){i==="focusin"?(eN(),Lc=l,Bc=c,Lc.attachEvent("onpropertychange",tN)):i==="focusout"&&eN()}function iI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vd(Bc)}function sI(i,l){if(i==="click")return Vd(l)}function lI(i,l){if(i==="input"||i==="change")return Vd(l)}function oI(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Fr=typeof Object.is=="function"?Object.is:oI;function Uc(i,l){if(Fr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!Ne.call(l,v)||!Fr(i[v],l[v]))return!1}return!0}function nN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rN(i,l){var c=nN(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=l&&h>=l)return{node:c,offset:l-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=nN(c)}}function aN(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?aN(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function iN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=$d(i.document);l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=$d(i.document)}return l}function Gg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var cI=pi&&"documentMode"in document&&11>=document.documentMode,mo=null,Vg=null,$c=null,Wg=!1;function sN(i,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wg||mo==null||mo!==$d(h)||(h=mo,"selectionStart"in h&&Gg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$c&&Uc($c,h)||($c=h,h=Ph(Vg,"onSelect"),0<h.length&&(l=new Kd("onSelect","select",null,l,c),i.push({event:l,listeners:h}),l.target=mo)))}function il(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var go={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},Yg={},lN={};pi&&(lN=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function sl(i){if(Yg[i])return Yg[i];if(!go[i])return i;var l=go[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in lN)return Yg[i]=l[c];return i}var oN=sl("animationend"),cN=sl("animationiteration"),uN=sl("animationstart"),uI=sl("transitionrun"),dI=sl("transitionstart"),hI=sl("transitioncancel"),dN=sl("transitionend"),hN=new Map,Xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xg.push("scrollEnd");function La(i,l){hN.set(i,l),rl(l,[i])}var Wd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ha=[],po=0,Qg=0;function Yd(){for(var i=po,l=Qg=po=0;l<i;){var c=ha[l];ha[l++]=null;var h=ha[l];ha[l++]=null;var v=ha[l];ha[l++]=null;var y=ha[l];if(ha[l++]=null,h!==null&&v!==null){var A=h.pending;A===null?v.next=v:(v.next=A.next,A.next=v),h.pending=v}y!==0&&fN(c,v,y)}}function Xd(i,l,c,h){ha[po++]=i,ha[po++]=l,ha[po++]=c,ha[po++]=h,Qg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Zg(i,l,c,h){return Xd(i,l,c,h),Qd(i)}function ll(i,l){return Xd(i,null,null,l),Qd(i)}function fN(i,l,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var v=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(v=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,v&&l!==null&&(v=31-Et(c),i=y.hiddenUpdates,h=i[v],h===null?i[v]=[l]:h.push(l),l.lane=c|536870912),y):null}function Qd(i){if(50<ou)throw ou=0,lx=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var xo={};function fI(i,l,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(i,l,c,h){return new fI(i,l,c,h)}function Jg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xi(i,l){var c=i.alternate;return c===null?(c=Kr(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function mN(i,l){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,l=c.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Zd(i,l,c,h,v,y){var A=0;if(h=i,typeof i=="function")Jg(i)&&(A=1);else if(typeof i=="string")A=v6(i,c,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Kr(31,c,l,v),i.elementType=V,i.lanes=y,i;case j:return ol(c.children,v,y,l);case N:A=8,v|=24;break;case E:return i=Kr(12,c,l,v|2),i.elementType=E,i.lanes=y,i;case O:return i=Kr(13,c,l,v),i.elementType=O,i.lanes=y,i;case R:return i=Kr(19,c,l,v),i.elementType=R,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:A=10;break e;case C:A=9;break e;case _:A=11;break e;case D:A=14;break e;case L:A=16,h=null;break e}A=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return l=Kr(A,c,l,v),l.elementType=i,l.type=h,l.lanes=y,l}function ol(i,l,c,h){return i=Kr(7,i,h,l),i.lanes=c,i}function ep(i,l,c){return i=Kr(6,i,null,l),i.lanes=c,i}function gN(i){var l=Kr(18,null,null,0);return l.stateNode=i,l}function tp(i,l,c){return l=Kr(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var pN=new WeakMap;function fa(i,l){if(typeof i=="object"&&i!==null){var c=pN.get(i);return c!==void 0?c:(l={value:i,source:l,stack:Se(l)},pN.set(i,l),l)}return{value:i,source:l,stack:Se(l)}}var vo=[],yo=0,Jd=null,zc=0,ma=[],ga=0,cs=null,Za=1,Ja="";function vi(i,l){vo[yo++]=zc,vo[yo++]=Jd,Jd=i,zc=l}function xN(i,l,c){ma[ga++]=Za,ma[ga++]=Ja,ma[ga++]=cs,cs=i;var h=Za;i=Ja;var v=32-Et(h)-1;h&=~(1<<v),c+=1;var y=32-Et(l)+v;if(30<y){var A=v-v%5;y=(h&(1<<A)-1).toString(32),h>>=A,v-=A,Za=1<<32-Et(l)+v|c<<v|h,Ja=y+i}else Za=1<<y|c<<v|h,Ja=i}function np(i){i.return!==null&&(vi(i,1),xN(i,1,0))}function rp(i){for(;i===Jd;)Jd=vo[--yo],vo[yo]=null,zc=vo[--yo],vo[yo]=null;for(;i===cs;)cs=ma[--ga],ma[ga]=null,Ja=ma[--ga],ma[ga]=null,Za=ma[--ga],ma[ga]=null}function vN(i,l){ma[ga++]=Za,ma[ga++]=Ja,ma[ga++]=cs,Za=l.id,Ja=l.overflow,cs=i}var nr=null,nn=null,Nt=!1,us=null,pa=!1,ap=Error(r(519));function ds(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hc(fa(l,i)),ap}function yN(i){var l=i.stateNode,c=i.type,h=i.memoizedProps;switch(l[Fe]=i,l[jt]=h,c){case"dialog":yt("cancel",l),yt("close",l);break;case"iframe":case"object":case"embed":yt("load",l);break;case"video":case"audio":for(c=0;c<uu.length;c++)yt(uu[c],l);break;case"source":yt("error",l);break;case"img":case"image":case"link":yt("error",l),yt("load",l);break;case"details":yt("toggle",l);break;case"input":yt("invalid",l),kj(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":yt("invalid",l);break;case"textarea":yt("invalid",l),Mj(l,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||h.suppressHydrationWarning===!0||IS(l.textContent,c)?(h.popover!=null&&(yt("beforetoggle",l),yt("toggle",l)),h.onScroll!=null&&yt("scroll",l),h.onScrollEnd!=null&&yt("scrollend",l),h.onClick!=null&&(l.onclick=gi),l=!0):l=!1,l||ds(i,!0)}function bN(i){for(nr=i.return;nr;)switch(nr.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:nr=nr.return}}function bo(i){if(i!==nr)return!1;if(!Nt)return bN(i),Nt=!0,!1;var l=i.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||jx(i.type,i.memoizedProps)),c=!c),c&&nn&&ds(i),bN(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nn=KS(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nn=KS(i)}else l===27?(l=nn,Es(i.type)?(i=Ax,Ax=null,nn=i):nn=l):nn=nr?va(i.stateNode.nextSibling):null;return!0}function cl(){nn=nr=null,Nt=!1}function ip(){var i=us;return i!==null&&(Ir===null?Ir=i:Ir.push.apply(Ir,i),us=null),i}function Hc(i){us===null?us=[i]:us.push(i)}var sp=P(null),ul=null,yi=null;function hs(i,l,c){ee(sp,l._currentValue),l._currentValue=c}function bi(i){i._currentValue=sp.current,z(sp)}function lp(i,l,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===c)break;i=i.return}}function op(i,l,c,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var y=v.dependencies;if(y!==null){var A=v.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=v;for(var X=0;X<l.length;X++)if(k.context===l[X]){y.lanes|=c,k=y.alternate,k!==null&&(k.lanes|=c),lp(y.return,c,i),h||(A=null);break e}y=k.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=c,y=A.alternate,y!==null&&(y.lanes|=c),lp(A,c,i),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===i){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function wo(i,l,c,h){i=null;for(var v=l,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var k=v.type;Fr(v.pendingProps.value,A.value)||(i!==null?i.push(k):i=[k])}}else if(v===le.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}v=v.return}i!==null&&op(l,i,c,h),l.flags|=262144}function eh(i){for(i=i.firstContext;i!==null;){if(!Fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){ul=i,yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rr(i){return wN(ul,i)}function th(i,l){return ul===null&&dl(i),wN(i,l)}function wN(i,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},yi===null){if(i===null)throw Error(r(308));yi=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else yi=yi.next=l;return c}var mI=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(c){return c()})}},gI=e.unstable_scheduleCallback,pI=e.unstable_NormalPriority,Dn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new mI,data:new Map,refCount:0}}function qc(i){i.refCount--,i.refCount===0&&gI(pI,function(){i.controller.abort()})}var Fc=null,up=0,jo=0,No=null;function xI(i,l){if(Fc===null){var c=Fc=[];up=0,jo=fx(),No={status:"pending",value:void 0,then:function(h){c.push(h)}}}return up++,l.then(jN,jN),l}function jN(){if(--up===0&&Fc!==null){No!==null&&(No.status="fulfilled");var i=Fc;Fc=null,jo=0,No=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function vI(i,l){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var NN=q.S;q.S=function(i,l){sS=He(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&xI(i,l),NN!==null&&NN(i,l)};var hl=P(null);function dp(){var i=hl.current;return i!==null?i:Vt.pooledCache}function nh(i,l){l===null?ee(hl,hl.current):ee(hl,l.pool)}function SN(){var i=dp();return i===null?null:{parent:Dn._currentValue,pool:i}}var So=Error(r(460)),hp=Error(r(474)),rh=Error(r(542)),ah={then:function(){}};function EN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function CN(i,l,c){switch(c=i[c],c===void 0?i.push(l):c!==l&&(l.then(gi,gi),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,TN(i),i;default:if(typeof l.status=="string")l.then(gi,gi);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=h}},function(h){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,TN(i),i}throw ml=l,So}}function fl(i){try{var l=i._init;return l(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ml=c,So):c}}var ml=null;function AN(){if(ml===null)throw Error(r(459));var i=ml;return ml=null,i}function TN(i){if(i===So||i===rh)throw Error(r(483))}var Eo=null,Kc=0;function ih(i){var l=Kc;return Kc+=1,Eo===null&&(Eo=[]),CN(Eo,i,l)}function Gc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function sh(i,l){throw l.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function _N(i){function l(oe,ne){if(i){var de=oe.deletions;de===null?(oe.deletions=[ne],oe.flags|=16):de.push(ne)}}function c(oe,ne){if(!i)return null;for(;ne!==null;)l(oe,ne),ne=ne.sibling;return null}function h(oe){for(var ne=new Map;oe!==null;)oe.key!==null?ne.set(oe.key,oe):ne.set(oe.index,oe),oe=oe.sibling;return ne}function v(oe,ne){return oe=xi(oe,ne),oe.index=0,oe.sibling=null,oe}function y(oe,ne,de){return oe.index=de,i?(de=oe.alternate,de!==null?(de=de.index,de<ne?(oe.flags|=67108866,ne):de):(oe.flags|=67108866,ne)):(oe.flags|=1048576,ne)}function A(oe){return i&&oe.alternate===null&&(oe.flags|=67108866),oe}function k(oe,ne,de,Te){return ne===null||ne.tag!==6?(ne=ep(de,oe.mode,Te),ne.return=oe,ne):(ne=v(ne,de),ne.return=oe,ne)}function X(oe,ne,de,Te){var rt=de.type;return rt===j?Ee(oe,ne,de.props.children,Te,de.key):ne!==null&&(ne.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===L&&fl(rt)===ne.type)?(ne=v(ne,de.props),Gc(ne,de),ne.return=oe,ne):(ne=Zd(de.type,de.key,de.props,null,oe.mode,Te),Gc(ne,de),ne.return=oe,ne)}function he(oe,ne,de,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==de.containerInfo||ne.stateNode.implementation!==de.implementation?(ne=tp(de,oe.mode,Te),ne.return=oe,ne):(ne=v(ne,de.children||[]),ne.return=oe,ne)}function Ee(oe,ne,de,Te,rt){return ne===null||ne.tag!==7?(ne=ol(de,oe.mode,Te,rt),ne.return=oe,ne):(ne=v(ne,de),ne.return=oe,ne)}function _e(oe,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=ep(""+ne,oe.mode,de),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return de=Zd(ne.type,ne.key,ne.props,null,oe.mode,de),Gc(de,ne),de.return=oe,de;case S:return ne=tp(ne,oe.mode,de),ne.return=oe,ne;case L:return ne=fl(ne),_e(oe,ne,de)}if(xe(ne)||F(ne))return ne=ol(ne,oe.mode,de,null),ne.return=oe,ne;if(typeof ne.then=="function")return _e(oe,ih(ne),de);if(ne.$$typeof===T)return _e(oe,th(oe,ne),de);sh(oe,ne)}return null}function pe(oe,ne,de,Te){var rt=ne!==null?ne.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return rt!==null?null:k(oe,ne,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return de.key===rt?X(oe,ne,de,Te):null;case S:return de.key===rt?he(oe,ne,de,Te):null;case L:return de=fl(de),pe(oe,ne,de,Te)}if(xe(de)||F(de))return rt!==null?null:Ee(oe,ne,de,Te,null);if(typeof de.then=="function")return pe(oe,ne,ih(de),Te);if(de.$$typeof===T)return pe(oe,ne,th(oe,de),Te);sh(oe,de)}return null}function we(oe,ne,de,Te,rt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return oe=oe.get(de)||null,k(ne,oe,""+Te,rt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:return oe=oe.get(Te.key===null?de:Te.key)||null,X(ne,oe,Te,rt);case S:return oe=oe.get(Te.key===null?de:Te.key)||null,he(ne,oe,Te,rt);case L:return Te=fl(Te),we(oe,ne,de,Te,rt)}if(xe(Te)||F(Te))return oe=oe.get(de)||null,Ee(ne,oe,Te,rt,null);if(typeof Te.then=="function")return we(oe,ne,de,ih(Te),rt);if(Te.$$typeof===T)return we(oe,ne,de,th(ne,Te),rt);sh(ne,Te)}return null}function Ve(oe,ne,de,Te){for(var rt=null,_t=null,Ze=ne,mt=ne=0,wt=null;Ze!==null&&mt<de.length;mt++){Ze.index>mt?(wt=Ze,Ze=null):wt=Ze.sibling;var Rt=pe(oe,Ze,de[mt],Te);if(Rt===null){Ze===null&&(Ze=wt);break}i&&Ze&&Rt.alternate===null&&l(oe,Ze),ne=y(Rt,ne,mt),_t===null?rt=Rt:_t.sibling=Rt,_t=Rt,Ze=wt}if(mt===de.length)return c(oe,Ze),Nt&&vi(oe,mt),rt;if(Ze===null){for(;mt<de.length;mt++)Ze=_e(oe,de[mt],Te),Ze!==null&&(ne=y(Ze,ne,mt),_t===null?rt=Ze:_t.sibling=Ze,_t=Ze);return Nt&&vi(oe,mt),rt}for(Ze=h(Ze);mt<de.length;mt++)wt=we(Ze,oe,mt,de[mt],Te),wt!==null&&(i&&wt.alternate!==null&&Ze.delete(wt.key===null?mt:wt.key),ne=y(wt,ne,mt),_t===null?rt=wt:_t.sibling=wt,_t=wt);return i&&Ze.forEach(function(Rs){return l(oe,Rs)}),Nt&&vi(oe,mt),rt}function at(oe,ne,de,Te){if(de==null)throw Error(r(151));for(var rt=null,_t=null,Ze=ne,mt=ne=0,wt=null,Rt=de.next();Ze!==null&&!Rt.done;mt++,Rt=de.next()){Ze.index>mt?(wt=Ze,Ze=null):wt=Ze.sibling;var Rs=pe(oe,Ze,Rt.value,Te);if(Rs===null){Ze===null&&(Ze=wt);break}i&&Ze&&Rs.alternate===null&&l(oe,Ze),ne=y(Rs,ne,mt),_t===null?rt=Rs:_t.sibling=Rs,_t=Rs,Ze=wt}if(Rt.done)return c(oe,Ze),Nt&&vi(oe,mt),rt;if(Ze===null){for(;!Rt.done;mt++,Rt=de.next())Rt=_e(oe,Rt.value,Te),Rt!==null&&(ne=y(Rt,ne,mt),_t===null?rt=Rt:_t.sibling=Rt,_t=Rt);return Nt&&vi(oe,mt),rt}for(Ze=h(Ze);!Rt.done;mt++,Rt=de.next())Rt=we(Ze,oe,mt,Rt.value,Te),Rt!==null&&(i&&Rt.alternate!==null&&Ze.delete(Rt.key===null?mt:Rt.key),ne=y(Rt,ne,mt),_t===null?rt=Rt:_t.sibling=Rt,_t=Rt);return i&&Ze.forEach(function(_6){return l(oe,_6)}),Nt&&vi(oe,mt),rt}function Ht(oe,ne,de,Te){if(typeof de=="object"&&de!==null&&de.type===j&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case w:e:{for(var rt=de.key;ne!==null;){if(ne.key===rt){if(rt=de.type,rt===j){if(ne.tag===7){c(oe,ne.sibling),Te=v(ne,de.props.children),Te.return=oe,oe=Te;break e}}else if(ne.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===L&&fl(rt)===ne.type){c(oe,ne.sibling),Te=v(ne,de.props),Gc(Te,de),Te.return=oe,oe=Te;break e}c(oe,ne);break}else l(oe,ne);ne=ne.sibling}de.type===j?(Te=ol(de.props.children,oe.mode,Te,de.key),Te.return=oe,oe=Te):(Te=Zd(de.type,de.key,de.props,null,oe.mode,Te),Gc(Te,de),Te.return=oe,oe=Te)}return A(oe);case S:e:{for(rt=de.key;ne!==null;){if(ne.key===rt)if(ne.tag===4&&ne.stateNode.containerInfo===de.containerInfo&&ne.stateNode.implementation===de.implementation){c(oe,ne.sibling),Te=v(ne,de.children||[]),Te.return=oe,oe=Te;break e}else{c(oe,ne);break}else l(oe,ne);ne=ne.sibling}Te=tp(de,oe.mode,Te),Te.return=oe,oe=Te}return A(oe);case L:return de=fl(de),Ht(oe,ne,de,Te)}if(xe(de))return Ve(oe,ne,de,Te);if(F(de)){if(rt=F(de),typeof rt!="function")throw Error(r(150));return de=rt.call(de),at(oe,ne,de,Te)}if(typeof de.then=="function")return Ht(oe,ne,ih(de),Te);if(de.$$typeof===T)return Ht(oe,ne,th(oe,de),Te);sh(oe,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ne!==null&&ne.tag===6?(c(oe,ne.sibling),Te=v(ne,de),Te.return=oe,oe=Te):(c(oe,ne),Te=ep(de,oe.mode,Te),Te.return=oe,oe=Te),A(oe)):c(oe,ne)}return function(oe,ne,de,Te){try{Kc=0;var rt=Ht(oe,ne,de,Te);return Eo=null,rt}catch(Ze){if(Ze===So||Ze===rh)throw Ze;var _t=Kr(29,Ze,null,oe.mode);return _t.lanes=Te,_t.return=oe,_t}finally{}}}var gl=_N(!0),RN=_N(!1),fs=!1;function fp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mp(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ms(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gs(i,l,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(kt&2)!==0){var v=h.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),h.pending=l,l=Qd(i),fN(i,null,c),l}return Xd(i,h,l,c),Qd(i)}function Vc(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,el(i,c)}}function gp(i,l){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?v=y=A:y=y.next=A,c=c.next}while(c!==null);y===null?v=y=l:y=y.next=l}else v=y=l;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}var pp=!1;function Wc(){if(pp){var i=No;if(i!==null)throw i}}function Yc(i,l,c,h){pp=!1;var v=i.updateQueue;fs=!1;var y=v.firstBaseUpdate,A=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var X=k,he=X.next;X.next=null,A===null?y=he:A.next=he,A=X;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,k=Ee.lastBaseUpdate,k!==A&&(k===null?Ee.firstBaseUpdate=he:k.next=he,Ee.lastBaseUpdate=X))}if(y!==null){var _e=v.baseState;A=0,Ee=he=X=null,k=y;do{var pe=k.lane&-536870913,we=pe!==k.lane;if(we?(bt&pe)===pe:(h&pe)===pe){pe!==0&&pe===jo&&(pp=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ve=i,at=k;pe=l;var Ht=c;switch(at.tag){case 1:if(Ve=at.payload,typeof Ve=="function"){_e=Ve.call(Ht,_e,pe);break e}_e=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=at.payload,pe=typeof Ve=="function"?Ve.call(Ht,_e,pe):Ve,pe==null)break e;_e=x({},_e,pe);break e;case 2:fs=!0}}pe=k.callback,pe!==null&&(i.flags|=64,we&&(i.flags|=8192),we=v.callbacks,we===null?v.callbacks=[pe]:we.push(pe))}else we={lane:pe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Ee===null?(he=Ee=we,X=_e):Ee=Ee.next=we,A|=pe;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;we=k,k=we.next,we.next=null,v.lastBaseUpdate=we,v.shared.pending=null}}while(!0);Ee===null&&(X=_e),v.baseState=X,v.firstBaseUpdate=he,v.lastBaseUpdate=Ee,y===null&&(v.shared.lanes=0),bs|=A,i.lanes=A,i.memoizedState=_e}}function ON(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function kN(i,l){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)ON(c[i],l)}var Co=P(null),lh=P(0);function DN(i,l){i=_i,ee(lh,i),ee(Co,l),_i=i|l.baseLanes}function xp(){ee(lh,_i),ee(Co,Co.current)}function vp(){_i=lh.current,z(Co),z(lh)}var Gr=P(null),xa=null;function ps(i){var l=i.alternate;ee(An,An.current&1),ee(Gr,i),xa===null&&(l===null||Co.current!==null||l.memoizedState!==null)&&(xa=i)}function yp(i){ee(An,An.current),ee(Gr,i),xa===null&&(xa=i)}function MN(i){i.tag===22?(ee(An,An.current),ee(Gr,i),xa===null&&(xa=i)):xs()}function xs(){ee(An,An.current),ee(Gr,Gr.current)}function Vr(i){z(Gr),xa===i&&(xa=null),z(An)}var An=P(0);function oh(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ex(c)||Cx(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var wi=0,ft=null,$t=null,Mn=null,ch=!1,Ao=!1,pl=!1,uh=0,Xc=0,To=null,yI=0;function Nn(){throw Error(r(321))}function bp(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!Fr(i[c],l[c]))return!1;return!0}function wp(i,l,c,h,v,y){return wi=y,ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=i===null||i.memoizedState===null?x1:Ip,pl=!1,y=c(h,v),pl=!1,Ao&&(y=IN(l,c,h,v)),PN(i),y}function PN(i){q.H=Jc;var l=$t!==null&&$t.next!==null;if(wi=0,Mn=$t=ft=null,ch=!1,Xc=0,To=null,l)throw Error(r(300));i===null||Pn||(i=i.dependencies,i!==null&&eh(i)&&(Pn=!0))}function IN(i,l,c,h){ft=i;var v=0;do{if(Ao&&(To=null),Xc=0,Ao=!1,25<=v)throw Error(r(301));if(v+=1,Mn=$t=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=v1,y=l(c,h)}while(Ao);return y}function bI(){var i=q.H,l=i.useState()[0];return l=typeof l.then=="function"?Qc(l):l,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(ft.flags|=1024),l}function jp(){var i=uh!==0;return uh=0,i}function Np(i,l,c){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~c}function Sp(i){if(ch){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ch=!1}wi=0,Mn=$t=ft=null,Ao=!1,Xc=uh=0,To=null}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?ft.memoizedState=Mn=i:Mn=Mn.next=i,Mn}function Tn(){if($t===null){var i=ft.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var l=Mn===null?ft.memoizedState:Mn.next;if(l!==null)Mn=l,$t=i;else{if(i===null)throw ft.alternate===null?Error(r(467)):Error(r(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Mn===null?ft.memoizedState=Mn=i:Mn=Mn.next=i}return Mn}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qc(i){var l=Xc;return Xc+=1,To===null&&(To=[]),i=CN(To,i,l),l=ft,(Mn===null?l.memoizedState:Mn.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?x1:Ip),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Qc(i);if(i.$$typeof===T)return rr(i)}throw Error(r(438,String(i)))}function Ep(i){var l=null,c=ft.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var h=ft.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=dh(),ft.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(i),h=0;h<i;h++)c[h]=J;return l.index++,c}function ji(i,l){return typeof l=="function"?l(i):l}function fh(i){var l=Tn();return Cp(l,$t,i)}function Cp(i,l,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=i.baseQueue,y=h.pending;if(y!==null){if(v!==null){var A=v.next;v.next=y.next,y.next=A}l.baseQueue=v=y,h.pending=null}if(y=i.baseState,v===null)i.memoizedState=y;else{l=v.next;var k=A=null,X=null,he=l,Ee=!1;do{var _e=he.lane&-536870913;if(_e!==he.lane?(bt&_e)===_e:(wi&_e)===_e){var pe=he.revertLane;if(pe===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),_e===jo&&(Ee=!0);else if((wi&pe)===pe){he=he.next,pe===jo&&(Ee=!0);continue}else _e={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},X===null?(k=X=_e,A=y):X=X.next=_e,ft.lanes|=pe,bs|=pe;_e=he.action,pl&&c(y,_e),y=he.hasEagerState?he.eagerState:c(y,_e)}else pe={lane:_e,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},X===null?(k=X=pe,A=y):X=X.next=pe,ft.lanes|=_e,bs|=_e;he=he.next}while(he!==null&&he!==l);if(X===null?A=y:X.next=k,!Fr(y,i.memoizedState)&&(Pn=!0,Ee&&(c=No,c!==null)))throw c;i.memoizedState=y,i.baseState=A,i.baseQueue=X,h.lastRenderedState=y}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Ap(i){var l=Tn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,v=c.pending,y=l.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do y=i(y,A.action),A=A.next;while(A!==v);Fr(y,l.memoizedState)||(Pn=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,h]}function LN(i,l,c){var h=ft,v=Tn(),y=Nt;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=l();var A=!Fr(($t||v).memoizedState,c);if(A&&(v.memoizedState=c,Pn=!0),v=v.queue,Rp($N.bind(null,h,v,i),[i]),v.getSnapshot!==l||A||Mn!==null&&Mn.memoizedState.tag&1){if(h.flags|=2048,_o(9,{destroy:void 0},UN.bind(null,h,v,c,l),null),Vt===null)throw Error(r(349));y||(wi&127)!==0||BN(h,l,c)}return c}function BN(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=ft.updateQueue,l===null?(l=dh(),ft.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function UN(i,l,c,h){l.value=c,l.getSnapshot=h,zN(l)&&HN(i)}function $N(i,l,c){return c(function(){zN(l)&&HN(i)})}function zN(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!Fr(i,c)}catch{return!0}}function HN(i){var l=ll(i,2);l!==null&&Lr(l,i,2)}function Tp(i){var l=wr();if(typeof i=="function"){var c=i;if(i=c(),pl){Wn(!0);try{c()}finally{Wn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:i},l}function qN(i,l,c,h){return i.baseState=c,Cp(i,$t,typeof h=="function"?h:ji)}function wI(i,l,c,h,v){if(ph(i))throw Error(r(485));if(i=l.action,i!==null){var y={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};q.T!==null?c(!0):y.isTransition=!1,h(y),c=l.pending,c===null?(y.next=l.pending=y,FN(l,y)):(y.next=c.next,l.pending=c.next=y)}}function FN(i,l){var c=l.action,h=l.payload,v=i.state;if(l.isTransition){var y=q.T,A={};q.T=A;try{var k=c(v,h),X=q.S;X!==null&&X(A,k),KN(i,l,k)}catch(he){_p(i,l,he)}finally{y!==null&&A.types!==null&&(y.types=A.types),q.T=y}}else try{y=c(v,h),KN(i,l,y)}catch(he){_p(i,l,he)}}function KN(i,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){GN(i,l,h)},function(h){return _p(i,l,h)}):GN(i,l,c)}function GN(i,l,c){l.status="fulfilled",l.value=c,VN(l),i.state=c,l=i.pending,l!==null&&(c=l.next,c===l?i.pending=null:(c=c.next,l.next=c,FN(i,c)))}function _p(i,l,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=c,VN(l),l=l.next;while(l!==h)}i.action=null}function VN(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function WN(i,l){return l}function YN(i,l){if(Nt){var c=Vt.formState;if(c!==null){e:{var h=ft;if(Nt){if(nn){t:{for(var v=nn,y=pa;v.nodeType!==8;){if(!y){v=null;break t}if(v=va(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){nn=va(v.nextSibling),h=v.data==="F!";break e}}ds(h)}h=!1}h&&(l=c[0])}}return c=wr(),c.memoizedState=c.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WN,lastRenderedState:l},c.queue=h,c=m1.bind(null,ft,h),h.dispatch=c,h=Tp(!1),y=Pp.bind(null,ft,!1,h.queue),h=wr(),v={state:l,dispatch:null,action:i,pending:null},h.queue=v,c=wI.bind(null,ft,v,y,c),v.dispatch=c,h.memoizedState=i,[l,c,!1]}function XN(i){var l=Tn();return QN(l,$t,i)}function QN(i,l,c){if(l=Cp(i,l,WN)[0],i=fh(ji)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Qc(l)}catch(A){throw A===So?rh:A}else h=l;l=Tn();var v=l.queue,y=v.dispatch;return c!==l.memoizedState&&(ft.flags|=2048,_o(9,{destroy:void 0},jI.bind(null,v,c),null)),[h,y,i]}function jI(i,l){i.action=l}function ZN(i){var l=Tn(),c=$t;if(c!==null)return QN(l,c,i);Tn(),l=l.memoizedState,c=Tn();var h=c.queue.dispatch;return c.memoizedState=i,[l,h,!1]}function _o(i,l,c,h){return i={tag:i,create:c,deps:h,inst:l,next:null},l=ft.updateQueue,l===null&&(l=dh(),ft.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,l.lastEffect=i),i}function JN(){return Tn().memoizedState}function mh(i,l,c,h){var v=wr();ft.flags|=i,v.memoizedState=_o(1|l,{destroy:void 0},c,h===void 0?null:h)}function gh(i,l,c,h){var v=Tn();h=h===void 0?null:h;var y=v.memoizedState.inst;$t!==null&&h!==null&&bp(h,$t.memoizedState.deps)?v.memoizedState=_o(l,y,c,h):(ft.flags|=i,v.memoizedState=_o(1|l,y,c,h))}function e1(i,l){mh(8390656,8,i,l)}function Rp(i,l){gh(2048,8,i,l)}function NI(i){ft.flags|=4;var l=ft.updateQueue;if(l===null)l=dh(),ft.updateQueue=l,l.events=[i];else{var c=l.events;c===null?l.events=[i]:c.push(i)}}function t1(i){var l=Tn().memoizedState;return NI({ref:l,nextImpl:i}),function(){if((kt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function n1(i,l){return gh(4,2,i,l)}function r1(i,l){return gh(4,4,i,l)}function a1(i,l){if(typeof l=="function"){i=i();var c=l(i);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function i1(i,l,c){c=c!=null?c.concat([i]):null,gh(4,4,a1.bind(null,l,i),c)}function Op(){}function s1(i,l){var c=Tn();l=l===void 0?null:l;var h=c.memoizedState;return l!==null&&bp(l,h[1])?h[0]:(c.memoizedState=[i,l],i)}function l1(i,l){var c=Tn();l=l===void 0?null:l;var h=c.memoizedState;if(l!==null&&bp(l,h[1]))return h[0];if(h=i(),pl){Wn(!0);try{i()}finally{Wn(!1)}}return c.memoizedState=[h,l],h}function kp(i,l,c){return c===void 0||(wi&1073741824)!==0&&(bt&261930)===0?i.memoizedState=l:(i.memoizedState=c,i=oS(),ft.lanes|=i,bs|=i,c)}function o1(i,l,c,h){return Fr(c,l)?c:Co.current!==null?(i=kp(i,c,h),Fr(i,l)||(Pn=!0),i):(wi&42)===0||(wi&1073741824)!==0&&(bt&261930)===0?(Pn=!0,i.memoizedState=c):(i=oS(),ft.lanes|=i,bs|=i,l)}function c1(i,l,c,h,v){var y=H.p;H.p=y!==0&&8>y?y:8;var A=q.T,k={};q.T=k,Pp(i,!1,l,c);try{var X=v(),he=q.S;if(he!==null&&he(k,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ee=vI(X,h);Zc(i,l,Ee,Xr(i))}else Zc(i,l,h,Xr(i))}catch(_e){Zc(i,l,{then:function(){},status:"rejected",reason:_e},Xr())}finally{H.p=y,A!==null&&k.types!==null&&(A.types=k.types),q.T=A}}function SI(){}function Dp(i,l,c,h){if(i.tag!==5)throw Error(r(476));var v=u1(i).queue;c1(i,v,l,K,c===null?SI:function(){return d1(i),c(h)})}function u1(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:K},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:c},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function d1(i){var l=u1(i);l.next===null&&(l=i.alternate.memoizedState),Zc(i,l.next.queue,{},Xr())}function Mp(){return rr(gu)}function h1(){return Tn().memoizedState}function f1(){return Tn().memoizedState}function EI(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var c=Xr();i=ms(c);var h=gs(l,i,c);h!==null&&(Lr(h,l,c),Vc(h,l,c)),l={cache:cp()},i.payload=l;return}l=l.return}}function CI(i,l,c){var h=Xr();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ph(i)?g1(l,c):(c=Zg(i,l,c,h),c!==null&&(Lr(c,i,h),p1(c,l,h)))}function m1(i,l,c){var h=Xr();Zc(i,l,c,h)}function Zc(i,l,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ph(i))g1(l,v);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var A=l.lastRenderedState,k=y(A,c);if(v.hasEagerState=!0,v.eagerState=k,Fr(k,A))return Xd(i,l,v,0),Vt===null&&Yd(),!1}catch{}finally{}if(c=Zg(i,l,v,h),c!==null)return Lr(c,i,h),p1(c,l,h),!0}return!1}function Pp(i,l,c,h){if(h={lane:2,revertLane:fx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(l)throw Error(r(479))}else l=Zg(i,c,h,2),l!==null&&Lr(l,i,2)}function ph(i){var l=i.alternate;return i===ft||l!==null&&l===ft}function g1(i,l){Ao=ch=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function p1(i,l,c){if((c&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,el(i,c)}}var Jc={readContext:rr,use:hh,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};Jc.useEffectEvent=Nn;var x1={readContext:rr,use:hh,useCallback:function(i,l){return wr().memoizedState=[i,l===void 0?null:l],i},useContext:rr,useEffect:e1,useImperativeHandle:function(i,l,c){c=c!=null?c.concat([i]):null,mh(4194308,4,a1.bind(null,l,i),c)},useLayoutEffect:function(i,l){return mh(4194308,4,i,l)},useInsertionEffect:function(i,l){mh(4,2,i,l)},useMemo:function(i,l){var c=wr();l=l===void 0?null:l;var h=i();if(pl){Wn(!0);try{i()}finally{Wn(!1)}}return c.memoizedState=[h,l],h},useReducer:function(i,l,c){var h=wr();if(c!==void 0){var v=c(l);if(pl){Wn(!0);try{c(l)}finally{Wn(!1)}}}else v=l;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=CI.bind(null,ft,i),[h.memoizedState,i]},useRef:function(i){var l=wr();return i={current:i},l.memoizedState=i},useState:function(i){i=Tp(i);var l=i.queue,c=m1.bind(null,ft,l);return l.dispatch=c,[i.memoizedState,c]},useDebugValue:Op,useDeferredValue:function(i,l){var c=wr();return kp(c,i,l)},useTransition:function(){var i=Tp(!1);return i=c1.bind(null,ft,i.queue,!0,!1),wr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,c){var h=ft,v=wr();if(Nt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Vt===null)throw Error(r(349));(bt&127)!==0||BN(h,l,c)}v.memoizedState=c;var y={value:c,getSnapshot:l};return v.queue=y,e1($N.bind(null,h,y,i),[i]),h.flags|=2048,_o(9,{destroy:void 0},UN.bind(null,h,y,c,l),null),c},useId:function(){var i=wr(),l=Vt.identifierPrefix;if(Nt){var c=Ja,h=Za;c=(h&~(1<<32-Et(h)-1)).toString(32)+c,l="_"+l+"R_"+c,c=uh++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=yI++,l="_"+l+"r_"+c.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Mp,useFormState:YN,useActionState:YN,useOptimistic:function(i){var l=wr();l.memoizedState=l.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Pp.bind(null,ft,!0,c),c.dispatch=l,[i,l]},useMemoCache:Ep,useCacheRefresh:function(){return wr().memoizedState=EI.bind(null,ft)},useEffectEvent:function(i){var l=wr(),c={impl:i};return l.memoizedState=c,function(){if((kt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Ip={readContext:rr,use:hh,useCallback:s1,useContext:rr,useEffect:Rp,useImperativeHandle:i1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:l1,useReducer:fh,useRef:JN,useState:function(){return fh(ji)},useDebugValue:Op,useDeferredValue:function(i,l){var c=Tn();return o1(c,$t.memoizedState,i,l)},useTransition:function(){var i=fh(ji)[0],l=Tn().memoizedState;return[typeof i=="boolean"?i:Qc(i),l]},useSyncExternalStore:LN,useId:h1,useHostTransitionStatus:Mp,useFormState:XN,useActionState:XN,useOptimistic:function(i,l){var c=Tn();return qN(c,$t,i,l)},useMemoCache:Ep,useCacheRefresh:f1};Ip.useEffectEvent=t1;var v1={readContext:rr,use:hh,useCallback:s1,useContext:rr,useEffect:Rp,useImperativeHandle:i1,useInsertionEffect:n1,useLayoutEffect:r1,useMemo:l1,useReducer:Ap,useRef:JN,useState:function(){return Ap(ji)},useDebugValue:Op,useDeferredValue:function(i,l){var c=Tn();return $t===null?kp(c,i,l):o1(c,$t.memoizedState,i,l)},useTransition:function(){var i=Ap(ji)[0],l=Tn().memoizedState;return[typeof i=="boolean"?i:Qc(i),l]},useSyncExternalStore:LN,useId:h1,useHostTransitionStatus:Mp,useFormState:ZN,useActionState:ZN,useOptimistic:function(i,l){var c=Tn();return $t!==null?qN(c,$t,i,l):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Ep,useCacheRefresh:f1};v1.useEffectEvent=t1;function Lp(i,l,c,h){l=i.memoizedState,c=c(h,l),c=c==null?l:x({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Bp={enqueueSetState:function(i,l,c){i=i._reactInternals;var h=Xr(),v=ms(h);v.payload=l,c!=null&&(v.callback=c),l=gs(i,v,h),l!==null&&(Lr(l,i,h),Vc(l,i,h))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var h=Xr(),v=ms(h);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=gs(i,v,h),l!==null&&(Lr(l,i,h),Vc(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=Xr(),h=ms(c);h.tag=2,l!=null&&(h.callback=l),l=gs(i,h,c),l!==null&&(Lr(l,i,c),Vc(l,i,c))}};function y1(i,l,c,h,v,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,A):l.prototype&&l.prototype.isPureReactComponent?!Uc(c,h)||!Uc(v,y):!0}function b1(i,l,c,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==i&&Bp.enqueueReplaceState(l,l.state,null)}function xl(i,l){var c=l;if("ref"in l){c={};for(var h in l)h!=="ref"&&(c[h]=l[h])}if(i=i.defaultProps){c===l&&(c=x({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function w1(i){Wd(i)}function j1(i){console.error(i)}function N1(i){Wd(i)}function xh(i,l){try{var c=i.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function S1(i,l,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Up(i,l,c){return c=ms(c),c.tag=3,c.payload={element:null},c.callback=function(){xh(i,l)},c}function E1(i){return i=ms(i),i.tag=3,i}function C1(i,l,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var y=h.value;i.payload=function(){return v(y)},i.callback=function(){S1(l,c,h)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){S1(l,c,h),typeof v!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function AI(i,l,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=c.alternate,l!==null&&wo(l,c,v,!0),c=Gr.current,c!==null){switch(c.tag){case 31:case 13:return xa===null?_h():c.alternate===null&&Sn===0&&(Sn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===ah?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([h]):l.add(h),ux(i,h,v)),!1;case 22:return c.flags|=65536,h===ah?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([h]):c.add(h)),ux(i,h,v)),!1}throw Error(r(435,c.tag))}return ux(i,h,v),_h(),!1}if(Nt)return l=Gr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,h!==ap&&(i=Error(r(422),{cause:h}),Hc(fa(i,c)))):(h!==ap&&(l=Error(r(423),{cause:h}),Hc(fa(l,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=fa(h,c),v=Up(i.stateNode,h,v),gp(i,v),Sn!==4&&(Sn=2)),!1;var y=Error(r(520),{cause:h});if(y=fa(y,c),lu===null?lu=[y]:lu.push(y),Sn!==4&&(Sn=2),l===null)return!0;h=fa(h,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=Up(c.stateNode,h,i),gp(c,i),!1;case 1:if(l=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ws===null||!ws.has(y))))return c.flags|=65536,v&=-v,c.lanes|=v,v=E1(v),C1(v,i,c,h),gp(c,v),!1}c=c.return}while(c!==null);return!1}var $p=Error(r(461)),Pn=!1;function ar(i,l,c,h){l.child=i===null?RN(l,null,c,h):gl(l,i.child,c,h)}function A1(i,l,c,h,v){c=c.render;var y=l.ref;if("ref"in h){var A={};for(var k in h)k!=="ref"&&(A[k]=h[k])}else A=h;return dl(l),h=wp(i,l,c,A,y,v),k=jp(),i!==null&&!Pn?(Np(i,l,v),Ni(i,l,v)):(Nt&&k&&np(l),l.flags|=1,ar(i,l,h,v),l.child)}function T1(i,l,c,h,v){if(i===null){var y=c.type;return typeof y=="function"&&!Jg(y)&&y.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=y,_1(i,l,y,h,v)):(i=Zd(c.type,null,h,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,!Wp(i,v)){var A=y.memoizedProps;if(c=c.compare,c=c!==null?c:Uc,c(A,h)&&i.ref===l.ref)return Ni(i,l,v)}return l.flags|=1,i=xi(y,h),i.ref=l.ref,i.return=l,l.child=i}function _1(i,l,c,h,v){if(i!==null){var y=i.memoizedProps;if(Uc(y,h)&&i.ref===l.ref)if(Pn=!1,l.pendingProps=h=y,Wp(i,v))(i.flags&131072)!==0&&(Pn=!0);else return l.lanes=i.lanes,Ni(i,l,v)}return zp(i,l,c,h,v)}function R1(i,l,c,h){var v=h.children,y=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(h=l.child=i.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~y}else h=0,l.child=null;return O1(i,l,y,c,h)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&nh(l,y!==null?y.cachePool:null),y!==null?DN(l,y):xp(),MN(l);else return h=l.lanes=536870912,O1(i,l,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(nh(l,y.cachePool),DN(l,y),xs(),l.memoizedState=null):(i!==null&&nh(l,null),xp(),xs());return ar(i,l,v,c),l.child}function eu(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function O1(i,l,c,h,v){var y=dp();return y=y===null?null:{parent:Dn._currentValue,pool:y},l.memoizedState={baseLanes:c,cachePool:y},i!==null&&nh(l,null),xp(),MN(l),i!==null&&wo(i,l,h,!0),l.childLanes=v,null}function vh(i,l){return l=bh({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function k1(i,l,c){return gl(l,i.child,null,c),i=vh(l,l.pendingProps),i.flags|=2,Vr(l),l.memoizedState=null,i}function TI(i,l,c){var h=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Nt){if(h.mode==="hidden")return i=vh(l,h),l.lanes=536870912,eu(null,i);if(yp(l),(i=nn)?(i=FS(i,pa),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:cs!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},c=gN(i),c.return=l,l.child=c,nr=l,nn=null)):i=null,i===null)throw ds(l);return l.lanes=536870912,null}return vh(l,h)}var y=i.memoizedState;if(y!==null){var A=y.dehydrated;if(yp(l),v)if(l.flags&256)l.flags&=-257,l=k1(i,l,c);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(Pn||wo(i,l,c,!1),v=(c&i.childLanes)!==0,Pn||v){if(h=Vt,h!==null&&(A=to(h,c),A!==0&&A!==y.retryLane))throw y.retryLane=A,ll(i,A),Lr(h,i,A),$p;_h(),l=k1(i,l,c)}else i=y.treeContext,nn=va(A.nextSibling),nr=l,Nt=!0,us=null,pa=!1,i!==null&&vN(l,i),l=vh(l,h),l.flags|=4096;return l}return i=xi(i.child,{mode:h.mode,children:h.children}),i.ref=l.ref,l.child=i,i.return=l,i}function yh(i,l){var c=l.ref;if(c===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(l.flags|=4194816)}}function zp(i,l,c,h,v){return dl(l),c=wp(i,l,c,h,void 0,v),h=jp(),i!==null&&!Pn?(Np(i,l,v),Ni(i,l,v)):(Nt&&h&&np(l),l.flags|=1,ar(i,l,c,v),l.child)}function D1(i,l,c,h,v,y){return dl(l),l.updateQueue=null,c=IN(l,h,c,v),PN(i),h=jp(),i!==null&&!Pn?(Np(i,l,y),Ni(i,l,y)):(Nt&&h&&np(l),l.flags|=1,ar(i,l,c,y),l.child)}function M1(i,l,c,h,v){if(dl(l),l.stateNode===null){var y=xo,A=c.contextType;typeof A=="object"&&A!==null&&(y=rr(A)),y=new c(h,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bp,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=h,y.state=l.memoizedState,y.refs={},fp(l),A=c.contextType,y.context=typeof A=="object"&&A!==null?rr(A):xo,y.state=l.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Lp(l,c,A,h),y.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Bp.enqueueReplaceState(y,y.state,null),Yc(l,h,y,v),Wc(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){y=l.stateNode;var k=l.memoizedProps,X=xl(c,k);y.props=X;var he=y.context,Ee=c.contextType;A=xo,typeof Ee=="object"&&Ee!==null&&(A=rr(Ee));var _e=c.getDerivedStateFromProps;Ee=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||he!==A)&&b1(l,y,h,A),fs=!1;var pe=l.memoizedState;y.state=pe,Yc(l,h,y,v),Wc(),he=l.memoizedState,k||pe!==he||fs?(typeof _e=="function"&&(Lp(l,c,_e,h),he=l.memoizedState),(X=fs||y1(l,c,X,h,pe,he,A))?(Ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=he),y.props=h,y.state=he,y.context=A,h=X):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{y=l.stateNode,mp(i,l),A=l.memoizedProps,Ee=xl(c,A),y.props=Ee,_e=l.pendingProps,pe=y.context,he=c.contextType,X=xo,typeof he=="object"&&he!==null&&(X=rr(he)),k=c.getDerivedStateFromProps,(he=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==_e||pe!==X)&&b1(l,y,h,X),fs=!1,pe=l.memoizedState,y.state=pe,Yc(l,h,y,v),Wc();var we=l.memoizedState;A!==_e||pe!==we||fs||i!==null&&i.dependencies!==null&&eh(i.dependencies)?(typeof k=="function"&&(Lp(l,c,k,h),we=l.memoizedState),(Ee=fs||y1(l,c,Ee,h,pe,we,X)||i!==null&&i.dependencies!==null&&eh(i.dependencies))?(he||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,we,X),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,we,X)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&pe===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&pe===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=we),y.props=h,y.state=we,y.context=X,h=Ee):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&pe===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&pe===i.memoizedState||(l.flags|=1024),h=!1)}return y=h,yh(i,l),h=(l.flags&128)!==0,y||h?(y=l.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,i!==null&&h?(l.child=gl(l,i.child,null,v),l.child=gl(l,null,c,v)):ar(i,l,c,v),l.memoizedState=y.state,i=l.child):i=Ni(i,l,v),i}function P1(i,l,c,h){return cl(),l.flags|=256,ar(i,l,c,h),l.child}var Hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(i){return{baseLanes:i,cachePool:SN()}}function Fp(i,l,c){return i=i!==null?i.childLanes&~c:0,l&&(i|=Yr),i}function I1(i,l,c){var h=l.pendingProps,v=!1,y=(l.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),A&&(v=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,i===null){if(Nt){if(v?ps(l):xs(),(i=nn)?(i=FS(i,pa),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:cs!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},c=gN(i),c.return=l,l.child=c,nr=l,nn=null)):i=null,i===null)throw ds(l);return Cx(i)?l.lanes=32:l.lanes=536870912,null}var k=h.children;return h=h.fallback,v?(xs(),v=l.mode,k=bh({mode:"hidden",children:k},v),h=ol(h,v,c,null),k.return=l,h.return=l,k.sibling=h,l.child=k,h=l.child,h.memoizedState=qp(c),h.childLanes=Fp(i,A,c),l.memoizedState=Hp,eu(null,h)):(ps(l),Kp(l,k))}var X=i.memoizedState;if(X!==null&&(k=X.dehydrated,k!==null)){if(y)l.flags&256?(ps(l),l.flags&=-257,l=Gp(i,l,c)):l.memoizedState!==null?(xs(),l.child=i.child,l.flags|=128,l=null):(xs(),k=h.fallback,v=l.mode,h=bh({mode:"visible",children:h.children},v),k=ol(k,v,c,null),k.flags|=2,h.return=l,k.return=l,h.sibling=k,l.child=h,gl(l,i.child,null,c),h=l.child,h.memoizedState=qp(c),h.childLanes=Fp(i,A,c),l.memoizedState=Hp,l=eu(null,h));else if(ps(l),Cx(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var he=A.dgst;A=he,h=Error(r(419)),h.stack="",h.digest=A,Hc({value:h,source:null,stack:null}),l=Gp(i,l,c)}else if(Pn||wo(i,l,c,!1),A=(c&i.childLanes)!==0,Pn||A){if(A=Vt,A!==null&&(h=to(A,c),h!==0&&h!==X.retryLane))throw X.retryLane=h,ll(i,h),Lr(A,i,h),$p;Ex(k)||_h(),l=Gp(i,l,c)}else Ex(k)?(l.flags|=192,l.child=i.child,l=null):(i=X.treeContext,nn=va(k.nextSibling),nr=l,Nt=!0,us=null,pa=!1,i!==null&&vN(l,i),l=Kp(l,h.children),l.flags|=4096);return l}return v?(xs(),k=h.fallback,v=l.mode,X=i.child,he=X.sibling,h=xi(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,he!==null?k=xi(he,k):(k=ol(k,v,c,null),k.flags|=2),k.return=l,h.return=l,h.sibling=k,l.child=h,eu(null,h),h=l.child,k=i.child.memoizedState,k===null?k=qp(c):(v=k.cachePool,v!==null?(X=Dn._currentValue,v=v.parent!==X?{parent:X,pool:X}:v):v=SN(),k={baseLanes:k.baseLanes|c,cachePool:v}),h.memoizedState=k,h.childLanes=Fp(i,A,c),l.memoizedState=Hp,eu(i.child,h)):(ps(l),c=i.child,i=c.sibling,c=xi(c,{mode:"visible",children:h.children}),c.return=l,c.sibling=null,i!==null&&(A=l.deletions,A===null?(l.deletions=[i],l.flags|=16):A.push(i)),l.child=c,l.memoizedState=null,c)}function Kp(i,l){return l=bh({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function bh(i,l){return i=Kr(22,i,null,l),i.lanes=0,i}function Gp(i,l,c){return gl(l,i.child,null,c),i=Kp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function L1(i,l,c){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),lp(i.return,l,c)}function Vp(i,l,c,h,v,y){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:y}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=c,A.tailMode=v,A.treeForkCount=y)}function B1(i,l,c){var h=l.pendingProps,v=h.revealOrder,y=h.tail;h=h.children;var A=An.current,k=(A&2)!==0;if(k?(A=A&1|2,l.flags|=128):A&=1,ee(An,A),ar(i,l,h,c),h=Nt?zc:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L1(i,c,l);else if(i.tag===19)L1(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=l.child,v=null;c!==null;)i=c.alternate,i!==null&&oh(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),Vp(l,!1,v,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&oh(i)===null){l.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}Vp(l,!0,c,null,y,h);break;case"together":Vp(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function Ni(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),bs|=l.lanes,(c&l.childLanes)===0)if(i!==null){if(wo(i,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,c=xi(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=xi(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function Wp(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&eh(i)))}function _I(i,l,c){switch(l.tag){case 3:G(l,l.stateNode.containerInfo),hs(l,Dn,i.memoizedState.cache),cl();break;case 27:case 5:M(l);break;case 4:G(l,l.stateNode.containerInfo);break;case 10:hs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,yp(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(ps(l),l.flags|=128,null):(c&l.child.childLanes)!==0?I1(i,l,c):(ps(l),i=Ni(i,l,c),i!==null?i.sibling:null);ps(l);break;case 19:var v=(i.flags&128)!==0;if(h=(c&l.childLanes)!==0,h||(wo(i,l,c,!1),h=(c&l.childLanes)!==0),v){if(h)return B1(i,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ee(An,An.current),h)break;return null;case 22:return l.lanes=0,R1(i,l,c,l.pendingProps);case 24:hs(l,Dn,i.memoizedState.cache)}return Ni(i,l,c)}function U1(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps)Pn=!0;else{if(!Wp(i,c)&&(l.flags&128)===0)return Pn=!1,_I(i,l,c);Pn=(i.flags&131072)!==0}else Pn=!1,Nt&&(l.flags&1048576)!==0&&xN(l,zc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(i=fl(l.elementType),l.type=i,typeof i=="function")Jg(i)?(h=xl(i,h),l.tag=1,l=M1(null,l,i,h,c)):(l.tag=0,l=zp(null,l,i,h,c));else{if(i!=null){var v=i.$$typeof;if(v===_){l.tag=11,l=A1(null,l,i,h,c);break e}else if(v===D){l.tag=14,l=T1(null,l,i,h,c);break e}}throw l=be(i)||i,Error(r(306,l,""))}}return l;case 0:return zp(i,l,l.type,l.pendingProps,c);case 1:return h=l.type,v=xl(h,l.pendingProps),M1(i,l,h,v,c);case 3:e:{if(G(l,l.stateNode.containerInfo),i===null)throw Error(r(387));h=l.pendingProps;var y=l.memoizedState;v=y.element,mp(i,l),Yc(l,h,null,c);var A=l.memoizedState;if(h=A.cache,hs(l,Dn,h),h!==y.cache&&op(l,[Dn],c,!0),Wc(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=P1(i,l,h,c);break e}else if(h!==v){v=fa(Error(r(424)),l),Hc(v),l=P1(i,l,h,c);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=va(i.firstChild),nr=l,Nt=!0,us=null,pa=!0,c=RN(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cl(),h===v){l=Ni(i,l,c);break e}ar(i,l,h,c)}l=l.child}return l;case 26:return yh(i,l),i===null?(c=XS(l.type,null,l.pendingProps,null))?l.memoizedState=c:Nt||(c=l.type,i=l.pendingProps,h=Ih(ie.current).createElement(c),h[Fe]=l,h[jt]=i,ir(h,c,i),Yn(h),l.stateNode=h):l.memoizedState=XS(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return M(l),i===null&&Nt&&(h=l.stateNode=VS(l.type,l.pendingProps,ie.current),nr=l,pa=!0,v=nn,Es(l.type)?(Ax=v,nn=va(h.firstChild)):nn=v),ar(i,l,l.pendingProps.children,c),yh(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Nt&&((v=h=nn)&&(h=i6(h,l.type,l.pendingProps,pa),h!==null?(l.stateNode=h,nr=l,nn=va(h.firstChild),pa=!1,v=!0):v=!1),v||ds(l)),M(l),v=l.type,y=l.pendingProps,A=i!==null?i.memoizedProps:null,h=y.children,jx(v,y)?h=null:A!==null&&jx(v,A)&&(l.flags|=32),l.memoizedState!==null&&(v=wp(i,l,bI,null,null,c),gu._currentValue=v),yh(i,l),ar(i,l,h,c),l.child;case 6:return i===null&&Nt&&((i=c=nn)&&(c=s6(c,l.pendingProps,pa),c!==null?(l.stateNode=c,nr=l,nn=null,i=!0):i=!1),i||ds(l)),null;case 13:return I1(i,l,c);case 4:return G(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=gl(l,null,h,c):ar(i,l,h,c),l.child;case 11:return A1(i,l,l.type,l.pendingProps,c);case 7:return ar(i,l,l.pendingProps,c),l.child;case 8:return ar(i,l,l.pendingProps.children,c),l.child;case 12:return ar(i,l,l.pendingProps.children,c),l.child;case 10:return h=l.pendingProps,hs(l,l.type,h.value),ar(i,l,h.children,c),l.child;case 9:return v=l.type._context,h=l.pendingProps.children,dl(l),v=rr(v),h=h(v),l.flags|=1,ar(i,l,h,c),l.child;case 14:return T1(i,l,l.type,l.pendingProps,c);case 15:return _1(i,l,l.type,l.pendingProps,c);case 19:return B1(i,l,c);case 31:return TI(i,l,c);case 22:return R1(i,l,c,l.pendingProps);case 24:return dl(l),h=rr(Dn),i===null?(v=dp(),v===null&&(v=Vt,y=cp(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=c),v=y),l.memoizedState={parent:h,cache:v},fp(l),hs(l,Dn,v)):((i.lanes&c)!==0&&(mp(i,l),Yc(l,null,null,c),Wc()),v=i.memoizedState,y=l.memoizedState,v.parent!==h?(v={parent:h,cache:h},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),hs(l,Dn,h)):(h=y.cache,hs(l,Dn,h),h!==v.cache&&op(l,[Dn],c,!0))),ar(i,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Si(i){i.flags|=4}function Yp(i,l,c,h,v){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(hS())i.flags|=8192;else throw ml=ah,hp}else i.flags&=-16777217}function $1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tE(l))if(hS())i.flags|=8192;else throw ml=ah,hp}function wh(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Or():536870912,i.lanes|=l,Do|=l)}function tu(i,l){if(!Nt)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function rn(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(l)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=c,l}function RI(i,l,c){var h=l.pendingProps;switch(rp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(l),null;case 1:return rn(l),null;case 3:return c=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),bi(Dn),$(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(bo(l)?Si(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ip())),rn(l),null;case 26:var v=l.type,y=l.memoizedState;return i===null?(Si(l),y!==null?(rn(l),$1(l,y)):(rn(l),Yp(l,v,null,h,c))):y?y!==i.memoizedState?(Si(l),rn(l),$1(l,y)):(rn(l),l.flags&=-16777217):(i=i.memoizedProps,i!==h&&Si(l),rn(l),Yp(l,v,i,h,c)),null;case 27:if(U(l),c=ie.current,v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Si(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return rn(l),null}i=Y.current,bo(l)?yN(l):(i=VS(v,h,c),l.stateNode=i,Si(l))}return rn(l),null;case 5:if(U(l),v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Si(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return rn(l),null}if(y=Y.current,bo(l))yN(l);else{var A=Ih(ie.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(v,{is:h.is}):A.createElement(v)}}y[Fe]=l,y[jt]=h;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=y;e:switch(ir(y,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Si(l)}}return rn(l),Yp(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,c),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&Si(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(i=ie.current,bo(l)){if(i=l.stateNode,c=l.memoizedProps,h=null,v=nr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[Fe]=l,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||IS(i.nodeValue,c)),i||ds(l,!0)}else i=Ih(i).createTextNode(h),i[Fe]=l,l.stateNode=i}return rn(l),null;case 31:if(c=l.memoizedState,i===null||i.memoizedState!==null){if(h=bo(l),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Fe]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rn(l),i=!1}else c=ip(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return l.flags&256?(Vr(l),l):(Vr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return rn(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=bo(l),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Fe]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rn(l),v=!1}else v=ip(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Vr(l),l):(Vr(l),null)}return Vr(l),(l.flags&128)!==0?(l.lanes=c,l):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=l.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==v&&(h.flags|=2048)),c!==i&&c&&(l.child.flags|=8192),wh(l,l.updateQueue),rn(l),null);case 4:return $(),i===null&&xx(l.stateNode.containerInfo),rn(l),null;case 10:return bi(l.type),rn(l),null;case 19:if(z(An),h=l.memoizedState,h===null)return rn(l),null;if(v=(l.flags&128)!==0,y=h.rendering,y===null)if(v)tu(h,!1);else{if(Sn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(y=oh(i),y!==null){for(l.flags|=128,tu(h,!1),i=y.updateQueue,l.updateQueue=i,wh(l,i),l.subtreeFlags=0,i=c,c=l.child;c!==null;)mN(c,i),c=c.sibling;return ee(An,An.current&1|2),Nt&&vi(l,h.treeForkCount),l.child}i=i.sibling}h.tail!==null&&He()>Ch&&(l.flags|=128,v=!0,tu(h,!1),l.lanes=4194304)}else{if(!v)if(i=oh(y),i!==null){if(l.flags|=128,v=!0,i=i.updateQueue,l.updateQueue=i,wh(l,i),tu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Nt)return rn(l),null}else 2*He()-h.renderingStartTime>Ch&&c!==536870912&&(l.flags|=128,v=!0,tu(h,!1),l.lanes=4194304);h.isBackwards?(y.sibling=l.child,l.child=y):(i=h.last,i!==null?i.sibling=y:l.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=He(),i.sibling=null,c=An.current,ee(An,v?c&1|2:c&1),Nt&&vi(l,h.treeForkCount),i):(rn(l),null);case 22:case 23:return Vr(l),vp(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(c&536870912)!==0&&(l.flags&128)===0&&(rn(l),l.subtreeFlags&6&&(l.flags|=8192)):rn(l),c=l.updateQueue,c!==null&&wh(l,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048),i!==null&&z(hl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),bi(Dn),rn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function OI(i,l){switch(rp(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return bi(Dn),$(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return U(l),null;case 31:if(l.memoizedState!==null){if(Vr(l),l.alternate===null)throw Error(r(340));cl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Vr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));cl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return z(An),null;case 4:return $(),null;case 10:return bi(l.type),null;case 22:case 23:return Vr(l),vp(),i!==null&&z(hl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return bi(Dn),null;case 25:return null;default:return null}}function z1(i,l){switch(rp(l),l.tag){case 3:bi(Dn),$();break;case 26:case 27:case 5:U(l);break;case 4:$();break;case 31:l.memoizedState!==null&&Vr(l);break;case 13:Vr(l);break;case 19:z(An);break;case 10:bi(l.type);break;case 22:case 23:Vr(l),vp(),i!==null&&z(hl);break;case 24:bi(Dn)}}function nu(i,l){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&i)===i){h=void 0;var y=c.create,A=c.inst;h=y(),A.destroy=h}c=c.next}while(c!==v)}}catch(k){Lt(l,l.return,k)}}function vs(i,l,c){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var y=v.next;h=y;do{if((h.tag&i)===i){var A=h.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,v=l;var X=c,he=k;try{he()}catch(Ee){Lt(v,X,Ee)}}}h=h.next}while(h!==y)}}catch(Ee){Lt(l,l.return,Ee)}}function H1(i){var l=i.updateQueue;if(l!==null){var c=i.stateNode;try{kN(l,c)}catch(h){Lt(i,i.return,h)}}}function q1(i,l,c){c.props=xl(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Lt(i,l,h)}}function ru(i,l){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(v){Lt(i,l,v)}}function ei(i,l){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){Lt(i,l,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Lt(i,l,v)}else c.current=null}function F1(i){var l=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){Lt(i,i.return,v)}}function Xp(i,l,c){try{var h=i.stateNode;JI(h,i.type,c,l),h[jt]=l}catch(v){Lt(i,i.return,v)}}function K1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Es(i.type)||i.tag===4}function Qp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||K1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Es(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zp(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(i),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=gi));else if(h!==4&&(h===27&&Es(i.type)&&(c=i.stateNode,l=null),i=i.child,i!==null))for(Zp(i,l,c),i=i.sibling;i!==null;)Zp(i,l,c),i=i.sibling}function jh(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(h!==4&&(h===27&&Es(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(jh(i,l,c),i=i.sibling;i!==null;)jh(i,l,c),i=i.sibling}function G1(i){var l=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);ir(l,h,c),l[Fe]=i,l[jt]=c}catch(y){Lt(i,i.return,y)}}var Ei=!1,In=!1,Jp=!1,V1=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function kI(i,l){if(i=i.containerInfo,bx=qh,i=iN(i),Gg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var A=0,k=-1,X=-1,he=0,Ee=0,_e=i,pe=null;t:for(;;){for(var we;_e!==c||v!==0&&_e.nodeType!==3||(k=A+v),_e!==y||h!==0&&_e.nodeType!==3||(X=A+h),_e.nodeType===3&&(A+=_e.nodeValue.length),(we=_e.firstChild)!==null;)pe=_e,_e=we;for(;;){if(_e===i)break t;if(pe===c&&++he===v&&(k=A),pe===y&&++Ee===h&&(X=A),(we=_e.nextSibling)!==null)break;_e=pe,pe=_e.parentNode}_e=we}c=k===-1||X===-1?null:{start:k,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(wx={focusedElem:i,selectionRange:c},qh=!1,Xn=l;Xn!==null;)if(l=Xn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Xn=i;else for(;Xn!==null;){switch(l=Xn,y=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=l,v=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Ve=xl(c.type,v);i=h.getSnapshotBeforeUpdate(Ve,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(at){Lt(c,c.return,at)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,c=i.nodeType,c===9)Sx(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Xn=i;break}Xn=l.return}}function W1(i,l,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ai(i,c),h&4&&nu(5,c);break;case 1:if(Ai(i,c),h&4)if(i=c.stateNode,l===null)try{i.componentDidMount()}catch(A){Lt(c,c.return,A)}else{var v=xl(c.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(v,l,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Lt(c,c.return,A)}}h&64&&H1(c),h&512&&ru(c,c.return);break;case 3:if(Ai(i,c),h&64&&(i=c.updateQueue,i!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{kN(i,l)}catch(A){Lt(c,c.return,A)}}break;case 27:l===null&&h&4&&G1(c);case 26:case 5:Ai(i,c),l===null&&h&4&&F1(c),h&512&&ru(c,c.return);break;case 12:Ai(i,c);break;case 31:Ai(i,c),h&4&&Q1(i,c);break;case 13:Ai(i,c),h&4&&Z1(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=zI.bind(null,c),l6(i,c))));break;case 22:if(h=c.memoizedState!==null||Ei,!h){l=l!==null&&l.memoizedState!==null||In,v=Ei;var y=In;Ei=h,(In=l)&&!y?Ti(i,c,(c.subtreeFlags&8772)!==0):Ai(i,c),Ei=v,In=y}break;case 30:break;default:Ai(i,c)}}function Y1(i){var l=i.alternate;l!==null&&(i.alternate=null,Y1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&me(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var hn=null,Dr=!1;function Ci(i,l,c){for(c=c.child;c!==null;)X1(i,l,c),c=c.sibling}function X1(i,l,c){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Cn,c)}catch{}switch(c.tag){case 26:In||ei(c,l),Ci(i,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:In||ei(c,l);var h=hn,v=Dr;Es(c.type)&&(hn=c.stateNode,Dr=!1),Ci(i,l,c),hu(c.stateNode),hn=h,Dr=v;break;case 5:In||ei(c,l);case 6:if(h=hn,v=Dr,hn=null,Ci(i,l,c),hn=h,Dr=v,hn!==null)if(Dr)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(c.stateNode)}catch(y){Lt(c,l,y)}else try{hn.removeChild(c.stateNode)}catch(y){Lt(c,l,y)}break;case 18:hn!==null&&(Dr?(i=hn,HS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),zo(i)):HS(hn,c.stateNode));break;case 4:h=hn,v=Dr,hn=c.stateNode.containerInfo,Dr=!0,Ci(i,l,c),hn=h,Dr=v;break;case 0:case 11:case 14:case 15:vs(2,c,l),In||vs(4,c,l),Ci(i,l,c);break;case 1:In||(ei(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"&&q1(c,l,h)),Ci(i,l,c);break;case 21:Ci(i,l,c);break;case 22:In=(h=In)||c.memoizedState!==null,Ci(i,l,c),In=h;break;default:Ci(i,l,c)}}function Q1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(c){Lt(l,l.return,c)}}}function Z1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(c){Lt(l,l.return,c)}}function DI(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new V1),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new V1),l;default:throw Error(r(435,i.tag))}}function Nh(i,l){var c=DI(i);l.forEach(function(h){if(!c.has(h)){c.add(h);var v=HI.bind(null,i,h);h.then(v,v)}})}function Mr(i,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],y=i,A=l,k=A;e:for(;k!==null;){switch(k.tag){case 27:if(Es(k.type)){hn=k.stateNode,Dr=!1;break e}break;case 5:hn=k.stateNode,Dr=!1;break e;case 3:case 4:hn=k.stateNode.containerInfo,Dr=!0;break e}k=k.return}if(hn===null)throw Error(r(160));X1(y,A,v),hn=null,Dr=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)J1(l,i),l=l.sibling}var Ba=null;function J1(i,l){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mr(l,i),Pr(i),h&4&&(vs(3,i,i.return),nu(3,i),vs(5,i,i.return));break;case 1:Mr(l,i),Pr(i),h&512&&(In||c===null||ei(c,c.return)),h&64&&Ei&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Ba;if(Mr(l,i),Pr(i),h&512&&(In||c===null||ei(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":y=v.getElementsByTagName("title")[0],(!y||y[nl]||y[Fe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(h),v.head.insertBefore(y,v.querySelector("head > title"))),ir(y,h,c),y[Fe]=i,Yn(y),h=y;break e;case"link":var A=JS("link","href",v).get(h+(c.href||""));if(A){for(var k=0;k<A.length;k++)if(y=A[k],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(k,1);break t}}y=v.createElement(h),ir(y,h,c),v.head.appendChild(y);break;case"meta":if(A=JS("meta","content",v).get(h+(c.content||""))){for(k=0;k<A.length;k++)if(y=A[k],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(k,1);break t}}y=v.createElement(h),ir(y,h,c),v.head.appendChild(y);break;default:throw Error(r(468,h))}y[Fe]=i,Yn(y),h=y}i.stateNode=h}else eE(v,i.type,i.stateNode);else i.stateNode=ZS(v,h,i.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?eE(v,i.type,i.stateNode):ZS(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Xp(i,i.memoizedProps,c.memoizedProps)}break;case 27:Mr(l,i),Pr(i),h&512&&(In||c===null||ei(c,c.return)),c!==null&&h&4&&Xp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Mr(l,i),Pr(i),h&512&&(In||c===null||ei(c,c.return)),i.flags&32){v=i.stateNode;try{co(v,"")}catch(Ve){Lt(i,i.return,Ve)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,Xp(i,v,c!==null?c.memoizedProps:v)),h&1024&&(Jp=!0);break;case 6:if(Mr(l,i),Pr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Ve){Lt(i,i.return,Ve)}}break;case 3:if(Uh=null,v=Ba,Ba=Lh(l.containerInfo),Mr(l,i),Ba=v,Pr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{zo(l.containerInfo)}catch(Ve){Lt(i,i.return,Ve)}Jp&&(Jp=!1,eS(i));break;case 4:h=Ba,Ba=Lh(i.stateNode.containerInfo),Mr(l,i),Pr(i),Ba=h;break;case 12:Mr(l,i),Pr(i);break;case 31:Mr(l,i),Pr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Nh(i,h)));break;case 13:Mr(l,i),Pr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Eh=He()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Nh(i,h)));break;case 22:v=i.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,he=Ei,Ee=In;if(Ei=he||v,In=Ee||X,Mr(l,i),In=Ee,Ei=he,Pr(i),h&8192)e:for(l=i.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||X||Ei||In||vl(i)),c=null,l=i;;){if(l.tag===5||l.tag===26){if(c===null){X=c=l;try{if(y=X.stateNode,v)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=X.stateNode;var _e=X.memoizedProps.style,pe=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;k.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ve){Lt(X,X.return,Ve)}}}else if(l.tag===6){if(c===null){X=l;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Ve){Lt(X,X.return,Ve)}}}else if(l.tag===18){if(c===null){X=l;try{var we=X.stateNode;v?qS(we,!0):qS(X.stateNode,!1)}catch(Ve){Lt(X,X.return,Ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Nh(i,c))));break;case 19:Mr(l,i),Pr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Nh(i,h)));break;case 30:break;case 21:break;default:Mr(l,i),Pr(i)}}function Pr(i){var l=i.flags;if(l&2){try{for(var c,h=i.return;h!==null;){if(K1(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,y=Qp(i);jh(i,y,v);break;case 5:var A=c.stateNode;c.flags&32&&(co(A,""),c.flags&=-33);var k=Qp(i);jh(i,k,A);break;case 3:case 4:var X=c.stateNode.containerInfo,he=Qp(i);Zp(i,he,X);break;default:throw Error(r(161))}}catch(Ee){Lt(i,i.return,Ee)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function eS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;eS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ai(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)W1(i,l.alternate,l),l=l.sibling}function vl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vs(4,l,l.return),vl(l);break;case 1:ei(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&q1(l,l.return,c),vl(l);break;case 27:hu(l.stateNode);case 26:case 5:ei(l,l.return),vl(l);break;case 22:l.memoizedState===null&&vl(l);break;case 30:vl(l);break;default:vl(l)}i=i.sibling}}function Ti(i,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,v=i,y=l,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ti(v,y,c),nu(4,y);break;case 1:if(Ti(v,y,c),h=y,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(he){Lt(h,h.return,he)}if(h=y,v=h.updateQueue,v!==null){var k=h.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)ON(X[v],k)}catch(he){Lt(h,h.return,he)}}c&&A&64&&H1(y),ru(y,y.return);break;case 27:G1(y);case 26:case 5:Ti(v,y,c),c&&h===null&&A&4&&F1(y),ru(y,y.return);break;case 12:Ti(v,y,c);break;case 31:Ti(v,y,c),c&&A&4&&Q1(v,y);break;case 13:Ti(v,y,c),c&&A&4&&Z1(v,y);break;case 22:y.memoizedState===null&&Ti(v,y,c),ru(y,y.return);break;case 30:break;default:Ti(v,y,c)}l=l.sibling}}function ex(i,l){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&qc(c))}function tx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&qc(i))}function Ua(i,l,c,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)tS(i,l,c,h),l=l.sibling}function tS(i,l,c,h){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ua(i,l,c,h),v&2048&&nu(9,l);break;case 1:Ua(i,l,c,h);break;case 3:Ua(i,l,c,h),v&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&qc(i)));break;case 12:if(v&2048){Ua(i,l,c,h),i=l.stateNode;try{var y=l.memoizedProps,A=y.id,k=y.onPostCommit;typeof k=="function"&&k(A,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Lt(l,l.return,X)}}else Ua(i,l,c,h);break;case 31:Ua(i,l,c,h);break;case 13:Ua(i,l,c,h);break;case 23:break;case 22:y=l.stateNode,A=l.alternate,l.memoizedState!==null?y._visibility&2?Ua(i,l,c,h):au(i,l):y._visibility&2?Ua(i,l,c,h):(y._visibility|=2,Ro(i,l,c,h,(l.subtreeFlags&10256)!==0||!1)),v&2048&&ex(A,l);break;case 24:Ua(i,l,c,h),v&2048&&tx(l.alternate,l);break;default:Ua(i,l,c,h)}}function Ro(i,l,c,h,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=i,A=l,k=c,X=h,he=A.flags;switch(A.tag){case 0:case 11:case 15:Ro(y,A,k,X,v),nu(8,A);break;case 23:break;case 22:var Ee=A.stateNode;A.memoizedState!==null?Ee._visibility&2?Ro(y,A,k,X,v):au(y,A):(Ee._visibility|=2,Ro(y,A,k,X,v)),v&&he&2048&&ex(A.alternate,A);break;case 24:Ro(y,A,k,X,v),v&&he&2048&&tx(A.alternate,A);break;default:Ro(y,A,k,X,v)}l=l.sibling}}function au(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=i,h=l,v=h.flags;switch(h.tag){case 22:au(c,h),v&2048&&ex(h.alternate,h);break;case 24:au(c,h),v&2048&&tx(h.alternate,h);break;default:au(c,h)}l=l.sibling}}var iu=8192;function Oo(i,l,c){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)nS(i,l,c),i=i.sibling}function nS(i,l,c){switch(i.tag){case 26:Oo(i,l,c),i.flags&iu&&i.memoizedState!==null&&y6(c,Ba,i.memoizedState,i.memoizedProps);break;case 5:Oo(i,l,c);break;case 3:case 4:var h=Ba;Ba=Lh(i.stateNode.containerInfo),Oo(i,l,c),Ba=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=iu,iu=16777216,Oo(i,l,c),iu=h):Oo(i,l,c));break;default:Oo(i,l,c)}}function rS(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function su(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Xn=h,iS(h,i)}rS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aS(i),i=i.sibling}function aS(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&vs(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Sh(i)):su(i);break;default:su(i)}}function Sh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Xn=h,iS(h,i)}rS(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vs(8,l,l.return),Sh(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Sh(l));break;default:Sh(l)}i=i.sibling}}function iS(i,l){for(;Xn!==null;){var c=Xn;switch(c.tag){case 0:case 11:case 15:vs(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:qc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Xn=h;else e:for(c=i;Xn!==null;){h=Xn;var v=h.sibling,y=h.return;if(Y1(h),h===c){Xn=null;break e}if(v!==null){v.return=y,Xn=v;break e}Xn=y}}}var MI={getCacheForType:function(i){var l=rr(Dn),c=l.data.get(i);return c===void 0&&(c=i(),l.data.set(i,c)),c},cacheSignal:function(){return rr(Dn).controller.signal}},PI=typeof WeakMap=="function"?WeakMap:Map,kt=0,Vt=null,vt=null,bt=0,It=0,Wr=null,ys=!1,ko=!1,nx=!1,_i=0,Sn=0,bs=0,yl=0,rx=0,Yr=0,Do=0,lu=null,Ir=null,ax=!1,Eh=0,sS=0,Ch=1/0,Ah=null,ws=null,zn=0,js=null,Mo=null,Ri=0,ix=0,sx=null,lS=null,ou=0,lx=null;function Xr(){return(kt&2)!==0&&bt!==0?bt&-bt:q.T!==null?fx():tl()}function oS(){if(Yr===0)if((bt&536870912)===0||Nt){var i=xt;xt<<=1,(xt&3932160)===0&&(xt=262144),Yr=i}else Yr=536870912;return i=Gr.current,i!==null&&(i.flags|=32),Yr}function Lr(i,l,c){(i===Vt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(Po(i,0),Ns(i,bt,Yr,!1)),Xa(i,c),((kt&2)===0||i!==Vt)&&(i===Vt&&((kt&2)===0&&(yl|=c),Sn===4&&Ns(i,bt,Yr,!1)),ti(i))}function cS(i,l,c){if((kt&6)!==0)throw Error(r(327));var h=!c&&(l&127)===0&&(l&i.expiredLanes)===0||qr(i,l),v=h?BI(i,l):cx(i,l,!0),y=h;do{if(v===0){ko&&!h&&Ns(i,l,0,!1);break}else{if(c=i.current.alternate,y&&!II(c)){v=cx(i,l,!1),y=!1;continue}if(v===2){if(y=l,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var k=i;v=lu;var X=k.current.memoizedState.isDehydrated;if(X&&(Po(k,A).flags|=256),A=cx(k,A,!1),A!==2){if(nx&&!X){k.errorRecoveryDisabledLanes|=y,yl|=y,v=4;break e}y=Ir,Ir=v,y!==null&&(Ir===null?Ir=y:Ir.push.apply(Ir,y))}v=A}if(y=!1,v!==2)continue}}if(v===1){Po(i,0),Ns(i,l,0,!0);break}e:{switch(h=i,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ns(h,l,Yr,!ys);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Eh+300-He(),10<v)){if(Ns(h,l,Yr,!ys),ca(h,0,!0)!==0)break e;Ri=l,h.timeoutHandle=$S(uS.bind(null,h,c,Ir,Ah,ax,l,Yr,yl,Do,ys,y,"Throttled",-0,0),v);break e}uS(h,c,Ir,Ah,ax,l,Yr,yl,Do,ys,y,null,-0,0)}}break}while(!0);ti(i)}function uS(i,l,c,h,v,y,A,k,X,he,Ee,_e,pe,we){if(i.timeoutHandle=-1,_e=l.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},nS(l,y,_e);var Ve=(y&62914560)===y?Eh-He():(y&4194048)===y?sS-He():0;if(Ve=b6(_e,Ve),Ve!==null){Ri=y,i.cancelPendingCommit=Ve(vS.bind(null,i,l,y,c,h,v,A,k,X,Ee,_e,null,pe,we)),Ns(i,y,A,!he);return}}vS(i,l,y,c,h,v,A,k,X)}function II(i){for(var l=i;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],y=v.getSnapshot;v=v.value;try{if(!Fr(y(),v))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ns(i,l,c,h){l&=~rx,l&=~yl,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var v=l;0<v;){var y=31-Et(v),A=1<<y;h[y]=-1,v&=~A}c!==0&&Oc(i,c,l)}function Th(){return(kt&6)===0?(cu(0),!1):!0}function ox(){if(vt!==null){if(It===0)var i=vt.return;else i=vt,yi=ul=null,Sp(i),Eo=null,Kc=0,i=vt;for(;i!==null;)z1(i.alternate,i),i=i.return;vt=null}}function Po(i,l){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,n6(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ri=0,ox(),Vt=i,vt=c=xi(i.current,null),bt=l,It=0,Wr=null,ys=!1,ko=qr(i,l),nx=!1,Do=Yr=rx=yl=bs=Sn=0,Ir=lu=null,ax=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var v=31-Et(h),y=1<<v;l|=i[v],h&=~y}return _i=l,Yd(),c}function dS(i,l){ft=null,q.H=Jc,l===So||l===rh?(l=AN(),It=3):l===hp?(l=AN(),It=4):It=l===$p?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Wr=l,vt===null&&(Sn=1,xh(i,fa(l,i.current)))}function hS(){var i=Gr.current;return i===null?!0:(bt&4194048)===bt?xa===null:(bt&62914560)===bt||(bt&536870912)!==0?i===xa:!1}function fS(){var i=q.H;return q.H=Jc,i===null?Jc:i}function mS(){var i=q.A;return q.A=MI,i}function _h(){Sn=4,ys||(bt&4194048)!==bt&&Gr.current!==null||(ko=!0),(bs&134217727)===0&&(yl&134217727)===0||Vt===null||Ns(Vt,bt,Yr,!1)}function cx(i,l,c){var h=kt;kt|=2;var v=fS(),y=mS();(Vt!==i||bt!==l)&&(Ah=null,Po(i,l)),l=!1;var A=Sn;e:do try{if(It!==0&&vt!==null){var k=vt,X=Wr;switch(It){case 8:ox(),A=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(l=!0);var he=It;if(It=0,Wr=null,Io(i,k,X,he),c&&ko){A=0;break e}break;default:he=It,It=0,Wr=null,Io(i,k,X,he)}}LI(),A=Sn;break}catch(Ee){dS(i,Ee)}while(!0);return l&&i.shellSuspendCounter++,yi=ul=null,kt=h,q.H=v,q.A=y,vt===null&&(Vt=null,bt=0,Yd()),A}function LI(){for(;vt!==null;)gS(vt)}function BI(i,l){var c=kt;kt|=2;var h=fS(),v=mS();Vt!==i||bt!==l?(Ah=null,Ch=He()+500,Po(i,l)):ko=qr(i,l);e:do try{if(It!==0&&vt!==null){l=vt;var y=Wr;t:switch(It){case 1:It=0,Wr=null,Io(i,l,y,1);break;case 2:case 9:if(EN(y)){It=0,Wr=null,pS(l);break}l=function(){It!==2&&It!==9||Vt!==i||(It=7),ti(i)},y.then(l,l);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:EN(y)?(It=0,Wr=null,pS(l)):(It=0,Wr=null,Io(i,l,y,7));break;case 5:var A=null;switch(vt.tag){case 26:A=vt.memoizedState;case 5:case 27:var k=vt;if(A?tE(A):k.stateNode.complete){It=0,Wr=null;var X=k.sibling;if(X!==null)vt=X;else{var he=k.return;he!==null?(vt=he,Rh(he)):vt=null}break t}}It=0,Wr=null,Io(i,l,y,5);break;case 6:It=0,Wr=null,Io(i,l,y,6);break;case 8:ox(),Sn=6;break e;default:throw Error(r(462))}}UI();break}catch(Ee){dS(i,Ee)}while(!0);return yi=ul=null,q.H=h,q.A=v,kt=c,vt!==null?0:(Vt=null,bt=0,Yd(),Sn)}function UI(){for(;vt!==null&&!ze();)gS(vt)}function gS(i){var l=U1(i.alternate,i,_i);i.memoizedProps=i.pendingProps,l===null?Rh(i):vt=l}function pS(i){var l=i,c=l.alternate;switch(l.tag){case 15:case 0:l=D1(c,l,l.pendingProps,l.type,void 0,bt);break;case 11:l=D1(c,l,l.pendingProps,l.type.render,l.ref,bt);break;case 5:Sp(l);default:z1(c,l),l=vt=mN(l,_i),l=U1(c,l,_i)}i.memoizedProps=i.pendingProps,l===null?Rh(i):vt=l}function Io(i,l,c,h){yi=ul=null,Sp(l),Eo=null,Kc=0;var v=l.return;try{if(AI(i,v,l,c,bt)){Sn=1,xh(i,fa(c,i.current)),vt=null;return}}catch(y){if(v!==null)throw vt=v,y;Sn=1,xh(i,fa(c,i.current)),vt=null;return}l.flags&32768?(Nt||h===1?i=!0:ko||(bt&536870912)!==0?i=!1:(ys=i=!0,(h===2||h===9||h===3||h===6)&&(h=Gr.current,h!==null&&h.tag===13&&(h.flags|=16384))),xS(l,i)):Rh(l)}function Rh(i){var l=i;do{if((l.flags&32768)!==0){xS(l,ys);return}i=l.return;var c=RI(l.alternate,l,_i);if(c!==null){vt=c;return}if(l=l.sibling,l!==null){vt=l;return}vt=l=i}while(l!==null);Sn===0&&(Sn=5)}function xS(i,l){do{var c=OI(i.alternate,i);if(c!==null){c.flags&=32767,vt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(i=i.sibling,i!==null)){vt=i;return}vt=i=c}while(i!==null);Sn=6,vt=null}function vS(i,l,c,h,v,y,A,k,X){i.cancelPendingCommit=null;do Oh();while(zn!==0);if((kt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(y=l.lanes|l.childLanes,y|=Qg,ls(i,c,y,A,k,X),i===Vt&&(vt=Vt=null,bt=0),Mo=l,js=i,Ri=c,ix=y,sx=v,lS=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qI(Be,function(){return NS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,v=H.p,H.p=2,A=kt,kt|=4;try{kI(i,l,c)}finally{kt=A,H.p=v,q.T=h}}zn=1,yS(),bS(),wS()}}function yS(){if(zn===1){zn=0;var i=js,l=Mo,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var h=H.p;H.p=2;var v=kt;kt|=4;try{J1(l,i);var y=wx,A=iN(i.containerInfo),k=y.focusedElem,X=y.selectionRange;if(A!==k&&k&&k.ownerDocument&&aN(k.ownerDocument.documentElement,k)){if(X!==null&&Gg(k)){var he=X.start,Ee=X.end;if(Ee===void 0&&(Ee=he),"selectionStart"in k)k.selectionStart=he,k.selectionEnd=Math.min(Ee,k.value.length);else{var _e=k.ownerDocument||document,pe=_e&&_e.defaultView||window;if(pe.getSelection){var we=pe.getSelection(),Ve=k.textContent.length,at=Math.min(X.start,Ve),Ht=X.end===void 0?at:Math.min(X.end,Ve);!we.extend&&at>Ht&&(A=Ht,Ht=at,at=A);var oe=rN(k,at),ne=rN(k,Ht);if(oe&&ne&&(we.rangeCount!==1||we.anchorNode!==oe.node||we.anchorOffset!==oe.offset||we.focusNode!==ne.node||we.focusOffset!==ne.offset)){var de=_e.createRange();de.setStart(oe.node,oe.offset),we.removeAllRanges(),at>Ht?(we.addRange(de),we.extend(ne.node,ne.offset)):(de.setEnd(ne.node,ne.offset),we.addRange(de))}}}}for(_e=[],we=k;we=we.parentNode;)we.nodeType===1&&_e.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<_e.length;k++){var Te=_e[k];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}qh=!!bx,wx=bx=null}finally{kt=v,H.p=h,q.T=c}}i.current=l,zn=2}}function bS(){if(zn===2){zn=0;var i=js,l=Mo,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var h=H.p;H.p=2;var v=kt;kt|=4;try{W1(i,l.alternate,l)}finally{kt=v,H.p=h,q.T=c}}zn=3}}function wS(){if(zn===4||zn===3){zn=0,nt();var i=js,l=Mo,c=Ri,h=lS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?zn=5:(zn=0,Mo=js=null,jS(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ws=null),no(c),l=l.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Cn,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=q.T,v=H.p,H.p=2,q.T=null;try{for(var y=i.onRecoverableError,A=0;A<h.length;A++){var k=h[A];y(k.value,{componentStack:k.stack})}}finally{q.T=l,H.p=v}}(Ri&3)!==0&&Oh(),ti(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===lx?ou++:(ou=0,lx=i):ou=0,cu(0)}}function jS(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,qc(l)))}function Oh(){return yS(),bS(),wS(),NS()}function NS(){if(zn!==5)return!1;var i=js,l=ix;ix=0;var c=no(Ri),h=q.T,v=H.p;try{H.p=32>c?32:c,q.T=null,c=sx,sx=null;var y=js,A=Ri;if(zn=0,Mo=js=null,Ri=0,(kt&6)!==0)throw Error(r(331));var k=kt;if(kt|=4,aS(y.current),tS(y,y.current,A,c),kt=k,cu(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Cn,y)}catch{}return!0}finally{H.p=v,q.T=h,jS(i,l)}}function SS(i,l,c){l=fa(c,l),l=Up(i.stateNode,l,2),i=gs(i,l,2),i!==null&&(Xa(i,2),ti(i))}function Lt(i,l,c){if(i.tag===3)SS(i,i,c);else for(;l!==null;){if(l.tag===3){SS(l,i,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ws===null||!ws.has(h))){i=fa(c,i),c=E1(2),h=gs(l,c,2),h!==null&&(C1(c,h,l,i),Xa(h,2),ti(h));break}}l=l.return}}function ux(i,l,c){var h=i.pingCache;if(h===null){h=i.pingCache=new PI;var v=new Set;h.set(l,v)}else v=h.get(l),v===void 0&&(v=new Set,h.set(l,v));v.has(c)||(nx=!0,v.add(c),i=$I.bind(null,i,l,c),l.then(i,i))}function $I(i,l,c){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Vt===i&&(bt&c)===c&&(Sn===4||Sn===3&&(bt&62914560)===bt&&300>He()-Eh?(kt&2)===0&&Po(i,0):rx|=c,Do===bt&&(Do=0)),ti(i)}function ES(i,l){l===0&&(l=Or()),i=ll(i,l),i!==null&&(Xa(i,l),ti(i))}function zI(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),ES(i,c)}function HI(i,l){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),ES(i,c)}function qI(i,l){return Ue(i,l)}var kh=null,Lo=null,dx=!1,Dh=!1,hx=!1,Ss=0;function ti(i){i!==Lo&&i.next===null&&(Lo===null?kh=Lo=i:Lo=Lo.next=i),Dh=!0,dx||(dx=!0,KI())}function cu(i,l){if(!hx&&Dh){hx=!0;do for(var c=!1,h=kh;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var y=0;else{var A=h.suspendedLanes,k=h.pingedLanes;y=(1<<31-Et(42|i)+1)-1,y&=v&~(A&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,_S(h,y))}else y=bt,y=ca(h,h===Vt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||qr(h,y)||(c=!0,_S(h,y));h=h.next}while(c);hx=!1}}function FI(){CS()}function CS(){Dh=dx=!1;var i=0;Ss!==0&&t6()&&(i=Ss);for(var l=He(),c=null,h=kh;h!==null;){var v=h.next,y=AS(h,l);y===0?(h.next=null,c===null?kh=v:c.next=v,v===null&&(Lo=c)):(c=h,(i!==0||(y&3)!==0)&&(Dh=!0)),h=v}zn!==0&&zn!==5||cu(i),Ss!==0&&(Ss=0)}function AS(i,l){for(var c=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-Et(y),k=1<<A,X=v[A];X===-1?((k&c)===0||(k&h)!==0)&&(v[A]=eo(k,l)):X<=l&&(i.expiredLanes|=k),y&=~k}if(l=Vt,c=bt,c=ca(i,i===l?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===l&&(It===2||It===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Re(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||qr(i,c)){if(l=c&-c,l===i.callbackPriority)return l;switch(h!==null&&Re(h),no(c)){case 2:case 8:c=$e;break;case 32:c=Be;break;case 268435456:c=un;break;default:c=Be}return h=TS.bind(null,i),c=Ue(c,h),i.callbackPriority=l,i.callbackNode=c,l}return h!==null&&h!==null&&Re(h),i.callbackPriority=2,i.callbackNode=null,2}function TS(i,l){if(zn!==0&&zn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Oh()&&i.callbackNode!==c)return null;var h=bt;return h=ca(i,i===Vt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(cS(i,h,l),AS(i,He()),i.callbackNode!=null&&i.callbackNode===c?TS.bind(null,i):null)}function _S(i,l){if(Oh())return null;cS(i,l,!0)}function KI(){r6(function(){(kt&6)!==0?Ue(Le,FI):CS()})}function fx(){if(Ss===0){var i=jo;i===0&&(i=Qt,Qt<<=1,(Qt&261888)===0&&(Qt=256)),Ss=i}return Ss}function RS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zd(""+i)}function OS(i,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,i.id&&c.setAttribute("form",i.id),l.parentNode.insertBefore(c,l),i=new FormData(i),c.parentNode.removeChild(c),i}function GI(i,l,c,h,v){if(l==="submit"&&c&&c.stateNode===v){var y=RS((v[jt]||null).action),A=h.submitter;A&&(l=(l=A[jt]||null)?RS(l.formAction):A.getAttribute("formAction"),l!==null&&(y=l,A=null));var k=new Kd("action","action",null,h,v);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ss!==0){var X=A?OS(v,A):new FormData(v);Dp(c,{pending:!0,data:X,method:v.method,action:y},null,X)}}else typeof y=="function"&&(k.preventDefault(),X=A?OS(v,A):new FormData(v),Dp(c,{pending:!0,data:X,method:v.method,action:y},y,X))},currentTarget:v}]})}}for(var mx=0;mx<Xg.length;mx++){var gx=Xg[mx],VI=gx.toLowerCase(),WI=gx[0].toUpperCase()+gx.slice(1);La(VI,"on"+WI)}La(oN,"onAnimationEnd"),La(cN,"onAnimationIteration"),La(uN,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(uI,"onTransitionRun"),La(dI,"onTransitionStart"),La(hI,"onTransitionCancel"),La(dN,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function kS(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],v=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var A=h.length-1;0<=A;A--){var k=h[A],X=k.instance,he=k.currentTarget;if(k=k.listener,X!==y&&v.isPropagationStopped())break e;y=k,v.currentTarget=he;try{y(v)}catch(Ee){Wd(Ee)}v.currentTarget=null,y=X}else for(A=0;A<h.length;A++){if(k=h[A],X=k.instance,he=k.currentTarget,k=k.listener,X!==y&&v.isPropagationStopped())break e;y=k,v.currentTarget=he;try{y(v)}catch(Ee){Wd(Ee)}v.currentTarget=null,y=X}}}}function yt(i,l){var c=l[ao];c===void 0&&(c=l[ao]=new Set);var h=i+"__bubble";c.has(h)||(DS(l,i,2,!1),c.add(h))}function px(i,l,c){var h=0;l&&(h|=4),DS(c,i,h,l)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function xx(i){if(!i[Mh]){i[Mh]=!0,Cj.forEach(function(c){c!=="selectionchange"&&(YI.has(c)||px(c,!1,i),px(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Mh]||(l[Mh]=!0,px("selectionchange",!1,l))}}function DS(i,l,c,h){switch(oE(l)){case 2:var v=N6;break;case 8:v=S6;break;default:v=kx}c=v.bind(null,l,c,i),v=void 0,!Lg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(l,c,{capture:!0,passive:v}):i.addEventListener(l,c,!0):v!==void 0?i.addEventListener(l,c,{passive:v}):i.addEventListener(l,c,!1)}function vx(i,l,c,h,v){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var k=h.stateNode.containerInfo;if(k===v)break;if(A===4)for(A=h.return;A!==null;){var X=A.tag;if((X===3||X===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;k!==null;){if(A=ke(k),A===null)return;if(X=A.tag,X===5||X===6||X===26||X===27){h=y=A;continue e}k=k.parentNode}}h=h.return}Bj(function(){var he=y,Ee=Pg(c),_e=[];e:{var pe=hN.get(i);if(pe!==void 0){var we=Kd,Ve=i;switch(i){case"keypress":if(qd(c)===0)break e;case"keydown":case"keyup":we=H4;break;case"focusin":Ve="focus",we=zg;break;case"focusout":Ve="blur",we=zg;break;case"beforeblur":case"afterblur":we=zg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=zj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=R4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=K4;break;case oN:case cN:case uN:we=D4;break;case dN:we=V4;break;case"scroll":case"scrollend":we=T4;break;case"wheel":we=Y4;break;case"copy":case"cut":case"paste":we=P4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=qj;break;case"toggle":case"beforetoggle":we=Q4}var at=(l&4)!==0,Ht=!at&&(i==="scroll"||i==="scrollend"),oe=at?pe!==null?pe+"Capture":null:pe;at=[];for(var ne=he,de;ne!==null;){var Te=ne;if(de=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||de===null||oe===null||(Te=kc(ne,oe),Te!=null&&at.push(du(ne,Te,de))),Ht)break;ne=ne.return}0<at.length&&(pe=new we(pe,Ve,null,c,Ee),_e.push({event:pe,listeners:at}))}}if((l&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",pe&&c!==Mg&&(Ve=c.relatedTarget||c.fromElement)&&(ke(Ve)||Ve[fi]))break e;if((we||pe)&&(pe=Ee.window===Ee?Ee:(pe=Ee.ownerDocument)?pe.defaultView||pe.parentWindow:window,we?(Ve=c.relatedTarget||c.toElement,we=he,Ve=Ve?ke(Ve):null,Ve!==null&&(Ht=o(Ve),at=Ve.tag,Ve!==Ht||at!==5&&at!==27&&at!==6)&&(Ve=null)):(we=null,Ve=he),we!==Ve)){if(at=zj,Te="onMouseLeave",oe="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(at=qj,Te="onPointerLeave",oe="onPointerEnter",ne="pointer"),Ht=we==null?pe:Zt(we),de=Ve==null?pe:Zt(Ve),pe=new at(Te,ne+"leave",we,c,Ee),pe.target=Ht,pe.relatedTarget=de,Te=null,ke(Ee)===he&&(at=new at(oe,ne+"enter",Ve,c,Ee),at.target=de,at.relatedTarget=Ht,Te=at),Ht=Te,we&&Ve)t:{for(at=XI,oe=we,ne=Ve,de=0,Te=oe;Te;Te=at(Te))de++;Te=0;for(var rt=ne;rt;rt=at(rt))Te++;for(;0<de-Te;)oe=at(oe),de--;for(;0<Te-de;)ne=at(ne),Te--;for(;de--;){if(oe===ne||ne!==null&&oe===ne.alternate){at=oe;break t}oe=at(oe),ne=at(ne)}at=null}else at=null;we!==null&&MS(_e,pe,we,at,!1),Ve!==null&&Ht!==null&&MS(_e,Ht,Ve,at,!0)}}e:{if(pe=he?Zt(he):window,we=pe.nodeName&&pe.nodeName.toLowerCase(),we==="select"||we==="input"&&pe.type==="file")var _t=Qj;else if(Yj(pe))if(Zj)_t=lI;else{_t=iI;var Ze=aI}else we=pe.nodeName,!we||we.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&Dg(he.elementType)&&(_t=Qj):_t=sI;if(_t&&(_t=_t(i,he))){Xj(_e,_t,c,Ee);break e}Ze&&Ze(i,pe,he),i==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&kg(pe,"number",pe.value)}switch(Ze=he?Zt(he):window,i){case"focusin":(Yj(Ze)||Ze.contentEditable==="true")&&(mo=Ze,Vg=he,$c=null);break;case"focusout":$c=Vg=mo=null;break;case"mousedown":Wg=!0;break;case"contextmenu":case"mouseup":case"dragend":Wg=!1,sN(_e,c,Ee);break;case"selectionchange":if(cI)break;case"keydown":case"keyup":sN(_e,c,Ee)}var mt;if(qg)e:{switch(i){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else fo?Vj(i,c)&&(wt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(wt="onCompositionStart");wt&&(Fj&&c.locale!=="ko"&&(fo||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&fo&&(mt=Uj()):(os=Ee,Bg="value"in os?os.value:os.textContent,fo=!0)),Ze=Ph(he,wt),0<Ze.length&&(wt=new Hj(wt,i,null,c,Ee),_e.push({event:wt,listeners:Ze}),mt?wt.data=mt:(mt=Wj(c),mt!==null&&(wt.data=mt)))),(mt=J4?eI(i,c):tI(i,c))&&(wt=Ph(he,"onBeforeInput"),0<wt.length&&(Ze=new Hj("onBeforeInput","beforeinput",null,c,Ee),_e.push({event:Ze,listeners:wt}),Ze.data=mt)),GI(_e,i,he,c,Ee)}kS(_e,l)})}function du(i,l,c){return{instance:i,listener:l,currentTarget:c}}function Ph(i,l){for(var c=l+"Capture",h=[];i!==null;){var v=i,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=kc(i,c),v!=null&&h.unshift(du(i,v,y)),v=kc(i,l),v!=null&&h.push(du(i,v,y))),i.tag===3)return h;i=i.return}return[]}function XI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function MS(i,l,c,h,v){for(var y=l._reactName,A=[];c!==null&&c!==h;){var k=c,X=k.alternate,he=k.stateNode;if(k=k.tag,X!==null&&X===h)break;k!==5&&k!==26&&k!==27||he===null||(X=he,v?(he=kc(c,y),he!=null&&A.unshift(du(c,he,X))):v||(he=kc(c,y),he!=null&&A.push(du(c,he,X)))),c=c.return}A.length!==0&&i.push({event:l,listeners:A})}var QI=/\r\n?/g,ZI=/\u0000|\uFFFD/g;function PS(i){return(typeof i=="string"?i:""+i).replace(QI,`
`).replace(ZI,"")}function IS(i,l){return l=PS(l),PS(i)===l}function zt(i,l,c,h,v,y){switch(c){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||co(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&co(i,""+h);break;case"className":Ud(i,"class",h);break;case"tabIndex":Ud(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ud(i,c,h);break;case"style":Ij(i,h,y);break;case"data":if(l!=="object"){Ud(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=zd(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(l!=="input"&&zt(i,l,"name",v.name,v,null),zt(i,l,"formEncType",v.formEncType,v,null),zt(i,l,"formMethod",v.formMethod,v,null),zt(i,l,"formTarget",v.formTarget,v,null)):(zt(i,l,"encType",v.encType,v,null),zt(i,l,"method",v.method,v,null),zt(i,l,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=zd(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=gi);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=zd(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":yt("beforetoggle",i),yt("toggle",i),Bd(i,"popover",h);break;case"xlinkActuate":mi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":mi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":mi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":mi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":mi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":mi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":mi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":mi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":mi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Bd(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=C4.get(c)||c,Bd(i,c,h))}}function yx(i,l,c,h,v,y){switch(c){case"style":Ij(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?co(i,h):(typeof h=="number"||typeof h=="bigint")&&co(i,""+h);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aj.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),y=i[jt]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(l,y,v),typeof h=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(l,h,v);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Bd(i,c,h)}}}function ir(i,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var h=!1,v=!1,y;for(y in c)if(c.hasOwnProperty(y)){var A=c[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(i,l,y,A,c,null)}}v&&zt(i,l,"srcSet",c.srcSet,c,null),h&&zt(i,l,"src",c.src,c,null);return;case"input":yt("invalid",i);var k=y=A=v=null,X=null,he=null;for(h in c)if(c.hasOwnProperty(h)){var Ee=c[h];if(Ee!=null)switch(h){case"name":v=Ee;break;case"type":A=Ee;break;case"checked":X=Ee;break;case"defaultChecked":he=Ee;break;case"value":y=Ee;break;case"defaultValue":k=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:zt(i,l,h,Ee,c,null)}}kj(i,y,k,X,he,A,v,!1);return;case"select":yt("invalid",i),h=A=y=null;for(v in c)if(c.hasOwnProperty(v)&&(k=c[v],k!=null))switch(v){case"value":y=k;break;case"defaultValue":A=k;break;case"multiple":h=k;default:zt(i,l,v,k,c,null)}l=y,c=A,i.multiple=!!h,l!=null?oo(i,!!h,l,!1):c!=null&&oo(i,!!h,c,!0);return;case"textarea":yt("invalid",i),y=v=h=null;for(A in c)if(c.hasOwnProperty(A)&&(k=c[A],k!=null))switch(A){case"value":h=k;break;case"defaultValue":v=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:zt(i,l,A,k,c,null)}Mj(i,h,v,y);return;case"option":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:zt(i,l,X,h,c,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(h=0;h<uu.length;h++)yt(uu[h],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in c)if(c.hasOwnProperty(he)&&(h=c[he],h!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:zt(i,l,he,h,c,null)}return;default:if(Dg(l)){for(Ee in c)c.hasOwnProperty(Ee)&&(h=c[Ee],h!==void 0&&yx(i,l,Ee,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&zt(i,l,k,h,c,null))}function JI(i,l,c,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,A=null,k=null,X=null,he=null,Ee=null;for(we in c){var _e=c[we];if(c.hasOwnProperty(we)&&_e!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":X=_e;default:h.hasOwnProperty(we)||zt(i,l,we,null,h,_e)}}for(var pe in h){var we=h[pe];if(_e=c[pe],h.hasOwnProperty(pe)&&(we!=null||_e!=null))switch(pe){case"type":y=we;break;case"name":v=we;break;case"checked":he=we;break;case"defaultChecked":Ee=we;break;case"value":A=we;break;case"defaultValue":k=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,l));break;default:we!==_e&&zt(i,l,pe,we,h,_e)}}Og(i,A,k,X,he,Ee,y,v);return;case"select":we=A=k=pe=null;for(y in c)if(X=c[y],c.hasOwnProperty(y)&&X!=null)switch(y){case"value":break;case"multiple":we=X;default:h.hasOwnProperty(y)||zt(i,l,y,null,h,X)}for(v in h)if(y=h[v],X=c[v],h.hasOwnProperty(v)&&(y!=null||X!=null))switch(v){case"value":pe=y;break;case"defaultValue":k=y;break;case"multiple":A=y;default:y!==X&&zt(i,l,v,y,h,X)}l=k,c=A,h=we,pe!=null?oo(i,!!c,pe,!1):!!h!=!!c&&(l!=null?oo(i,!!c,l,!0):oo(i,!!c,c?[]:"",!1));return;case"textarea":we=pe=null;for(k in c)if(v=c[k],c.hasOwnProperty(k)&&v!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:zt(i,l,k,null,h,v)}for(A in h)if(v=h[A],y=c[A],h.hasOwnProperty(A)&&(v!=null||y!=null))switch(A){case"value":pe=v;break;case"defaultValue":we=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&zt(i,l,A,v,h,y)}Dj(i,pe,we);return;case"option":for(var Ve in c)if(pe=c[Ve],c.hasOwnProperty(Ve)&&pe!=null&&!h.hasOwnProperty(Ve))switch(Ve){case"selected":i.selected=!1;break;default:zt(i,l,Ve,null,h,pe)}for(X in h)if(pe=h[X],we=c[X],h.hasOwnProperty(X)&&pe!==we&&(pe!=null||we!=null))switch(X){case"selected":i.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:zt(i,l,X,pe,h,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in c)pe=c[at],c.hasOwnProperty(at)&&pe!=null&&!h.hasOwnProperty(at)&&zt(i,l,at,null,h,pe);for(he in h)if(pe=h[he],we=c[he],h.hasOwnProperty(he)&&pe!==we&&(pe!=null||we!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:zt(i,l,he,pe,h,we)}return;default:if(Dg(l)){for(var Ht in c)pe=c[Ht],c.hasOwnProperty(Ht)&&pe!==void 0&&!h.hasOwnProperty(Ht)&&yx(i,l,Ht,void 0,h,pe);for(Ee in h)pe=h[Ee],we=c[Ee],!h.hasOwnProperty(Ee)||pe===we||pe===void 0&&we===void 0||yx(i,l,Ee,pe,h,we);return}}for(var oe in c)pe=c[oe],c.hasOwnProperty(oe)&&pe!=null&&!h.hasOwnProperty(oe)&&zt(i,l,oe,null,h,pe);for(_e in h)pe=h[_e],we=c[_e],!h.hasOwnProperty(_e)||pe===we||pe==null&&we==null||zt(i,l,_e,pe,h,we)}function LS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],y=v.transferSize,A=v.initiatorType,k=v.duration;if(y&&k&&LS(A)){for(A=0,k=v.responseEnd,h+=1;h<c.length;h++){var X=c[h],he=X.startTime;if(he>k)break;var Ee=X.transferSize,_e=X.initiatorType;Ee&&LS(_e)&&(X=X.responseEnd,A+=Ee*(X<k?1:(k-he)/(X-he)))}if(--h,l+=8*(y+A)/(v.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var bx=null,wx=null;function Ih(i){return i.nodeType===9?i:i.ownerDocument}function BS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function US(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function jx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Nx=null;function t6(){var i=window.event;return i&&i.type==="popstate"?i===Nx?!1:(Nx=i,!0):(Nx=null,!1)}var $S=typeof setTimeout=="function"?setTimeout:void 0,n6=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,r6=typeof queueMicrotask=="function"?queueMicrotask:typeof zS<"u"?function(i){return zS.resolve(null).then(i).catch(a6)}:$S;function a6(i){setTimeout(function(){throw i})}function Es(i){return i==="head"}function HS(i,l){var c=l,h=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(v),zo(l);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")hu(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,hu(c);for(var y=c.firstChild;y;){var A=y.nextSibling,k=y.nodeName;y[nl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=A}}else c==="body"&&hu(i.ownerDocument.body);c=v}while(c);zo(l)}function qS(i,l){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function Sx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Sx(c),me(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function i6(i,l,c,h){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[nl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=va(i.nextSibling),i===null)break}return null}function s6(i,l,c){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=va(i.nextSibling),i===null))return null;return i}function FS(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=va(i.nextSibling),i===null))return null;return i}function Ex(i){return i.data==="$?"||i.data==="$~"}function Cx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function l6(i,l){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||c.readyState!=="loading")l();else{var h=function(){l(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function va(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Ax=null;function KS(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(l===0)return va(i.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}i=i.nextSibling}return null}function GS(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return i;l--}else c!=="/$"&&c!=="/&"||l++}i=i.previousSibling}return null}function VS(i,l,c){switch(l=Ih(c),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function hu(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);me(i)}var ya=new Map,WS=new Set;function Lh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Oi=H.d;H.d={f:o6,r:c6,D:u6,C:d6,L:h6,m:f6,X:g6,S:m6,M:p6};function o6(){var i=Oi.f(),l=Th();return i||l}function c6(i){var l=Me(i);l!==null&&l.tag===5&&l.type==="form"?d1(l):Oi.r(i)}var Bo=typeof document>"u"?null:document;function YS(i,l,c){var h=Bo;if(h&&typeof l=="string"&&l){var v=da(l);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),WS.has(v)||(WS.add(v),i={rel:i,crossOrigin:c,href:l},h.querySelector(v)===null&&(l=h.createElement("link"),ir(l,"link",i),Yn(l),h.head.appendChild(l)))}}function u6(i){Oi.D(i),YS("dns-prefetch",i,null)}function d6(i,l){Oi.C(i,l),YS("preconnect",i,l)}function h6(i,l,c){Oi.L(i,l,c);var h=Bo;if(h&&i&&l){var v='link[rel="preload"][as="'+da(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+da(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+da(c.imageSizes)+'"]')):v+='[href="'+da(i)+'"]';var y=v;switch(l){case"style":y=Uo(i);break;case"script":y=$o(i)}ya.has(y)||(i=x({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:i,as:l},c),ya.set(y,i),h.querySelector(v)!==null||l==="style"&&h.querySelector(fu(y))||l==="script"&&h.querySelector(mu(y))||(l=h.createElement("link"),ir(l,"link",i),Yn(l),h.head.appendChild(l)))}}function f6(i,l){Oi.m(i,l);var c=Bo;if(c&&i){var h=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+da(h)+'"][href="'+da(i)+'"]',y=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(i)}if(!ya.has(y)&&(i=x({rel:"modulepreload",href:i},l),ya.set(y,i),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(mu(y)))return}h=c.createElement("link"),ir(h,"link",i),Yn(h),c.head.appendChild(h)}}}function m6(i,l,c){Oi.S(i,l,c);var h=Bo;if(h&&i){var v=br(h).hoistableStyles,y=Uo(i);l=l||"default";var A=v.get(y);if(!A){var k={loading:0,preload:null};if(A=h.querySelector(fu(y)))k.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":l},c),(c=ya.get(y))&&Tx(i,c);var X=A=h.createElement("link");Yn(X),ir(X,"link",i),X._p=new Promise(function(he,Ee){X.onload=he,X.onerror=Ee}),X.addEventListener("load",function(){k.loading|=1}),X.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Bh(A,l,h)}A={type:"stylesheet",instance:A,count:1,state:k},v.set(y,A)}}}function g6(i,l){Oi.X(i,l);var c=Bo;if(c&&i){var h=br(c).hoistableScripts,v=$o(i),y=h.get(v);y||(y=c.querySelector(mu(v)),y||(i=x({src:i,async:!0},l),(l=ya.get(v))&&_x(i,l),y=c.createElement("script"),Yn(y),ir(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function p6(i,l){Oi.M(i,l);var c=Bo;if(c&&i){var h=br(c).hoistableScripts,v=$o(i),y=h.get(v);y||(y=c.querySelector(mu(v)),y||(i=x({src:i,async:!0,type:"module"},l),(l=ya.get(v))&&_x(i,l),y=c.createElement("script"),Yn(y),ir(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function XS(i,l,c,h){var v=(v=ie.current)?Lh(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Uo(c.href),c=br(v).hoistableStyles,h=c.get(l),h||(h={type:"style",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Uo(c.href);var y=br(v).hoistableStyles,A=y.get(i);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=v.querySelector(fu(i)))&&!y._p&&(A.instance=y,A.state.loading=5),ya.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ya.set(i,c),y||x6(v,i,c,A.state))),l&&h===null)throw Error(r(528,""));return A}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=$o(c),c=br(v).hoistableScripts,h=c.get(l),h||(h={type:"script",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Uo(i){return'href="'+da(i)+'"'}function fu(i){return'link[rel="stylesheet"]['+i+"]"}function QS(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function x6(i,l,c,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),ir(l,"link",c),Yn(l),i.head.appendChild(l))}function $o(i){return'[src="'+da(i)+'"]'}function mu(i){return"script[async]"+i}function ZS(i,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+da(c.href)+'"]');if(h)return l.instance=h,Yn(h),h;var v=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Yn(h),ir(h,"style",v),Bh(h,c.precedence,i),l.instance=h;case"stylesheet":v=Uo(c.href);var y=i.querySelector(fu(v));if(y)return l.state.loading|=4,l.instance=y,Yn(y),y;h=QS(c),(v=ya.get(v))&&Tx(h,v),y=(i.ownerDocument||i).createElement("link"),Yn(y);var A=y;return A._p=new Promise(function(k,X){A.onload=k,A.onerror=X}),ir(y,"link",h),l.state.loading|=4,Bh(y,c.precedence,i),l.instance=y;case"script":return y=$o(c.src),(v=i.querySelector(mu(y)))?(l.instance=v,Yn(v),v):(h=c,(v=ya.get(y))&&(h=x({},c),_x(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),Yn(v),ir(v,"link",h),i.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Bh(h,c.precedence,i));return l.instance}function Bh(i,l,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,y=v,A=0;A<h.length;A++){var k=h[A];if(k.dataset.precedence===l)y=k;else if(y!==v)break}y?y.parentNode.insertBefore(i,y.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(i,l.firstChild))}function Tx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function _x(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Uh=null;function JS(i,l,c){if(Uh===null){var h=new Map,v=Uh=new Map;v.set(c,h)}else v=Uh,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var y=c[v];if(!(y[nl]||y[Fe]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(l)||"";A=i+A;var k=h.get(A);k?k.push(y):h.set(A,[y])}}return h}function eE(i,l,c){i=i.ownerDocument||i,i.head.insertBefore(c,l==="title"?i.querySelector("head > title"):null)}function v6(i,l,c){if(c===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function tE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function y6(i,l,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Uo(h.href),y=l.querySelector(fu(v));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=$h.bind(i),l.then(i,i)),c.state.loading|=4,c.instance=y,Yn(y);return}y=l.ownerDocument||l,h=QS(h),(v=ya.get(v))&&Tx(h,v),y=y.createElement("link"),Yn(y);var A=y;A._p=new Promise(function(k,X){A.onload=k,A.onerror=X}),ir(y,"link",h),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=$h.bind(i),l.addEventListener("load",c),l.addEventListener("error",c))}}var Rx=0;function b6(i,l){return i.stylesheets&&i.count===0&&Hh(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Hh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+l);0<i.imgBytes&&Rx===0&&(Rx=62500*e6());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Hh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Rx?50:800)+l);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function $h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zh=null;function Hh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zh=new Map,l.forEach(w6,i),zh=null,$h.call(i))}function w6(i,l){if(!(l.state.loading&4)){var c=zh.get(i);if(c)var h=c.get(null);else{c=new Map,zh.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var A=v[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),h=A)}h&&c.set(null,h)}v=l.instance,A=v.getAttribute("data-precedence"),y=c.get(A)||h,y===h&&c.set(null,v),c.set(A,v),this.count++,h=$h.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),y?y.parentNode.insertBefore(v,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),l.state.loading|=4}}var gu={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function j6(i,l,c,h,v,y,A,k,X){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function nE(i,l,c,h,v,y,A,k,X,he,Ee,_e){return i=new j6(i,l,c,A,X,he,Ee,_e,k),l=1,y===!0&&(l|=24),y=Kr(3,null,null,l),i.current=y,y.stateNode=i,l=cp(),l.refCount++,i.pooledCache=l,l.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:l},fp(y),i}function rE(i){return i?(i=xo,i):xo}function aE(i,l,c,h,v,y){v=rE(v),h.context===null?h.context=v:h.pendingContext=v,h=ms(l),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=gs(i,h,l),c!==null&&(Lr(c,i,l),Vc(c,i,l))}function iE(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function Ox(i,l){iE(i,l),(i=i.alternate)&&iE(i,l)}function sE(i){if(i.tag===13||i.tag===31){var l=ll(i,67108864);l!==null&&Lr(l,i,67108864),Ox(i,67108864)}}function lE(i){if(i.tag===13||i.tag===31){var l=Xr();l=Qa(l);var c=ll(i,l);c!==null&&Lr(c,i,l),Ox(i,l)}}var qh=!0;function N6(i,l,c,h){var v=q.T;q.T=null;var y=H.p;try{H.p=2,kx(i,l,c,h)}finally{H.p=y,q.T=v}}function S6(i,l,c,h){var v=q.T;q.T=null;var y=H.p;try{H.p=8,kx(i,l,c,h)}finally{H.p=y,q.T=v}}function kx(i,l,c,h){if(qh){var v=Dx(h);if(v===null)vx(i,l,h,Fh,c),cE(i,h);else if(C6(v,i,l,c,h))h.stopPropagation();else if(cE(i,h),l&4&&-1<E6.indexOf(i)){for(;v!==null;){var y=Me(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Rr(y.pendingLanes);if(A!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var X=1<<31-Et(A);k.entanglements[1]|=X,A&=~X}ti(y),(kt&6)===0&&(Ch=He()+500,cu(0))}}break;case 31:case 13:k=ll(y,2),k!==null&&Lr(k,y,2),Th(),Ox(y,2)}if(y=Dx(h),y===null&&vx(i,l,h,Fh,c),y===v)break;v=y}v!==null&&h.stopPropagation()}else vx(i,l,h,null,c)}}function Dx(i){return i=Pg(i),Mx(i)}var Fh=null;function Mx(i){if(Fh=null,i=ke(i),i!==null){var l=o(i);if(l===null)i=null;else{var c=l.tag;if(c===13){if(i=u(l),i!==null)return i;i=null}else if(c===31){if(i=d(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Fh=i,null}function oE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Le:return 2;case $e:return 8;case Be:case dt:return 32;case un:return 268435456;default:return 32}default:return 32}}var Px=!1,Cs=null,As=null,Ts=null,pu=new Map,xu=new Map,_s=[],E6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(i,l){switch(i){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":pu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(l.pointerId)}}function vu(i,l,c,h,v,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[v]},l!==null&&(l=Me(l),l!==null&&sE(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function C6(i,l,c,h,v){switch(l){case"focusin":return Cs=vu(Cs,i,l,c,h,v),!0;case"dragenter":return As=vu(As,i,l,c,h,v),!0;case"mouseover":return Ts=vu(Ts,i,l,c,h,v),!0;case"pointerover":var y=v.pointerId;return pu.set(y,vu(pu.get(y)||null,i,l,c,h,v)),!0;case"gotpointercapture":return y=v.pointerId,xu.set(y,vu(xu.get(y)||null,i,l,c,h,v)),!0}return!1}function uE(i){var l=ke(i.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){i.blockedOn=l,ro(i.priority,function(){lE(c)});return}}else if(l===31){if(l=d(c),l!==null){i.blockedOn=l,ro(i.priority,function(){lE(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Kh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=Dx(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Mg=h,c.target.dispatchEvent(h),Mg=null}else return l=Me(c),l!==null&&sE(l),i.blockedOn=c,!1;l.shift()}return!0}function dE(i,l,c){Kh(i)&&c.delete(l)}function A6(){Px=!1,Cs!==null&&Kh(Cs)&&(Cs=null),As!==null&&Kh(As)&&(As=null),Ts!==null&&Kh(Ts)&&(Ts=null),pu.forEach(dE),xu.forEach(dE)}function Gh(i,l){i.blockedOn===l&&(i.blockedOn=null,Px||(Px=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A6)))}var Vh=null;function hE(i){Vh!==i&&(Vh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vh===i&&(Vh=null);for(var l=0;l<i.length;l+=3){var c=i[l],h=i[l+1],v=i[l+2];if(typeof h!="function"){if(Mx(h||c)===null)continue;break}var y=Me(c);y!==null&&(i.splice(l,3),l-=3,Dp(y,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function zo(i){function l(X){return Gh(X,i)}Cs!==null&&Gh(Cs,i),As!==null&&Gh(As,i),Ts!==null&&Gh(Ts,i),pu.forEach(l),xu.forEach(l);for(var c=0;c<_s.length;c++){var h=_s[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<_s.length&&(c=_s[0],c.blockedOn===null);)uE(c),c.blockedOn===null&&_s.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],y=c[h+1],A=v[jt]||null;if(typeof y=="function")A||hE(c);else if(A){var k=null;if(y&&y.hasAttribute("formAction")){if(v=y,A=y[jt]||null)k=A.formAction;else if(Mx(v)!==null)continue}else k=A.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),hE(c)}}}function fE(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Ix(i){this._internalRoot=i}Wh.prototype.render=Ix.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,h=Xr();aE(c,h,i,l,null,null)},Wh.prototype.unmount=Ix.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;aE(i.current,2,null,i,null,null),Th(),l[fi]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var l=tl();i={blockedOn:null,target:i,priority:l};for(var c=0;c<_s.length&&l!==0&&l<_s[c].priority;c++);_s.splice(c,0,i),c===0&&uE(i)}};var mE=t.version;if(mE!=="19.2.0")throw Error(r(527,mE,"19.2.0"));H.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var T6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{Cn=Yh.inject(T6),Pt=Yh}catch{}}return bu.createRoot=function(i,l){if(!s(i))throw Error(r(299));var c=!1,h="",v=w1,y=j1,A=N1;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError)),l=nE(i,1,!1,null,null,c,h,null,v,y,A,fE),i[fi]=l.current,xx(i),new Ix(l)},bu.hydrateRoot=function(i,l,c){if(!s(i))throw Error(r(299));var h=!1,v="",y=w1,A=j1,k=N1,X=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(X=c.formState)),l=nE(i,1,!0,l,c??null,h,v,X,y,A,k,fE),l.context=rE(null),c=l.current,h=Xr(),h=Qa(h),v=ms(h),v.callback=null,gs(c,v,h),c=h,l.current.lanes=c,Xa(l,c),ti(l),i[fi]=l.current,xx(i),new Wh(l)},bu.version="19.2.0",bu}var SE;function B6(){if(SE)return Ux.exports;SE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ux.exports=L6(),Ux.exports}var U6=B6(),Om=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},z6=class{#e=$6;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Hv=new z6;function H6(e){setTimeout(e,0)}var km=typeof window>"u"||"Deno"in globalThis;function za(){}function q6(e,t){return typeof e=="function"?e(t):e}function F6(e){return typeof e=="number"&&e>=0&&e!==1/0}function K6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qv(e,t){return typeof e=="function"?e(t):e}function G6(e,t){return typeof e=="function"?e(t):e}function EE(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:u,stale:d}=e;if(u){if(r){if(t.queryHash!==eb(u,t.options))return!1}else if(!Bu(t.queryKey,u))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||o&&!o(t))}function CE(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Lu(t.options.mutationKey)!==Lu(o))return!1}else if(!Bu(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function eb(e,t){return(t?.queryKeyHashFn||Lu)(e)}function Lu(e){return JSON.stringify(e,(t,n)=>Fv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Bu(e[n],t[n])):!1}var V6=Object.prototype.hasOwnProperty;function R_(e,t){if(e===t)return e;const n=AE(e)&&AE(t);if(!n&&!(Fv(e)&&Fv(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),u=o.length,d=n?new Array(u):{};let f=0;for(let m=0;m<u;m++){const g=n?m:o[m],x=e[g],b=t[g];if(x===b){d[g]=x,(n?m<s:V6.call(e,g))&&f++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[g]=b;continue}const w=R_(x,b);d[g]=w,w===x&&f++}return s===u&&f===s?e:d}function AE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fv(e){if(!TE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!TE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function TE(e){return Object.prototype.toString.call(e)==="[object Object]"}function W6(e){return new Promise(t=>{Hv.setTimeout(t,e)})}function Y6(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?R_(e,t):t}function X6(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Q6(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tb=Symbol();function O_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===tb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Z6=class extends Om{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!km&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},k_=new Z6;function J6(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var e5=H6;function t5(){let e=[],t=0,n=d=>{d()},r=d=>{d()},s=e5;const o=d=>{t?e.push(d):s(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&s(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var jr=t5(),n5=class extends Om{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!km&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Bf=new n5;function r5(e){return Math.min(1e3*2**e,3e4)}function D_(e){return(e??"online")==="online"?Bf.isOnline():!0}var Kv=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function M_(e){let t=!1,n=0,r;const s=J6(),o=()=>s.status!=="pending",u=j=>{if(!o()){const N=new Kv(j);b(N),e.onCancel?.(N)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>k_.isFocused()&&(e.networkMode==="always"||Bf.isOnline())&&e.canRun(),g=()=>D_(e.networkMode)&&e.canRun(),x=j=>{o()||(r?.(),s.resolve(j))},b=j=>{o()||(r?.(),s.reject(j))},w=()=>new Promise(j=>{r=N=>{(o()||m())&&j(N)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),S=()=>{if(o())return;let j;const N=n===0?e.initialPromise:void 0;try{j=N??e.fn()}catch(E){j=Promise.reject(E)}Promise.resolve(j).then(x).catch(E=>{if(o())return;const C=e.retry??(km?0:3),T=e.retryDelay??r5,_=typeof T=="function"?T(n,E):T,O=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,E);if(t||!O){b(E);return}n++,e.onFail?.(n,E),W6(_).then(()=>m()?void 0:w()).then(()=>{t?b(E):S()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(r?.(),s),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?S():w().then(S),s)}}var P_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F6(this.gcTime)&&(this.#e=Hv.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(km?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Hv.clearTimeout(this.#e),this.#e=void 0)}},a5=class extends P_{#e;#t;#n;#a;#r;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=RE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=RE(this.options);t.data!==void 0&&(this.setState(_E(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Y6(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(za).catch(za):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>G6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qv(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!K6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},s=()=>{const d=O_(this.options,t),m=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return r(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=M_({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof Kv&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#i({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Kv){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...i5(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,..._E(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),jr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function i5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _E(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function RE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function OE(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=O_(t.options,t.fetchOptions),w=async(S,j,N)=>{if(g)return Promise.reject();if(j==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return x(R),R})(),T=await b(C),{maxPages:_}=t.options,O=N?Q6:X6;return{pages:O(S.pages,T,_),pageParams:O(S.pageParams,j,_)}};if(s&&o.length){const S=s==="backward",j=S?s5:kE,N={pages:o,pageParams:u},E=j(r,N);d=await w(N,E,S)}else{const S=e??o.length;do{const j=f===0?u[0]??r.initialPageParam:kE(r,d);if(f>0&&j==null)break;d=await w(d,j),f++}while(f<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function kE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function s5(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var l5=class extends P_{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||o5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=M_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#r({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#a.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const u=await this.options.onMutate?.(e,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),jr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function o5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var c5=class extends Om{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new l5({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Xh(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Xh(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xh(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Xh(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){jr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>CE(t,n))}findAll(e={}){return this.getAll().filter(t=>CE(e,t))}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jr.batch(()=>Promise.all(e.map(t=>t.continue().catch(za))))}};function Xh(e){return e.options.scope?.id}var u5=class extends Om{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??eb(r,t);let o=this.get(s);return o||(o=new a5({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>EE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>EE(e,n)):t}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},d5=class{#e;#t;#n;#a;#r;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new u5,this.#t=e.mutationCache||new c5,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=k_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Bf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,u=q6(t,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return jr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;jr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return jr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=jr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(za).catch(za)}invalidateQueries(e,t={}){return jr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=jr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(za)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(za)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(qv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(za).catch(za)}fetchInfiniteQuery(e){return e.behavior=OE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(za).catch(za)}ensureInfiniteQueryData(e){return e.behavior=OE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Lu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(r=>{Bu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Lu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Bu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},h5=p.createContext(void 0),f5=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(h5.Provider,{value:e,children:t}));var DE="popstate";function m5(e={}){function t(r,s){let{pathname:o,search:u,hash:d}=r.location;return Gv("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Uu(s)}return p5(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ra(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g5(){return Math.random().toString(36).substring(2,10)}function ME(e,t){return{usr:e.state,key:e.key,idx:t}}function Gv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hc(t):t,state:n,key:t&&t.key||r||g5()}}function Uu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function p5(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let N=g(),E=N==null?null:N-m;m=N,f&&f({action:d,location:j.location,delta:E})}function b(N,E){d="PUSH";let C=Gv(j.location,N,E);m=g()+1;let T=ME(C,m),_=j.createHref(C);try{u.pushState(T,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(_)}o&&f&&f({action:d,location:j.location,delta:1})}function w(N,E){d="REPLACE";let C=Gv(j.location,N,E);m=g();let T=ME(C,m),_=j.createHref(C);u.replaceState(T,"",_),o&&f&&f({action:d,location:j.location,delta:0})}function S(N){return x5(N)}let j={get action(){return d},get location(){return e(s,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(DE,x),f=N,()=>{s.removeEventListener(DE,x),f=null}},createHref(N){return t(s,N)},createURL:S,encodeLocation(N){let E=S(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:w,go(N){return u.go(N)}};return j}function x5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Uu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I_(e,t,n="/"){return v5(e,t,n,!1)}function v5(e,t,n,r){let s=typeof t=="string"?hc(t):t,o=Gi(s.pathname||"/",n);if(o==null)return null;let u=L_(e);y5(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=R5(o);d=T5(u[f],m,r)}return d}function L_(e,t=[],n=[],r="",s=!1){let o=(u,d,f=s,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;gn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=zi([r,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(gn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),L_(u.children,t,b,x,f)),!(u.path==null&&!u.index)&&t.push({path:x,score:C5(x,u.index),routesMeta:b})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of B_(u.path))o(u,d,!0,f)}),t}function B_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=B_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function y5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var b5=/^:[\w-]+$/,w5=3,j5=2,N5=1,S5=10,E5=-2,PE=e=>e==="*";function C5(e,t){let n=e.split("/"),r=n.length;return n.some(PE)&&(r+=E5),t&&(r+=j5),n.filter(s=>!PE(s)).reduce((s,o)=>s+(b5.test(o)?w5:o===""?N5:S5),r)}function A5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function T5(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:zi([o,x.pathname]),pathnameBase:M5(zi([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=zi([o,x.pathnameBase]))}return u}function Uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let S=d[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[b];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function _5(e,t=!1,n=!0){Ra(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function R5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ra(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function O5(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?hc(e):e;return{pathname:n?n.startsWith("/")?n:k5(n,t):t,search:P5(r),hash:I5(s)}}function k5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nb(e){let t=D5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function rb(e,t,n,r=!1){let s;typeof e=="string"?s=hc(e):(s={...e},gn(!s.pathname||!s.pathname.includes("?"),qx("?","pathname","search",s)),gn(!s.pathname||!s.pathname.includes("#"),qx("#","pathname","hash",s)),gn(!s.search||!s.search.includes("#"),qx("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}d=x>=0?t[x]:"/"}let f=O5(s,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var zi=e=>e.join("/").replace(/\/\/+/g,"/"),M5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function L5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var B5=["GET",...U_];new Set(B5);var fc=p.createContext(null);fc.displayName="DataRouter";var Dm=p.createContext(null);Dm.displayName="DataRouterState";p.createContext(!1);var $_=p.createContext({isTransitioning:!1});$_.displayName="ViewTransition";var U5=p.createContext(new Map);U5.displayName="Fetchers";var $5=p.createContext(null);$5.displayName="Await";var Ga=p.createContext(null);Ga.displayName="Navigation";var sd=p.createContext(null);sd.displayName="Location";var Va=p.createContext({outlet:null,matches:[],isDataRoute:!1});Va.displayName="Route";var ab=p.createContext(null);ab.displayName="RouteError";function z5(e,{relative:t}={}){gn(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Ga),{hash:s,pathname:o,search:u}=ld(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:zi([n,o])),r.createHref({pathname:d,search:u,hash:s})}function mc(){return p.useContext(sd)!=null}function Hr(){return gn(mc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(sd).location}var z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H_(e){p.useContext(Ga).static||p.useLayoutEffect(e)}function yr(){let{isDataRoute:e}=p.useContext(Va);return e?e3():H5()}function H5(){gn(mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(fc),{basename:t,navigator:n}=p.useContext(Ga),{matches:r}=p.useContext(Va),{pathname:s}=Hr(),o=JSON.stringify(nb(r)),u=p.useRef(!1);return H_(()=>{u.current=!0}),p.useCallback((f,m={})=>{if(Ra(u.current,z_),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=rb(f,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:zi([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,s,e])}p.createContext(null);function gc(){let{matches:e}=p.useContext(Va),t=e[e.length-1];return t?t.params:{}}function ld(e,{relative:t}={}){let{matches:n}=p.useContext(Va),{pathname:r}=Hr(),s=JSON.stringify(nb(n));return p.useMemo(()=>rb(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function q5(e,t){return q_(e,t)}function q_(e,t,n,r,s){gn(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=p.useContext(Ga),{matches:u}=p.useContext(Va),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let C=x&&x.path||"";F_(m,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Hr(),w;if(t){let C=typeof t=="string"?hc(t):t;gn(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=b;let S=w.pathname||"/",j=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");j="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=I_(e,{pathname:j});Ra(x||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ra(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=W5(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:zi([g,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:zi([g,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),u,n,r,s);return t&&E?p.createElement(sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function F5(){let e=J5(),t=L5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,u)}var K5=p.createElement(F5,null),G5=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Va.Provider,{value:this.props.routeContext},p.createElement(ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V5({routeContext:e,match:t,children:n}){let r=p.useContext(fc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Va.Provider,{value:e},n)}function W5(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);gn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let b,w=!1,S=null,j=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||K5,d&&(f<0&&x===0?(F_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):f===x&&(w=!0,j=g.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,x+1)),E=()=>{let C;return b?C=S:w?C=j:g.route.Component?C=p.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,p.createElement(V5,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?p.createElement(G5,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):E()},null)}function ib(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y5(e){let t=p.useContext(fc);return gn(t,ib(e)),t}function X5(e){let t=p.useContext(Dm);return gn(t,ib(e)),t}function Q5(e){let t=p.useContext(Va);return gn(t,ib(e)),t}function sb(e){let t=Q5(e),n=t.matches[t.matches.length-1];return gn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Z5(){return sb("useRouteId")}function J5(){let e=p.useContext(ab),t=X5("useRouteError"),n=sb("useRouteError");return e!==void 0?e:t.errors?.[n]}function e3(){let{router:e}=Y5("useNavigate"),t=sb("useNavigate"),n=p.useRef(!1);return H_(()=>{n.current=!0}),p.useCallback(async(s,o={})=>{Ra(n.current,z_),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var IE={};function F_(e,t,n){!t&&!IE[e]&&(IE[e]=!0,Ra(!1,n))}p.memo(t3);function t3({routes:e,future:t,state:n,unstable_onError:r}){return q_(e,void 0,n,r,t)}function Vv({to:e,replace:t,state:n,relative:r}){gn(mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Ga);Ra(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=p.useContext(Va),{pathname:u}=Hr(),d=yr(),f=rb(e,nb(o),u,r==="path"),m=JSON.stringify(f);return p.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function Jt(e){gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){gn(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=hc(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=n,w=p.useMemo(()=>{let S=Gi(f,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:x,key:b},navigationType:r}},[u,f,m,g,x,b,r]);return Ra(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:p.createElement(Ga.Provider,{value:d},p.createElement(sd.Provider,{children:t,value:w}))}function r3({children:e,location:t}){return q5(Wv(e),t)}function Wv(e,t=[]){let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Wv(r.props.children,o));return}gn(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Wv(r.props.children,o)),n.push(u)}),n}var Tf="get",_f="application/x-www-form-urlencoded";function Mm(e){return e!=null&&typeof e.tagName=="string"}function a3(e){return Mm(e)&&e.tagName.toLowerCase()==="button"}function i3(e){return Mm(e)&&e.tagName.toLowerCase()==="form"}function s3(e){return Mm(e)&&e.tagName.toLowerCase()==="input"}function l3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o3(e,t){return e.button===0&&(!t||t==="_self")&&!l3(e)}function Yv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function c3(e,t){let n=Yv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Qh=null;function u3(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var d3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fx(e){return e!=null&&!d3.has(e)?(Ra(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):e}function h3(e,t){let n,r,s,o,u;if(i3(e)){let d=e.getAttribute("action");r=d?Gi(d,t):null,n=e.getAttribute("method")||Tf,s=Fx(e.getAttribute("enctype"))||_f,o=new FormData(e)}else if(a3(e)||s3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Gi(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Tf,s=Fx(e.getAttribute("formenctype"))||Fx(d.getAttribute("enctype"))||_f,o=new FormData(d,e),!u3()){let{name:m,type:g,value:x}=e;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,x)}}else{if(Mm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tf,r=null,s=_f,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f3(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Gi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function m3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p3(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await m3(o,n);return u.links?u.links():[]}return[]}));return b3(r.flat(1).filter(g3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function LE(e,t,n,r,s,o){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,m)=>u(f,m)||d(f,m)):o==="data"?t.filter((f,m)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function x3(e,t,{includeHydrateFallback:n}={}){return v3(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function v3(e){return[...new Set(e)]}function y3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function b3(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(y3(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function K_(){let e=p.useContext(fc);return lb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function w3(){let e=p.useContext(Dm);return lb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ob=p.createContext(void 0);ob.displayName="FrameworkContext";function G_(){let e=p.useContext(ob);return lb(e,"You must render this element inside a <HydratedRouter> element"),e}function j3(e,t){let n=p.useContext(ob),[r,s]=p.useState(!1),[o,u]=p.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,b=p.useRef(null);p.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let j=E=>{E.forEach(C=>{u(C.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),p.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let w=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:wu(d,w),onBlur:wu(f,S),onMouseEnter:wu(m,w),onMouseLeave:wu(g,S),onTouchStart:wu(x,w)}]:[!1,b,{}]}function wu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function N3({page:e,...t}){let{router:n}=K_(),r=p.useMemo(()=>I_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(E3,{page:e,matches:r,...t}):null}function S3(e){let{manifest:t,routeModules:n}=G_(),[r,s]=p.useState([]);return p.useEffect(()=>{let o=!1;return p3(e,t,n).then(u=>{o||s(u)}),()=>{o=!0}},[e,t,n]),r}function E3({page:e,matches:t,...n}){let r=Hr(),{manifest:s,routeModules:o}=G_(),{basename:u}=K_(),{loaderData:d,matches:f}=w3(),m=p.useMemo(()=>LE(e,t,f,s,r,"data"),[e,t,f,s,r]),g=p.useMemo(()=>LE(e,t,f,s,r,"assets"),[e,t,f,s,r]),x=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,j=!1;if(t.forEach(E=>{let C=s.routes[E.route.id];!C||!C.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in d&&o[E.route.id]?.shouldRevalidate||C.hasClientLoader?j=!0:S.add(E.route.id))}),S.size===0)return[];let N=f3(e,u,"data");return j&&S.size>0&&N.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[u,d,r,s,m,t,e,o]),b=p.useMemo(()=>x3(g,s),[g,s]),w=S3(g);return p.createElement(p.Fragment,null,x.map(S=>p.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>p.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:j})=>p.createElement("link",{key:S,nonce:n.nonce,...j})))}function C3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var V_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V_&&(window.__reactRouterVersion="7.9.5")}catch{}function A3({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=m5({window:n,v5Compat:!0}));let s=r.current,[o,u]=p.useState({action:s.action,location:s.location}),d=p.useCallback(f=>{p.startTransition(()=>u(f))},[u]);return p.useLayoutEffect(()=>s.listen(d),[s,d]),p.createElement(n3,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x,...b},w){let{basename:S}=p.useContext(Ga),j=typeof m=="string"&&W_.test(m),N,E=!1;if(typeof m=="string"&&j&&(N=m,V_))try{let V=new URL(window.location.href),J=m.startsWith("//")?new URL(V.protocol+m):new URL(m),B=Gi(J.pathname,S);J.origin===V.origin&&B!=null?m=B+J.search+J.hash:E=!0}catch{Ra(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=z5(m,{relative:s}),[T,_,O]=j3(r,b),R=R3(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:x});function D(V){t&&t(V),V.defaultPrevented||R(V)}let L=p.createElement("a",{...b,...O,href:N||C,onClick:E||o?t:D,ref:C3(w,_),target:f,"data-discover":!j&&n==="render"?"true":void 0});return T&&!j?p.createElement(p.Fragment,null,L,p.createElement(N3,{page:C})):L});Y_.displayName="Link";var X_=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...m},g){let x=ld(u,{relative:m.relative}),b=Hr(),w=p.useContext(Dm),{navigator:S,basename:j}=p.useContext(Ga),N=w!=null&&P3(x)&&d===!0,E=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,C=b.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(C=C.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&j&&(T=Gi(T,j)||T);const _=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=C===E||!s&&C.startsWith(E)&&C.charAt(_)==="/",R=T!=null&&(T===E||!s&&T.startsWith(E)&&T.charAt(E.length)==="/"),D={isActive:O,isPending:R,isTransitioning:N},L=O?t:void 0,V;typeof r=="function"?V=r(D):V=[r,O?"active":null,R?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(D):o;return p.createElement(Y_,{...m,"aria-current":L,className:V,ref:g,style:J,to:u,viewTransition:d},typeof f=="function"?f(D):f)});X_.displayName="NavLink";var T3=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:u=Tf,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...b},w)=>{let S=D3(),j=M3(d,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&W_.test(d),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let _=T.nativeEvent.submitter,O=_?.getAttribute("formmethod")||u;S(_||T.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return p.createElement("form",{ref:w,method:N,action:j,onSubmit:r?f:C,...b,"data-discover":!E&&e==="render"?"true":void 0})});T3.displayName="Form";function _3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(e){let t=p.useContext(fc);return gn(t,_3(e)),t}function R3(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=yr(),f=Hr(),m=ld(e,{relative:o});return p.useCallback(g=>{if(o3(g,t)){g.preventDefault();let x=n!==void 0?n:Uu(f)===Uu(m);d(e,{replace:x,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,m,n,r,t,e,s,o,u])}function Z_(e){Ra(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(Yv(e)),n=p.useRef(!1),r=Hr(),s=p.useMemo(()=>c3(r.search,n.current?null:t.current),[r.search]),o=yr(),u=p.useCallback((d,f)=>{const m=Yv(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,o("?"+m,f)},[o,s]);return[s,u]}var O3=0,k3=()=>`__${String(++O3)}__`;function D3(){let{router:e}=Q_("useSubmit"),{basename:t}=p.useContext(Ga),n=Z5();return p.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:m}=h3(r,t);if(s.navigate===!1){let g=s.fetcherKey||k3();await e.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function M3(e,{relative:t}={}){let{basename:n}=p.useContext(Ga),r=p.useContext(Va);gn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ld(e||".",{relative:t})},u=Hr();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:zi([n,o.pathname])),Uu(o)}function P3(e,{relative:t}={}){let n=p.useContext($_);gn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q_("useViewTransitionState"),s=ld(e,{relative:t});if(!n.isTransitioning)return!1;let o=Gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uf(s.pathname,u)!=null||Uf(s.pathname,o)!=null}var Pm=__();const I3=hi(Pm),J_=p.createContext(void 0);function L3({children:e}){const[t,n]=p.useState({user:null,token:null}),[r,s]=p.useState(!0);p.useEffect(()=>{const u=()=>{try{const f=localStorage.getItem("authToken"),m=localStorage.getItem("currentUser"),g=m?JSON.parse(m):null;n({user:g,token:f})}catch{n({user:null,token:null})}finally{s(!1)}};u();const d=f=>{(!f.key||["authToken","currentUser"].includes(f.key))&&u()};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]);const o=p.useMemo(()=>({...t,loading:r,setAuth:n,signOut:()=>n({user:null,token:null})}),[t,r]);return a.jsx(J_.Provider,{value:o,children:e})}function Gs(){const e=p.useContext(J_);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const B3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),BE=e=>{const t=U3(e);return t.charAt(0).toUpperCase()+t.slice(1)},eR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),$3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const H3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...d},f)=>p.createElement("svg",{ref:f,...z3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eR("lucide",s),...!o&&!$3(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>p.createElement(m,g)),...Array.isArray(o)?o:[o]]));const Xe=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(H3,{ref:o,iconNode:t,className:eR(`lucide-${B3(BE(e))}`,`lucide-${e}`,r),...s}));return n.displayName=BE(e),n};const q3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pc=Xe("arrow-left",q3);const F3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],K3=Xe("arrow-up-right",F3);const G3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Oa=Xe("award",G3);const V3=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=Xe("ban",V3);const W3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Y3=Xe("banknote",W3);const X3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UE=Xe("bell",X3);const Q3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Z3=Xe("building-2",Q3);const J3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Il=Xe("calendar",J3);const eL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],tR=Xe("chart-column",eL);const tL=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],nL=Xe("check-check",tL);const rL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nR=Xe("check",rL);const aL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Im=Xe("chevron-down",aL);const iL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sL=Xe("chevron-left",iL);const lL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oL=Xe("chevron-right",lL);const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uL=Xe("circle-alert",cL);const dL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rR=Xe("circle-check-big",dL);const hL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_a=Xe("circle-check",hL);const fL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Ll=Xe("circle-pause",fL);const mL=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bl=Xe("circle-play",mL);const gL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],li=Xe("circle-x",gL);const pL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$u=Xe("clock",pL);const xL=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],aR=Xe("dollar-sign",xL);const vL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yL=Xe("eye-off",vL);const bL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cr=Xe("eye",bL);const wL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qi=Xe("file-text",wL);const jL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iR=Xe("file-warning",jL);const NL=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],SL=Xe("flame",NL);const EL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],od=Xe("funnel",EL);const CL=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],cb=Xe("gavel",CL);const AL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Rf=Xe("image",AL);const TL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_L=Xe("info",TL);const RL=[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]],sR=Xe("land-plot",RL);const OL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kL=Xe("layout-dashboard",OL);const DL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qn=Xe("loader-circle",DL);const ML=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PL=Xe("log-out",ML);const IL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ub=Xe("mail",IL);const LL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mu=Xe("map-pin",LL);const BL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],UL=Xe("menu",BL);const $L=[["path",{d:"M5 12h14",key:"1ays0h"}]],zL=Xe("minus",$L);const HL=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],qL=Xe("package-2",HL);const FL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Of=Xe("package",FL);const KL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lR=Xe("phone",KL);const GL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],VL=Xe("play",GL);const WL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$E=Xe("plus",WL);const YL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ka=Xe("refresh-cw",YL);const XL=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],oR=Xe("scissors",XL);const QL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ka=Xe("search",QL);const ZL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Xv=Xe("shield-alert",ZL);const JL=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],zu=Xe("sprout",JL);const eB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hu=Xe("square-pen",eB);const tB=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],cR=Xe("tags",tB);const nB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qv=Xe("trash-2",nB);const rB=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],aB=Xe("tree-pine",rB);const iB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],sB=Xe("trending-down",iB);const lB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$s=Xe("trending-up",lB);const oB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lm=Xe("triangle-alert",oB);const cB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zE=Xe("trophy",cB);const uB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],dB=Xe("truck",uB);const hB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xc=Xe("user",hB);const fB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qu=Xe("users",fB);const mB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],$f=Xe("wallet",mB);const gB=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],pB=Xe("wheat",gB);const xB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=Xe("x",xB);const vB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yB=Xe("zap",vB),bB="modulepreload",wB=function(e){return"/"+e},HE={},jB=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=m(n.map(g=>{if(g=wB(g),g in HE)return;HE[g]=!0;const x=g.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=x?"stylesheet":bB,x||(w.as="script"),w.crossOrigin="",w.href=g,f&&w.setAttribute("nonce",f),document.head.appendChild(w),x)return new Promise((S,j)=>{w.addEventListener("load",S),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return s.then(d=>{for(const f of d||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})},db={LOGIN_SUCCESS:"ng nhp thnh cng",REGISTER_SUCCESS:"ng k thnh cng",LOGOUT_SUCCESS:"ng xut thnh cng",UPDATE_SUCCESS:"Cp nht thnh cng",DELETE_SUCCESS:"Xa thnh cng",CREATE_SUCCESS:"To mi thnh cng",WELCOME_PREFIX:"Cho mng"},NB=e=>`${db.WELCOME_PREFIX} ${e}!`,St={LOGIN_FAILED:"Email hoc mt khu khng ng",LOGIN_FAILED_TITLE:"ng nhp tht bi",REGISTER_FAILED:"ng k tht bi",NETWORK_ERROR:"Li kt ni mng",UNAUTHORIZED:"Bn khng c quyn truy cp",VALIDATION_ERROR:"D liu khng hp l",VALIDATION_ERROR_TITLE:"Li xc thc",VALIDATION_ERROR_DESCRIPTION:"Vui lng kim tra li thng tin ng nhp",SERVER_ERROR:"Li my ch",NOT_ADMIN:"Bn khng c quyn truy cp qun tr!",NOT_ADMIN_DETAIL:"Bn khng c quyn truy cp trang qun tr  ch dnh cho Qun tr vin!",NOT_ADMIN_TITLE:"Khng c quyn truy cp",CANNOT_VALIDATE_ADMIN:"Khng th xc thc quyn truy cp ti khon Qun tr vin!",CANNOT_VALIDATE_ADMIN_TITLE:"Li xc thc",AUTH_FAILED:"Email hoc mt khu khng ng",AUTH_FAILED_TITLE:"Xc thc tht bi",CONNECTION_ERROR_TITLE:"Li kt ni",LOGOUT_FAILED:"ng xut khng thnh cng, vui lng th li.",LOGOUT_FAILED_TITLE:"ng xut tht bi",EMAIL_REQUIRED:"Email khng c  trng",EMAIL_MUST_CONTAIN_AT:"Email phi cha k t @",EMAIL_INVALID_FORMAT:"Email khng ng nh dng (v d: example@domain.com)",PASSWORD_REQUIRED:"Mt khu khng c  trng",PASSWORD_MIN_LENGTH:"Mt khu phi c t nht 6 k t",PASSWORD_SPECIAL_CHAR:"Mt khu phi cha t nht 1 k t c bit",PASSWORD_INCORRECT:"Mt khu khng ng",USER_NOT_EXIST:"Ngi dng khng tn ti",EMAIL_NOT_EXIST:"Email khng tn ti"},SB=e=>{if(!e)return St.LOGIN_FAILED;const t=e.toLowerCase().trim();if(t.includes("password")&&(t.includes("incorrect")||t.includes("not correct")||t.includes("wrong")||t.includes("invalid")||t.includes("is not correct")))return St.PASSWORD_INCORRECT;if(t.includes("not exist")||t.includes("does not exist")||t.includes("not found")||t.includes("doesn't exist")){if(t.includes("email")||t.includes("user with"))return St.EMAIL_NOT_EXIST;if(t.includes("user"))return St.USER_NOT_EXIST}return t.includes("user with")&&t.includes("is not exist")?St.EMAIL_NOT_EXIST:t.includes("user")&&(t.includes("not exist")||t.includes("not found"))||t.startsWith("user")&&t.includes("not")?St.USER_NOT_EXIST:t.includes("email")&&(t.includes("not exist")||t.includes("not found"))?St.EMAIL_NOT_EXIST:e},Ho={EMAIL_LABEL:"Email qun tr",EMAIL_PLACEHOLDER:"example@domain.com",EMAIL_DESCRIPTION:"Email phi cha @",PASSWORD_LABEL:"Mt khu",PASSWORD_PLACEHOLDER:"Ti thiu 6 k t v 1 k t c bit",PASSWORD_DESCRIPTION:"Mt khu phi c t nht 6 k t v cha t nht 1 k t c bit"},se={SUCCESS:"Thnh cng",ERROR:"C li xy ra",INFO:"Thng bo"},ta={FETCH_SUCCESS:"Ti danh sch bo co thnh cng.",FETCH_ERROR:"Khng th ti danh sch bo co. Vui lng th li.",UPDATE_SUCCESS:"Cp nht trng thi bo co thnh cng.",UPDATE_ERROR:"Khng th cp nht trng thi bo co. Vui lng th li.",STATUS_PENDING:"ang ch duyt",STATUS_IN_REVIEW:"ang xem phin",STATUS_RESOLVED:" x l",STATUS_ACTION_TAKEN:" thc thi",STATUS_REJECTED:"T chi"},Ca={Pending:ta.STATUS_PENDING,InReview:ta.STATUS_IN_REVIEW,Resolved:ta.STATUS_RESOLVED,ActionTaken:ta.STATUS_ACTION_TAKEN,Rejected:ta.STATUS_REJECTED},Kx={FETCH_SUCCESS:"Ti danh sch ngi dng thnh cng.",FETCH_ERROR:"Khng th ti danh sch ngi dng. Vui lng th li.",BLOCK_PLACEHOLDER:"Tm thi ch i trng thi hin th, chc nng kha ti khon s sm hon tt."},ki={FETCH_SUCCESS:"Ti danh sch ti khon thnh cng.",FETCH_ERROR:"Khng th ti danh sch ti khon. Vui lng th li.",APPROVE_SUCCESS:"Duyt ti khon thnh cng.",APPROVE_ERROR:"Khng th duyt ti khon. Vui lng th li.",REJECT_SUCCESS:"T chi ti khon thnh cng.",REJECT_ERROR:"Khng th t chi ti khon. Vui lng th li.",STATUS_UPDATE_SUCCESS:"Cp nht trng thi ti khon thnh cng.",STATUS_UPDATE_ERROR:"Khng th cp nht trng thi ti khon. Vui lng th li."},Di={FETCH_SUCCESS:"Ti danh sch chng ch thnh cng.",FETCH_ERROR:"Khng th ti danh sch chng ch. Vui lng th li.",APPROVE_SUCCESS:"Duyt chng ch thnh cng.",APPROVE_ERROR:"Khng th duyt chng ch. Vui lng th li.",REJECT_SUCCESS:"T chi chng ch thnh cng.",REJECT_ERROR:"Khng th t chi chng ch. Vui lng th li."},Cl={FETCH_SUCCESS:"Ti danh sch nng tri thnh cng.",FETCH_ERROR:"Khng th ti danh sch nng tri. Vui lng th li.",CROP_COUNT_ERROR:"Khng th ti s lng l trng cho mt s nng tri."},Zh={FETCH_SUCCESS:"Ti danh sch v trng thnh cng.",FETCH_ERROR:"Khng th ti danh sch v trng. Vui lng th li.",FARM_FETCH_ERROR:"Khng th ti danh sch nng tri  lc.",NO_FARM_SELECTED:"Cha c nng tri  ti d liu v trng.",PARTIAL_ERROR:"Khng th ti d liu v trng cho mt s nng tri."},Gx={FETCH_SUCCESS:"Ti danh sch thu hoch thnh cng.",FETCH_ERROR:"Khng th ti danh sch thu hoch. Vui lng th li."},pt={FETCH_SUCCESS:"Ti danh sch phin u gi thnh cng.",FETCH_ERROR:"Khng th ti danh sch phin u gi. Vui lng th li.",STATUS_UPDATE_SUCCESS:"Cp nht trng thi phin u gi thnh cng.",STATUS_UPDATE_ERROR:"Khng th cp nht trng thi phin u gi.",PAUSE_SUCCESS:"Tm dng phin u gi thnh cng.",PAUSE_ERROR:"Khng th tm dng phin u gi.",RESUME_SUCCESS:"Tip tc phin u gi thnh cng.",RESUME_ERROR:"Khng th tip tc phin u gi."},ba={FETCH_SUCCESS:"Ti danh sch loi mng cu thnh cng.",FETCH_ERROR:"Khng th ti danh sch loi mng cu. Vui lng th li.",CREATE_SUCCESS:"Thm loi mng cu mi thnh cng.",CREATE_ERROR:"Khng th to loi mng cu. Vui lng th li.",UPDATE_SUCCESS:"Cp nht loi mng cu thnh cng.",UPDATE_ERROR:"Khng th cp nht loi mng cu. Vui lng th li.",DELETE_SUCCESS:"Xa loi mng cu thnh cng.",DELETE_ERROR:"Khng th xa loi mng cu. Vui lng th li."},Bm="https://gateway.a-379.store",Ie={auth:{login:"/api/auth/login",register:"/api/auth/register",me:"/api/auth/me",refresh:"/api/auth/refresh"},role:{list:"/api/role",create:"/api/role",update:e=>`/api/role/${e}`,delete:e=>`/api/role/${e}`,detail:e=>`/api/role/${e}`},roleClaim:{list:"/api/roleclaim",create:"/api/roleclaim",update:e=>`/api/roleclaim/${e}`,delete:e=>`/api/roleclaim/${e}`,detail:e=>`/api/roleclaim/${e}`},users:{list:"/api/users",detail:e=>`/api/users/${e}`,updateStatus:e=>`/api/users/${e}/status`},orders:{list:"/orders"},products:{list:"/products"},approval:{pending:"/approval/pending",approved:"/approval/approved",rejected:"/approval/rejected",approve:"/approval/approve",reject:"/approval/reject",detail:e=>`/approval/${e}`},farm:{list:"/api/farm-service/farm",delete:e=>`/api/farm-service/farm/${encodeURIComponent(e)}`,cropByFarm:e=>`/api/farm-service/farm/${encodeURIComponent(e)}/crop`,custardAppleType:{list:"/api/farm-service/custardappletype",create:"/api/farm-service/custardappletype",detail:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`,update:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`,delete:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`},harvest:{list:"/api/farm-service/harvest",detail:e=>`/api/farm-service/harvest/${encodeURIComponent(e)}`,byCrop:e=>`/api/farm-service/crop/${encodeURIComponent(e)}/harvest`,currentByCrop:e=>`/api/farm-service/crop/${encodeURIComponent(e)}/currentharvest`,images:e=>`/api/farm-service/harvestimage/harvest/${encodeURIComponent(e)}/images`,gradeDetail:{list:"/api/farm-service/harvestgradedetail",detail:e=>`/api/farm-service/harvestgradedetail/${encodeURIComponent(e)}`,byHarvest:e=>`/api/farm-service/harvest/${encodeURIComponent(e)}/gradedetail`}}},auction:{englishAuction:{list:"/api/auction-service/englishauction",detail:e=>`/api/auction-service/englishauction/${e}`,harvestsBySession:e=>`/api/auction-service/auctionsession/${e}/harvest`,pause:"/api/auction-service/englishauction/pause",resume:"/api/auction-service/englishauction/resume"},bid:{byAuction:e=>`/api/auction-service/bid/auction/${encodeURIComponent(e)}`},bidLog:{byAuction:e=>`/api/auction-service/bidlog/auction/${encodeURIComponent(e)}`},auctionLog:{byAuction:e=>`/api/auction-service/auctionlog/auction/${e}`,byType:e=>`/api/auction-service/auctionlog/type/${e}`},auctionExtend:{list:"/api/auction-service/auctionextend",byAuction:e=>`/api/auction-service/auctionextend/auction/${encodeURIComponent(e)}`},auctionPause:{byAuction:e=>`/api/auction-service/auctionpause/auction/${encodeURIComponent(e)}`}},report:{list:"/api/auction-service/report",detail:e=>`/api/auction-service/report/${encodeURIComponent(e)}`,byAuction:e=>`/api/auction-service/report/auction/${e}`},post:{list:"/api/post-service/post",detail:e=>`/api/post-service/post/${encodeURIComponent(e)}`,updateStatus:e=>`/api/post-service/post/${encodeURIComponent(e)}/status`},wallet:{list:"/api/payment-service/wallet",system:"/api/payment-service/wallet/system",detail:e=>`/api/payment-service/wallet/${e}`,byUser:e=>`/api/payment-service/wallet/user/${e}`},ledger:{list:"/api/payment-service/ledger",byWallet:e=>`/api/payment-service/ledger/wallet/${e}`,byTransaction:e=>`/api/payment-service/ledger/transaction/${e}`,create:"/api/payment-service/ledger"},transaction:{list:"/api/payment-service/transaction",detail:e=>`/api/payment-service/transaction/${e}`,byWallet:e=>`/api/payment-service/transaction/wallet/${e}`},withdrawRequest:{list:"/api/payment-service/withdrawrequest",detail:e=>`/api/payment-service/withdrawrequest/${e}`,byUser:e=>`/api/payment-service/withdrawrequest/user/${e}`,myRequests:"/api/payment-service/withdrawrequest/my-requests",create:"/api/payment-service/withdrawrequest",approve:e=>`/api/payment-service/withdrawrequest/${e}/approve`,reject:e=>`/api/payment-service/withdrawrequest/${e}/reject`,complete:e=>`/api/payment-service/withdrawrequest/${e}/complete`},userBankAccount:{detail:e=>`/api/payment-service/userbankaccount/${e}`},bank:{list:"/api/payment-service/bank"},certification:{pending:"/api/certification/pending",detail:e=>`/api/certification/${e}`,approve:e=>`/api/certification/${e}/approve`,byUser:e=>`/api/certification/user/${e}`},statistics:{systemProfit:"/api/payment-service/statistics/system-profit",systemProfitCurrentMonth:"/api/payment-service/statistics/system-profit/current-month",systemProfitCurrentYear:"/api/payment-service/statistics/system-profit/current-year"},dispute:{list:"/api/payment-service/dispute",pending:"/api/payment-service/dispute/pending",detail:e=>`/api/payment-service/dispute/${e}`,updateStatus:e=>`/api/payment-service/dispute/${e}/status`,createResolve:"/api/payment-service/dispute/resolve",resolveByDisputeId:e=>`/api/payment-service/dispute/resolve/dispute/${e}`,resolveByEscrowId:e=>`/api/payment-service/dispute/resolve/escrow/${e}`},escrow:{detail:e=>`/api/payment-service/escrow/${e}`,byAuction:e=>`/api/payment-service/escrow/auction/${e}`,byBuyRequest:e=>`/api/payment-service/escrow/buyrequest/${e}`},notification:{byUserId:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}`,unreadCountByUserId:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}/unread-count`,markAsRead:e=>`/api/messaging-service/Notifications/${encodeURIComponent(e)}/read`,markAllAsRead:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}/read-all`},policy:{categories:{list:"/api/policy/categories",detail:e=>`/api/policy/categories/${e}`,create:"/api/policy/categories",update:e=>`/api/policy/categories/${e}`,delete:e=>`/api/policy/categories/${e}`,items:e=>`/api/policy/categories/${e}/items`},items:{list:"/api/policy/items",detail:e=>`/api/policy/items/${e}`,create:"/api/policy/items",update:e=>`/api/policy/items/${e}`,delete:e=>`/api/policy/items/${e}`}}};class EB{cache=new Map;pendingRequests=new Map;defaultTTL=300*1e3;maxCacheSize=100;cleanupInterval=null;CLEANUP_INTERVAL=60*1e3;PENDING_TIMEOUT=30*1e3;constructor(){typeof window<"u"&&this.startCleanup()}startCleanup(){this.cleanupInterval||(this.cleanupInterval=window.setInterval(()=>{this.removeExpired(),this.cleanupPending()},this.CLEANUP_INTERVAL))}removeExpired(){const t=Date.now(),n=[];for(const[r,s]of this.cache.entries())s.expiresAt<t&&n.push(r);n.forEach(r=>this.cache.delete(r))}cleanupPending(){const t=Date.now(),n=[];for(const[r,s]of this.pendingRequests.entries())t-s.timestamp>this.PENDING_TIMEOUT&&n.push(r);n.forEach(r=>this.pendingRequests.delete(r))}evictOldest(){if(this.cache.size<this.maxCacheSize)return;let t=null,n=1/0;for(const[r,s]of this.cache.entries())s.timestamp<n&&(n=s.timestamp,t=r);t&&this.cache.delete(t)}generateKey(t,n,r){const s=r?JSON.stringify(r):"";return`${n}:${t}:${s}`}get(t){const n=this.cache.get(t);if(!n)return null;const r=Date.now();return n.expiresAt<r?(this.cache.delete(t),null):n.data}set(t,n,r=this.defaultTTL){this.evictOldest();const s=Date.now();this.cache.set(t,{data:n,timestamp:s,expiresAt:s+r})}getPending(t){const n=this.pendingRequests.get(t);return n?Date.now()-n.timestamp>this.PENDING_TIMEOUT?(this.pendingRequests.delete(t),null):n.promise:null}setPending(t,n){this.pendingRequests.set(t,{promise:n,timestamp:Date.now()}),n.finally(()=>{this.pendingRequests.delete(t)})}invalidate(t){if(!t){this.cache.clear();return}const n=[];for(const r of this.cache.keys())r.includes(t)&&n.push(r);n.forEach(r=>this.cache.delete(r))}clear(){this.cache.clear(),this.pendingRequests.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null),this.clear()}getStats(){return{cacheSize:this.cache.size,pendingSize:this.pendingRequests.size,maxCacheSize:this.maxCacheSize}}}const ni=new EB;let Um=class{baseURL;defaultTimeout=3e4;defaultRetries=2;defaultRetryDelay=1e3;isRefreshing=!1;refreshPromise=null;constructor(t){this.baseURL=t}async refreshTokenIfNeeded(){if(this.isRefreshing&&this.refreshPromise)return this.refreshPromise;this.isRefreshing=!0,this.refreshPromise=this.performRefresh();try{return await this.refreshPromise}finally{this.isRefreshing=!1,this.refreshPromise=null}}async performRefresh(){try{const{adminAuthService:t}=await jB(async()=>{const{adminAuthService:n}=await Promise.resolve().then(()=>CB);return{adminAuthService:n}},[]);return await t.refreshToken()}catch(t){return console.error("Error in performRefresh:",t),null}}buildUrl(t,n){const r=new URL(`${this.baseURL}${t}`);return n&&Object.entries(n).forEach(([s,o])=>{o!=null&&r.searchParams.append(s,String(o))}),r.toString()}async fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r);try{const u=await fetch(t,{...n,signal:s.signal});return clearTimeout(o),u}catch(u){throw clearTimeout(o),u instanceof Error&&u.name==="AbortError"?{message:"Request timeout",status:408,errors:["The request took too long to complete"]}:u}}async sleep(t){return new Promise(n=>setTimeout(n,t))}isRetryableError(t){return t===0||t===408||t===429||t>=500}parseErrorResponse(t,n){const r=t;if(r.errors&&typeof r.errors=="object"&&!Array.isArray(r.errors)){const s=r,o=[];return s.errors&&Object.entries(s.errors).forEach(([u,d])=>{o.push(...d.map(f=>`${u}: ${f}`))}),{message:s.title||"Validation error",status:n,errors:o}}return{message:r.message||"API request failed",status:n,errors:Array.isArray(r.errors)?r.errors:[]}}async request(t,n={}){const{method:r="GET",headers:s={},body:o,timeout:u=this.defaultTimeout,retries:d=this.defaultRetries,retryDelay:f=this.defaultRetryDelay,params:m}=n,g=this.buildUrl(t,m),x=localStorage.getItem("authToken"),b={"Content-Type":"application/json",...s,...x&&{Authorization:`Bearer ${x}`}},w={method:r,headers:b};o!==void 0&&(o instanceof FormData?(delete w.headers["Content-Type"],w.body=o):w.body=JSON.stringify(o));let S=null,j=!1;for(let N=0;N<=d;N++)try{const E=await this.fetchWithTimeout(g,w,u);let C;const T=E.headers.get("content-type");try{T&&T.includes("application/json")?C=await E.json():C={isSuccess:E.ok,statusCode:E.status,message:E.ok?"Success":"Request failed",data:void 0}}catch{C={isSuccess:E.ok,statusCode:E.status,message:E.ok?"Success":"Request failed",data:void 0}}if(!E.ok){if(E.status===401&&!j){j=!0;const O=await this.refreshTokenIfNeeded();if(O){b.Authorization=`Bearer ${O}`,w.headers=b;continue}try{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),typeof window<"u"&&window.location.replace("/auth/login")}catch{}}const _=this.parseErrorResponse(C,E.status);if(this.isRetryableError(E.status)&&N<d){S=_,await this.sleep(f*Math.pow(2,N));continue}throw _}if(C.isSuccess!==void 0){if(!C.isSuccess)throw this.parseErrorResponse(C,E.status);return C}return{isSuccess:!0,statusCode:E.status,message:"Success",data:C}}catch(E){if(E&&typeof E=="object"&&"status"in E){const T=E;if(T.status===401&&!j){j=!0;const _=await this.refreshTokenIfNeeded();if(_){b.Authorization=`Bearer ${_}`,w.headers=b;continue}try{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),typeof window<"u"&&window.location.replace("/auth/login")}catch{}}if(this.isRetryableError(T.status)&&N<d){S=T,await this.sleep(f*Math.pow(2,N));continue}throw T}const C={message:E instanceof Error?E.message:"Network error occurred",status:0,errors:["Unable to connect to server"]};if(N<d){S=C,await this.sleep(f*Math.pow(2,N));continue}throw C}throw S||{message:"Request failed after multiple attempts",status:0,errors:["Maximum retry attempts exceeded"]}}async get(t,n={}){const{cache:r=!0,cacheTTL:s,params:o}=n;if(r){const u=o?JSON.stringify(o,Object.keys(o).sort()):"",d=ni.generateKey(`${t}${u}`,"GET"),f=ni.get(d);if(f)return f;const m=ni.getPending(d);if(m)return m;const g=this.request(t,{method:"GET",params:o});ni.setPending(d,g);try{const x=await g;return ni.set(d,x,s),x}catch(x){throw x}}return this.request(t,{method:"GET",params:o})}async post(t,n,r={}){const s=await this.request(t,{method:"POST",body:n});return r.invalidateCache&&ni.invalidate(r.invalidateCache),s}async put(t,n,r={}){const{invalidateCache:s,params:o}=r,u=await this.request(t,{method:"PUT",body:n,params:o});return s&&ni.invalidate(s),u}async patch(t,n,r={}){const s=await this.request(t,{method:"PATCH",body:n});return r.invalidateCache&&ni.invalidate(r.invalidateCache),s}async delete(t,n={}){const r=await this.request(t,{method:"DELETE"});return n.invalidateCache&&ni.invalidate(n.invalidateCache),r}clearCache(t){ni.invalidate(t)}};const it=new Um(Bm);class uR{async login(t){try{const n=await it.post(Ie.auth.login,{email:t.email,password:t.password});if(n.isSuccess&&n.data){localStorage.setItem("authToken",n.data.token.accessToken),localStorage.setItem("refreshToken",n.data.token.refreshToken),localStorage.setItem("currentUser",JSON.stringify(n.data.user));const s=this.transformApiUserToAppUser(n.data.user);try{const o=n.data.token.accessToken.split(".")[1];if(JSON.parse(atob(o)).role!=="admin")throw this.clearLocalStorage(),new Error(St.NOT_ADMIN_DETAIL)}catch{throw this.clearLocalStorage(),new Error(St.CANNOT_VALIDATE_ADMIN)}return{user:s,token:n.data.token.accessToken}}let r=St.LOGIN_FAILED;throw n.errors&&n.errors.length>0?r=n.errors.map(o=>this.translateError(o)).join(". "):n.message&&(r=this.translateError(n.message)),new Error(r)}catch(n){if(n&&typeof n=="object"&&"status"in n){const r=n;let s=St.LOGIN_FAILED;throw r.errors&&r.errors.length>0?s=r.errors.map(u=>this.translateError(u)).join(". "):r.message&&(s=this.translateError(r.message)),new Error(s)}if(n instanceof Error){const r=this.translateError(n.message);throw new Error(r)}throw new Error(St.LOGIN_FAILED)}}async refreshToken(){try{const t=localStorage.getItem("refreshToken");if(!t)return this.clearLocalStorage(),null;const n=await it.post(Ie.auth.refresh,{refreshToken:t});return n.isSuccess&&n.data?(localStorage.setItem("authToken",n.data.accessToken),localStorage.setItem("refreshToken",n.data.refreshToken),n.data.accessToken):(this.clearLocalStorage(),null)}catch(t){return console.error("Error refreshing token:",t),this.clearLocalStorage(),null}}isAdmin(t){return t?.role==="admin"}isCurrentUserAdmin(){return this.isAdmin(this.getStoredUser())}async logout(){this.clearLocalStorage()}getCurrentAdmin(){const t=this.getStoredUser();return this.isAdmin(t)?t:null}getStoredUser(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);return this.transformApiUserToAppUser(n)}catch{this.clearLocalStorage()}return null}transformApiUserToAppUser(t){return{id:t.id,name:`${t.firstName} ${t.lastName}`.trim(),email:t.email,phone:t.phoneNumber??void 0,role:"admin",address:{provinceId:"",provinceName:t.province,districtId:"",districtName:t.communes,detailAddress:t.address},createdAt:new Date(t.createdAt)}}clearLocalStorage(){localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser")}translateError(t){return SB(t)}}const Fu=new uR,CB=Object.freeze(Object.defineProperty({__proto__:null,AdminAuthService:uR,adminAuthService:Fu},Symbol.toStringTag,{value:"Module"})),et={HOME:"/",ADMIN_LOGIN:"/auth/login",ADMIN_DASHBOARD:"/admin",ADMIN_USERS:"/admin/users",ADMIN_APPROVAL:"/admin/approval",ADMIN_FARMS:"/admin/farms",ADMIN_FARM_PROFILE:"/admin/farms/:farmId/profile",ADMIN_CROPS:"/admin/crops",ADMIN_CATEGORIES:"/admin/categories",ADMIN_HARVESTS:"/admin/harvests",ADMIN_AUCTIONS:"/admin/auctions",ADMIN_AUCTIONS_BY_ID:"/admin/auctions/:id",ADMIN_AUCTIONS_BY_ID_ACTIVITY_HISTORY:"/admin/auctions/:id/activity-history",ADMIN_AUCTIONS_BY_ID_BID_HISTORY:"/admin/auctions/:id/bid-history",ADMIN_AUCTIONS_BY_ID_WINNER:"/admin/auctions/:id/winner",ADMIN_AUCTIONS_BY_ID_REPORTS:"/admin/auctions/:id/reports",ADMIN_ORDERS:"/admin/orders",ADMIN_REPORTS:"/admin/reports",ADMIN_PRODUCTS:"/admin/products",ADMIN_SHIPPERS:"/admin/shippers",ADMIN_WALLET:"/admin/wallet",ADMIN_DISPUTES:"/admin/disputes",ADMIN_POLICY:"/admin/policy",FARMER_DASHBOARD:"/farmer/dashboard",FARMER_FARMS:"/farmer/farms",FARMER_CROPS:"/farmer/crops",FARMER_AUCTIONS:"/farmer/auctions",FARMER_AUCTIONS_CREATE:"/farmer/auctions/create",FARMER_INCOME:"/farmer/income",FARMER_CONTRACTS:"/farmer/contracts",WHOLESALER_DASHBOARD:"/wholesaler/dashboard"};function AB(){const[e,t]=p.useState([]),n=p.useCallback(({title:s,description:o,variant:u="default"})=>{const d=Math.random().toString(36).substr(2,9),f={id:d,title:s,description:o,variant:u};t(m=>[...m,f]),setTimeout(()=>{t(m=>m.filter(g=>g.id!==d))},5e3),u==="destructive"?console.error(`${s}: ${o}`):console.log(`${s}: ${o}`)},[]),r=p.useCallback(s=>{t(o=>o.filter(u=>u.id!==s))},[]);return{toast:n,dismiss:r,toasts:e}}function dR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=dR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=dR(e))&&(r&&(r+=" "),r+=t);return r}const hb="-",TB=e=>{const t=RB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const d=u.split(hb);return d[0]===""&&d.length!==1&&d.shift(),hR(d,t)||_B(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},hR=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?hR(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(hb);return t.validators.find(({validator:u})=>u(o))?.classGroupId},qE=/^\[(.+)\]$/,_B=e=>{if(qE.test(e)){const t=qE.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},RB=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Zv(n[s],r,s,t);return r},Zv=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:FE(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(OB(s)){Zv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,u])=>{Zv(u,FE(t,o),n,r)})})},FE=(e,t)=>{let n=e;return t.split(hb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OB=e=>e.isThemeGetter,kB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,u)=>{n.set(o,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let u=n.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return s(o,u),u},set(o,u){n.has(o)?n.set(o,u):s(o,u)}}},Jv="!",ey=":",DB=ey.length,MB=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let u=0,d=0,f=0,m;for(let S=0;S<s.length;S++){let j=s[S];if(u===0&&d===0){if(j===ey){o.push(s.slice(f,S)),f=S+DB;continue}if(j==="/"){m=S;continue}}j==="["?u++:j==="]"?u--:j==="("?d++:j===")"&&d--}const g=o.length===0?s:s.substring(f),x=PB(g),b=x!==g,w=m&&m>f?m-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:w}};if(t){const s=t+ey,o=r;r=u=>u.startsWith(s)?o(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},PB=e=>e.endsWith(Jv)?e.substring(0,e.length-1):e.startsWith(Jv)?e.substring(1):e,IB=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(u=>{u[0]==="["||t[u]?(s.push(...o.sort(),u),o=[]):o.push(u)}),s.push(...o.sort()),s}},LB=e=>({cache:kB(e.cacheSize),parseClassName:MB(e),sortModifiers:IB(e),...TB(e)}),BB=/\s+/,UB=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,u=[],d=e.trim().split(BB);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:x,modifiers:b,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:j}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let N=!!j,E=r(N?S.substring(0,j):S);if(!E){if(!N){f=g+(f.length>0?" "+f:f);continue}if(E=r(S),!E){f=g+(f.length>0?" "+f:f);continue}N=!1}const C=o(b).join(":"),T=w?C+Jv:C,_=T+E;if(u.includes(_))continue;u.push(_);const O=s(E,N);for(let R=0;R<O.length;++R){const D=O[R];u.push(T+D)}f=g+(f.length>0?" "+f:f)}return f};function $B(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fR(t))&&(r&&(r+=" "),r+=n);return r}const fR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fR(e[r]))&&(n&&(n+=" "),n+=t);return n};function zB(e,...t){let n,r,s,o=u;function u(f){const m=t.reduce((g,x)=>x(g),e());return n=LB(m),r=n.cache.get,s=n.cache.set,o=d,d(f)}function d(f){const m=r(f);if(m)return m;const g=UB(f,n);return s(f,g),g}return function(){return o($B.apply(null,arguments))}}const Hn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,HB=/^\d+\/\d+$/,qB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qo=e=>HB.test(e),gt=e=>!!e&&!Number.isNaN(Number(e)),Os=e=>!!e&&Number.isInteger(Number(e)),Vx=e=>e.endsWith("%")&&gt(e.slice(0,-1)),Mi=e=>qB.test(e),WB=()=>!0,YB=e=>FB.test(e)&&!KB.test(e),pR=()=>!1,XB=e=>GB.test(e),QB=e=>VB.test(e),ZB=e=>!We(e)&&!Ye(e),JB=e=>vc(e,yR,pR),We=e=>mR.test(e),bl=e=>vc(e,bR,YB),Wx=e=>vc(e,aU,gt),KE=e=>vc(e,xR,pR),eU=e=>vc(e,vR,QB),Jh=e=>vc(e,wR,XB),Ye=e=>gR.test(e),ju=e=>yc(e,bR),tU=e=>yc(e,iU),GE=e=>yc(e,xR),nU=e=>yc(e,yR),rU=e=>yc(e,vR),ef=e=>yc(e,wR,!0),vc=(e,t,n)=>{const r=mR.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},yc=(e,t,n=!1)=>{const r=gR.exec(e);return r?r[1]?t(r[1]):n:!1},xR=e=>e==="position"||e==="percentage",vR=e=>e==="image"||e==="url",yR=e=>e==="length"||e==="size"||e==="bg-size",bR=e=>e==="length",aU=e=>e==="number",iU=e=>e==="family-name",wR=e=>e==="shadow",sU=()=>{const e=Hn("color"),t=Hn("font"),n=Hn("text"),r=Hn("font-weight"),s=Hn("tracking"),o=Hn("leading"),u=Hn("breakpoint"),d=Hn("container"),f=Hn("spacing"),m=Hn("radius"),g=Hn("shadow"),x=Hn("inset-shadow"),b=Hn("text-shadow"),w=Hn("drop-shadow"),S=Hn("blur"),j=Hn("perspective"),N=Hn("aspect"),E=Hn("ease"),C=Hn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[..._(),Ye,We],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],L=()=>[Ye,We,f],V=()=>[qo,"full","auto",...L()],J=()=>[Os,"none","subgrid",Ye,We],B=()=>["auto",{span:["full",Os,Ye,We]},Os,Ye,We],F=()=>[Os,"auto",Ye,We],re=()=>["auto","min","max","fr",Ye,We],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...L()],H=()=>[qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],K=()=>[e,Ye,We],ve=()=>[..._(),GE,KE,{position:[Ye,We]}],Pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",nU,JB,{size:[Ye,We]}],z=()=>[Vx,ju,bl],ee=()=>["","none","full",m,Ye,We],Y=()=>["",gt,ju,bl],Z=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[gt,Vx,GE,KE],G=()=>["","none",S,Ye,We],$=()=>["none",gt,Ye,We],M=()=>["none",gt,Ye,We],U=()=>[gt,Ye,We],I=()=>[qo,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mi],breakpoint:[Mi],color:[WB],container:[Mi],"drop-shadow":[Mi],ease:["in","out","in-out"],font:[ZB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mi],shadow:[Mi],spacing:["px",gt],text:[Mi],"text-shadow":[Mi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qo,We,Ye,N]}],container:["container"],columns:[{columns:[gt,We,Ye,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Os,"auto",Ye,We]}],basis:[{basis:[qo,"full","auto",d,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,qo,"auto","initial","none",We]}],grow:[{grow:["",gt,Ye,We]}],shrink:[{shrink:["",gt,Ye,We]}],order:[{order:[Os,"first","last","none",Ye,We]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[d,"screen",...H()]}],"min-w":[{"min-w":[d,"screen","none",...H()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,ju,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ye,Wx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vx,We]}],"font-family":[{font:[tU,We,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ye,We]}],"line-clamp":[{"line-clamp":[gt,"none",Ye,Wx]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",Ye,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",Ye,bl]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[gt,"auto",Ye,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:Pe()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Os,Ye,We],radial:["",Ye,We],conic:[Os,Ye,We]},rU,eU]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,Ye,We]}],"outline-w":[{outline:["",gt,ju,bl]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",g,ef,Jh]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",x,ef,Jh]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[gt,bl]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",b,ef,Jh]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[gt,Ye,We]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ye,We]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:Pe()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,We]}],filter:[{filter:["","none",Ye,We]}],blur:[{blur:G()}],brightness:[{brightness:[gt,Ye,We]}],contrast:[{contrast:[gt,Ye,We]}],"drop-shadow":[{"drop-shadow":["","none",w,ef,Jh]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",gt,Ye,We]}],"hue-rotate":[{"hue-rotate":[gt,Ye,We]}],invert:[{invert:["",gt,Ye,We]}],saturate:[{saturate:[gt,Ye,We]}],sepia:[{sepia:["",gt,Ye,We]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,We]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[gt,Ye,We]}],"backdrop-contrast":[{"backdrop-contrast":[gt,Ye,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,Ye,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,Ye,We]}],"backdrop-invert":[{"backdrop-invert":["",gt,Ye,We]}],"backdrop-opacity":[{"backdrop-opacity":[gt,Ye,We]}],"backdrop-saturate":[{"backdrop-saturate":[gt,Ye,We]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,Ye,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",Ye,We]}],ease:[{ease:["linear","initial",E,Ye,We]}],delay:[{delay:[gt,Ye,We]}],animate:[{animate:["none",C,Ye,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ye,We]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:$()}],"rotate-x":[{"rotate-x":$()}],"rotate-y":[{"rotate-y":$()}],"rotate-z":[{"rotate-z":$()}],scale:[{scale:M()}],"scale-x":[{"scale-x":M()}],"scale-y":[{"scale-y":M()}],"scale-z":[{"scale-z":M()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[Ye,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:I()}],"translate-x":[{"translate-x":I()}],"translate-y":[{"translate-y":I()}],"translate-z":[{"translate-z":I()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,We]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[gt,ju,bl,Wx]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lU=zB(sU);function Dt(...e){return lU(At(e))}const oU=({toasts:e,dismiss:t})=>{const n={default:"border-emerald-200 bg-emerald-50/90 text-emerald-800 shadow-[0_15px_35px_rgba(16,185,129,0.2)]",success:"border-emerald-200 bg-emerald-50/90 text-emerald-800 shadow-[0_15px_35px_rgba(16,185,129,0.2)]",destructive:"border-rose-200 bg-rose-50/90 text-rose-700 shadow-[0_15px_35px_rgba(244,63,94,0.2)]",info:"border-sky-200 bg-sky-50/90 text-sky-800 shadow-[0_15px_35px_rgba(14,165,233,0.18)]"};return a.jsx("div",{className:"pointer-events-none fixed right-6 top-6 z-[60] flex flex-col gap-4",children:e.map(r=>a.jsxs("button",{type:"button",onClick:()=>t(r.id),className:Dt("pointer-events-auto w-full min-w-[280px] max-w-sm rounded-2xl border px-5 py-4 text-left","text-sm font-medium transition-all duration-300","shadow-[0_12px_30px_rgba(15,23,42,0.12)] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/40",n[r.variant??"default"]),"aria-live":"assertive",children:[a.jsx("div",{className:"text-base font-semibold",children:r.title}),r.description&&a.jsx("div",{className:"mt-1 text-sm opacity-80",children:r.description})]},r.id))})},cU={toast:({title:e,description:t})=>{console.warn("[ToastProvider] Provider cha c khi to. Message:",e,t)},dismiss:()=>{},toasts:[]},jR=p.createContext(void 0);function uU({children:e}){const t=AB();return a.jsxs(jR.Provider,{value:t,children:[e,a.jsx(oU,{toasts:t.toasts,dismiss:t.dismiss})]})}function $n(){return p.useContext(jR)??cU}function Yx(...e){return e.filter(Boolean).join(" ")}const dU=[{icon:kL,label:"Bng iu khin",path:"/admin"},{icon:qu,label:"Ngi dng",path:"/admin/users"},{icon:rR,label:"Xt duyt",path:"/admin/approval"},{icon:cR,label:"Phn loi",path:"/admin/categories"},{icon:pB,label:"Nng tri",path:"/admin/farms"},{icon:zu,label:"L trng",path:"/admin/crops"},{icon:oR,label:"V trng",path:"/admin/harvests"},{icon:dB,label:"Phin u gi",path:"/admin/auctions"},{icon:iR,label:"Bo co",path:"/admin/reports"},{icon:Xv,label:"Tranh chp",path:"/admin/disputes"},{icon:$f,label:"V ca ti",path:"/admin/wallet"},{icon:qi,label:"Chnh sch",path:"/admin/policy"}];function hU({isOpen:e=!1,onClose:t}){const n=yr(),{signOut:r}=Gs(),{toast:s}=$n(),o=async()=>{try{await Fu.logout(),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),s({title:se.SUCCESS,description:db.LOGOUT_SUCCESS})}catch{s({title:St.LOGOUT_FAILED_TITLE,description:St.LOGOUT_FAILED,variant:"destructive"})}finally{r(),n(et.ADMIN_LOGIN)}},u=()=>{window.innerWidth<1024&&t&&t()};return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),a.jsxs("div",{className:Yx("fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 h-screen flex flex-col transform transition-transform duration-300 ease-in-out",e?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/assets/logo.png",alt:"AgriMart Logo",className:"w-6 h-6 sm:w-8 sm:h-8 object-contain"}),a.jsx("span",{className:"font-semibold text-base sm:text-lg",children:"AgriMart Admin"})]})}),a.jsxs("div",{className:"flex-1 p-3 sm:p-4 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 px-2",children:"Bng iu khin"}),a.jsx("nav",{className:"space-y-1",children:dU.map(d=>a.jsxs(X_,{to:d.path,onClick:u,className:({isActive:f})=>Yx("flex w-full items-center gap-2 sm:gap-3 h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm",f?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[a.jsx(d.icon,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:d.label}),d.badge&&a.jsx("span",{className:"ml-auto bg-emerald-100 text-emerald-800 text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full flex-shrink-0",children:d.badge})]},d.label))})]}),a.jsx("div",{children:a.jsx("nav",{className:"space-y-1",children:a.jsxs("button",{type:"button",onClick:o,className:Yx("flex w-full items-center gap-2 sm:gap-3 h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm text-left","text-gray-700 hover:bg-gray-100"),children:[a.jsx(PL,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"ng xut"})]})})})]})]})]})}function fb(...e){return e.filter(Boolean).join(" ")}function fU({className:e,children:t,...n}){return a.jsx("div",{className:fb("relative inline-flex h-10 w-10 overflow-hidden rounded-full bg-gray-100",e),...n,children:t})}function mU({className:e,...t}){return a.jsx("img",{className:fb("h-full w-full object-cover",e),...t})}function gU({className:e,children:t,...n}){return a.jsx("span",{className:fb("flex h-full w-full items-center justify-center bg-gray-200 text-xs font-medium text-gray-600",e),...n,children:t})}const pU="/assets/admin-86irejDo-86irejDo.jpg",VE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,WE=At,xU=(e,t)=>n=>{var r;if(t?.variants==null)return WE(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,u=Object.keys(s).map(m=>{const g=n?.[m],x=o?.[m];if(g===null)return null;const b=VE(g)||VE(x);return s[m][b]}),d=n&&Object.entries(n).reduce((m,g)=>{let[x,b]=g;return b===void 0||(m[x]=b),m},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:x,className:b,...w}=g;return Object.entries(w).every(S=>{let[j,N]=S;return Array.isArray(N)?N.includes({...o,...d}[j]):{...o,...d}[j]===N})?[...m,x,b]:m},[]);return WE(e,u,f,n?.class,n?.className)},vU=xU("group relative inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-semibold tracking-tight ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 motion-safe:active:scale-[0.99]",{variants:{variant:{default:"border border-transparent bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_12px_24px_rgba(15,23,42,0.18)] hover:shadow-[0_16px_32px_rgba(15,23,42,0.22)] hover:-translate-y-0.5",destructive:"border border-transparent bg-gradient-to-r from-rose-500 to-rose-600 text-white shadow-[0_12px_24px_rgba(15,23,42,0.18)] hover:shadow-[0_16px_32px_rgba(15,23,42,0.22)] hover:-translate-y-0.5",outline:"border border-emerald-100 bg-white text-emerald-700 shadow-[0_8px_20px_rgba(15,23,42,0.08)] hover:bg-emerald-50/60 hover:text-emerald-800",secondary:"border border-transparent bg-emerald-50/80 text-emerald-700 shadow-inner shadow-white/60 hover:bg-emerald-100/90",ghost:"text-emerald-700 hover:bg-emerald-50/70 hover:text-emerald-800",link:"text-emerald-600 underline-offset-4 hover:text-emerald-700 hover:underline",soft:"border border-emerald-100/60 bg-white/70 text-emerald-700 shadow-[inset_0_1px_0_rgba(255,255,255,0.6)] backdrop-blur-md hover:border-emerald-200 hover:bg-white"},size:{default:"h-11 px-5",sm:"h-9 rounded-xl px-4 text-xs",lg:"h-12 rounded-2xl px-8 text-base",icon:"h-11 w-11 rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}}),ce=p.forwardRef(({className:e,variant:t,size:n,isLoading:r=!1,leftIcon:s,rightIcon:o,children:u,disabled:d,...f},m)=>a.jsxs("button",{ref:m,className:Dt(vU({variant:t,size:n,className:e})),disabled:d||r,"aria-busy":r,...f,children:[a.jsxs("span",{className:Dt("flex items-center gap-2 transition-opacity",r&&"opacity-0"),children:[s&&a.jsx("span",{className:"text-base",children:s}),u,o&&a.jsx("span",{className:"text-base",children:o})]}),r&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-b-transparent"})})]}));ce.displayName="Button";class Rl extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class mb extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Fa extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class yU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class bU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class wU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class YE extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class jU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class NR{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class $m{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var Ae;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(Ae||(Ae={}));class Ku{constructor(){}log(t,n){}}Ku.instance=new Ku;const NU="10.0.0";class Ln{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class wn{static get isBrowser(){return!wn.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!wn.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!wn.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Gu(e,t){let n="";return Ul(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${SU(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function SU(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const s=r<16?"0":"";n+=`0x${s}${r.toString(16)} `}),n.substring(0,n.length-1)}function Ul(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function SR(e,t,n,r,s,o){const u={},[d,f]=tc();u[d]=f,e.log(Ae.Trace,`(${t} transport) sending data. ${Gu(s,o.logMessageContent)}.`);const m=Ul(s)?"arraybuffer":"text",g=await n.post(r,{content:s,headers:{...u,...o.headers},responseType:m,timeout:o.timeout,withCredentials:o.withCredentials});e.log(Ae.Trace,`(${t} transport) request complete. Response status: ${g.statusCode}.`)}function EU(e){return e===void 0?new zf(Ae.Information):e===null?Ku.instance:e.log!==void 0?e:new zf(e)}class CU{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class zf{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${Ae[t]}: ${n}`;switch(t){case Ae.Critical:case Ae.Error:this.out.error(r);break;case Ae.Warning:this.out.warn(r);break;case Ae.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function tc(){let e="X-SignalR-User-Agent";return wn.isNode&&(e="User-Agent"),[e,AU(NU,TU(),RU(),_U())]}function AU(e,t,n,r){let s="Microsoft SignalR/";const o=e.split(".");return s+=`${o[0]}.${o[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${n}`,r?s+=`; ${r}`:s+="; Unknown Runtime Version",s+=")",s}function TU(){if(wn.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function _U(){if(wn.isNode)return process.versions.node}function RU(){return wn.isNode?"NodeJS":"Browser"}function Xx(e){return e.stack?e.stack:e.message?e.message:`${e}`}function OU(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class kU extends $m{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||wn.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(OU());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Fa;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new Fa});let s=null;if(t.timeout){const f=t.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(Ae.Warning,"Timeout from HTTP request."),r=new mb},f)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Ul(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(f){throw r||(this._logger.log(Ae.Warning,`Error from HTTP request. ${f}.`),f)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){const f=await XE(o,"text");throw new Rl(f||o.statusText,o.status)}const d=await XE(o,t.responseType);return new NR(o.status,o.statusText,d)}getCookieString(t){let n="";return wn.isNode&&this._jar&&this._jar.getCookies(t,(r,s)=>n=s.join("; ")),n}}function XE(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class DU extends $m{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Fa):t.method?t.url?new Promise((n,r)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Ul(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(u=>{s.setRequestHeader(u,o[u])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),r(new Fa)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new NR(s.status,s.statusText,s.response||s.responseText)):r(new Rl(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(Ae.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),r(new Rl(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(Ae.Warning,"Timeout from HTTP request."),r(new mb)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class MU extends $m{constructor(t){if(super(),typeof fetch<"u"||wn.isNode)this._httpClient=new kU(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new DU(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Fa):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class ra{static write(t){return`${t}${ra.RecordSeparator}`}static parse(t){if(t[t.length-1]!==ra.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(ra.RecordSeparator);return n.pop(),n}}ra.RecordSeparatorCode=30;ra.RecordSeparator=String.fromCharCode(ra.RecordSeparatorCode);class PU{writeHandshakeRequest(t){return ra.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(Ul(t)){const d=new Uint8Array(t),f=d.indexOf(ra.RecordSeparatorCode);if(f===-1)throw new Error("Message is incomplete.");const m=f+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(d.slice(0,m))),r=d.byteLength>m?d.slice(m).buffer:null}else{const d=t,f=d.indexOf(ra.RecordSeparator);if(f===-1)throw new Error("Message is incomplete.");const m=f+1;n=d.substring(0,m),r=d.length>m?d.substring(m):null}const s=ra.parse(n),o=JSON.parse(s[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var ht;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(ht||(ht={}));class IU{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new CU(this,t)}}class LU{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},o=()=>{};Ul(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((u,d)=>{s=u,o=d})),this._messages.push(new BU(n,this._totalMessageCount,s,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const s=this._messages[r];if(s._id<=t.sequenceId)n=r,Ul(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==ht.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:ht.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case ht.Invocation:case ht.StreamItem:case ht.Completion:case ht.StreamInvocation:case ht.CancelInvocation:return!0;case ht.Close:case ht.Sequence:case ht.Ping:case ht.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:ht.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class BU{constructor(t,n,r,s){this._message=t,this._id=n,this._resolver=r,this._rejector=s}}const UU=30*1e3,$U=15*1e3,zU=1e5;var Bt;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Bt||(Bt={}));class gb{static create(t,n,r,s,o,u,d){return new gb(t,n,r,s,o,u,d)}constructor(t,n,r,s,o,u,d){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Ae.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ln.isRequired(t,"connection"),Ln.isRequired(n,"logger"),Ln.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??UU,this.keepAliveIntervalInMilliseconds=u??$U,this._statefulReconnectBufferSize=d??zU,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new PU,this.connection.onreceive=f=>this._processIncomingData(f),this.connection.onclose=f=>this._connectionClosed(f),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Bt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ht.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Bt.Disconnected&&this._connectionState!==Bt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Bt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Bt.Connecting,this._logger.log(Ae.Debug,"Starting HubConnection.");try{await this._startInternal(),wn.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Bt.Connected,this._connectionStarted=!0,this._logger.log(Ae.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=Bt.Disconnected,this._logger.log(Ae.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(Ae.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(Ae.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new LU(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(Ae.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===Bt.Disconnected)return this._logger.log(Ae.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Bt.Disconnecting)return this._logger.log(Ae.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Bt.Disconnecting,this._logger.log(Ae.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Ae.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Bt.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Fa("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createStreamInvocation(t,n,s);let u;const d=new IU;return d.cancelCallback=()=>{const f=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],u.then(()=>this._sendWithProtocol(f))},this._callbacks[o.invocationId]=(f,m)=>{if(m){d.error(m);return}else f&&(f.type===ht.Completion?f.error?d.error(new Error(f.error)):d.complete():d.next(f.item))},u=this._sendWithProtocol(o).catch(f=>{d.error(f),delete this._callbacks[o.invocationId]}),this._launchStreams(r,u),d}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(t,n,!0,s));return this._launchStreams(r,o),o}invoke(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createInvocation(t,n,!1,s);return new Promise((d,f)=>{this._callbacks[o.invocationId]=(g,x)=>{if(x){f(x);return}else g&&(g.type===ht.Completion?g.error?f(new Error(g.error)):d(g.result):f(new Error(`Unexpected message type: ${g.type}`)))};const m=this._sendWithProtocol(o).catch(g=>{f(g),delete this._callbacks[o.invocationId]});this._launchStreams(r,m)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const s=r.indexOf(n);s!==-1&&(r.splice(s,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case ht.Invocation:this._invokeClientMethod(r).catch(s=>{this._logger.log(Ae.Error,`Invoke client method threw error: ${Xx(s)}`)});break;case ht.StreamItem:case ht.Completion:{const s=this._callbacks[r.invocationId];if(s){r.type===ht.Completion&&delete this._callbacks[r.invocationId];try{s(r)}catch(o){this._logger.log(Ae.Error,`Stream callback threw error: ${Xx(o)}`)}}break}case ht.Ping:break;case ht.Close:{this._logger.log(Ae.Information,"Close message received from server.");const s=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case ht.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case ht.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(Ae.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const o="Error parsing handshake response: "+s;this._logger.log(Ae.Error,o);const u=new Error(o);throw this._handshakeRejecter(u),u}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(Ae.Error,s);const o=new Error(s);throw this._handshakeRejecter(o),o}else this._logger.log(Ae.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let t=this._nextKeepAlive-new Date().getTime();if(t<0){this._connectionState===Bt.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===Bt.Connected&&await this._trySendPingMessage()},t))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(Ae.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(Ae.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=r.slice(),o=!!t.invocationId;let u,d,f;for(const m of s)try{const g=u;u=await m.apply(this,t.arguments),o&&u&&g&&(this._logger.log(Ae.Error,`Multiple results provided for '${n}'. Sending error to server.`),f=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),d=void 0}catch(g){d=g,this._logger.log(Ae.Error,`A callback for the method '${n}' threw error '${g}'.`)}f?await this._sendWithProtocol(f):o?(d?f=this._createCompletionMessage(t.invocationId,`${d}`,null):u!==void 0?f=this._createCompletionMessage(t.invocationId,null,u):(this._logger.log(Ae.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),f=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(f)):u&&this._logger.log(Ae.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(Ae.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Fa("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Bt.Disconnecting?this._completeClose(t):this._connectionState===Bt.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Bt.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Bt.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),wn.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(Ae.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r,0,s);if(o===null){this._logger.log(Ae.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=Bt.Reconnecting,t?this._logger.log(Ae.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(Ae.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(u=>u.apply(this,[t]))}catch(u){this._logger.log(Ae.Error,`An onreconnecting callback called with error '${t}' threw error '${u}'.`)}if(this._connectionState!==Bt.Reconnecting){this._logger.log(Ae.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(Ae.Information,`Reconnect attempt number ${r+1} will start in ${o} ms.`),await new Promise(u=>{this._reconnectDelayHandle=setTimeout(u,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Bt.Reconnecting){this._logger.log(Ae.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Bt.Connected,this._logger.log(Ae.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(u=>u.apply(this,[this.connection.connectionId]))}catch(u){this._logger.log(Ae.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${u}'.`)}return}catch(u){if(this._logger.log(Ae.Information,`Reconnect attempt failed because of error '${u}'.`),this._connectionState!==Bt.Reconnecting){this._logger.log(Ae.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Bt.Disconnecting&&this._completeClose();return}r++,s=u instanceof Error?u:new Error(u.toString()),o=this._getNextRetryDelay(r,Date.now()-n,s)}}this._logger.log(Ae.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(s){return this._logger.log(Ae.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const s=n[r];try{s(null,t)}catch(o){this._logger.log(Ae.Error,`Stream 'error' callback called with '${t}' threw error: ${Xx(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,s){if(r)return s.length!==0?{target:t,arguments:n,streamIds:s,type:ht.Invocation}:{target:t,arguments:n,type:ht.Invocation};{const o=this._invocationId;return this._invocationId++,s.length!==0?{target:t,arguments:n,invocationId:o.toString(),streamIds:s,type:ht.Invocation}:{target:t,arguments:n,invocationId:o.toString(),type:ht.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:s=>{let o;s instanceof Error?o=s.message:s&&s.toString?o=s.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,s)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let s=0;s<t.length;s++){const o=t[s];if(this._isObservable(o)){const u=this._invocationId;this._invocationId++,n[u]=o,r.push(u.toString()),t.splice(s,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const s=this._invocationId;return this._invocationId++,r.length!==0?{target:t,arguments:n,invocationId:s.toString(),streamIds:r,type:ht.StreamInvocation}:{target:t,arguments:n,invocationId:s.toString(),type:ht.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:ht.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:ht.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:ht.Completion}:{invocationId:t,result:r,type:ht.Completion}}_createCloseMessage(){return{type:ht.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const HU=[0,2e3,1e4,3e4,null];class QE{constructor(t){this._retryDelays=t!==void 0?[...t,null]:HU}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Ol{}Ol.Authorization="Authorization";Ol.Cookie="Cookie";class qU extends $m{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Ol.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Ol.Authorization]&&delete t.headers[Ol.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var On;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(On||(On={}));var mr;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(mr||(mr={}));let FU=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class ZE{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new FU,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(Ln.isRequired(t,"url"),Ln.isRequired(n,"transferFormat"),Ln.isIn(n,mr,"transferFormat"),this._url=t,this._logger.log(Ae.Trace,"(LongPolling transport) Connecting."),n===mr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,s]=tc(),o={[r]:s,...this._options.headers},u={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===mr.Binary&&(u.responseType="arraybuffer");const d=`${t}&_=${Date.now()}`;this._logger.log(Ae.Trace,`(LongPolling transport) polling: ${d}.`);const f=await this._httpClient.get(d,u);f.statusCode!==200?(this._logger.log(Ae.Error,`(LongPolling transport) Unexpected response code: ${f.statusCode}.`),this._closeError=new Rl(f.statusText||"",f.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,u)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(Ae.Trace,`(LongPolling transport) polling: ${r}.`);const s=await this._httpClient.get(r,n);s.statusCode===204?(this._logger.log(Ae.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(Ae.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new Rl(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(Ae.Trace,`(LongPolling transport) data received. ${Gu(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(Ae.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof mb?this._logger.log(Ae.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(Ae.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(Ae.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?SR(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(Ae.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(Ae.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=tc();t[n]=r;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,s)}catch(u){o=u}o?o instanceof Rl&&(o.statusCode===404?this._logger.log(Ae.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(Ae.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(Ae.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(Ae.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(Ae.Trace,t),this.onclose(this._closeError)}}}class KU{constructor(t,n,r,s){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,n){return Ln.isRequired(t,"url"),Ln.isRequired(n,"transferFormat"),Ln.isIn(n,mr,"transferFormat"),this._logger.log(Ae.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,s)=>{let o=!1;if(n!==mr.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let u;if(wn.isBrowser||wn.isWebWorker)u=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const d=this._httpClient.getCookieString(t),f={};f.Cookie=d;const[m,g]=tc();f[m]=g,u=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...f,...this._options.headers}})}try{u.onmessage=d=>{if(this.onreceive)try{this._logger.log(Ae.Trace,`(SSE transport) data received. ${Gu(d.data,this._options.logMessageContent)}.`),this.onreceive(d.data)}catch(f){this._close(f);return}},u.onerror=d=>{o?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},u.onopen=()=>{this._logger.log(Ae.Information,`SSE connected to ${this._url}`),this._eventSource=u,o=!0,r()}}catch(d){s(d);return}})}async send(t){return this._eventSource?SR(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class GU{constructor(t,n,r,s,o,u){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=u}async connect(t,n){Ln.isRequired(t,"url"),Ln.isRequired(n,"transferFormat"),Ln.isIn(n,mr,"transferFormat"),this._logger.log(Ae.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((s,o)=>{t=t.replace(/^http/,"ws");let u;const d=this._httpClient.getCookieString(t);let f=!1;if(wn.isNode||wn.isReactNative){const m={},[g,x]=tc();m[g]=x,r&&(m[Ol.Authorization]=`Bearer ${r}`),d&&(m[Ol.Cookie]=d),u=new this._webSocketConstructor(t,void 0,{headers:{...m,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);u||(u=new this._webSocketConstructor(t)),n===mr.Binary&&(u.binaryType="arraybuffer"),u.onopen=m=>{this._logger.log(Ae.Information,`WebSocket connected to ${t}.`),this._webSocket=u,f=!0,s()},u.onerror=m=>{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="There was an error with the transport",this._logger.log(Ae.Information,`(WebSockets transport) ${g}.`)},u.onmessage=m=>{if(this._logger.log(Ae.Trace,`(WebSockets transport) data received. ${Gu(m.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(m.data)}catch(g){this._close(g);return}},u.onclose=m=>{if(f)this._close(m);else{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(g))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Ae.Trace,`(WebSockets transport) sending data. ${Gu(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Ae.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const JE=100;class VU{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ln.isRequired(t,"url"),this._logger=EU(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,s=null;if(wn.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=o("ws"),s=o("eventsource")}!wn.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:wn.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!wn.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:wn.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new qU(n.httpClient||new MU(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||mr.Binary,Ln.isIn(t,mr,"transferFormat"),this._logger.log(Ae.Debug,`Starting connection with transfer format '${mr[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(Ae.Error,n),await this._stopPromise,Promise.reject(new Fa(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(Ae.Error,n),Promise.reject(new Fa(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new pb(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(Ae.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(Ae.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(Ae.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(Ae.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===On.WebSockets)this.transport=this._constructTransport(On.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,s=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Fa("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}s++}while(r.url&&s<JE);if(s===JE&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof ZE&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(Ae.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(Ae.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,s]=tc();n[r]=s;const o=this._resolveNegotiateUrl(t);this._logger.log(Ae.Debug,`Sending negotiation request: ${o}.`);try{const u=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(u.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${u.statusCode}'`));const d=JSON.parse(u.content);return(!d.negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),d.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new YE("Client didn't negotiate Stateful Reconnect but the server did.")):d}catch(u){let d="Failed to complete negotiation with the server: "+u;return u instanceof Rl&&u.statusCode===404&&(d=d+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(Ae.Error,d),Promise.reject(new YE(d))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,s){let o=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(Ae.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,s),this.connectionId=r.connectionId;return}const u=[],d=r.availableTransports||[];let f=r;for(const m of d){const g=this._resolveTransportOrError(m,n,s,f?.useStatefulReconnect===!0);if(g instanceof Error)u.push(`${m.transport} failed:`),u.push(g);else if(this._isITransport(g)){if(this.transport=g,!f){try{f=await this._getNegotiationResponse(t)}catch(x){return Promise.reject(x)}o=this._createConnectUrl(t,f.connectionToken)}try{await this._startTransport(o,s),this.connectionId=f.connectionId;return}catch(x){if(this._logger.log(Ae.Error,`Failed to start the transport '${m.transport}': ${x}`),f=void 0,u.push(new wU(`${m.transport} failed: ${x}`,On[m.transport])),this._connectionState!=="Connecting"){const b="Failed to select transport before stop() was called.";return this._logger.log(Ae.Debug,b),Promise.reject(new Fa(b))}}}}return u.length>0?Promise.reject(new jU(`Unable to connect to the server with any of the available transports. ${u.join(" ")}`,u)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case On.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new GU(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case On.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new KU(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case On.LongPolling:return new ZE(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(r);return}s&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,s){const o=On[t.transport];if(o==null)return this._logger.log(Ae.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(WU(n,o))if(t.transferFormats.map(d=>mr[d]).indexOf(r)>=0){if(o===On.WebSockets&&!this._options.WebSocket||o===On.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Ae.Debug,`Skipping transport '${On[o]}' because it is not supported in your environment.'`),new yU(`'${On[o]}' is not supported in your environment.`,o);this._logger.log(Ae.Debug,`Selecting transport '${On[o]}'.`);try{return this.features.reconnect=o===On.WebSockets?s:void 0,this._constructTransport(o)}catch(d){return d}}else return this._logger.log(Ae.Debug,`Skipping transport '${On[o]}' because it does not support the requested transfer format '${mr[r]}'.`),new Error(`'${On[o]}' does not support ${mr[r]}.`);else return this._logger.log(Ae.Debug,`Skipping transport '${On[o]}' because it was disabled by the client.`),new bU(`'${On[o]}' is disabled by the client.`,o)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(Ae.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(Ae.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(Ae.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(Ae.Error,`Connection disconnected with error '${t}'.`):this._logger.log(Ae.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(Ae.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(Ae.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!wn.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(Ae.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function WU(e,t){return!e||(t&e)!==0}class pb{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new tf,this._transportResult=new tf,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new tf),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new tf;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):pb._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(o=>o.byteLength).reduce((o,u)=>o+u),r=new Uint8Array(n);let s=0;for(const o of t)r.set(new Uint8Array(o),s),s+=o.byteLength;return r.buffer}}class tf{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const YU="json";class XU{constructor(){this.name=YU,this.version=2,this.transferFormat=mr.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=Ku.instance);const r=ra.parse(t),s=[];for(const o of r){const u=JSON.parse(o);if(typeof u.type!="number")throw new Error("Invalid payload.");switch(u.type){case ht.Invocation:this._isInvocationMessage(u);break;case ht.StreamItem:this._isStreamItemMessage(u);break;case ht.Completion:this._isCompletionMessage(u);break;case ht.Ping:break;case ht.Close:break;case ht.Ack:this._isAckMessage(u);break;case ht.Sequence:this._isSequenceMessage(u);break;default:n.log(Ae.Information,"Unknown message type '"+u.type+"' ignored.");continue}s.push(u)}return s}writeMessage(t){return ra.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const QU={trace:Ae.Trace,debug:Ae.Debug,info:Ae.Information,information:Ae.Information,warn:Ae.Warning,warning:Ae.Warning,error:Ae.Error,critical:Ae.Critical,none:Ae.None};function ZU(e){const t=QU[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class ER{configureLogging(t){if(Ln.isRequired(t,"logging"),JU(t))this.logger=t;else if(typeof t=="string"){const n=ZU(t);this.logger=new zf(n)}else this.logger=new zf(t);return this}withUrl(t,n){return Ln.isRequired(t,"url"),Ln.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return Ln.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new QE(t):this.reconnectPolicy=t:this.reconnectPolicy=new QE,this}withServerTimeout(t){return Ln.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Ln.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new VU(this.url,t);return gb.create(n,this.logger||Ku.instance,this.protocol||new XU,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function JU(e){return e.log!==void 0}const Ou="44444444-4444-4444-4444-444444444444",Qx=`${Bm.replace(/\/+$/,"")}/api/messaging-service/hubs/global`,eC=e=>{if(!e)return!0;try{const t=JSON.parse(atob(e.split(".")[1]||""));if(!t.exp)return!1;const n=Math.floor(Date.now()/1e3);return t.exp-30<=n}catch{return!0}},tC=["AuctionCreated","System","WithdrawalRequested","DistupeOpened","DisputeOpened","disputeopened","accountpendingapproval","certificationpendingapproval","auctionpendingapproval","withdrawrequestpending","disputepending","wallettransfer","systemnotification","ReceiveNotification","NewNotification","AdminNotification"],e$=(e,t)=>{const n=typeof e=="number"?e:parseInt(String(e),10),r=String(e).toLowerCase(),s=t.toLowerCase();return n===15||r.includes("auction")?"auction_pending":n===17||r.includes("withdraw")?"withdraw_pending":n===14||r.includes("dispute")?"dispute_pending":n===7||r.includes("system")?s.includes("ti khon")||s.includes("account")||s.includes("user")?"account_pending":s.includes("chng ch")||s.includes("certification")||s.includes("cert")?"certification_pending":"system":r.includes("account")||r.includes("user")||n===0?"account_pending":r.includes("certification")||r.includes("cert")||n===1?"certification_pending":r.includes("wallet")||r.includes("transfer")||r.includes("funds")||n===5?"wallet_transfer":"system"},t$=e=>{if(e===void 0)return"info";const t=typeof e=="number"?e:parseInt(String(e),10),n=String(e).toLowerCase();return t===0||n==="success"?"success":t===1||n==="info"?"info":t===2||n==="warning"?"warning":t===3||n==="error"?"error":"info"},n$=e=>{if(!e||typeof e!="object")return null;const t=e,n=t.type??t.Type??t.TYPE??"system",r=t.severity??t.Severity??t.SEVERITY,s=t.title||t.Title||t.TITLE||"Thng bo mi",o=t.message||t.Message||t.MESSAGE||t.content||t.Content||"",u=t.data||t.Data||t.DATA;let d;if(typeof u=="string")try{d=JSON.parse(u)}catch{d={raw:u}}else u&&typeof u=="object"&&(d=u);const f=t.userId||t.UserId||t.USER_ID;f&&f!==Ou?console.warn("[useAdminNotifications]  Notification userId mismatch:",f,"Expected:",Ou,"But processing anyway..."):f===Ou?console.log("[useAdminNotifications]  Notification for admin user:",Ou):console.log("[useAdminNotifications]  No userId in notification, assuming it's for admin (backend filtered)");const m={id:t.id||t.Id||t.ID,type:e$(n,s),severity:t$(r),title:s,message:o,isRead:t.isRead!==void 0?t.isRead:t.IsRead??!1,readAt:t.readAt||t.ReadAt||t.READ_AT,data:d,relatedEntityId:t.relatedEntityId||t.RelatedEntityId||t.RELATED_ENTITY_ID,relatedEntityType:t.relatedEntityType||t.RelatedEntityType||t.RELATED_ENTITY_TYPE,createdAt:t.createdAt||t.CreatedAt||t.CREATED_AT||new Date().toISOString()};return m.id||(m.id=`admin-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),!m.title||!m.message?(console.warn("[useAdminNotifications] Notification missing required fields:",t),null):m};function r$(e){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[o,u]=p.useState(0),[d,f]=p.useState([]),{user:m}=Gs(),g=p.useRef(e),x=p.useRef(null),b=p.useRef(!1),w=p.useRef(!0),S=p.useRef(new Set);p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>(w.current=!0,()=>{w.current=!1}),[]);const j=p.useCallback(()=>localStorage.getItem("adminToken")||localStorage.getItem("authToken"),[]);p.useEffect(()=>{if(console.log("[useAdminNotifications]  Effect triggered. User:",m?.id,"Role:",m?.role),!m?.id){console.log("[useAdminNotifications]  No user ID, skipping connection");const R=x.current;R&&(R.stop().catch(console.error),n(null),s(!1),x.current=null),b.current=!1;return}if(m?.role!=="admin"){console.log("[useAdminNotifications]  User is not admin, skipping connection. Role:",m?.role);return}const _=x.current;if(_){if(_.state===Bt.Connected||_.state===Bt.Connecting||b.current){console.log("[useAdminNotifications] Connection already exists");return}_.state===Bt.Disconnected&&(_.stop().catch(console.error),x.current=null)}return b.current?void 0:(b.current=!0,(async()=>{try{if(!w.current){b.current=!1;return}let R=j();if(eC(R)){console.log("[useAdminNotifications] Token expired, refreshing before connection...");const V=await Fu.refreshToken();if(V)R=V,console.log("[useAdminNotifications] Token refreshed successfully before SignalR connection");else{console.error("[useAdminNotifications] Failed to refresh token before SignalR connection"),b.current=!1;return}}if(!R){console.warn("[useAdminNotifications] No auth token available"),b.current=!1;return}console.log("[useAdminNotifications]  Connecting to SignalR hub:",Qx),console.log("[useAdminNotifications] API_BASE_URL:",Bm);const D=new ER().withUrl(Qx,{transport:On.LongPolling,accessTokenFactory:async()=>{let V=j();if(eC(V)){console.log("[useAdminNotifications] Token expired during connection, refreshing...");const J=await Fu.refreshToken();if(J)V=J,console.log("[useAdminNotifications] Token refreshed during SignalR connection lifecycle");else throw console.error("[useAdminNotifications] Failed to refresh token during SignalR connection"),new Error("Token refresh failed")}if(!V)throw new Error("No token available");return V}}).withAutomaticReconnect({nextRetryDelayInMilliseconds:V=>V.previousRetryCount===0?0:V.previousRetryCount===1?2e3:V.previousRetryCount===2?5e3:V.previousRetryCount===3?1e4:3e4}).configureLogging(Ae.Warning).build(),L=V=>{console.log("[useAdminNotifications]  Raw notification data received:",V);const J=n$(V);if(!J){console.warn("[useAdminNotifications]  Failed to normalize notification:",V);return}if(S.current.has(J.id)){console.log("[useAdminNotifications]  Duplicate notification ignored:",J.id);return}if(S.current.add(J.id),console.log("[useAdminNotifications]  New notification processed:",{id:J.id,type:J.type,title:J.title,userId:V?.userId}),f(B=>B.some(re=>re.id===J.id)?(console.log("[useAdminNotifications] Notification already in list:",J.id),B):(console.log("[useAdminNotifications] Adding notification to list. Total:",B.length+1),[J,...B].slice(0,50))),J.isRead||u(B=>{const F=B+1;return console.log("[useAdminNotifications] Unread count updated:",F),F}),g.current){console.log("[useAdminNotifications]  Calling onNewNotification callback for notification:",J.id);try{g.current(J),console.log("[useAdminNotifications]  Callback executed successfully")}catch(B){console.error("[useAdminNotifications]  Error in callback:",B)}}else console.warn("[useAdminNotifications]  No onNewNotification callback provided - toast s khng t ng hin th!")};if(console.log("[useAdminNotifications] Registering handlers for methods:",tC),tC.forEach(V=>{D.on(V,J=>{console.log(`[useAdminNotifications] Received event: ${V}`,J);let B;if(typeof J=="string")try{B=JSON.parse(J)}catch{console.warn(`[useAdminNotifications] Failed to parse notification from ${V}`);return}else B=J;L(B)})}),D.onreconnecting(V=>{console.log("[useAdminNotifications] Reconnecting...",V),w.current&&s(!1)}),D.onreconnected(V=>{console.log("[useAdminNotifications] Reconnected! Connection ID:",V),w.current&&s(!0)}),D.onclose(V=>{V&&console.warn("[useAdminNotifications] Connection closed with error:",V),w.current&&s(!1)}),console.log("[useAdminNotifications] Starting SignalR connection..."),await D.start(),!w.current){D.stop().catch(console.error),b.current=!1;return}console.log("[useAdminNotifications]  Connected successfully! Connection ID:",D.connectionId),console.log("[useAdminNotifications] Connection state:",D.state),s(!0),console.log("[useAdminNotifications] Admin should be auto-joined to group user:"+Ou);try{const V=await D.invoke("GetUnreadNotificationCount");console.log("[useAdminNotifications] Initial unread count:",V),typeof V=="number"&&w.current&&u(V)}catch(V){console.log("[useAdminNotifications] GetUnreadNotificationCount method not available or error:",V)}w.current?(n(D),x.current=D):D.stop().catch(console.error)}catch(R){console.error("[useAdminNotifications]  Error connecting to SignalR:",R),R instanceof Error&&(console.error("[useAdminNotifications] Error message:",R.message),console.error("[useAdminNotifications] Error name:",R.name),(R.message.includes("404")||R.message.includes("Not Found"))&&(console.error("[useAdminNotifications]  Hub URL khng ng hoc khng tn ti!"),console.error("[useAdminNotifications] Hub URL ang dng:",Qx),console.error("[useAdminNotifications] Vui lng kim tra li hub URL trong backend hoc env variable VITE_SIGNALR_HUB_URL"))),w.current&&s(!1)}finally{b.current=!1}})(),()=>{w.current=!1,b.current=!1;const R=x.current;R&&R.stop().catch(console.error),x.current=null,n(null),s(!1)})},[m?.id,m?.role,j]);const N=p.useCallback(()=>{const _=d.filter(O=>!O.isRead).length;u(_)},[d]),E=p.useCallback(_=>{f(O=>O.map(R=>R.id===_?{...R,isRead:!0,readAt:new Date().toISOString()}:R)),u(O=>Math.max(0,O-1))},[]),C=p.useCallback(()=>{f(_=>_.map(O=>({...O,isRead:!0,readAt:new Date().toISOString()}))),u(0)},[]),T=p.useCallback(()=>{f([]),u(0),S.current.clear()},[]);return{connection:t,isConnected:r,unreadCount:o,notifications:d,refreshUnreadCount:N,markAsRead:E,markAllAsRead:C,clearNotifications:T}}const a$=(e,t)=>{const n=(t||"").toLowerCase();return e===15||n.includes("auction")?"auction_pending":e===17||n.includes("withdraw")?"withdraw_pending":e===11||n.includes("wallet")?"wallet_transfer":"system"},i$=e=>e===1?"warning":e===2?"error":"info",s$=e=>({id:e.id,type:a$(e.type,e.relatedEntityType),title:e.title,message:e.message,severity:i$(e.severity),isRead:e.isRead,relatedEntityId:e.relatedEntityId??void 0,relatedEntityType:e.relatedEntityType??void 0,data:e.data?{raw:e.data}:void 0,createdAt:e.createdAt,readAt:e.readAt}),nf={async getNotifications(e,t=1,n=20){const r=await it.get(Ie.notification.byUserId(e),{params:{pageNumber:t,pageSize:n},cache:!1});return!r.isSuccess||!r.data?[]:r.data.map(s$)},async getUnreadCount(e){const t=await it.get(Ie.notification.unreadCountByUserId(e),{cache:!1});return!t.isSuccess||typeof t.data!="number"?0:t.data},async markAsRead(e,t){return(await it.post(Ie.notification.markAsRead(e),{},{invalidateCache:Ie.notification.byUserId(t)})).isSuccess},async markAllAsRead(e){return(await it.post(Ie.notification.markAllAsRead(e),{},{invalidateCache:Ie.notification.byUserId(e)})).isSuccess}},pr={async list(){return it.get(Ie.users.list,{cache:!0,cacheTTL:300*1e3})},async getById(e){return it.get(Ie.users.detail(e),{cache:!1})},async updateStatus(e,t){return it.put(Ie.users.updateStatus(e),t,{invalidateCache:Ie.users.list})}},_n={async getWallets(){return it.get(Ie.wallet.list,{cache:!1})},async getSystemWallet(){return it.get(Ie.wallet.system,{cache:!1})},async getWalletById(e){return it.get(Ie.wallet.detail(e),{cache:!1})},async getWalletByUserId(e){return it.get(Ie.wallet.byUser(e),{cache:!1})},async getLedgers(){return it.get(Ie.ledger.list,{cache:!1})},async getLedgersByWallet(e){return it.get(Ie.ledger.byWallet(e),{cache:!1})},async createLedger(e){return it.post(Ie.ledger.create,e,{invalidateCache:Ie.ledger.list})},async getLedgersByTransaction(e){return it.get(Ie.ledger.byTransaction(e),{cache:!1})},async getTransactions(){return it.get(Ie.transaction.list,{cache:!1})},async getTransactionById(e){return it.get(Ie.transaction.detail(e),{cache:!1})},async getTransactionsByWallet(e){return it.get(Ie.transaction.byWallet(e),{cache:!1})},async getWithdrawRequests(){return it.get(Ie.withdrawRequest.list,{cache:!1})},async getWithdrawRequestById(e){return it.get(Ie.withdrawRequest.detail(e),{cache:!1})},async getWithdrawRequestsByUser(e){return it.get(Ie.withdrawRequest.byUser(e),{cache:!1})},async getMyWithdrawRequests(){return it.get(Ie.withdrawRequest.myRequests,{cache:!1})},async createWithdrawRequest(e){return it.post(Ie.withdrawRequest.create,e,{invalidateCache:Ie.withdrawRequest.list})},async approveWithdrawRequest(e){return it.post(Ie.withdrawRequest.approve(e),{},{invalidateCache:Ie.withdrawRequest.list})},async rejectWithdrawRequest(e,t){return it.post(Ie.withdrawRequest.reject(e),t||{},{invalidateCache:Ie.withdrawRequest.list})},async completeWithdrawRequest(e){return it.post(Ie.withdrawRequest.complete(e),{},{invalidateCache:Ie.withdrawRequest.list})},async getUserBankAccountById(e){return it.get(Ie.userBankAccount.detail(e),{cache:!1})},async getBanks(){return it.get(Ie.bank.list,{cache:!1})},async getEscrowById(e){return it.get(Ie.escrow.detail(e),{cache:!1})},async getEscrowByAuctionId(e){return it.get(Ie.escrow.byAuction(e),{cache:!1})},async getEscrowByBuyRequestId(e){return it.get(Ie.escrow.byBuyRequest(e),{cache:!1})}},l$={account_pending:a.jsx(xc,{className:"h-4 w-4 text-blue-500"}),certification_pending:a.jsx(Oa,{className:"h-4 w-4 text-amber-500"}),auction_pending:a.jsx(cb,{className:"h-4 w-4 text-purple-500"}),withdraw_pending:a.jsx(Y3,{className:"h-4 w-4 text-green-500"}),dispute_pending:a.jsx(Lm,{className:"h-4 w-4 text-red-500"}),wallet_transfer:a.jsx($f,{className:"h-4 w-4 text-emerald-500"}),system:a.jsx(_L,{className:"h-4 w-4 text-gray-500"})},o$={account_pending:"bg-blue-50",certification_pending:"bg-amber-50",auction_pending:"bg-purple-50",withdraw_pending:"bg-green-50",dispute_pending:"bg-red-50",wallet_transfer:"bg-emerald-50",system:"bg-gray-50"},c$=e=>{const t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3);return r<60?"Va xong":r<3600?`${Math.floor(r/60)} pht trc`:r<86400?`${Math.floor(r/3600)} gi trc`:r<604800?`${Math.floor(r/86400)} ngy trc`:t.toLocaleDateString("vi-VN")},u$=e=>{const{type:t,relatedEntityId:n,relatedEntityType:r,data:s,title:o}=e,u=(r||"").toLowerCase(),d=(o||"").toLowerCase();if(u.includes("report")||d.includes("bo co phin u gi")||d.includes("bo co")){let f;if(s&&typeof s=="object"){const m=s;f=m.auctionId||m.auctionID||m.auctionSessionId||m.auctionSessionID}return f?et.ADMIN_AUCTIONS_BY_ID_REPORTS.replace(":id",f):et.ADMIN_REPORTS}if(t==="certification_pending")return`${et.ADMIN_APPROVAL}?tab=certifications`;if(t==="account_pending")return et.ADMIN_APPROVAL;if(u.includes("auction"))return n?et.ADMIN_AUCTIONS_BY_ID.replace(":id",n):et.ADMIN_AUCTIONS;if(u.includes("withdrawrequest")||u.includes("withdraw")||u.includes("wallet"))return et.ADMIN_WALLET;if(u.includes("dispute"))return et.ADMIN_DISPUTES;if(u.includes("user")||u.includes("account"))return et.ADMIN_APPROVAL;if(u.includes("certification")||u.includes("cert"))return`${et.ADMIN_APPROVAL}?tab=certifications`;switch(t){case"auction_pending":return n?et.ADMIN_AUCTIONS_BY_ID.replace(":id",n):et.ADMIN_AUCTIONS;case"withdraw_pending":case"wallet_transfer":return et.ADMIN_WALLET;case"dispute_pending":return et.ADMIN_DISPUTES;case"system":return et.ADMIN_DASHBOARD;default:return et.ADMIN_DASHBOARD}};function d$(){const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[s,o]=p.useState(!1),[u,d]=p.useState([]),[f,m]=p.useState(0),[g,x]=p.useState({}),b=p.useRef(null),w=yr(),{user:S}=Gs(),{toast:j}=$n(),N=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,E=p.useCallback(async z=>{if(g[z])return g[z];try{const ee=await pr.getById(z);if(ee.isSuccess&&ee.data){const Y=`${ee.data.firstName} ${ee.data.lastName}`.trim()||ee.data.email;return x(Z=>({...Z,[z]:Y})),Y}}catch(ee){console.error("[AdminNotificationBell] Error fetching user:",ee)}return null},[g]),C=p.useCallback(async z=>{try{const ee=await _n.getWithdrawRequestById(z);if(ee.isSuccess&&ee.data){const Y=ee.data.userId;return await E(Y)}}catch(ee){console.error("[AdminNotificationBell] Error fetching withdraw request:",ee)}return null},[E]),T={success:"success",info:"info",warning:"default",error:"destructive"},_=p.useRef(new Set),O=p.useCallback(async z=>{let ee=z.message||"Bn c thng bo mi";const Y=ee.match(N)||[];if(Y.length===0)return ee;const Z={...g},ie=Y.filter(le=>!Z[le]);if(ie.length>0){const le=ie.map(async M=>{try{const U=await E(M);return{userId:M,userName:U}}catch(U){return console.error("[AdminNotificationBell] Error fetching user name:",U),{userId:M,userName:null}}}),G=await Promise.all(le);G.forEach(({userId:M,userName:U})=>{U&&(Z[M]=U)});const $={};G.forEach(({userId:M,userName:U})=>{U&&($[M]=U)}),Object.keys($).length>0&&x(M=>({...M,...$}))}return Y.forEach(le=>{const G=Z[le];G&&(ee=ee.replace(le,G))}),ee},[g,E]),R=p.useCallback(async z=>{if(!z||!z.id){console.warn("[AdminNotificationBell] Invalid notification for toast:",z);return}if(_.current.has(z.id)){console.log("[AdminNotificationBell] Toast already shown, skipping:",z.id);return}_.current.add(z.id);const ee=z.title||"Thng bo mi",Y=await O(z);console.log("[AdminNotificationBell]  Showing toast for notification:",{id:z.id,title:ee,type:z.type,message:Y});try{j({title:ee,description:Y,variant:T[z.severity]||"default"}),console.log("[AdminNotificationBell]  Toast displayed successfully")}catch(Z){console.error("[AdminNotificationBell]  Error showing toast:",Z)}if("Notification"in window&&window.Notification.permission==="granted")try{const Z=new window.Notification(ee,{body:Y,icon:"/favicon.ico",tag:z.id,requireInteraction:!1});setTimeout(()=>{Z.close()},5e3),console.log("[AdminNotificationBell]  Browser notification shown:",z.id)}catch(Z){console.error("[AdminNotificationBell] Error showing browser notification:",Z)}else"Notification"in window&&window.Notification.permission==="default"&&(console.log("[AdminNotificationBell] Requesting browser notification permission..."),window.Notification.requestPermission().then(Z=>{if(console.log("[AdminNotificationBell] Notification permission:",Z),Z==="granted")try{const ie=new window.Notification(ee,{body:Y,icon:"/favicon.ico",tag:z.id});setTimeout(()=>{ie.close()},5e3)}catch(ie){console.error("[AdminNotificationBell] Error showing browser notification after permission:",ie)}}))},[j,O]),D=p.useCallback(z=>{console.log("[AdminNotificationBell]  Callback handleNewNotification called:",z.id),R(z)},[R]),{isConnected:L,unreadCount:V,notifications:J,markAsRead:B,markAllAsRead:F}=r$(D),re=p.useRef(0),be=p.useRef(!0);p.useEffect(()=>{if(be.current){be.current=!1,re.current=J.length,J.forEach(z=>{_.current.add(z.id)});return}J.length>re.current&&J.length>0&&J.filter(ee=>!_.current.has(ee.id)&&!ee.isRead).forEach(ee=>{console.log("[AdminNotificationBell]  Auto-showing toast for new notification (backup):",ee.id),R(ee)}),re.current=J.length},[J,R]);const[xe,q]=p.useState({});p.useEffect(()=>{const z=async()=>{const ee=[...u,...J],Y={},Z=new Set;if(ee.forEach(ie=>{if(xe[ie.id]){Y[ie.id]=xe[ie.id];return}(ie.message.match(N)||[]).forEach(G=>{g[G]||Z.add(G)})}),Z.size>0){const ie=Array.from(Z).map(async $=>{const M=await E($);return{userId:$,userName:M}}),le=await Promise.all(ie),G={};le.forEach(({userId:$,userName:M})=>{M&&(G[$]=M)}),Object.keys(G).length>0&&x($=>({...$,...G}))}ee.forEach(ie=>{if(Y[ie.id])return;let le=ie.message;const G=ie.message.match(N)||[];ie.type==="withdraw_pending"&&ie.relatedEntityId&&G.length>0?(C(ie.relatedEntityId).then($=>{if($){let M=ie.message;G.forEach(U=>{M=M.replace(U,$)}),q(U=>({...U,[ie.id]:M}))}}).catch(()=>{let $=ie.message;G.forEach(M=>{const U=g[M];U&&($=$.replace(M,U))}),q(M=>({...M,[ie.id]:$}))}),Y[ie.id]=le):(G.length>0&&G.forEach($=>{const M=g[$];M&&(le=le.replace($,M))}),Y[ie.id]=le)}),q(ie=>({...ie,...Y}))};(u.length>0||J.length>0)&&z()},[u,J]);const H=p.useMemo(()=>{const z=new Map;return u.forEach(Y=>{z.set(Y.id,Y)}),J.forEach(Y=>{z.set(Y.id,Y)}),Array.from(z.values()).sort((Y,Z)=>new Date(Z.createdAt).getTime()-new Date(Y.createdAt).getTime())},[u,J]),K=p.useMemo(()=>V>0?V:f,[V,f]),ve=p.useCallback(async()=>{if(S?.id){o(!0);try{const[z,ee]=await Promise.all([nf.getNotifications(S.id),nf.getUnreadCount(S.id)]);d(z),m(ee)}catch(z){console.error("[AdminNotificationBell] Error fetching notifications:",z)}finally{o(!1)}}},[S?.id]);p.useEffect(()=>{S?.id&&ve()},[S?.id,ve]),p.useEffect(()=>{if(S?.id){if(!("Notification"in window)){console.log("[AdminNotificationBell] Browser khng h tr notifications");return}window.Notification.permission==="default"?(console.log("[AdminNotificationBell] Requesting browser notification permission..."),window.Notification.requestPermission().then(z=>{console.log("[AdminNotificationBell] Notification permission result:",z),z==="granted"?console.log("[AdminNotificationBell]  Browser notifications  c cho php!"):z==="denied"&&console.warn("[AdminNotificationBell]  Browser notifications b t chi. User cn cho php trong browser settings.")}).catch(z=>{console.error("[AdminNotificationBell] Error requesting notification permission:",z)})):window.Notification.permission==="granted"?console.log("[AdminNotificationBell]  Browser notifications  c cho php t trc"):window.Notification.permission==="denied"&&console.warn("[AdminNotificationBell]  Browser notifications b t chi. User cn cho php trong browser settings.")}},[S?.id]),p.useEffect(()=>{const z=ee=>{b.current&&!b.current.contains(ee.target)&&t(!1)};return e&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[e]),p.useEffect(()=>{e&&S?.id&&ve()},[e,S?.id,ve]);const Pe=p.useCallback(z=>{console.log("[AdminNotificationBell] Notification clicked:",z),(async()=>{if(!(!S?.id||z.isRead))try{await nf.markAsRead(z.id,S.id)&&(B(z.id),d(ie=>ie.map(le=>le.id===z.id?{...le,isRead:!0,readAt:new Date().toISOString()}:le)),m(ie=>Math.max(0,ie-1)))}catch(Z){console.error("[AdminNotificationBell] Error marking notification as read:",Z)}})();const Y=u$(z);console.log("[AdminNotificationBell] Route for notification:",Y,"Type:",z.type),Y?w(Y):(console.warn("[AdminNotificationBell] No route found for notification:",z),z.type==="certification_pending"?w(`${et.ADMIN_APPROVAL}?tab=certifications`):z.type==="account_pending"&&w(et.ADMIN_APPROVAL)),t(!1)},[B,w,S?.id]),P=p.useCallback(async()=>{r(!0);try{S?.id?await nf.markAllAsRead(S.id)&&(F(),d(ee=>ee.map(Y=>({...Y,isRead:!0,readAt:new Date().toISOString()}))),m(0)):F()}finally{r(!1)}},[F]);return a.jsxs("div",{className:"relative",ref:b,children:[a.jsxs(ce,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:"relative h-10 w-10 p-0 hover:bg-gray-100 rounded-lg","aria-label":`Thng bo${K>0?` (${K} cha c)`:""}`,title:L?" kt ni realtime":"ang kt ni...",children:[a.jsx(UE,{className:"h-5 w-5 text-gray-600"}),K>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white animate-pulse",children:K>9?"9+":K}),a.jsx("span",{className:`absolute bottom-0 right-0 h-2 w-2 rounded-full border border-white ${L?"bg-green-400":"bg-yellow-400"}`})]}),e&&a.jsxs("div",{className:"absolute right-0 top-12 z-50 w-96 rounded-xl border border-gray-200 bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Thng bo"}),L&&a.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-0.5 text-xs font-medium text-green-700",children:"Live"})]}),K>0&&a.jsxs(ce,{variant:"ghost",size:"sm",onClick:P,disabled:n,className:"h-8 px-2 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[n?a.jsx(Qn,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(nL,{className:"h-3 w-3 mr-1"}),"c tt c"]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx(Qn,{className:"h-5 w-5 animate-spin text-gray-400"})}):H.length===0?a.jsxs("div",{className:"px-4 py-12 text-center",children:[a.jsx(UE,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Khng c thng bo mi"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cc thng bo v ti khon, chng ch, u gi s xut hin  y"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:H.map(z=>a.jsx("button",{onClick:()=>Pe(z),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${z.isRead?"":o$[z.type]}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2 rounded-lg ${z.isRead?"bg-gray-100":"bg-white shadow-sm"}`,children:l$[z.type]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:`text-sm font-medium line-clamp-1 ${z.isRead?"text-gray-600":"text-gray-900"}`,children:z.title}),!z.isRead&&a.jsx("div",{className:"h-2 w-2 flex-shrink-0 rounded-full bg-blue-500 mt-1.5"})]}),a.jsx("p",{className:"mt-0.5 text-xs text-gray-500 line-clamp-2",children:xe[z.id]||z.message}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-400",children:c$(z.createdAt)})]})]})},z.id))})}),H.length>0&&a.jsx("div",{className:"border-t border-gray-200 px-4 py-2.5 text-center bg-gray-50/50",children:a.jsx("p",{className:"text-xs text-gray-500",children:K>0?`${K} thng bo cha c`:" c tt c thng bo"})})]})]})}function h$({onMenuClick:e}){const{user:t}=Gs(),n=o=>{if(!o)return"AD";const u=o.trim().split(/\s+/);return u.length>=2?(u[0][0]+u[u.length-1][0]).toUpperCase():o.substring(0,2).toUpperCase()},r=t?.name||"Admin",s=t?.email||"admin@agrimart.com";return a.jsx("header",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 md:px-6 py-3 sm:py-4 sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsx(ce,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:e,"aria-label":"Toggle menu",children:a.jsx(UL,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"relative"})})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[a.jsx(d$,{}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs(fU,{className:"w-7 h-7 sm:w-8 sm:h-8",children:[a.jsx(mU,{src:pU}),a.jsx(gU,{children:n(t?.name)})]}),a.jsxs("div",{className:"hidden sm:block text-sm",children:[a.jsx("p",{className:"font-medium truncate max-w-[120px] md:max-w-none",children:r}),a.jsx("p",{className:"text-gray-500 text-xs truncate max-w-[120px] md:max-w-none",children:s})]})]})]})]})})}function yn({children:e}){const[t,n]=p.useState(!1);return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(hU,{isOpen:t,onClose:()=>n(!1)}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>n(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full lg:w-auto",children:[a.jsx(h$,{onMenuClick:()=>n(!t)}),a.jsx("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6",children:e})]})]})}const ct=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Dt("rounded-2xl border border-muted/30 bg-white/90 backdrop-blur-sm shadow-[0_4px_12px_rgba(0,0,0,0.04)] transition-all duration-200","hover:shadow-[0_8px_20px_rgba(0,0,0,0.06)] hover:-translate-y-[1px]",e),...t}));ct.displayName="Card";const Vi=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Dt("flex flex-col space-y-1.5 p-6 pb-3",e),...t}));Vi.displayName="CardHeader";const Wi=p.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Dt("text-xl font-semibold leading-tight tracking-tight text-gray-900",e),...t}));Wi.displayName="CardTitle";const f$=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Dt("text-sm text-gray-500",e),...t}));f$.displayName="CardDescription";const ia=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Dt("p-6 pt-2",e),...t}));ia.displayName="CardContent";const m$=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Dt("flex items-center p-6 pt-0 border-t border-muted/20",e),...t}));m$.displayName="CardFooter";function g$({children:e,onSubmit:t,title:n,submitText:r="Gi",isLoading:s=!1,disabled:o=!1,className:u="",submitButtonClassName:d="w-full bg-green-600 hover:bg-green-700"}){return a.jsxs("div",{className:`space-y-4 sm:space-y-6 ${u}`,children:[n&&a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:n}),a.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e,a.jsxs(ce,{type:"submit",className:`text-sm sm:text-base ${d}`,disabled:o||s,children:[s&&a.jsx(Qn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),s?"ang x l...":r]})]})]})}const sn=p.forwardRef(({className:e,type:t,variant:n="default",...r},s)=>a.jsx("input",{type:t,ref:s,className:Dt("peer flex h-11 w-full rounded-2xl border border-transparent bg-white/80 px-4 py-2.5 text-sm font-medium text-gray-900 shadow-[0_10px_25px_rgba(15,118,110,0.08)] transition-all duration-300 placeholder:text-gray-400","ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","focus-visible:ring-emerald-400/40 focus-visible:border-emerald-500/60","hover:border-emerald-200 hover:shadow-[0_14px_32px_rgba(15,118,110,0.12)]",n==="error"&&"border-rose-200 bg-rose-50/60 text-rose-700 placeholder:text-rose-400 focus-visible:ring-rose-400 focus-visible:border-rose-500","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:opacity-70",e),...r}));sn.displayName="Input";const Ke=p.forwardRef(({className:e,...t},n)=>a.jsx("label",{ref:n,className:Dt("text-sm font-semibold uppercase tracking-wide text-gray-500","peer-disabled:cursor-not-allowed peer-disabled:opacity-60",e),...t}));Ke.displayName="Label";function p$({label:e,id:t,type:n="text",placeholder:r,value:s,onChange:o,required:u=!1,error:d,disabled:f=!1,description:m}){return a.jsxs("div",{className:"space-y-2 h-full",children:[a.jsxs(Ke,{htmlFor:t,className:"flex items-center gap-1 text-sm sm:text-base h-6",children:[e,u&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(sn,{id:t,type:n,placeholder:r,value:s,onChange:g=>o(g.target.value),required:u,disabled:f,variant:d?"error":"default",className:`text-sm sm:text-base ${d?"border-red-500 focus-visible:ring-red-500":""}`}),m&&a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:m}),d&&a.jsxs("p",{className:"text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full"}),d]})]})}function x$({onLoginSuccess:e}){const[t,n]=p.useState(""),[r,s]=p.useState(""),[o,u]=p.useState(""),[d,f]=p.useState(""),[m,g]=p.useState(!1),[x,b]=p.useState(!1),w=yr(),{toast:S}=$n(),{setAuth:j}=Gs(),N=O=>O.trim()?O.includes("@")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O.trim())?(u(""),!0):(u(St.EMAIL_INVALID_FORMAT),!1):(u(St.EMAIL_MUST_CONTAIN_AT),!1):(u(St.EMAIL_REQUIRED),!1),E=O=>O?O.length<6?(f(St.PASSWORD_MIN_LENGTH),!1):/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(O)?(f(""),!0):(f(St.PASSWORD_SPECIAL_CHAR),!1):(f(St.PASSWORD_REQUIRED),!1),C=O=>{n(O),o&&N(O)},T=O=>{s(O),d&&E(O)},_=async O=>{O.preventDefault();const R=N(t),D=E(r);if(!R||!D){const L=[];!R&&o&&L.push(o),!D&&d&&L.push(d),S({title:St.VALIDATION_ERROR_TITLE,description:L.length>0?L.join(". "):St.VALIDATION_ERROR_DESCRIPTION,variant:"destructive"});return}b(!0);try{const L=await Fu.login({email:t.trim(),password:r});j({user:L.user,token:L.token}),S({title:db.LOGIN_SUCCESS,description:NB(L.user.name)}),w("/admin",{replace:!0}),e&&e(L.user)}catch(L){let V=St.LOGIN_FAILED,J=St.LOGIN_FAILED_TITLE;if(L instanceof Error){const B=L.message.trim();B.includes(St.NOT_ADMIN)||B.includes("khng c quyn")||B.includes(St.NOT_ADMIN_DETAIL)?(V=St.NOT_ADMIN_DETAIL,J=St.NOT_ADMIN_TITLE):B.includes(St.CANNOT_VALIDATE_ADMIN)?(V=St.CANNOT_VALIDATE_ADMIN,J=St.CANNOT_VALIDATE_ADMIN_TITLE):B.includes("401")||B.includes("Unauthorized")?(V=St.AUTH_FAILED,J=St.AUTH_FAILED_TITLE):B.includes("Network")||B.includes("fetch")?(V=St.NETWORK_ERROR,J=St.CONNECTION_ERROR_TITLE):B!==""&&B!==void 0&&(V=B)}S({title:J,description:V,variant:"destructive"})}finally{b(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-red-50 to-white p-3 sm:p-4",children:a.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 sm:mb-4",children:[a.jsx("img",{src:"/assets/logo.png",alt:"AgriMart Logo",className:"h-6 w-6 sm:h-8 sm:w-8 object-contain"}),a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-green-800",children:"AgriMart Admin"})]}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"ng nhp"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 px-2",children:"Nhp thng tin  truy cp trang Admin"})]}),a.jsx(ct,{className:"border-green-200",children:a.jsxs(ia,{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 rounded-lg",children:[a.jsx("strong",{children:"Ch :"})," Trang ny ch dnh cho qun tr vin. Ti khon admin c to bi h thng, khng th ng k t do."]}),a.jsxs(g$,{onSubmit:_,submitText:"ng nhp",isLoading:x,children:[a.jsx(p$,{label:Ho.EMAIL_LABEL,id:"email",type:"email",placeholder:Ho.EMAIL_PLACEHOLDER,value:t,onChange:C,required:!0,error:o,description:Ho.EMAIL_DESCRIPTION}),a.jsxs("div",{className:"space-y-2 h-full",children:[a.jsxs(Ke,{htmlFor:"password",className:"flex items-center gap-1 text-sm sm:text-base h-6",children:[Ho.PASSWORD_LABEL,a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(sn,{id:"password",type:m?"text":"password",placeholder:Ho.PASSWORD_PLACEHOLDER,value:r,onChange:O=>T(O.target.value),required:!0,variant:d?"error":"default",className:`text-sm sm:text-base pr-10 ${d?"border-red-500 focus-visible:ring-red-500":""}`}),a.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>g(!m),"aria-label":m?"n mt khu":"Hin mt khu",children:m?a.jsx(yL,{className:"h-4 w-4 text-gray-500"}):a.jsx(Cr,{className:"h-4 w-4 text-gray-500"})})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:Ho.PASSWORD_DESCRIPTION}),d&&a.jsxs("p",{className:"text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full"}),d]})]})]})]})})]})})}function v$(){return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-6",children:Array.from({length:6}).map((e,t)=>a.jsx(ct,{className:"border-gray-200",children:a.jsx(ia,{className:"p-4 sm:p-5 md:p-6",children:a.jsxs("div",{className:"space-y-3 sm:space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-3 sm:h-4 w-20 sm:w-24 bg-gray-200 rounded"}),a.jsx("div",{className:"h-6 sm:h-8 w-24 sm:w-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-2 sm:h-3 w-16 sm:w-20 bg-gray-200 rounded"})]})})},`stat-skeleton-${t}`))})}function y$(){return a.jsx(ct,{className:"border-dashed border-gray-200",children:a.jsx(ia,{className:"p-6 text-center text-sm text-gray-500",children:"Cha c d liu tng quan. Hy kim tra li sau."})})}function b$({stats:e,isLoading:t}){if(t)return a.jsx(v$,{});if(!e.length)return a.jsx(y$,{});const n=r=>r==="up"?a.jsx($s,{className:"w-3 h-3 text-emerald-500"}):r==="down"?a.jsx(sB,{className:"w-3 h-3 text-red-500"}):a.jsx(zL,{className:"w-3 h-3 text-gray-400"});return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4",children:e.map((r,s)=>{const o=!!r.highlight;return a.jsxs(ct,{className:`group relative overflow-hidden transition-all duration-300 ${o?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/20 border-emerald-400":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[!o&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs(ia,{className:"p-4 sm:p-5 relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[a.jsx("h3",{className:`text-[10px] sm:text-xs font-medium uppercase tracking-wide line-clamp-2 ${o?"text-emerald-50":"text-gray-500"}`,children:r.title}),a.jsx(K3,{className:`w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 ml-1 ${o?"text-emerald-100":"text-gray-400"}`})]}),a.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[a.jsx("p",{className:`text-lg sm:text-xl md:text-2xl font-bold ${o?"text-white":"text-gray-900"}`,children:r.value}),r.change&&a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-[10px] sm:text-xs",children:[n(r.trend),a.jsx("span",{className:`line-clamp-1 ${o?"text-emerald-50":"text-gray-500"}`,children:r.change})]})]})]})]},`stat-${r.title}-${s}`)})})}var w$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xb(e){if(typeof e!="string")return!1;var t=w$;return t.includes(e)}var j$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function CR(e){if(typeof e!="string")return!1;var t=j$;return t.includes(e)}function AR(e){return typeof e=="string"&&e.startsWith("data-")}function sa(e){var t=Object.entries(e).filter(n=>{var[r]=n;return CR(r)||AR(r)});return Object.fromEntries(t)}function $l(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return sa(t)}return typeof e=="object"&&!Array.isArray(e)?sa(e):null}function Ar(e){var t=Object.entries(e).filter(n=>{var[r]=n;return CR(r)||AR(r)||xb(r)});return Object.fromEntries(t)}function N$(e){return e==null?null:p.isValidElement(e)?Ar(e.props):typeof e=="object"&&!Array.isArray(e)?Ar(e):null}var S$=["children","width","height","viewBox","className","style","title","desc"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}function E$(e,t){if(e==null)return{};var n,r,s=C$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function C$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vb=p.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:o,className:u,style:d,title:f,desc:m}=e,g=E$(e,S$),x=o||{width:r,height:s,x:0,y:0},b=At("recharts-surface",u);return p.createElement("svg",ty({},Ar(g),{className:b,width:r,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),n)}),A$=["children","className"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}function T$(e,t){if(e==null)return{};var n,r,s=_$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cr=p.forwardRef((e,t)=>{var{children:n,className:r}=e,s=T$(e,A$),o=At("recharts-layer",r);return p.createElement("g",ny({className:o},Ar(s),{ref:t}),n)}),TR=p.createContext(null),R$=()=>p.useContext(TR);function en(e){return function(){return e}}const _R=Math.cos,Hf=Math.sin,Wa=Math.sqrt,qf=Math.PI,zm=2*qf,ry=Math.PI,ay=2*ry,Nl=1e-6,O$=ay-Nl;function RR(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function k$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RR;const n=10**t;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class D${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RR:k$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,o,u){this._append`C${+t},${+n},${+r},${+s},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,s,o){if(t=+t,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,f=r-t,m=s-n,g=u-t,x=d-n,b=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Nl)if(!(Math.abs(x*f-m*g)>Nl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-u,S=s-d,j=f*f+m*m,N=w*w+S*S,E=Math.sqrt(j),C=Math.sqrt(b),T=o*Math.tan((ry-Math.acos((j+b-N)/(2*E*C)))/2),_=T/C,O=T/E;Math.abs(_-1)>Nl&&this._append`L${t+_*g},${n+_*x}`,this._append`A${o},${o},0,0,${+(x*w>g*S)},${this._x1=t+O*f},${this._y1=n+O*m}`}}arc(t,n,r,s,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),f=r*Math.sin(s),m=t+d,g=n+f,x=1^u,b=u?s-o:o-s;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Nl||Math.abs(this._y1-g)>Nl)&&this._append`L${m},${g}`,r&&(b<0&&(b=b%ay+ay),b>O$?this._append`A${r},${r},0,1,${x},${t-d},${n-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=g}`:b>Nl&&this._append`A${r},${r},0,${+(b>=ry)},${x},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function yb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new D$(t)}function bb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OR(e){this._context=e}OR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hm(e){return new OR(e)}function kR(e){return e[0]}function DR(e){return e[1]}function MR(e,t){var n=en(!0),r=null,s=Hm,o=null,u=yb(d);e=typeof e=="function"?e:e===void 0?kR:en(e),t=typeof t=="function"?t:t===void 0?DR:en(t);function d(f){var m,g=(f=bb(f)).length,x,b=!1,w;for(r==null&&(o=s(w=u())),m=0;m<=g;++m)!(m<g&&n(x=f[m],m,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(x,m,f),+t(x,m,f));if(w)return o=null,w+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:en(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,r!=null&&(o=s(r)),d):s},d.context=function(f){return arguments.length?(f==null?r=o=null:o=s(r=f),d):r},d}function rf(e,t,n){var r=null,s=en(!0),o=null,u=Hm,d=null,f=yb(m);e=typeof e=="function"?e:e===void 0?kR:en(+e),t=typeof t=="function"?t:en(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DR:en(+n);function m(x){var b,w,S,j=(x=bb(x)).length,N,E=!1,C,T=new Array(j),_=new Array(j);for(o==null&&(d=u(C=f())),b=0;b<=j;++b){if(!(b<j&&s(N=x[b],b,x))===E)if(E=!E)w=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),S=b-1;S>=w;--S)d.point(T[S],_[S]);d.lineEnd(),d.areaEnd()}E&&(T[b]=+e(N,b,x),_[b]=+t(N,b,x),d.point(r?+r(N,b,x):T[b],n?+n(N,b,x):_[b]))}if(C)return d=null,C+""||null}function g(){return MR().defined(s).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:en(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:en(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:en(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:en(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:en(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:en(+x),m):n},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(n)},m.lineX1=function(){return g().x(r).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:en(!!x),m):s},m.curve=function(x){return arguments.length?(u=x,o!=null&&(d=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=d=null:d=u(o=x),m):o},m}class PR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function M$(e){return new PR(e,!0)}function P$(e){return new PR(e,!1)}const wb={draw(e,t){const n=Wa(t/qf);e.moveTo(n,0),e.arc(0,0,n,0,zm)}},I$={draw(e,t){const n=Wa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},IR=Wa(1/3),L$=IR*2,B$={draw(e,t){const n=Wa(t/L$),r=n*IR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},U$={draw(e,t){const n=Wa(t),r=-n/2;e.rect(r,r,n,n)}},$$=.8908130915292852,LR=Hf(qf/10)/Hf(7*qf/10),z$=Hf(zm/10)*LR,H$=-_R(zm/10)*LR,q$={draw(e,t){const n=Wa(t*$$),r=z$*n,s=H$*n;e.moveTo(0,-n),e.lineTo(r,s);for(let o=1;o<5;++o){const u=zm*o/5,d=_R(u),f=Hf(u);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*s,f*r+d*s)}e.closePath()}},Zx=Wa(3),F$={draw(e,t){const n=-Wa(t/(Zx*3));e.moveTo(0,n*2),e.lineTo(-Zx*n,-n),e.lineTo(Zx*n,-n),e.closePath()}},wa=-.5,ja=Wa(3)/2,iy=1/Wa(12),K$=(iy/2+1)*3,G$={draw(e,t){const n=Wa(t/K$),r=n/2,s=n*iy,o=r,u=n*iy+n,d=-o,f=u;e.moveTo(r,s),e.lineTo(o,u),e.lineTo(d,f),e.lineTo(wa*r-ja*s,ja*r+wa*s),e.lineTo(wa*o-ja*u,ja*o+wa*u),e.lineTo(wa*d-ja*f,ja*d+wa*f),e.lineTo(wa*r+ja*s,wa*s-ja*r),e.lineTo(wa*o+ja*u,wa*u-ja*o),e.lineTo(wa*d+ja*f,wa*f-ja*d),e.closePath()}};function V$(e,t){let n=null,r=yb(s);e=typeof e=="function"?e:en(e||wb),t=typeof t=="function"?t:en(t===void 0?64:+t);function s(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:en(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:en(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function Ff(){}function Kf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function BR(e){this._context=e}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W$(e){return new BR(e)}function UR(e){this._context=e}UR.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y$(e){return new UR(e)}function $R(e){this._context=e}$R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X$(e){return new $R(e)}function zR(e){this._context=e}zR.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q$(e){return new zR(e)}function nC(e){return e<0?-1:1}function rC(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),u=(n-e._y1)/(s||r<0&&-0),d=(o*s+u*r)/(r+s);return(nC(o)+nC(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function aC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jx(e,t,n){var r=e._x0,s=e._y0,o=e._x1,u=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,s+d*t,o-d,u-d*n,o,u)}function Gf(e){this._context=e}Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jx(this,this._t0,aC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jx(this,aC(this,n=rC(this,e,t)),n);break;default:Jx(this,this._t0,n=rC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function HR(e){this._context=new qR(e)}(HR.prototype=Object.create(Gf.prototype)).point=function(e,t){Gf.prototype.point.call(this,t,e)};function qR(e){this._context=e}qR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function Z$(e){return new Gf(e)}function J$(e){return new HR(e)}function FR(e){this._context=e}FR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=iC(e),s=iC(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iC(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),u=new Array(n);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(s[n-1]=u[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function e8(e){return new FR(e)}function qm(e,t){this._context=e,this._t=t}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function t8(e){return new qm(e,.5)}function n8(e){return new qm(e,0)}function r8(e){return new qm(e,1)}function nc(e,t){if((u=e.length)>1)for(var n=1,r,s,o=e[t[0]],u,d=o.length;n<u;++n)for(s=o,o=e[t[n]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function sy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a8(e,t){return e[t]}function i8(e){const t=[];return t.key=e,t}function s8(){var e=en([]),t=sy,n=nc,r=a8;function s(o){var u=Array.from(e.apply(this,arguments),i8),d,f=u.length,m=-1,g;for(const x of o)for(d=0,++m;d<f;++d)(u[d][m]=[0,+r(x,u[d].key,m,o)]).data=x;for(d=0,g=bb(t(u));d<f;++d)u[g[d]].index=d;return n(u,g),u}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:en(Array.from(o)),s):e},s.value=function(o){return arguments.length?(r=typeof o=="function"?o:en(+o),s):r},s.order=function(o){return arguments.length?(t=o==null?sy:typeof o=="function"?o:en(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(n=o??nc,s):n},s}function l8(e,t){if((r=e.length)>0){for(var n,r,s=0,o=e[0].length,u;s<o;++s){for(u=n=0;n<r;++n)u+=e[n][s][1]||0;if(u)for(n=0;n<r;++n)e[n][s][1]/=u}nc(e,t)}}function o8(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,o=r.length;n<o;++n){for(var u=0,d=0;u<s;++u)d+=e[u][n][1]||0;r[n][1]+=r[n][0]=-d/2}nc(e,t)}}function c8(e,t){if(!(!((u=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,o,u;r<o;++r){for(var d=0,f=0,m=0;d<u;++d){for(var g=e[t[d]],x=g[r][1]||0,b=g[r-1][1]||0,w=(x-b)/2,S=0;S<d;++S){var j=e[t[S]],N=j[r][1]||0,E=j[r-1][1]||0;w+=N-E}f+=x,m+=w*x}s[r-1][1]+=s[r-1][0]=n,f&&(n-=m/f)}s[r-1][1]+=s[r-1][0]=n,nc(e,t)}}var e0={},t0={},sC;function u8(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(t0)),t0}var n0={},lC;function KR(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(n0)),n0}var r0={},oC;function jb(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(r0)),r0}var a0={},i0={},cC;function d8(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(i0)),i0}var uC;function Nb(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d8(),n=jb();function r(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],u=s.length;if(u===0)return o;let d=0,f="",m="",g=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<u;){const x=s[d];m?x==="\\"&&d+1<u?(d++,f+=s[d]):x===m?m="":f+=x:g?x==='"'||x==="'"?m=x:x==="]"?(g=!1,o.push(f),f=""):f+=x:x==="["?(g=!0,f&&(o.push(f),f="")):x==="."?f&&(o.push(f),f=""):f+=x,d++}return f&&o.push(f),o}e.toPath=r})(a0)),a0}var dC;function Sb(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8(),n=KR(),r=jb(),s=Nb();function o(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const g=d[f];return g===void 0?n.isDeepKey(f)?o(d,s.toPath(f),m):m:g}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const g=d[f];return g===void 0?m:g}default:{if(Array.isArray(f))return u(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const g=d[f];return g===void 0?m:g}}}function u(d,f,m){if(f.length===0)return m;let g=d;for(let x=0;x<f.length;x++){if(g==null||t.isUnsafeProperty(f[x]))return m;g=g[f[x]]}return g===void 0?m:g}e.get=o})(e0)),e0}var s0,hC;function h8(){return hC||(hC=1,s0=Sb().get),s0}var f8=h8();const zl=hi(f8);var er=e=>e===0?0:e>0?1:-1,Da=e=>typeof e=="number"&&e!=+e,Yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!Da(e),oi=e=>tt(e)||typeof e=="string",m8=0,Vu=e=>{var t=++m8;return"".concat(e||"").concat(t)},xr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return r;var o;if(Yi(t)){if(n==null)return r;var u=t.indexOf("%");o=n*parseFloat(t.slice(0,u))/100}else o=+t;return Da(o)&&(o=r),s&&n!=null&&o>n&&(o=n),o},GR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function En(e,t,n){return tt(e)&&tt(t)?e+n*(t-e):t}function VR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):zl(r,t))===n)}var pn=e=>e===null||typeof e>"u",cd=e=>pn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),g8=["type","size","sizeType"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(null,arguments)}function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(r){p8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p8(e,t,n){return(t=x8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x8(e){var t=v8(e,"string");return typeof t=="symbol"?t:t+""}function v8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y8(e,t){if(e==null)return{};var n,r,s=b8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function b8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WR={symbolCircle:wb,symbolCross:I$,symbolDiamond:B$,symbolSquare:U$,symbolStar:q$,symbolTriangle:F$,symbolWye:G$},w8=Math.PI/180,j8=e=>{var t="symbol".concat(cd(e));return WR[t]||wb},N8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*w8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S8=(e,t)=>{WR["symbol".concat(cd(e))]=t},Eb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=y8(e,g8),o=mC(mC({},s),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var b=j8(u),w=V$().type(b).size(N8(n,r,u)),S=w();if(S!==null)return S},{className:f,cx:m,cy:g}=o,x=Ar(o);return m===+m&&g===+g&&n===+n?p.createElement("path",ly({},x,{className:At("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};Eb.registerSymbol=S8;var Cb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{xb(s)&&(r[s]=(o=>n[s](n,o)))}),r},E8=(e,t,n)=>r=>(e(t,n,r),null),ud=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var o=e[s];xb(s)&&typeof o=="function"&&(r||(r={}),r[s]=E8(o,t,n))}),r};function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(null,arguments)}function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function C8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){Ab(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ab(e,t,n){return(t=A8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A8(e){var t=T8(e,"string");return typeof t=="symbol"?t:t+""}function T8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na=32;class Tb extends p.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,s=Na/2,o=Na/6,u=Na/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Na,y2:s,className:"recharts-legend-icon"});if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Na,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Na/8,"h").concat(Na,"v").concat(Na*3/4,"h").concat(-Na,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var m=C8({},t);return delete m.legendIcon,p.cloneElement(t.legendIcon,m)}return p.createElement(Eb,{fill:d,cx:s,cy:s,size:Na,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:s,inactiveColor:o,iconType:u}=this.props,d={x:0,y:0,width:Na,height:Na},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,x)=>{var b=g.formatter||s,w=At({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:g.inactive});if(g.type==="none")return null;var S=g.inactive?o:g.color,j=b?b(g.value,g,x):g.value;return p.createElement("li",oy({className:w,style:f,key:"legend-item-".concat(x)},ud(this.props,g,x)),p.createElement(vb,{width:n,height:n,viewBox:d,style:m,"aria-label":"".concat(j," legend icon")},this.renderIcon(g,u)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},j))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Ab(Tb,"displayName","Legend");Ab(Tb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var l0={},o0={},pC;function _8(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let o=0;o<n.length;o++){const u=n[o],d=r(u);s.has(d)||s.set(d,u)}return Array.from(s.values())}e.uniqBy=t})(o0)),o0}var c0={},xC;function YR(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(c0)),c0}var u0={},d0={},h0={},vC;function R8(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(h0)),h0}var yC;function _b(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R8();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(d0)),d0}var f0={},bC;function O8(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(f0)),f0}var wC;function k8(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b(),n=O8();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r})(u0)),u0}var m0={},g0={},jC;function D8(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb();function n(r){return function(s){return t.get(s,r)}}e.property=n})(g0)),g0}var p0={},x0={},v0={},y0={},NC;function XR(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(y0)),y0}var b0={},SC;function QR(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(b0)),b0}var w0={},EC;function ZR(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(w0)),w0}var CC;function M8(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR(),n=QR(),r=ZR();function s(g,x,b){return typeof b!="function"?s(g,x,()=>{}):o(g,x,function w(S,j,N,E,C,T){const _=b(S,j,N,E,C,T);return _!==void 0?!!_:o(S,j,w,T)},new Map)}function o(g,x,b,w){if(x===g)return!0;switch(typeof x){case"object":return u(g,x,b,w);case"function":return Object.keys(x).length>0?o(g,{...x},b,w):r.eq(g,x);default:return t.isObject(g)?typeof x=="string"?x==="":!0:r.eq(g,x)}}function u(g,x,b,w){if(x==null)return!0;if(Array.isArray(x))return f(g,x,b,w);if(x instanceof Map)return d(g,x,b,w);if(x instanceof Set)return m(g,x,b,w);const S=Object.keys(x);if(g==null)return S.length===0;if(S.length===0)return!0;if(w?.has(x))return w.get(x)===g;w?.set(x,g);try{for(let j=0;j<S.length;j++){const N=S[j];if(!n.isPrimitive(g)&&!(N in g)||x[N]===void 0&&g[N]!==void 0||x[N]===null&&g[N]!==null||!b(g[N],x[N],N,g,x,w))return!1}return!0}finally{w?.delete(x)}}function d(g,x,b,w){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,j]of x.entries()){const N=g.get(S);if(b(N,j,S,g,x,w)===!1)return!1}return!0}function f(g,x,b,w){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let j=0;j<x.length;j++){const N=x[j];let E=!1;for(let C=0;C<g.length;C++){if(S.has(C))continue;const T=g[C];let _=!1;if(b(T,N,j,g,x,w)&&(_=!0),_){S.add(C),E=!0;break}}if(!E)return!1}return!0}function m(g,x,b,w){return x.size===0?!0:g instanceof Set?f([...g],[...x],b,w):!1}e.isMatchWith=s,e.isSetMatch=m})(v0)),v0}var AC;function JR(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M8();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n})(x0)),x0}var j0={},N0={},S0={},TC;function P8(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(S0)),S0}var E0={},_C;function eO(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(E0)),E0}var C0={},RC;function tO(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",b="[object ArrayBuffer]",w="[object Object]",S="[object Error]",j="[object DataView]",N="[object Uint8Array]",E="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",_="[object BigUint64Array]",O="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",L="[object BigInt64Array]",V="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=g,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=S,e.float32ArrayTag=V,e.float64ArrayTag=J,e.functionTag=x,e.int16ArrayTag=R,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=C,e.uint32ArrayTag=T,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=E})(C0)),C0}var A0={},OC;function I8(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(A0)),A0}var kC;function nO(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P8(),n=eO(),r=tO(),s=QR(),o=I8();function u(g,x){return d(g,void 0,g,new Map,x)}function d(g,x,b,w=new Map,S=void 0){const j=S?.(g,x,b,w);if(j!==void 0)return j;if(s.isPrimitive(g))return g;if(w.has(g))return w.get(g);if(Array.isArray(g)){const N=new Array(g.length);w.set(g,N);for(let E=0;E<g.length;E++)N[E]=d(g[E],E,b,w,S);return Object.hasOwn(g,"index")&&(N.index=g.index),Object.hasOwn(g,"input")&&(N.input=g.input),N}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const N=new RegExp(g.source,g.flags);return N.lastIndex=g.lastIndex,N}if(g instanceof Map){const N=new Map;w.set(g,N);for(const[E,C]of g)N.set(E,d(C,E,b,w,S));return N}if(g instanceof Set){const N=new Set;w.set(g,N);for(const E of g)N.add(d(E,void 0,b,w,S));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const N=new(Object.getPrototypeOf(g)).constructor(g.length);w.set(g,N);for(let E=0;E<g.length;E++)N[E]=d(g[E],E,b,w,S);return N}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const N=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return w.set(g,N),f(N,g,b,w,S),N}if(typeof File<"u"&&g instanceof File){const N=new File([g],g.name,{type:g.type});return w.set(g,N),f(N,g,b,w,S),N}if(typeof Blob<"u"&&g instanceof Blob){const N=new Blob([g],{type:g.type});return w.set(g,N),f(N,g,b,w,S),N}if(g instanceof Error){const N=new g.constructor;return w.set(g,N),N.message=g.message,N.name=g.name,N.stack=g.stack,N.cause=g.cause,f(N,g,b,w,S),N}if(g instanceof Boolean){const N=new Boolean(g.valueOf());return w.set(g,N),f(N,g,b,w,S),N}if(g instanceof Number){const N=new Number(g.valueOf());return w.set(g,N),f(N,g,b,w,S),N}if(g instanceof String){const N=new String(g.valueOf());return w.set(g,N),f(N,g,b,w,S),N}if(typeof g=="object"&&m(g)){const N=Object.create(Object.getPrototypeOf(g));return w.set(g,N),f(N,g,b,w,S),N}return g}function f(g,x,b=g,w,S){const j=[...Object.keys(x),...t.getSymbols(x)];for(let N=0;N<j.length;N++){const E=j[N],C=Object.getOwnPropertyDescriptor(g,E);(C==null||C.writable)&&(g[E]=d(x[E],E,b,w,S))}}function m(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=f})(N0)),N0}var DC;function L8(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nO();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(j0)),j0}var MC;function B8(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR(),n=L8();function r(s){return s=n.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=r})(p0)),p0}var T0={},_0={},R0={},PC;function U8(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nO(),n=tO();function r(s,o){return t.cloneDeepWith(s,(u,d,f,m)=>{const g=o?.(u,d,f,m);if(g!==void 0)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r})(R0)),R0}var IC;function $8(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U8();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(_0)),_0}var O0={},k0={},LC;function rO(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(k0)),k0}var D0={},BC;function z8(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(D0)),D0}var UC;function H8(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KR(),n=rO(),r=z8(),s=Nb();function o(u,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&u?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=u;for(let g=0;g<f.length;g++){const x=f[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(O0)),O0}var $C;function q8(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR(),n=jb(),r=$8(),s=Sb(),o=H8();function u(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const g=s.get(m,d);return g===void 0?o.has(m,d):f===void 0?g===void 0:t.isMatch(g,f)}}e.matchesProperty=u})(T0)),T0}var zC;function F8(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YR(),n=D8(),r=B8(),s=q8();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?s.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=o})(m0)),m0}var HC;function K8(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_8(),n=YR(),r=k8(),s=F8();function o(u,d=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),s.iteratee(d)):[]}e.uniqBy=o})(l0)),l0}var M0,qC;function G8(){return qC||(qC=1,M0=K8().uniqBy),M0}var V8=G8();const FC=hi(V8);function aO(e,t,n){return t===!0?FC(e,n):typeof t=="function"?FC(e,t):e}var P0={exports:{}},I0={},L0={exports:{}},B0={};var KC;function W8(){if(KC)return B0;KC=1;var e=dc();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(x,b){var w=b(),S=r({inst:{value:w,getSnapshot:b}}),j=S[0].inst,N=S[1];return o(function(){j.value=w,j.getSnapshot=b,f(j)&&N({inst:j})},[x,w,b]),s(function(){return f(j)&&N({inst:j}),x(function(){f(j)&&N({inst:j})})},[x]),u(w),w}function f(x){var b=x.getSnapshot;x=x.value;try{var w=b();return!n(x,w)}catch{return!0}}function m(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return B0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,B0}var GC;function Y8(){return GC||(GC=1,L0.exports=W8()),L0.exports}var VC;function X8(){if(VC)return I0;VC=1;var e=dc(),t=Y8();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return I0.useSyncExternalStoreWithSelector=function(m,g,x,b,w){var S=o(null);if(S.current===null){var j={hasValue:!1,value:null};S.current=j}else j=S.current;S=d(function(){function E(R){if(!C){if(C=!0,T=R,R=b(R),w!==void 0&&j.hasValue){var D=j.value;if(w(D,R))return _=D}return _=R}if(D=_,r(T,R))return D;var L=b(R);return w!==void 0&&w(D,L)?(T=R,D):(T=R,_=L)}var C=!1,T,_,O=x===void 0?null:x;return[function(){return E(g())},O===null?void 0:function(){return E(O())}]},[g,x,b,w]);var N=s(m,S[0],S[1]);return u(function(){j.hasValue=!0,j.value=N},[N]),f(N),N},I0}var WC;function Q8(){return WC||(WC=1,P0.exports=X8()),P0.exports}var Z8=Q8(),Rb=p.createContext(null),J8=e=>e,xn=()=>{var e=p.useContext(Rb);return e?e.store.dispatch:J8},kf=()=>{},ez=()=>kf,tz=(e,t)=>e===t;function Qe(e){var t=p.useContext(Rb);return Z8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ez,t?t.store.getState:kf,t?t.store.getState:kf,t?e:kf,tz)}function nz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function rz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function az(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var YC=e=>Array.isArray(e)?e:[e];function iz(e){const t=Array.isArray(e[0])?e[0]:e;return az(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function sz(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var lz=class{constructor(e){this.value=e}deref(){return this.value}},oz=typeof WeakRef<"u"?WeakRef:lz,cz=0,XC=1;function af(){return{s:cz,v:void 0,o:null,p:null}}function iO(e,t={}){let n=af();const{resultEqualityCheck:r}=t;let s,o=0;function u(){let d=n;const{length:f}=arguments;for(let x=0,b=f;x<b;x++){const w=arguments[x];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const j=S.get(w);j===void 0?(d=af(),S.set(w,d)):d=j}else{let S=d.p;S===null&&(d.p=S=new Map);const j=S.get(w);j===void 0?(d=af(),S.set(w,d)):d=j}}const m=d;let g;if(d.s===XC)g=d.v;else if(g=e.apply(null,arguments),o++,r){const x=s?.deref?.()??s;x!=null&&r(x,g)&&(g=x,o!==0&&o--),s=typeof g=="object"&&g!==null||typeof g=="function"?new oz(g):g}return m.s=XC,m.v=g,g}return u.clearCache=()=>{n=af(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function uz(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let o=0,u=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),nz(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...n,...f},{memoize:x,memoizeOptions:b=[],argsMemoize:w=iO,argsMemoizeOptions:S=[]}=g,j=YC(b),N=YC(S),E=iz(s),C=x(function(){return o++,m.apply(null,arguments)},...j),T=w(function(){u++;const O=sz(E,arguments);return d=C.apply(null,O),d},...N);return Object.assign(T,{resultFunc:m,memoizedResultFunc:C,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ge=uz(iO),dz=Object.assign((e,t=ge)=>{rz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((u,d,f)=>(u[n[f]]=d,u),{}))},{withTypes:()=>dz}),U0={},$0={},z0={},QC;function hz(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,o)=>{if(r!==s){const u=t(r),d=t(s);if(u===d&&u===0){if(r<s)return o==="desc"?1:-1;if(r>s)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=n})(z0)),z0}var H0={},q0={},ZC;function sO(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(q0)),q0}var JC;function fz(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=s})(H0)),H0}var eA;function mz(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hz(),n=fz(),r=Nb();function s(o,u,d,f){if(o==null)return[];d=f?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const m=(w,S)=>{let j=w;for(let N=0;N<S.length&&j!=null;++N)j=j[S[N]];return j},g=(w,S)=>S==null||w==null?S:typeof w=="object"&&"key"in w?Object.hasOwn(S,w.key)?S[w.key]:m(S,w.path):typeof w=="function"?w(S):Array.isArray(w)?m(S,w):typeof S=="object"?S[w]:S,x=u.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return o.map(w=>({original:w,criteria:x.map(S=>g(S,w))})).slice().sort((w,S)=>{for(let j=0;j<x.length;j++){const N=t.compareValues(w.criteria[j],S.criteria[j],d[j]);if(N!==0)return N}return 0}).map(w=>w.original)}e.orderBy=s})($0)),$0}var F0={},tA;function gz(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],o=Math.floor(r),u=(d,f)=>{for(let m=0;m<d.length;m++){const g=d[m];Array.isArray(g)&&f<o?u(g,f+1):s.push(g)}};return u(n,0),s}e.flatten=t})(F0)),F0}var K0={},nA;function lO(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO(),n=_b(),r=XR(),s=ZR();function o(u,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],u):!1}e.isIterateeCall=o})(K0)),K0}var rA;function pz(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mz(),n=gz(),r=lO();function s(o,...u){const d=u.length;return d>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,n.flatten(u),["asc"])}e.sortBy=s})(U0)),U0}var G0,aA;function xz(){return aA||(aA=1,G0=pz().sortBy),G0}var vz=xz();const Fm=hi(vz);var oO=e=>e.legend.settings,yz=e=>e.legend.size,bz=e=>e.legend.payload,wz=ge([bz,oO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Fm(r,n):r});function jz(){return Qe(wz)}var sf=1;function cO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=p.useState({height:0,left:0,top:0,width:0}),r=p.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>sf||Math.abs(u.left-t.left)>sf||Math.abs(u.top-t.top)>sf||Math.abs(u.width-t.width)>sf)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function sr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nz=typeof Symbol=="function"&&Symbol.observable||"@@observable",iA=Nz,V0=()=>Math.random().toString(36).substring(7).split("").join("."),Sz={INIT:`@@redux/INIT${V0()}`,REPLACE:`@@redux/REPLACE${V0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${V0()}`},Vf=Sz;function Ob(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uO(e,t,n){if(typeof e!="function")throw new Error(sr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sr(1));return n(uO)(e,t)}let r=e,s=t,o=new Map,u=o,d=0,f=!1;function m(){u===o&&(u=new Map,o.forEach((N,E)=>{u.set(E,N)}))}function g(){if(f)throw new Error(sr(3));return s}function x(N){if(typeof N!="function")throw new Error(sr(4));if(f)throw new Error(sr(5));let E=!0;m();const C=d++;return u.set(C,N),function(){if(E){if(f)throw new Error(sr(6));E=!1,m(),u.delete(C),o=null}}}function b(N){if(!Ob(N))throw new Error(sr(7));if(typeof N.type>"u")throw new Error(sr(8));if(typeof N.type!="string")throw new Error(sr(17));if(f)throw new Error(sr(9));try{f=!0,s=r(s,N)}finally{f=!1}return(o=u).forEach(C=>{C()}),N}function w(N){if(typeof N!="function")throw new Error(sr(10));r=N,b({type:Vf.REPLACE})}function S(){const N=x;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(sr(11));function C(){const _=E;_.next&&_.next(g())}return C(),{unsubscribe:N(C)}},[iA](){return this}}}return b({type:Vf.INIT}),{dispatch:b,subscribe:x,getState:g,replaceReducer:w,[iA]:S}}function Ez(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Vf.INIT})>"u")throw new Error(sr(12));if(typeof n(void 0,{type:Vf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function dO(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let s;try{Ez(n)}catch(o){s=o}return function(u={},d){if(s)throw s;let f=!1;const m={};for(let g=0;g<r.length;g++){const x=r[g],b=n[x],w=u[x],S=b(w,d);if(typeof S>"u")throw d&&d.type,new Error(sr(14));m[x]=S,f=f||S!==w}return f=f||r.length!==Object.keys(u).length,f?m:u}}function Wf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Cz(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(sr(15))};const u={getState:s.getState,dispatch:(f,...m)=>o(f,...m)},d=e.map(f=>f(u));return o=Wf(...d)(s.dispatch),{...s,dispatch:o}}}function hO(e){return Ob(e)&&"type"in e&&typeof e.type=="string"}var fO=Symbol.for("immer-nothing"),sA=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function Ha(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wu=Object.getPrototypeOf;function Hl(e){return!!e&&!!e[la]}function Xi(e){return e?mO(e)||Array.isArray(e)||!!e[sA]||!!e.constructor?.[sA]||dd(e)||Gm(e):!1}var Az=Object.prototype.constructor.toString(),lA=new WeakMap;function mO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=lA.get(n);return r===void 0&&(r=Function.toString.call(n),lA.set(n,r)),r===Az}function Yf(e,t,n=!0){Km(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function Km(e){const t=e[la];return t?t.type_:Array.isArray(e)?1:dd(e)?2:Gm(e)?3:0}function cy(e,t){return Km(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gO(e,t,n){const r=Km(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Tz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function dd(e){return e instanceof Map}function Gm(e){return e instanceof Set}function Sl(e){return e.copy_||e.base_}function uy(e,t){if(dd(e))return new Map(e);if(Gm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=mO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[la];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const u=s[o],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(Wu(e),r)}else{const r=Wu(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function kb(e,t=!1){return Vm(e)||Hl(e)||!Xi(e)||(Km(e)>1&&Object.defineProperties(e,{set:lf,add:lf,clear:lf,delete:lf}),Object.freeze(e),t&&Object.values(e).forEach(n=>kb(n,!0))),e}function _z(){Ha(2)}var lf={value:_z};function Vm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Rz={};function ql(e){const t=Rz[e];return t||Ha(0,e),t}var Yu;function pO(){return Yu}function Oz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oA(e,t){t&&(ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dy(e){hy(e),e.drafts_.forEach(kz),e.drafts_=null}function hy(e){e===Yu&&(Yu=e.parent_)}function cA(e){return Yu=Oz(Yu,e)}function kz(e){const t=e[la];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[la].modified_&&(dy(t),Ha(4)),Xi(e)&&(e=Xf(t,e),t.parent_||Qf(t,e)),t.patches_&&ql("Patches").generateReplacementPatches_(n[la].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,n,[]),dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fO?e:void 0}function Xf(e,t,n){if(Vm(t))return t;const r=e.immer_.shouldUseStrictIteration(),s=t[la];if(!s)return Yf(t,(o,u)=>dA(e,s,t,o,u,n),r),t;if(s.scope_!==e)return t;if(!s.modified_)return Qf(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,d=!1;s.type_===3&&(u=new Set(o),o.clear(),d=!0),Yf(u,(f,m)=>dA(e,s,o,f,m,n,d),r),Qf(e,o,!1),n&&e.patches_&&ql("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function dA(e,t,n,r,s,o,u){if(s==null||typeof s!="object"&&!u)return;const d=Vm(s);if(!(d&&!u)){if(Hl(s)){const f=o&&t&&t.type_!==3&&!cy(t.assigned_,r)?o.concat(r):void 0,m=Xf(e,s,f);if(gO(n,r,m),Hl(m))e.canAutoFreeze_=!1;else return}else u&&n.add(s);if(Xi(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===s&&d)return;Xf(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(dd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Qf(e,s)}}}function Qf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kb(t,n)}function Dz(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Db;n&&(s=[r],o=Xu);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return r.draft_=d,r.revoke_=u,d}var Db={get(e,t){if(t===la)return e;const n=Sl(e);if(!cy(n,t))return Mz(e,n,t);const r=n[t];return e.finalized_||!Xi(r)?r:r===W0(e.base_,t)?(Y0(e),e.copy_[t]=my(r,e)):r},has(e,t){return t in Sl(e)},ownKeys(e){return Reflect.ownKeys(Sl(e))},set(e,t,n){const r=xO(Sl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=W0(Sl(e),t),o=s?.[la];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Tz(n,s)&&(n!==void 0||cy(e.base_,t)))return!0;Y0(e),fy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return W0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Y0(e),fy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Sl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ha(11)},getPrototypeOf(e){return Wu(e.base_)},setPrototypeOf(){Ha(12)}},Xu={};Yf(Db,(e,t)=>{Xu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xu.deleteProperty=function(e,t){return Xu.set.call(this,e,t,void 0)};Xu.set=function(e,t,n){return Db.set.call(this,e[0],t,n,e[0])};function W0(e,t){const n=e[la];return(n?Sl(n):e)[t]}function Mz(e,t,n){const r=xO(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function xO(e,t){if(!(t in e))return;let n=Wu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Wu(n)}}function fy(e){e.modified_||(e.modified_=!0,e.parent_&&fy(e.parent_))}function Y0(e){e.copy_||(e.copy_=uy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(f=o,...m){return u.produce(f,g=>n.call(this,g,...m))}}typeof n!="function"&&Ha(6),r!==void 0&&typeof r!="function"&&Ha(7);let s;if(Xi(t)){const o=cA(this),u=my(t,void 0);let d=!0;try{s=n(u),d=!1}finally{d?dy(o):hy(o)}return oA(o,r),uA(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===fO&&(s=void 0),this.autoFreeze_&&kb(s,!0),r){const o=[],u=[];ql("Patches").generateReplacementPatches_(t,s,o,u),r(o,u)}return s}else Ha(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,f=>t(f,...d));let r,s;return[this.produce(t,n,(u,d)=>{r=u,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xi(e)||Ha(8),Hl(e)&&(e=Fi(e));const t=cA(this),n=my(e,void 0);return n[la].isManual_=!0,hy(t),n}finishDraft(e,t){const n=e&&e[la];(!n||!n.isManual_)&&Ha(9);const{scope_:r}=n;return oA(r,t),uA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=ql("Patches").applyPatches_;return Hl(e)?r(e,t):this.produce(e,s=>r(s,t))}};function my(e,t){const n=dd(e)?ql("MapSet").proxyMap_(e,t):Gm(e)?ql("MapSet").proxySet_(e,t):Dz(e,t);return(t?t.scope_:pO()).drafts_.push(n),n}function Fi(e){return Hl(e)||Ha(10,e),vO(e)}function vO(e){if(!Xi(e)||Vm(e))return e;const t=e[la];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=uy(e,!0);return Yf(n,(s,o)=>{gO(n,s,vO(o))},r),t&&(t.finalized_=!1),n}var gy=new Pz,yO=gy.produce,Iz=gy.setUseStrictIteration.bind(gy);function bO(e){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,e):s(o)}var Lz=bO(),Bz=bO,Uz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wf:Wf.apply(null,arguments)};function Ma(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(aa(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>hO(r)&&r.type===e,n}var wO=class ku extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ku.prototype)}static get[Symbol.species](){return ku}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ku(...t[0].concat(this)):new ku(...t.concat(this))}};function hA(e){return Xi(e)?yO(e,()=>{}):e}function of(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function $z(e){return typeof e=="boolean"}var zz=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let u=new wO;return n&&($z(n)?u.push(Lz):u.push(Bz(n.extraArgument))),u},jO="RTK_autoBatch",Nr=()=>e=>({payload:e,meta:{[jO]:!0}}),fA=e=>t=>{setTimeout(t,e)},NO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,o=!1,u=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fA(10):e.type==="callback"?e.queueNotification:fA(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>s&&g(),b=r.subscribe(x);return d.add(g),()=>{b(),d.delete(g)}},dispatch(g){try{return s=!g?.meta?.[jO],o=!s,o&&(u||(u=!0,f(m))),r.dispatch(g)}finally{s=!0}}})},Hz=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new wO(e);return r&&s.push(NO(typeof r=="object"?r:void 0)),s};function qz(e){const t=zz(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Ob(n))d=dO(n);else throw new Error(aa(1));let f;typeof r=="function"?f=r(t):f=t();let m=Wf;s&&(m=Uz({trace:!1,...typeof s=="object"&&s}));const g=Cz(...f),x=Hz(g);let b=typeof u=="function"?u(x):x();const w=m(...b);return uO(d,o,w)}function SO(e){const t={},n=[];let r;const s={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(aa(28));if(d in t)throw new Error(aa(29));return t[d]=u,s},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return n.push({matcher:o,reducer:u}),s},addDefaultCase(o){return r=o,s}};return e(s),[t,n,r]}Iz(!1);function Fz(e){return typeof e=="function"}function Kz(e,t){let[n,r,s]=SO(t),o;if(Fz(e))o=()=>hA(e());else{const d=hA(e);o=()=>d}function u(d=o(),f){let m=[n[f.type],...r.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[s]),m.reduce((g,x)=>{if(x)if(Hl(g)){const w=x(g,f);return w===void 0?g:w}else{if(Xi(g))return yO(g,b=>x(b,f));{const b=x(g,f);if(b===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return g},d)}return u.getInitialState=o,u}var Gz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vz=(e=21)=>{let t="",n=e;for(;n--;)t+=Gz[Math.random()*64|0];return t},Wz=Symbol.for("rtk-slice-createasyncthunk");function Yz(e,t){return`${e}/${t}`}function Xz({creators:e}={}){const t=e?.asyncThunk?.[Wz];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(aa(11));const u=(typeof r.reducers=="function"?r.reducers(Zz()):r.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,_){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(aa(12));if(O in f.sliceCaseReducersByType)throw new Error(aa(13));return f.sliceCaseReducersByType[O]=_,m},addMatcher(T,_){return f.sliceMatchers.push({matcher:T,reducer:_}),m},exposeAction(T,_){return f.actionCreators[T]=_,m},exposeCaseReducer(T,_){return f.sliceCaseReducersByName[T]=_,m}};d.forEach(T=>{const _=u[T],O={reducerName:T,type:Yz(s,T),createNotation:typeof r.reducers=="function"};e9(_)?n9(O,_,m,t):Jz(O,_,m)});function g(){const[T={},_=[],O=void 0]=typeof r.extraReducers=="function"?SO(r.extraReducers):[r.extraReducers],R={...T,...f.sliceCaseReducersByType};return Kz(r.initialState,D=>{for(let L in R)D.addCase(L,R[L]);for(let L of f.sliceMatchers)D.addMatcher(L.matcher,L.reducer);for(let L of _)D.addMatcher(L.matcher,L.reducer);O&&D.addDefaultCase(O)})}const x=T=>T,b=new Map,w=new WeakMap;let S;function j(T,_){return S||(S=g()),S(T,_)}function N(){return S||(S=g()),S.getInitialState()}function E(T,_=!1){function O(D){let L=D[T];return typeof L>"u"&&_&&(L=of(w,O,N)),L}function R(D=x){const L=of(b,_,()=>new WeakMap);return of(L,D,()=>{const V={};for(const[J,B]of Object.entries(r.selectors??{}))V[J]=Qz(B,D,()=>of(w,D,N),_);return V})}return{reducerPath:T,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const C={name:s,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...E(o),injectInto(T,{reducerPath:_,...O}={}){const R=_??o;return T.inject({reducerPath:R,reducer:j},O),{...C,...E(R,!0)}}};return C}}function Qz(e,t,n,r){function s(o,...u){let d=t(o);return typeof d>"u"&&r&&(d=n()),e(d,...u)}return s.unwrapped=e,s}var oa=Xz();function Zz(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Jz({type:e,reducerName:t,createNotation:n},r,s){let o,u;if("reducer"in r){if(n&&!t9(r))throw new Error(aa(17));o=r.reducer,u=r.prepare}else o=r;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Ma(e,u):Ma(e))}function e9(e){return e._reducerDefinitionType==="asyncThunk"}function t9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function n9({type:e,reducerName:t},n,r,s){if(!s)throw new Error(aa(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:f,settled:m,options:g}=n,x=s(e,o,g);r.exposeAction(t,x),u&&r.addCase(x.fulfilled,u),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:u||cf,pending:d||cf,rejected:f||cf,settled:m||cf})}function cf(){}var r9="task",EO="listener",CO="completed",Mb="cancelled",a9=`task-${Mb}`,i9=`task-${CO}`,py=`${EO}-${Mb}`,s9=`${EO}-${CO}`,Wm=class{constructor(e){this.code=e,this.message=`${r9} ${Mb} (reason: ${e})`}name="TaskAbortError";message},Pb=(e,t)=>{if(typeof e!="function")throw new TypeError(aa(32))},Zf=()=>{},AO=(e,t=Zf)=>(e.catch(t),e),TO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),kl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Dl=e=>{if(e.aborted){const{reason:t}=e;throw new Wm(t)}};function _O(e,t){let n=Zf;return new Promise((r,s)=>{const o=()=>s(new Wm(e.reason));if(e.aborted){o();return}n=TO(e,o),t.finally(()=>n()).then(r,s)}).finally(()=>{n=Zf})}var l9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wm?"cancelled":"rejected",error:n}}finally{t?.()}},Jf=e=>t=>AO(_O(e,t).then(n=>(Dl(e),n))),RO=e=>{const t=Jf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Qo}=Object,mA={},Ym="listenerMiddleware",o9=(e,t)=>{const n=r=>TO(e,()=>kl(r,e.reason));return(r,s)=>{Pb(r);const o=new AbortController;n(o);const u=l9(async()=>{Dl(e),Dl(o.signal);const d=await r({pause:Jf(o.signal),delay:RO(o.signal),signal:o.signal});return Dl(o.signal),d},()=>kl(o,i9));return s?.autoJoin&&t.push(u.catch(Zf)),{result:Jf(e)(u),cancel(){kl(o,a9)}}}},c9=(e,t)=>{const n=async(r,s)=>{Dl(t);let o=()=>{};const d=[new Promise((f,m)=>{let g=e({predicate:r,effect:(x,b)=>{b.unsubscribe(),f([x,b.getState(),b.getOriginalState()])}});o=()=>{g(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await _O(t,Promise.race(d));return Dl(t),f}finally{o()}};return(r,s)=>AO(n(r,s))},OO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:o}=e;if(t)s=Ma(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(aa(21));return Pb(o),{predicate:s,type:t,effect:o}},kO=Qo(e=>{const{type:t,predicate:n,effect:r}=OO(e);return{id:Vz(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(aa(22))}}},{withTypes:()=>kO}),gA=(e,t)=>{const{type:n,effect:r,predicate:s}=OO(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===s)&&o.effect===r)},xy=e=>{e.pending.forEach(t=>{kl(t,py)})},u9=(e,t)=>()=>{for(const n of t.keys())xy(n);e.clear()},pA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},DO=Qo(Ma(`${Ym}/add`),{withTypes:()=>DO}),d9=Ma(`${Ym}/removeAll`),MO=Qo(Ma(`${Ym}/remove`),{withTypes:()=>MO}),h9=(...e)=>{console.error(`${Ym}/error`,...e)},hd=(e={})=>{const t=new Map,n=new Map,r=w=>{const S=n.get(w)??0;n.set(w,S+1)},s=w=>{const S=n.get(w)??1;S===1?n.delete(w):n.set(w,S-1)},{extra:o,onError:u=h9}=e;Pb(u);const d=w=>(w.unsubscribe=()=>t.delete(w.id),t.set(w.id,w),S=>{w.unsubscribe(),S?.cancelActive&&xy(w)}),f=w=>{const S=gA(t,w)??kO(w);return d(S)};Qo(f,{withTypes:()=>f});const m=w=>{const S=gA(t,w);return S&&(S.unsubscribe(),w.cancelActive&&xy(S)),!!S};Qo(m,{withTypes:()=>m});const g=async(w,S,j,N)=>{const E=new AbortController,C=c9(f,E.signal),T=[];try{w.pending.add(E),r(w),await Promise.resolve(w.effect(S,Qo({},j,{getOriginalState:N,condition:(_,O)=>C(_,O).then(Boolean),take:C,delay:RO(E.signal),pause:Jf(E.signal),extra:o,signal:E.signal,fork:o9(E.signal,T),unsubscribe:w.unsubscribe,subscribe:()=>{t.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((_,O,R)=>{_!==E&&(kl(_,py),R.delete(_))})},cancel:()=>{kl(E,py),w.pending.delete(E)},throwIfCancelled:()=>{Dl(E.signal)}})))}catch(_){_ instanceof Wm||pA(u,_,{raisedBy:"effect"})}finally{await Promise.all(T),kl(E,s9),s(w),w.pending.delete(E)}},x=u9(t,n);return{middleware:w=>S=>j=>{if(!hO(j))return S(j);if(DO.match(j))return f(j.payload);if(d9.match(j)){x();return}if(MO.match(j))return m(j.payload);let N=w.getState();const E=()=>{if(N===mA)throw new Error(aa(23));return N};let C;try{if(C=S(j),t.size>0){const T=w.getState(),_=Array.from(t.values());for(const O of _){let R=!1;try{R=O.predicate(j,T,N)}catch(D){R=!1,pA(u,D,{raisedBy:"predicate"})}R&&g(O,j,w,E)}}}finally{N=mA}return C},startListening:f,stopListening:m,clearListeners:x}};function aa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var f9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PO=oa({name:"chartLayout",initialState:f9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,s,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:m9,setLayout:g9,setChartSize:p9,setScale:x9}=PO.actions,v9=PO.reducer;function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y9(e,t,n){return(t=b9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e){var t=w9(e,"string");return typeof t=="symbol"?t:t+""}function w9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var em=Math.PI/180,j9=e=>e*180/Math.PI,Bn=(e,t,n,r)=>({x:e+Math.cos(-em*r)*n,y:t+Math.sin(-em*r)*n}),IO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},N9=(e,t)=>{var{x:n,y:r}=e,{x:s,y:o}=t;return Math.sqrt((n-s)**2+(r-o)**2)},S9=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:o}=t,u=N9({x:n,y:r},{x:s,y:o});if(u<=0)return{radius:u,angle:0};var d=(n-s)/u,f=Math.acos(d);return r>o&&(f=2*Math.PI-f),{radius:u,angle:j9(f),angleInRadian:f}},E9=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),o=Math.min(r,s);return{startAngle:t-o*360,endAngle:n-o*360}},C9=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(s,o);return e+u*360},A9=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:o}=S9({x:n,y:r},t),{innerRadius:u,outerRadius:d}=t;if(s<u||s>d||s===0)return null;var{startAngle:f,endAngle:m}=E9(t),g=o,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?vA(vA({},t),{},{radius:s,angle:C9(g,t)}):null};function LO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){T9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T9(e,t,n){return(t=_9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tn(e,t,n){return pn(e)||pn(t)?n:oi(t)?zl(e,t,n):typeof t=="function"?t(e):n}var O9=(e,t,n,r,s)=>{var o,u=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,g=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,b=void 0;if(er(g-m)!==er(x-g)){var w=[];if(er(x-g)===er(s[1]-s[0])){b=x;var S=g+s[1]-s[0];w[0]=Math.min(S,(S+m)/2),w[1]=Math.max(S,(S+m)/2)}else{b=m;var j=x+s[1]-s[0];w[0]=Math.min(g,(j+g)/2),w[1]=Math.max(g,(j+g)/2)}var N=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>N[0]&&e<=N[1]||e>=w[0]&&e<=w[1]){({index:u}=n[f]);break}}else{var E=Math.min(m,x),C=Math.max(m,x);if(e>(E+g)/2&&e<=(C+g)/2){({index:u}=n[f]);break}}}else if(t){for(var T=0;T<d;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:u}=t[T]);break}}return u},k9=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&tt(e[o]))return Aa(Aa({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&tt(e[u]))return Aa(Aa({},e),{},{[u]:e[u]+(s||0)})}return e},Vs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BO=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var s,o,u=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate));return s||u.push(t),o||u.push(n),u},UO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:o,scale:u,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:b,axisType:w}=e;if(!u)return null;var S=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,j=s==="category"&&u.bandwidth?u.bandwidth()/S:0;if(j=w==="angleAxis"&&o&&o.length>=2?er(o[0]-o[1])*2*j:j,x||b){var N=(x||b||[]).map((E,C)=>{var T=r?r.indexOf(E):E;return{coordinate:u(T)+j,value:E,offset:j,index:C}});return N.filter(E=>!Da(E.coordinate))}return f&&m?m.map((E,C)=>({coordinate:u(E)+j,value:E,index:C,offset:j})):u.ticks&&g!=null?u.ticks(g).map((E,C)=>({coordinate:u(E)+j,value:E,offset:j,index:C})):u.domain().map((E,C)=>({coordinate:u(E)+j,value:r?r[E]:E,index:C,offset:j}))},bA=1e-4,D9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-bA,o=Math.max(r[0],r[1])+bA,u=e(t[0]),d=e(t[n-1]);(u<s||u>o||d<s||d>o)&&e.domain([t[0],t[n-1]])}},M9=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!tt(e[0])||e[0]<n)&&(s[0]=n),(!tt(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},P9=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,o=0,u=0;u<t;++u){var d=Da(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},I9=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,o=0;o<t;++o){var u=Da(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},L9={sign:P9,expand:l8,none:nc,silhouette:o8,wiggle:c8,positive:I9},B9=(e,t,n)=>{var r=L9[n],s=s8().keys(t).value((o,u)=>+tn(o,u,0)).order(sy).offset(r);return s(e)};function U9(e){return e==null?void 0:String(e)}function wA(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pn(s[t.dataKey])){var d=VR(n,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=tn(s,pn(u)?t.dataKey:u);return pn(f)?null:t.scale(f)}var jA=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:o,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var d=tn(o,t.dataKey,t.scale.domain()[u]);return pn(d)?null:t.scale(d)-s/2+r},$9=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},z9=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},H9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],q9=(e,t,n)=>{if(e!=null)return H9(Object.keys(e).reduce((r,s)=>{var o=e[s],{stackedData:u}=o,d=u.reduce((f,m)=>{var g=LO(m,t,n),x=z9(g);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},NA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qu=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=Fm(t,g=>g.coordinate),o=1/0,u=1,d=s.length;u<d;u++){var f=s[u],m=s[u-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function EA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:o}=e;return Aa(Aa({},t),{},{dataKey:n,payload:r,value:s,name:o})}function bc(e,t){if(e)return String(e);if(typeof t=="string")return t}function F9(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return r?A9({x:e,y:t},r):null}var K9=(e,t,n,r)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:u}=r;return Aa(Aa(Aa({},r),Bn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,{angle:f}=r;return Aa(Aa(Aa({},r),Bn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},G9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,es=e=>e.layout.width,ts=e=>e.layout.height,V9=e=>e.layout.scale,$O=e=>e.layout.margin,Xm=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qm=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zO="data-recharts-item-index",HO="data-recharts-item-data-key",fd=60;function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){W9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W9(e,t,n){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q9=e=>e.brush.height;function Z9(e){var t=Qm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:fd;return n+s}return n},0)}function J9(e){var t=Qm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:fd;return n+s}return n},0)}function e7(e){var t=Xm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function t7(e){var t=Xm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Fn=ge([es,ts,$O,Q9,Z9,J9,e7,t7,oO,yz],(e,t,n,r,s,o,u,d,f,m)=>{var g={left:(n.left||0)+s,right:(n.right||0)+o},x={top:(n.top||0)+u,bottom:(n.bottom||0)+d},b=uf(uf({},x),g),w=b.bottom;b.bottom+=r,b=k9(b,f,m);var S=e-b.left-b.right,j=t-b.top-b.bottom;return uf(uf({brushBottom:w},b),{},{width:Math.max(S,0),height:Math.max(j,0)})}),n7=ge(Fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ib=ge(es,ts,(e,t)=>({x:0,y:0,width:e,height:t})),r7=p.createContext(null),Tr=()=>p.useContext(r7)!=null,Zm=e=>e.brush,Jm=ge([Zm,Fn,$O],(e,t,n)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:tt(e.width)?e.width:t.width})),X0={},Q0={},Z0={},AA;function a7(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:o}={}){let u,d=null;const f=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{d!==null&&(n.apply(u,d),u=void 0,d=null)},x=()=>{m&&g(),j()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},j=()=>{S(),u=void 0,d=null},N=()=>{g()},E=function(...C){if(s?.aborted)return;u=this,d=C;const T=b==null;w(),f&&T&&g()};return E.schedule=w,E.cancel=j,E.flush=N,s?.addEventListener("abort",j,{once:!0}),E}e.debounce=t})(Z0)),Z0}var TA;function i7(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a7();function n(r,s=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:f}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let g,x=null;const b=t.debounce(function(...j){g=r.apply(this,j),x=null},s,{edges:m}),w=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(g=r.apply(this,j),x=Date.now(),b.cancel(),b.schedule(),g):(b.apply(this,j),g)},S=()=>(b.flush(),g);return w.cancel=b.cancel,w.flush=S,w}e.debounce=n})(Q0)),Q0}var _A;function s7(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i7();function n(r,s=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(r,s,{leading:u,maxWait:s,trailing:d})}e.throttle=n})(X0)),X0}var J0,RA;function l7(){return RA||(RA=1,J0=s7().throttle),J0}var o7=l7();const c7=hi(o7);var tm=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o]},qO=(e,t,n)=>{var{width:r="100%",height:s="100%",aspect:o,maxHeight:u}=n,d=Yi(r)?e:Number(r),f=Yi(s)?t:Number(s);return o&&o>0&&(d?f=d/o:f&&(d=f*o),u&&f>u&&(f=u)),{calculatedWidth:d,calculatedHeight:f}},u7={width:0,height:0,overflow:"visible"},d7={width:0,overflowX:"visible"},h7={height:0,overflowY:"visible"},f7={},m7=e=>{var{width:t,height:n}=e,r=Yi(t),s=Yi(n);return r&&s?u7:r?d7:s?h7:f7};function g7(e){var{width:t,height:n,aspect:r}=e,s=t,o=n;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:s,height:o}}function vr(e){return Number.isFinite(e)}function rc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){p7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FO=p.createContext({width:-1,height:-1});function KO(e){var{children:t,width:n,height:r}=e,s=p.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:p.createElement(FO.Provider,{value:s},t)}var Lb=()=>p.useContext(FO),y7=p.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s,height:o,minWidth:u=0,minHeight:d,maxHeight:f,children:m,debounce:g=0,id:x,className:b,onResize:w,style:S={}}=e,j=p.useRef(null),N=p.useRef();N.current=w,p.useImperativeHandle(t,()=>j.current);var[E,C]=p.useState({containerWidth:r.width,containerHeight:r.height}),T=p.useCallback((L,V)=>{C(J=>{var B=Math.round(L),F=Math.round(V);return J.containerWidth===B&&J.containerHeight===F?J:{containerWidth:B,containerHeight:F}})},[]);p.useEffect(()=>{var L=F=>{var re,{width:be,height:xe}=F[0].contentRect;T(be,xe),(re=N.current)===null||re===void 0||re.call(N,be,xe)};g>0&&(L=c7(L,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(L),{width:J,height:B}=j.current.getBoundingClientRect();return T(J,B),V.observe(j.current),()=>{V.disconnect()}},[T,g]);var{containerWidth:_,containerHeight:O}=E;tm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:D}=qO(_,O,{width:s,height:o,aspect:n,maxHeight:f});return tm(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,s,o,u,d,n),p.createElement("div",{id:x?"".concat(x):void 0,className:At("recharts-responsive-container",b),style:kA(kA({},S),{},{width:s,height:o,minWidth:u,minHeight:d,maxHeight:f}),ref:j},p.createElement("div",{style:m7({width:s,height:o})},p.createElement(KO,{width:R,height:D},m)))}),md=p.forwardRef((e,t)=>{var n=Lb();if(rc(n.width)&&rc(n.height))return e.children;var{width:r,height:s}=g7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=qO(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return tt(o)&&tt(u)?p.createElement(KO,{width:o,height:u},e.children):p.createElement(y7,vy({},e,{width:r,height:s,ref:t}))}),eg=()=>{var e,t=Tr(),n=Qe(n7),r=Qe(Jm),s=(e=Qe(Zm))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},b7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GO=()=>{var e;return(e=Qe(Fn))!==null&&e!==void 0?e:b7},Bb=()=>Qe(es),Ub=()=>Qe(ts),w7=()=>Qe(e=>e.layout.margin),Tt=e=>e.layout.layoutType,tg=()=>Qe(Tt),ng=e=>{var t=xn(),n=Tr(),{width:r,height:s}=e,o=Lb(),u=r,d=s;return o&&(u=o.width>0?o.width:r,d=o.height>0?o.height:s),p.useEffect(()=>{!n&&rc(u)&&rc(d)&&t(p9({width:u,height:d}))},[t,n,u,d]),null},j7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VO=oa({name:"legend",initialState:j7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Nr()},removeLegendPayload:{reducer(e,t){var n=Fi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Nr()}}}),{setLegendSize:DA,setLegendSettings:N7,addLegendPayload:WO,removeLegendPayload:YO}=VO.actions,S7=VO.reducer,E7=["contextPayload"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(null,arguments)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){$b(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $b(e,t,n){return(t=C7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7(e){var t=A7(e,"string");return typeof t=="symbol"?t:t+""}function A7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e,t){if(e==null)return{};var n,r,s=_7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function R7(e){return e.value}function O7(e){var{contextPayload:t}=e,n=T7(e,E7),r=aO(t,e.payloadUniqBy,R7),s=ac(ac({},n),{},{payload:r});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(Tb,s)}function k7(e,t,n,r,s,o){var{layout:u,align:d,verticalAlign:f}=t,m,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&u==="vertical"?m={left:((r||0)-o.width)/2}:m=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?g={top:((s||0)-o.height)/2}:g=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ac(ac({},m),g)}function D7(e){var t=xn();return p.useEffect(()=>{t(N7(e))},[t,e]),null}function M7(e){var t=xn();return p.useEffect(()=>(t(DA(e)),()=>{t(DA({width:0,height:0}))}),[t,e]),null}function P7(e){var t=jz(),n=R$(),r=w7(),{width:s,height:o,wrapperStyle:u,portal:d}=e,[f,m]=cO([t]),g=Bb(),x=Ub();if(g==null||x==null)return null;var b=g-(r.left||0)-(r.right||0),w=Ql.getWidthOrHeight(e.layout,o,s,b),S=d?u:ac(ac({position:"absolute",width:w?.width||s||"auto",height:w?.height||o||"auto"},k7(u,e,r,g,x,f)),u),j=d??n;if(j==null)return null;var N=p.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:m},p.createElement(D7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(M7,{width:f.width,height:f.height}),p.createElement(O7,yy({},e,w,{margin:r,chartWidth:g,chartHeight:x,contextPayload:t})));return Pm.createPortal(N,j)}class Ql extends p.PureComponent{static getWidthOrHeight(t,n,r,s){return t==="vertical"&&tt(n)?{height:n}:t==="horizontal"?{width:r||s}:null}render(){return p.createElement(P7,this.props)}}$b(Ql,"displayName","Legend");$b(Ql,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){I7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I7(e,t,n){return(t=L7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U7(e){return Array.isArray(e)&&oi(e[0])&&oi(e[1])?e.join(" ~ "):e}var $7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:o,formatter:u,itemSorter:d,wrapperClassName:f,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:b=!1}=e,w=()=>{if(o&&o.length){var O={padding:0,margin:0},R=(d?Fm(o,d):o).map((D,L)=>{if(D.type==="none")return null;var V=D.formatter||u||U7,{value:J,name:B}=D,F=J,re=B;if(V){var be=V(J,B,D,L,o);if(Array.isArray(be))[F,re]=be;else if(be!=null)F=be;else return null}var xe=ev({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:xe},oi(re)?p.createElement("span",{className:"recharts-tooltip-item-name"},re):null,oi(re)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},F),p.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},S=ev({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=ev({margin:0},s),N=!pn(g),E=N?g:"",C=At("recharts-default-tooltip",f),T=At("recharts-tooltip-label",m);N&&x&&o!==void 0&&o!==null&&(E=x(g,o));var _=b?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",by({className:C,style:S},_),p.createElement("p",{className:T,style:j},p.isValidElement(E)?E:"".concat(E)),w())},Nu="recharts-tooltip-wrapper",z7={visibility:"hidden"};function H7(e){var{coordinate:t,translateX:n,translateY:r}=e;return At(Nu,{["".concat(Nu,"-right")]:tt(n)&&t&&tt(t.x)&&n>=t.x,["".concat(Nu,"-left")]:tt(n)&&t&&tt(t.x)&&n<t.x,["".concat(Nu,"-bottom")]:tt(r)&&t&&tt(t.y)&&r>=t.y,["".concat(Nu,"-top")]:tt(r)&&t&&tt(t.y)&&r<t.y})}function IA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:o,reverseDirection:u,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(o&&tt(o[r]))return o[r];var g=n[r]-d-(s>0?s:0),x=n[r]+s;if(t[r])return u[r]?g:x;var b=f[r];if(b==null)return 0;if(u[r]){var w=g,S=b;return w<S?Math.max(x,b):Math.max(g,b)}if(m==null)return 0;var j=x+d,N=b+m;return j>N?Math.max(g,b):Math.max(x,b)}function q7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function F7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,m,g,x;return u.height>0&&u.width>0&&n?(g=IA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),x=IA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),m=q7({translateX:g,translateY:x,useTranslate3d:d})):m=z7,{cssProperties:m,cssClasses:H7({translateX:g,translateY:x,coordinate:n})}}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){wy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wy(e,t,n){return(t=K7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class V7 extends p.PureComponent{constructor(){super(...arguments),wy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:o,coordinate:u,hasPayload:d,isAnimationActive:f,offset:m,position:g,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:S,lastBoundingBox:j,innerRef:N,hasPortalFromProps:E}=this.props,{cssClasses:C,cssProperties:T}=F7({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:b,viewBox:w}),_=E?{}:df(df({transition:f&&t?"transform ".concat(r,"ms ").concat(s):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=df(df({},_),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},S);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:O,ref:N},o)}}var W7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ws={devToolsEnabled:!1,isSsr:W7()},XO=()=>Qe(e=>e.rootProps.accessibilityLayer);function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return(t=X7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $A={curveBasisClosed:Y$,curveBasisOpen:X$,curveBasis:W$,curveBumpX:M$,curveBumpY:P$,curveLinearClosed:Q$,curveLinear:Hm,curveMonotoneX:Z$,curveMonotoneY:J$,curveNatural:e8,curveStep:t8,curveStepAfter:r8,curveStepBefore:n8},hf=e=>vr(e.x)&&vr(e.y),Su=e=>e.x,Eu=e=>e.y,Z7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(cd(e));return(n==="curveMonotone"||n==="curveBump")&&t?$A["".concat(n).concat(t==="vertical"?"Y":"X")]:$A[n]||Hm},J7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:o=!1}=e,u=Z7(t,s),d=o?n.filter(hf):n,f;if(Array.isArray(r)){var m=o?r.filter(x=>hf(x)):r,g=d.map((x,b)=>UA(UA({},x),{},{base:m[b]}));return s==="vertical"?f=rf().y(Eu).x1(Su).x0(x=>x.base.x):f=rf().x(Su).y1(Eu).y0(x=>x.base.y),f.defined(hf).curve(u),f(g)}return s==="vertical"&&tt(r)?f=rf().y(Eu).x1(Su).x0(r):tt(r)?f=rf().x(Su).y1(Eu).y0(r):f=MR().x(Su).y(Eu),f.defined(hf).curve(u),f(d)},zb=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?J7(e):r;return p.createElement("path",jy({},sa(e),Cb(e),{className:At("recharts-curve",t),d:o===null?void 0:o,ref:s}))},eH=["x","y","top","left","width","height","className"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){nH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nH(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){if(e==null)return{};var n,r,s=sH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lH=(e,t,n,r,s,o)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),oH=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:o=0,height:u=0,className:d}=e,f=iH(e,eH),m=tH({x:t,y:n,top:r,left:s,width:o,height:u},f);return!tt(t)||!tt(n)||!tt(o)||!tt(u)||!tt(r)||!tt(s)?null:p.createElement("path",Ny({},Ar(m),{className:At("recharts-cross",d),d:lH(t,n,o,u,r,s)}))};function cH(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function uH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){dH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dH(e,t,n){return(t=hH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(e,t){var n=uH({},e),r=t,s=Object.keys(t),o=s.reduce((u,d)=>(u[d]===void 0&&r[d]!==void 0&&(u[d]=r[d]),u),n);return o}function mH(){}function gH(e){return e!=null}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){pH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pH(e,t,n){return(t=xH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QO=(e,t,n)=>e.map(r=>"".concat(yH(r)," ").concat(t,"ms ").concat(n)).join(","),bH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),Zu=(e,t)=>Object.keys(t).reduce((n,r)=>FA(FA({},n),{},{[r]:e(r,t[r])}),{});function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){wH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wH(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nm=(e,t,n)=>e+(t-e)*n,Sy=e=>{var{from:t,to:n}=e;return t!==n},ZO=(e,t,n)=>{var r=Zu((s,o)=>{if(Sy(o)){var[u,d]=e(o.from,o.to,o.velocity);return lr(lr({},o),{},{from:u,velocity:d})}return o},t);return n<1?Zu((s,o)=>Sy(o)?lr(lr({},o),{},{velocity:nm(o.velocity,r[s].velocity,n),from:nm(o.from,r[s].from,n)}):o,t):ZO(e,r,n-1)};function SH(e,t,n,r,s,o){var u,d=r.reduce((b,w)=>lr(lr({},b),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),f=()=>Zu((b,w)=>w.from,d),m=()=>!Object.values(d).filter(Sy).length,g=null,x=b=>{u||(u=b);var w=b-u,S=w/n.dt;d=ZO(n,d,S),s(lr(lr(lr({},e),t),f())),u=b,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function EH(e,t,n,r,s,o,u){var d=null,f=s.reduce((x,b)=>lr(lr({},x),{},{[b]:[e[b],t[b]]}),{}),m,g=x=>{m||(m=x);var b=(x-m)/r,w=Zu((j,N)=>nm(...N,n(b)),f);if(o(lr(lr(lr({},e),t),w)),b<1)d=u.setTimeout(g);else{var S=Zu((j,N)=>nm(...N,n(1)),f);o(lr(lr(lr({},e),t),S))}};return()=>(d=u.setTimeout(g),()=>{d()})}const CH=(e,t,n,r,s,o)=>{var u=bH(e,t);return n.isStepper===!0?SH(e,t,n,u,s,o):EH(e,t,n,r,u,s,o)};var rm=1e-4,JO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ek=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),GA=(e,t)=>n=>{var r=JO(e,t);return ek(r,n)},AH=(e,t)=>n=>{var r=JO(e,t),s=[...r.map((o,u)=>o*u).slice(1),0];return ek(s,n)},VA=function(){for(var t,n,r,s,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var f=u[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,s]=f[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else u.length===4&&([t,r,n,s]=u);var m=GA(t,n),g=GA(r,s),x=AH(t,n),b=S=>S>1?1:S<0?0:S,w=S=>{for(var j=S>1?1:S,N=j,E=0;E<8;++E){var C=m(N)-j,T=x(N);if(Math.abs(C-j)<rm||T<rm)return g(N);N=b(N-C/T)}return g(N)};return w.isStepper=!1,w},TH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,o=(u,d,f)=>{var m=-(u-d)*n,g=f*r,x=f+(m-g)*s/1e3,b=f*s/1e3+u;return Math.abs(b-d)<rm&&Math.abs(x)<rm?[d,0]:[b,x]};return o.isStepper=!0,o.dt=s,o},_H=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VA(e);case"spring":return TH();default:if(e.split("(")[0]==="cubic-bezier")return VA(e)}return typeof e=="function"?e:null};function RH(e){var t,n=()=>null,r=!1,s=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var d=u,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(o.bind(null,m),f);return}o(f),s=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,s&&(s(),s=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class OH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,o=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}function kH(){return RH(new OH)}var DH=p.createContext(kH);function MH(e,t){var n=p.useContext(DH);return p.useMemo(()=>t??n(e),[e,t,n])}var PH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WA={t:0},tv={t:1};function gd(e){var t=ur(e,PH),{isActive:n,canBegin:r,duration:s,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:f,children:m}=t,g=MH(t.animationId,t.animationManager),[x,b]=p.useState(n?WA:tv),w=p.useRef(null);return p.useEffect(()=>{n||b(tv)},[n]),p.useEffect(()=>{if(!n||!r)return mH;var S=CH(WA,tv,_H(o),s,b,g.getTimeoutController()),j=()=>{w.current=S()};return g.start([f,u,j,s,d]),()=>{g.stop(),w.current&&w.current(),d()}},[n,r,s,o,u,f,d,g]),m(x.t)}function pd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(Vu(t)),r=p.useRef(e);return r.current!==e&&(n.current=Vu(t),r.current=e),n.current}var IH=["radius"],LH=["radius"];function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){BH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BH(e,t,n){return(t=UH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(null,arguments)}function QA(e,t){if(e==null)return{};var n,r,s=zH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZA=(e,t,n,r,s)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(o>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,b=4;x<b;x++)g[x]=s[x]>o?o:s[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(t)),m+="L ".concat(e+n-d*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+u*g[1])),m+="L ".concat(e+n,",").concat(t+r-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-d*g[2],",").concat(t+r)),m+="L ".concat(e+d*g[3],",").concat(t+r),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-u*g[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);m="M ".concat(e,",").concat(t+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+d*w,",").concat(t,`
            L `).concat(e+n-d*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(t+u*w,`
            L `).concat(e+n,",").concat(t+r-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-d*w,",").concat(t+r,`
            L `).concat(e+d*w,",").concat(t+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(t+r-u*w," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},HH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tk=e=>{var t=ur(e,HH),n=p.useRef(null),[r,s]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&s(H)}catch{}},[]);var{x:o,y:u,width:d,height:f,radius:m,className:g}=t,{animationEasing:x,animationDuration:b,animationBegin:w,isAnimationActive:S,isUpdateAnimationActive:j}=t,N=p.useRef(d),E=p.useRef(f),C=p.useRef(o),T=p.useRef(u),_=p.useMemo(()=>({x:o,y:u,width:d,height:f,radius:m}),[o,u,d,f,m]),O=pd(_,"rectangle-");if(o!==+o||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var R=At("recharts-rectangle",g);if(!j){var D=Ar(t),{radius:L}=D,V=QA(D,IH);return p.createElement("path",am({},V,{radius:typeof m=="number"?m:void 0,className:R,d:ZA(o,u,d,f,m)}))}var J=N.current,B=E.current,F=C.current,re=T.current,be="0px ".concat(r===-1?1:r,"px"),xe="".concat(r,"px 0px"),q=QO(["strokeDasharray"],b,typeof x=="string"?x:void 0);return p.createElement(gd,{animationId:O,key:O,canBegin:r>0,duration:b,easing:x,isActive:j,begin:w},H=>{var K=En(J,d,H),ve=En(B,f,H),Pe=En(F,o,H),P=En(re,u,H);n.current&&(N.current=K,E.current=ve,C.current=Pe,T.current=P);var z;S?H>0?z={transition:q,strokeDasharray:xe}:z={strokeDasharray:be}:z={strokeDasharray:xe};var ee=Ar(t),{radius:Y}=ee,Z=QA(ee,LH);return p.createElement("path",am({},Z,{radius:typeof m=="number"?m:void 0,className:R,d:ZA(Pe,P,K,ve,m),ref:n,style:XA(XA({},z),t.style)}))})};function nk(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:o}=e,u=Bn(t,n,r,s),d=Bn(t,n,r,o);return{points:[u,d],cx:t,cy:n,radius:r,startAngle:s,endAngle:o}}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}var qH=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ff=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:f}=e,m=d*(u?1:-1)+r,g=Math.asin(d/m)/em,x=f?s:s+o*g,b=Bn(t,n,m,x),w=Bn(t,n,r,x),S=f?s-o*g:s,j=Bn(t,n,m*Math.cos(g*em),S);return{center:b,circleTangency:w,lineTangency:j,theta:g}},rk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:o,endAngle:u}=e,d=qH(o,u),f=o+d,m=Bn(t,n,s,o),g=Bn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var b=Bn(t,n,r,o),w=Bn(t,n,r,f);x+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},FH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}=e,g=er(m-f),{circleTangency:x,lineTangency:b,theta:w}=ff({cx:t,cy:n,radius:s,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),{circleTangency:S,lineTangency:j,theta:N}=ff({cx:t,cy:n,radius:s,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:d}),E=d?Math.abs(f-m):Math.abs(f-m)-w-N;if(E<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rk({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:f,endAngle:m});var C="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(g<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:_,theta:O}=ff({cx:t,cy:n,radius:r,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:R,lineTangency:D,theta:L}=ff({cx:t,cy:n,radius:r,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),V=d?Math.abs(f-m):Math.abs(f-m)-O-L;if(V<0&&o===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(V>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},KH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ak=e=>{var t=ur(e,KH),{cx:n,cy:r,innerRadius:s,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g,className:x}=t;if(o<s||m===g)return null;var b=At("recharts-sector",x),w=o-s,S=xr(u,w,0,!0),j;return S>0&&Math.abs(m-g)<360?j=FH({cx:n,cy:r,innerRadius:s,outerRadius:o,cornerRadius:Math.min(S,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g}):j=rk({cx:n,cy:r,innerRadius:s,outerRadius:o,startAngle:m,endAngle:g}),p.createElement("path",Ey({},Ar(t),{className:b,d:j}))};function GH(e,t,n){var r,s,o,u;if(e==="horizontal")r=t.x,o=r,s=n.top,u=n.top+n.height;else if(e==="vertical")s=t.y,u=s,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:g,angle:x}=t,b=Bn(d,f,m,x),w=Bn(d,f,g,x);r=b.x,s=b.y,o=w.x,u=w.y}else return nk(t);return[{x:r,y:s},{x:o,y:u}]}var nv={},rv={},av={},JA;function VH(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(av)),av}var e2;function WH(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(rv)),rv}var t2;function YH(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO(),n=WH();function r(s,o,u){u&&typeof u!="number"&&t.isIterateeCall(s,o,u)&&(o=u=void 0),s=n.toFinite(s),o===void 0?(o=s,s=0):o=n.toFinite(o),u=u===void 0?s<o?1:-1:n.toFinite(u);const d=Math.max(Math.ceil((o-s)/(u||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=u;return f}e.range=r})(nv)),nv}var iv,n2;function XH(){return n2||(n2=1,iv=YH().range),iv}var QH=XH();const ik=hi(QH);function Us(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hb(e){let t,n,r;e.length!==2?(t=Us,n=(d,f)=>Us(e(d),f),r=(d,f)=>e(d)-f):(t=e===Us||e===ZH?e:JH,n=e,r=e);function s(d,f,m=0,g=d.length){if(m<g){if(t(f,f)!==0)return g;do{const x=m+g>>>1;n(d[x],f)<0?m=x+1:g=x}while(m<g)}return m}function o(d,f,m=0,g=d.length){if(m<g){if(t(f,f)!==0)return g;do{const x=m+g>>>1;n(d[x],f)<=0?m=x+1:g=x}while(m<g)}return m}function u(d,f,m=0,g=d.length){const x=s(d,f,m,g-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:s,center:u,right:o}}function JH(){return 0}function sk(e){return e===null?NaN:+e}function*eq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const tq=Hb(Us),xd=tq.right;Hb(sk).center;class r2 extends Map{constructor(t,n=aq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(a2(this,t))}has(t){return super.has(a2(this,t))}set(t,n){return super.set(nq(this,t),n)}delete(t){return super.delete(rq(this,t))}}function a2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iq(e=Us){if(e===Us)return lk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function lk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const sq=Math.sqrt(50),lq=Math.sqrt(10),oq=Math.sqrt(2);function im(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),u=o>=sq?10:o>=lq?5:o>=oq?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/u,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*u,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?im(e,t,n*2):[d,f,m]}function Cy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,u]=r?im(t,e,n):im(e,t,n);if(!(o>=s))return[];const d=o-s+1,f=new Array(d);if(r)if(u<0)for(let m=0;m<d;++m)f[m]=(o-m)/-u;else for(let m=0;m<d;++m)f[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)f[m]=(s+m)/-u;else for(let m=0;m<d;++m)f[m]=(s+m)*u;return f}function Ay(e,t,n){return t=+t,e=+e,n=+n,im(e,t,n)[2]}function Ty(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?Ay(t,e,n):Ay(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function i2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function s2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ok(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?lk:iq(s);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,g=Math.log(f),x=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*x*(f-x)/f)*(m-f/2<0?-1:1),w=Math.max(n,Math.floor(t-m*x/f+b)),S=Math.min(r,Math.floor(t+(f-m)*x/f+b));ok(e,t,w,S,s)}const o=e[t];let u=n,d=r;for(Cu(e,n,t),s(e[r],o)>0&&Cu(e,n,r);u<d;){for(Cu(e,u,d),++u,--d;s(e[u],o)<0;)++u;for(;s(e[d],o)>0;)--d}s(e[n],o)===0?Cu(e,n,d):(++d,Cu(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Cu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function cq(e,t,n){if(e=Float64Array.from(eq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return s2(e);if(t>=1)return i2(e);var r,s=(r-1)*t,o=Math.floor(s),u=i2(ok(e,o).subarray(0,o+1)),d=s2(e.subarray(o+1));return u+(d-u)*(s-o)}}function uq(e,t,n=sk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),u=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return u+(d-u)*(s-o)}}function dq(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function Ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _y=Symbol("implicit");function qb(){var e=new r2,t=[],n=[],r=_y;function s(o){let u=e.get(o);if(u===void 0){if(r!==_y)return r;e.set(o,u=t.push(o)-1)}return n[u%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new r2;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return qb(t,n).unknown(r)},Ia.apply(s,arguments),s}function Fb(){var e=qb().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,o,u,d=!1,f=0,m=0,g=.5;delete e.unknown;function x(){var b=t().length,w=s<r,S=w?s:r,j=w?r:s;o=(j-S)/Math.max(1,b-f+m*2),d&&(o=Math.floor(o)),S+=(j-S-o*(b-f))*g,u=o*(1-f),d&&(S=Math.round(S),u=Math.round(u));var N=dq(b).map(function(E){return S+o*E});return n(w?N.reverse():N)}return e.domain=function(b){return arguments.length?(t(b),x()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,d=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(d=!!b,x()):d},e.padding=function(b){return arguments.length?(f=Math.min(1,m=+b),x()):f},e.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),x()):f},e.paddingOuter=function(b){return arguments.length?(m=+b,x()):m},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),x()):g},e.copy=function(){return Fb(t(),[r,s]).round(d).paddingInner(f).paddingOuter(m).align(g)},Ia.apply(x(),arguments)}function ck(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ck(t())},e}function hq(){return ck(Fb.apply(null,arguments).paddingInner(1))}function Kb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vd(){}var Ju=.7,sm=1/Ju,Zo="\\s*([+-]?\\d+)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fq=/^#([0-9a-f]{3,8})$/,mq=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),gq=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),pq=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${ed}\\)$`),xq=new RegExp(`^rgba\\(${si},${si},${si},${ed}\\)$`),vq=new RegExp(`^hsl\\(${ed},${si},${si}\\)$`),yq=new RegExp(`^hsla\\(${ed},${si},${si},${ed}\\)$`),l2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(vd,td,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o2,formatHex:o2,formatHex8:bq,formatHsl:wq,formatRgb:c2,toString:c2});function o2(){return this.rgb().formatHex()}function bq(){return this.rgb().formatHex8()}function wq(){return dk(this).formatHsl()}function c2(){return this.rgb().formatRgb()}function td(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?u2(t):n===3?new zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mq.exec(e))?new zr(t[1],t[2],t[3],1):(t=gq.exec(e))?new zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pq.exec(e))?mf(t[1],t[2],t[3],t[4]):(t=xq.exec(e))?mf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vq.exec(e))?f2(t[1],t[2]/100,t[3]/100,1):(t=yq.exec(e))?f2(t[1],t[2]/100,t[3]/100,t[4]):l2.hasOwnProperty(e)?u2(l2[e]):e==="transparent"?new zr(NaN,NaN,NaN,0):null}function u2(e){return new zr(e>>16&255,e>>8&255,e&255,1)}function mf(e,t,n,r){return r<=0&&(e=t=n=NaN),new zr(e,t,n,r)}function jq(e){return e instanceof vd||(e=td(e)),e?(e=e.rgb(),new zr(e.r,e.g,e.b,e.opacity)):new zr}function Ry(e,t,n,r){return arguments.length===1?jq(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Kb(zr,Ry,uk(vd,{brighter(e){return e=e==null?sm:Math.pow(sm,e),new zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zr(Ml(this.r),Ml(this.g),Ml(this.b),lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d2,formatHex:d2,formatHex8:Nq,formatRgb:h2,toString:h2}));function d2(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}`}function Nq(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}${Al((isNaN(this.opacity)?1:this.opacity)*255)}`}function h2(){const e=lm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${e===1?")":`, ${e})`}`}function lm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Al(e){return e=Ml(e),(e<16?"0":"")+e.toString(16)}function f2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qa(e,t,n,r)}function dk(e){if(e instanceof qa)return new qa(e.h,e.s,e.l,e.opacity);if(e instanceof vd||(e=td(e)),!e)return new qa;if(e instanceof qa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,d=o-s,f=(o+s)/2;return d?(t===o?u=(n-r)/d+(n<r)*6:n===o?u=(r-t)/d+2:u=(t-n)/d+4,d/=f<.5?o+s:2-o-s,u*=60):d=f>0&&f<1?0:u,new qa(u,d,f,e.opacity)}function Sq(e,t,n,r){return arguments.length===1?dk(e):new qa(e,t,n,r??1)}function qa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Kb(qa,Sq,uk(vd,{brighter(e){return e=e==null?sm:Math.pow(sm,e),new qa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new qa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new zr(sv(e>=240?e-240:e+120,s,r),sv(e,s,r),sv(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new qa(m2(this.h),gf(this.s),gf(this.l),lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lm(this.opacity);return`${e===1?"hsl(":"hsla("}${m2(this.h)}, ${gf(this.s)*100}%, ${gf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m2(e){return e=(e||0)%360,e<0?e+360:e}function gf(e){return Math.max(0,Math.min(1,e||0))}function sv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gb=e=>()=>e;function Eq(e,t){return function(n){return e+n*t}}function Cq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Aq(e){return(e=+e)==1?hk:function(t,n){return n-t?Cq(t,n,e):Gb(isNaN(t)?n:t)}}function hk(e,t){var n=t-e;return n?Eq(e,n):Gb(isNaN(e)?t:e)}const g2=(function e(t){var n=Aq(t);function r(s,o){var u=n((s=Ry(s)).r,(o=Ry(o)).r),d=n(s.g,o.g),f=n(s.b,o.b),m=hk(s.opacity,o.opacity);return function(g){return s.r=u(g),s.g=d(g),s.b=f(g),s.opacity=m(g),s+""}}return r.gamma=e,r})(1);function Tq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function _q(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)s[u]=wc(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(d){for(u=0;u<r;++u)o[u]=s[u](d);return o}}function Oq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function om(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kq(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=wc(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var Oy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lv=new RegExp(Oy.source,"g");function Dq(e){return function(){return e}}function Mq(e){return function(t){return e(t)+""}}function Pq(e,t){var n=Oy.lastIndex=lv.lastIndex=0,r,s,o,u=-1,d=[],f=[];for(e=e+"",t=t+"";(r=Oy.exec(e))&&(s=lv.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),d[u]?d[u]+=o:d[++u]=o),(r=r[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,f.push({i:u,x:om(r,s)})),n=lv.lastIndex;return n<t.length&&(o=t.slice(n),d[u]?d[u]+=o:d[++u]=o),d.length<2?f[0]?Mq(f[0].x):Dq(t):(t=f.length,function(m){for(var g=0,x;g<t;++g)d[(x=f[g]).i]=x.x(m);return d.join("")})}function wc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Gb(t):(n==="number"?om:n==="string"?(r=td(t))?(t=r,g2):Pq:t instanceof td?g2:t instanceof Date?Oq:_q(t)?Tq:Array.isArray(t)?Rq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kq:om)(e,t)}function Vb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Iq(e,t){t===void 0&&(t=e,e=wc);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(u){var d=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[d](u-d)}}function Lq(e){return function(){return e}}function cm(e){return+e}var p2=[0,1];function Er(e){return e}function ky(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Lq(isNaN(t)?NaN:.5)}function Bq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Uq(e,t,n){var r=e[0],s=e[1],o=t[0],u=t[1];return s<r?(r=ky(s,r),o=n(u,o)):(r=ky(r,s),o=n(o,u)),function(d){return o(r(d))}}function $q(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)s[u]=ky(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(d){var f=xd(e,d,1,r)-1;return o[f](s[f](d))}}function yd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rg(){var e=p2,t=p2,n=wc,r,s,o,u=Er,d,f,m;function g(){var b=Math.min(e.length,t.length);return u!==Er&&(u=Bq(e[0],e[b-1])),d=b>2?$q:Uq,f=m=null,x}function x(b){return b==null||isNaN(b=+b)?o:(f||(f=d(e.map(r),t,n)))(r(u(b)))}return x.invert=function(b){return u(s((m||(m=d(t,e.map(r),om)))(b)))},x.domain=function(b){return arguments.length?(e=Array.from(b,cm),g()):e.slice()},x.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},x.rangeRound=function(b){return t=Array.from(b),n=Vb,g()},x.clamp=function(b){return arguments.length?(u=b?!0:Er,g()):u!==Er},x.interpolate=function(b){return arguments.length?(n=b,g()):n},x.unknown=function(b){return arguments.length?(o=b,x):o},function(b,w){return r=b,s=w,g()}}function Wb(){return rg()(Er,Er)}function zq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function um(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ic(e){return e=um(Math.abs(e)),e?e[1]:NaN}function Hq(e,t){return function(n,r){for(var s=n.length,o=[],u=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),o.push(n.substring(s-=d,s+d)),!((f+=d+1)>r));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function qq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Fq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nd(e){if(!(t=Fq.exec(e)))throw new Error("invalid format: "+e);var t;return new Yb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nd.prototype=Yb.prototype;function Yb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kq(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var fk;function Gq(e,t){var n=um(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(fk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+um(e,Math.max(0,t+o-1))[0]}function x2(e,t){var n=um(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const v2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x2(e*100,t),r:x2,s:Gq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y2(e){return e}var b2=Array.prototype.map,w2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vq(e){var t=e.grouping===void 0||e.thousands===void 0?y2:Hq(b2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?y2:qq(b2.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=nd(x);var b=x.fill,w=x.align,S=x.sign,j=x.symbol,N=x.zero,E=x.width,C=x.comma,T=x.precision,_=x.trim,O=x.type;O==="n"?(C=!0,O="g"):v2[O]||(T===void 0&&(T=12),_=!0,O="g"),(N||b==="0"&&w==="=")&&(N=!0,b="0",w="=");var R=j==="$"?n:j==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=j==="$"?r:/[%p]/.test(O)?u:"",L=v2[O],V=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function J(B){var F=R,re=D,be,xe,q;if(O==="c")re=L(B)+re,B="";else{B=+B;var H=B<0||1/B<0;if(B=isNaN(B)?f:L(Math.abs(B),T),_&&(B=Kq(B)),H&&+B==0&&S!=="+"&&(H=!1),F=(H?S==="("?S:d:S==="-"||S==="("?"":S)+F,re=(O==="s"?w2[8+fk/3]:"")+re+(H&&S==="("?")":""),V){for(be=-1,xe=B.length;++be<xe;)if(q=B.charCodeAt(be),48>q||q>57){re=(q===46?s+B.slice(be+1):B.slice(be))+re,B=B.slice(0,be);break}}}C&&!N&&(B=t(B,1/0));var K=F.length+B.length+re.length,ve=K<E?new Array(E-K+1).join(b):"";switch(C&&N&&(B=t(ve+B,ve.length?E-re.length:1/0),ve=""),w){case"<":B=F+B+re+ve;break;case"=":B=F+ve+B+re;break;case"^":B=ve.slice(0,K=ve.length>>1)+F+B+re+ve.slice(K);break;default:B=ve+F+B+re;break}return o(B)}return J.toString=function(){return x+""},J}function g(x,b){var w=m((x=nd(x),x.type="f",x)),S=Math.max(-8,Math.min(8,Math.floor(ic(b)/3)))*3,j=Math.pow(10,-S),N=w2[8+S/3];return function(E){return w(j*E)+N}}return{format:m,formatPrefix:g}}var pf,Xb,mk;Wq({thousands:",",grouping:[3],currency:["$",""]});function Wq(e){return pf=Vq(e),Xb=pf.format,mk=pf.formatPrefix,pf}function Yq(e){return Math.max(0,-ic(Math.abs(e)))}function Xq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ic(t)/3)))*3-ic(Math.abs(e)))}function Qq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ic(t)-ic(e))+1}function gk(e,t,n,r){var s=Ty(e,t,n),o;switch(r=nd(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Xq(s,u))&&(r.precision=o),mk(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Qq(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Yq(s))&&(r.precision=o-(r.type==="%")*2);break}}return Xb(r)}function Ys(e){var t=e.domain;return e.ticks=function(n){var r=t();return Cy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return gk(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,u=r[s],d=r[o],f,m,g=10;for(d<u&&(m=u,u=d,d=m,m=s,s=o,o=m);g-- >0;){if(m=Ay(u,d,n),m===f)return r[s]=u,r[o]=d,t(r);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function pk(){var e=Wb();return e.copy=function(){return yd(e,pk())},Ia.apply(e,arguments),Ys(e)}function xk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return xk(e).unknown(t)},e=arguments.length?Array.from(e,cm):[0,1],Ys(n)}function vk(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],u;return o<s&&(u=n,n=r,r=u,u=s,s=o,o=u),e[n]=t.floor(s),e[r]=t.ceil(o),e}function j2(e){return Math.log(e)}function N2(e){return Math.exp(e)}function Zq(e){return-Math.log(-e)}function Jq(e){return-Math.exp(-e)}function eF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tF(e){return e===10?eF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function S2(e){return(t,n)=>-e(-t,n)}function Qb(e){const t=e(j2,N2),n=t.domain;let r=10,s,o;function u(){return s=nF(r),o=tF(r),n()[0]<0?(s=S2(s),o=S2(o),e(Zq,Jq)):e(j2,N2),t}return t.base=function(d){return arguments.length?(r=+d,u()):r},t.domain=function(d){return arguments.length?(n(d),u()):n()},t.ticks=d=>{const f=n();let m=f[0],g=f[f.length-1];const x=g<m;x&&([m,g]=[g,m]);let b=s(m),w=s(g),S,j;const N=d==null?10:+d;let E=[];if(!(r%1)&&w-b<N){if(b=Math.floor(b),w=Math.ceil(w),m>0){for(;b<=w;++b)for(S=1;S<r;++S)if(j=b<0?S/o(-b):S*o(b),!(j<m)){if(j>g)break;E.push(j)}}else for(;b<=w;++b)for(S=r-1;S>=1;--S)if(j=b>0?S/o(-b):S*o(b),!(j<m)){if(j>g)break;E.push(j)}E.length*2<N&&(E=Cy(m,g,N))}else E=Cy(b,w,Math.min(w-b,N)).map(o);return x?E.reverse():E},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=nd(f)).precision==null&&(f.trim=!0),f=Xb(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return g=>{let x=g/o(Math.round(s(g)));return x*r<r-.5&&(x*=r),x<=m?f(g):""}},t.nice=()=>n(vk(n(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function yk(){const e=Qb(rg()).domain([1,10]);return e.copy=()=>yd(e,yk()).base(e.base()),Ia.apply(e,arguments),e}function E2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function C2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zb(e){var t=1,n=e(E2(t),C2(t));return n.constant=function(r){return arguments.length?e(E2(t=+r),C2(t)):t},Ys(n)}function bk(){var e=Zb(rg());return e.copy=function(){return yd(e,bk()).constant(e.constant())},Ia.apply(e,arguments)}function A2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aF(e){return e<0?-e*e:e*e}function Jb(e){var t=e(Er,Er),n=1;function r(){return n===1?e(Er,Er):n===.5?e(rF,aF):e(A2(n),A2(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Ys(t)}function ew(){var e=Jb(rg());return e.copy=function(){return yd(e,ew()).exponent(e.exponent())},Ia.apply(e,arguments),e}function iF(){return ew.apply(null,arguments).exponent(.5)}function T2(e){return Math.sign(e)*e*e}function sF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wk(){var e=Wb(),t=[0,1],n=!1,r;function s(o){var u=sF(e(o));return isNaN(u)?r:n?Math.round(u):u}return s.invert=function(o){return e.invert(T2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,cm)).map(T2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return wk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ia.apply(s,arguments),Ys(s)}function jk(){var e=[],t=[],n=[],r;function s(){var u=0,d=Math.max(1,t.length);for(n=new Array(d-1);++u<d;)n[u-1]=uq(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?r:t[xd(n,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Us),s()},o.range=function(u){return arguments.length?(t=Array.from(u),s()):t.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return jk().domain(e).range(t).unknown(r)},Ia.apply(o,arguments)}function Nk(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function u(f){return f!=null&&f<=f?s[xd(r,f,0,n)]:o}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return u}return u.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},u.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},u.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},u.unknown=function(f){return arguments.length&&(o=f),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Nk().domain([e,t]).range(s).unknown(o)},Ia.apply(Ys(u),arguments)}function Sk(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[xd(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Sk().domain(e).range(t).unknown(n)},Ia.apply(s,arguments)}const ov=new Date,cv=new Date;function Kn(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const u=s(o),d=s.ceil(o);return o-u<d-o?u:d},s.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),s.range=(o,u,d)=>{const f=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return f;let m;do f.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return f},s.filter=o=>Kn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),n&&(s.count=(o,u)=>(ov.setTime(+o),cv.setTime(+u),e(ov),e(cv),Math.floor(n(ov,cv))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?u=>r(u)%o===0:u=>s.count(0,u)%o===0):s)),s}const dm=Kn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dm);dm.range;const Bi=1e3,Ta=Bi*60,Ui=Ta*60,Qi=Ui*24,tw=Qi*7,_2=Qi*30,uv=Qi*365,Tl=Kn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getUTCSeconds());Tl.range;const nw=Kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bi)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getMinutes());nw.range;const rw=Kn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCMinutes());rw.range;const aw=Kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bi-e.getMinutes()*Ta)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getHours());aw.range;const iw=Kn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCHours());iw.range;const bd=Kn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ta)/Qi,e=>e.getDate()-1);bd.range;const ag=Kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>e.getUTCDate()-1);ag.range;const Ek=Kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>Math.floor(e/Qi));Ek.range;function Zl(e){return Kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ta)/tw)}const ig=Zl(0),hm=Zl(1),lF=Zl(2),oF=Zl(3),sc=Zl(4),cF=Zl(5),uF=Zl(6);ig.range;hm.range;lF.range;oF.range;sc.range;cF.range;uF.range;function Jl(e){return Kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tw)}const sg=Jl(0),fm=Jl(1),dF=Jl(2),hF=Jl(3),lc=Jl(4),fF=Jl(5),mF=Jl(6);sg.range;fm.range;dF.range;hF.range;lc.range;fF.range;mF.range;const sw=Kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sw.range;const lw=Kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lw.range;const Zi=Kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zi.range;const Ji=Kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ji.range;function Ck(e,t,n,r,s,o){const u=[[Tl,1,Bi],[Tl,5,5*Bi],[Tl,15,15*Bi],[Tl,30,30*Bi],[o,1,Ta],[o,5,5*Ta],[o,15,15*Ta],[o,30,30*Ta],[s,1,Ui],[s,3,3*Ui],[s,6,6*Ui],[s,12,12*Ui],[r,1,Qi],[r,2,2*Qi],[n,1,tw],[t,1,_2],[t,3,3*_2],[e,1,uv]];function d(m,g,x){const b=g<m;b&&([m,g]=[g,m]);const w=x&&typeof x.range=="function"?x:f(m,g,x),S=w?w.range(m,+g+1):[];return b?S.reverse():S}function f(m,g,x){const b=Math.abs(g-m)/x,w=Hb(([,,N])=>N).right(u,b);if(w===u.length)return e.every(Ty(m/uv,g/uv,x));if(w===0)return dm.every(Math.max(Ty(m,g,x),1));const[S,j]=u[b/u[w-1][2]<u[w][2]/b?w-1:w];return S.every(j)}return[d,f]}const[gF,pF]=Ck(Ji,lw,sg,Ek,iw,rw),[xF,vF]=Ck(Zi,sw,ig,bd,aw,nw);function dv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Au(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yF(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,u=e.shortDays,d=e.months,f=e.shortMonths,m=Tu(s),g=_u(s),x=Tu(o),b=_u(o),w=Tu(u),S=_u(u),j=Tu(d),N=_u(d),E=Tu(f),C=_u(f),T={a:H,A:K,b:ve,B:Pe,c:null,d:P2,e:P2,f:HF,g:ZF,G:eK,H:UF,I:$F,j:zF,L:Ak,m:qF,M:FF,p:P,q:z,Q:B2,s:U2,S:KF,u:GF,U:VF,V:WF,w:YF,W:XF,x:null,X:null,y:QF,Y:JF,Z:tK,"%":L2},_={a:ee,A:Y,b:Z,B:ie,c:null,d:I2,e:I2,f:iK,g:gK,G:xK,H:nK,I:rK,j:aK,L:_k,m:sK,M:lK,p:le,q:G,Q:B2,s:U2,S:oK,u:cK,U:uK,V:dK,w:hK,W:fK,x:null,X:null,y:mK,Y:pK,Z:vK,"%":L2},O={a:J,A:B,b:F,B:re,c:be,d:D2,e:D2,f:PF,g:k2,G:O2,H:M2,I:M2,j:OF,L:MF,m:RF,M:kF,p:V,q:_F,Q:LF,s:BF,S:DF,u:SF,U:EF,V:CF,w:NF,W:AF,x:xe,X:q,y:k2,Y:O2,Z:TF,"%":IF};T.x=R(n,T),T.X=R(r,T),T.c=R(t,T),_.x=R(n,_),_.X=R(r,_),_.c=R(t,_);function R($,M){return function(U){var I=[],fe=-1,te=0,W=$.length,Q,ae,Se;for(U instanceof Date||(U=new Date(+U));++fe<W;)$.charCodeAt(fe)===37&&(I.push($.slice(te,fe)),(ae=R2[Q=$.charAt(++fe)])!=null?Q=$.charAt(++fe):ae=Q==="e"?" ":"0",(Se=M[Q])&&(Q=Se(U,ae)),I.push(Q),te=fe+1);return I.push($.slice(te,fe)),I.join("")}}function D($,M){return function(U){var I=Au(1900,void 0,1),fe=L(I,$,U+="",0),te,W;if(fe!=U.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(M&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(te=hv(Au(I.y,0,1)),W=te.getUTCDay(),te=W>4||W===0?fm.ceil(te):fm(te),te=ag.offset(te,(I.V-1)*7),I.y=te.getUTCFullYear(),I.m=te.getUTCMonth(),I.d=te.getUTCDate()+(I.w+6)%7):(te=dv(Au(I.y,0,1)),W=te.getDay(),te=W>4||W===0?hm.ceil(te):hm(te),te=bd.offset(te,(I.V-1)*7),I.y=te.getFullYear(),I.m=te.getMonth(),I.d=te.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),W="Z"in I?hv(Au(I.y,0,1)).getUTCDay():dv(Au(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(W+5)%7:I.w+I.U*7-(W+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,hv(I)):dv(I)}}function L($,M,U,I){for(var fe=0,te=M.length,W=U.length,Q,ae;fe<te;){if(I>=W)return-1;if(Q=M.charCodeAt(fe++),Q===37){if(Q=M.charAt(fe++),ae=O[Q in R2?M.charAt(fe++):Q],!ae||(I=ae($,U,I))<0)return-1}else if(Q!=U.charCodeAt(I++))return-1}return I}function V($,M,U){var I=m.exec(M.slice(U));return I?($.p=g.get(I[0].toLowerCase()),U+I[0].length):-1}function J($,M,U){var I=w.exec(M.slice(U));return I?($.w=S.get(I[0].toLowerCase()),U+I[0].length):-1}function B($,M,U){var I=x.exec(M.slice(U));return I?($.w=b.get(I[0].toLowerCase()),U+I[0].length):-1}function F($,M,U){var I=E.exec(M.slice(U));return I?($.m=C.get(I[0].toLowerCase()),U+I[0].length):-1}function re($,M,U){var I=j.exec(M.slice(U));return I?($.m=N.get(I[0].toLowerCase()),U+I[0].length):-1}function be($,M,U){return L($,t,M,U)}function xe($,M,U){return L($,n,M,U)}function q($,M,U){return L($,r,M,U)}function H($){return u[$.getDay()]}function K($){return o[$.getDay()]}function ve($){return f[$.getMonth()]}function Pe($){return d[$.getMonth()]}function P($){return s[+($.getHours()>=12)]}function z($){return 1+~~($.getMonth()/3)}function ee($){return u[$.getUTCDay()]}function Y($){return o[$.getUTCDay()]}function Z($){return f[$.getUTCMonth()]}function ie($){return d[$.getUTCMonth()]}function le($){return s[+($.getUTCHours()>=12)]}function G($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var M=R($+="",T);return M.toString=function(){return $},M},parse:function($){var M=D($+="",!1);return M.toString=function(){return $},M},utcFormat:function($){var M=R($+="",_);return M.toString=function(){return $},M},utcParse:function($){var M=D($+="",!0);return M.toString=function(){return $},M}}}var R2={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,bF=/^%/,wF=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function jF(e){return e.replace(wF,"\\$&")}function Tu(e){return new RegExp("^(?:"+e.map(jF).join("|")+")","i")}function _u(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function NF(e,t,n){var r=tr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SF(e,t,n){var r=tr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function EF(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function CF(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function AF(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O2(e,t,n){var r=tr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function k2(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _F(e,t,n){var r=tr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function RF(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function D2(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function OF(e,t,n){var r=tr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function M2(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kF(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function DF(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function MF(e,t,n){var r=tr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function PF(e,t,n){var r=tr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IF(e,t,n){var r=bF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function LF(e,t,n){var r=tr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function BF(e,t,n){var r=tr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function P2(e,t){return Ot(e.getDate(),t,2)}function UF(e,t){return Ot(e.getHours(),t,2)}function $F(e,t){return Ot(e.getHours()%12||12,t,2)}function zF(e,t){return Ot(1+bd.count(Zi(e),e),t,3)}function Ak(e,t){return Ot(e.getMilliseconds(),t,3)}function HF(e,t){return Ak(e,t)+"000"}function qF(e,t){return Ot(e.getMonth()+1,t,2)}function FF(e,t){return Ot(e.getMinutes(),t,2)}function KF(e,t){return Ot(e.getSeconds(),t,2)}function GF(e){var t=e.getDay();return t===0?7:t}function VF(e,t){return Ot(ig.count(Zi(e)-1,e),t,2)}function Tk(e){var t=e.getDay();return t>=4||t===0?sc(e):sc.ceil(e)}function WF(e,t){return e=Tk(e),Ot(sc.count(Zi(e),e)+(Zi(e).getDay()===4),t,2)}function YF(e){return e.getDay()}function XF(e,t){return Ot(hm.count(Zi(e)-1,e),t,2)}function QF(e,t){return Ot(e.getFullYear()%100,t,2)}function ZF(e,t){return e=Tk(e),Ot(e.getFullYear()%100,t,2)}function JF(e,t){return Ot(e.getFullYear()%1e4,t,4)}function eK(e,t){var n=e.getDay();return e=n>=4||n===0?sc(e):sc.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function tK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function I2(e,t){return Ot(e.getUTCDate(),t,2)}function nK(e,t){return Ot(e.getUTCHours(),t,2)}function rK(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function aK(e,t){return Ot(1+ag.count(Ji(e),e),t,3)}function _k(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function iK(e,t){return _k(e,t)+"000"}function sK(e,t){return Ot(e.getUTCMonth()+1,t,2)}function lK(e,t){return Ot(e.getUTCMinutes(),t,2)}function oK(e,t){return Ot(e.getUTCSeconds(),t,2)}function cK(e){var t=e.getUTCDay();return t===0?7:t}function uK(e,t){return Ot(sg.count(Ji(e)-1,e),t,2)}function Rk(e){var t=e.getUTCDay();return t>=4||t===0?lc(e):lc.ceil(e)}function dK(e,t){return e=Rk(e),Ot(lc.count(Ji(e),e)+(Ji(e).getUTCDay()===4),t,2)}function hK(e){return e.getUTCDay()}function fK(e,t){return Ot(fm.count(Ji(e)-1,e),t,2)}function mK(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function gK(e,t){return e=Rk(e),Ot(e.getUTCFullYear()%100,t,2)}function pK(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function xK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?lc(e):lc.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function vK(){return"+0000"}function L2(){return"%"}function B2(e){return+e}function U2(e){return Math.floor(+e/1e3)}var Fo,Ok,kk;yK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yK(e){return Fo=yF(e),Ok=Fo.format,Fo.parse,kk=Fo.utcFormat,Fo.utcParse,Fo}function bK(e){return new Date(e)}function wK(e){return e instanceof Date?+e:+new Date(+e)}function ow(e,t,n,r,s,o,u,d,f,m){var g=Wb(),x=g.invert,b=g.domain,w=m(".%L"),S=m(":%S"),j=m("%I:%M"),N=m("%I %p"),E=m("%a %d"),C=m("%b %d"),T=m("%B"),_=m("%Y");function O(R){return(f(R)<R?w:d(R)<R?S:u(R)<R?j:o(R)<R?N:r(R)<R?s(R)<R?E:C:n(R)<R?T:_)(R)}return g.invert=function(R){return new Date(x(R))},g.domain=function(R){return arguments.length?b(Array.from(R,wK)):b().map(bK)},g.ticks=function(R){var D=b();return e(D[0],D[D.length-1],R??10)},g.tickFormat=function(R,D){return D==null?O:m(D)},g.nice=function(R){var D=b();return(!R||typeof R.range!="function")&&(R=t(D[0],D[D.length-1],R??10)),R?b(vk(D,R)):g},g.copy=function(){return yd(g,ow(e,t,n,r,s,o,u,d,f,m))},g}function jK(){return Ia.apply(ow(xF,vF,Zi,sw,ig,bd,aw,nw,Tl,Ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NK(){return Ia.apply(ow(gF,pF,Ji,lw,sg,ag,iw,rw,Tl,kk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lg(){var e=0,t=1,n,r,s,o,u=Er,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:u(s===0?.5:(x=(o(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(b){var w,S;return arguments.length?([w,S]=b,u=x(w,S),m):[u(0),u(1)]}}return m.range=g(wc),m.rangeRound=g(Vb),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return o=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),m}}function Xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Dk(){var e=Ys(lg()(Er));return e.copy=function(){return Xs(e,Dk())},ns.apply(e,arguments)}function Mk(){var e=Qb(lg()).domain([1,10]);return e.copy=function(){return Xs(e,Mk()).base(e.base())},ns.apply(e,arguments)}function Pk(){var e=Zb(lg());return e.copy=function(){return Xs(e,Pk()).constant(e.constant())},ns.apply(e,arguments)}function cw(){var e=Jb(lg());return e.copy=function(){return Xs(e,cw()).exponent(e.exponent())},ns.apply(e,arguments)}function SK(){return cw.apply(null,arguments).exponent(.5)}function Ik(){var e=[],t=Er;function n(r){if(r!=null&&!isNaN(r=+r))return t((xd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Us),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,o)=>cq(e,o/r))},n.copy=function(){return Ik(t).domain(e)},ns.apply(n,arguments)}function og(){var e=0,t=.5,n=1,r=1,s,o,u,d,f,m=Er,g,x=!1,b;function w(j){return isNaN(j=+j)?b:(j=.5+((j=+g(j))-o)*(r*j<r*o?d:f),m(x?Math.max(0,Math.min(1,j)):j))}w.domain=function(j){return arguments.length?([e,t,n]=j,s=g(e=+e),o=g(t=+t),u=g(n=+n),d=s===o?0:.5/(o-s),f=o===u?0:.5/(u-o),r=o<s?-1:1,w):[e,t,n]},w.clamp=function(j){return arguments.length?(x=!!j,w):x},w.interpolator=function(j){return arguments.length?(m=j,w):m};function S(j){return function(N){var E,C,T;return arguments.length?([E,C,T]=N,m=Iq(j,[E,C,T]),w):[m(0),m(.5),m(1)]}}return w.range=S(wc),w.rangeRound=S(Vb),w.unknown=function(j){return arguments.length?(b=j,w):b},function(j){return g=j,s=j(e),o=j(t),u=j(n),d=s===o?0:.5/(o-s),f=o===u?0:.5/(u-o),r=o<s?-1:1,w}}function Lk(){var e=Ys(og()(Er));return e.copy=function(){return Xs(e,Lk())},ns.apply(e,arguments)}function Bk(){var e=Qb(og()).domain([.1,1,10]);return e.copy=function(){return Xs(e,Bk()).base(e.base())},ns.apply(e,arguments)}function Uk(){var e=Zb(og());return e.copy=function(){return Xs(e,Uk()).constant(e.constant())},ns.apply(e,arguments)}function uw(){var e=Jb(og());return e.copy=function(){return Xs(e,uw()).exponent(e.exponent())},ns.apply(e,arguments)}function EK(){return uw.apply(null,arguments).exponent(.5)}const Du=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fb,scaleDiverging:Lk,scaleDivergingLog:Bk,scaleDivergingPow:uw,scaleDivergingSqrt:EK,scaleDivergingSymlog:Uk,scaleIdentity:xk,scaleImplicit:_y,scaleLinear:pk,scaleLog:yk,scaleOrdinal:qb,scalePoint:hq,scalePow:ew,scaleQuantile:jk,scaleQuantize:Nk,scaleRadial:wk,scaleSequential:Dk,scaleSequentialLog:Mk,scaleSequentialPow:cw,scaleSequentialQuantile:Ik,scaleSequentialSqrt:SK,scaleSequentialSymlog:Pk,scaleSqrt:iF,scaleSymlog:bk,scaleThreshold:Sk,scaleTime:jK,scaleUtc:NK,tickFormat:gk},Symbol.toStringTag,{value:"Module"}));var Qs=e=>e.chartData,dw=ge([Qs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cg=(e,t,n,r)=>r?dw(e):Qs(e);function Fl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(vr(t)&&vr(n))return!0}return!1}function $2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $k(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,o;if(vr(n))s=n;else if(typeof n=="function")return;if(vr(r))o=r;else if(typeof r=="function")return;var u=[s,o];if(Fl(u))return u}}function CK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Fl(r))return $2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,u,d;if(s==="auto")t!=null&&(u=Math.min(...t));else if(tt(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[0]))}catch{}else if(typeof s=="string"&&NA.test(s)){var f=NA.exec(s);if(f==null||t==null)u=void 0;else{var m=+f[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(tt(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&SA.test(o)){var g=SA.exec(o);if(g==null||t==null)d=void 0;else{var x=+g[1];d=t[1]+x}}else d=t?.[1];var b=[u,d];if(Fl(b))return t==null?b:$2(b,t,n)}}}var jc=1e9,AK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fw,mn=!0,Pa="[DecimalError] ",Pl=Pa+"Invalid argument: ",hw=Pa+"Exponent out of range: ",Nc=Math.floor,El=Math.pow,TK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,Zn=1e7,an=7,zk=9007199254740991,mm=Nc(zk/an),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,n,r,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===s?0:r>s^o.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*an;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(e){return Ki(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,n=t.constructor;return Xt(Ki(t,new n(e),0,1),n.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Un(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(na))throw Error(Pa+"NaN");if(n.s<1)throw Error(Pa+(n.s?"NaN":"-Infinity"));return n.eq(na)?new r(0):(mn=!1,t=Ki(rd(n,o),rd(e,o),o),mn=!0,Xt(t,s))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Fk(t,e):Hk(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Pa+"NaN");return n.s?(mn=!1,t=Ki(n,e,0,1).times(e),mn=!0,n.minus(t)):Xt(new r(n),s)};Ge.naturalExponential=Ge.exp=function(){return qk(this)};Ge.naturalLogarithm=Ge.ln=function(){return rd(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hk(t,e):Fk(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pl+e);if(t=Un(s)+1,r=s.d.length-1,n=r*an+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ge.squareRoot=Ge.sqrt=function(){var e,t,n,r,s,o,u,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Pa+"NaN")}for(e=Un(d),mn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ii(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Nc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(s.toString()),n=f.precision,s=u=n+3;;)if(o=r,r=o.plus(Ki(d,o,u+2)).times(.5),ii(o.d).slice(0,u)===(t=ii(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),s==u&&t=="4999"){if(Xt(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;u+=4}return mn=!0,Xt(r,n)};Ge.times=Ge.mul=function(e){var t,n,r,s,o,u,d,f,m,g=this,x=g.constructor,b=g.d,w=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,f=b.length,m=w.length,f<m&&(o=b,b=w,w=o,u=f,f=m,m=u),o=[],u=f+m,r=u;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,s=f+r;s>r;)d=o[s]+w[r]*b[s-r-1]+t,o[s--]=d%Zn|0,t=d/Zn|0;o[s]=(o[s]+t)%Zn|0}for(;!o[--u];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,mn?Xt(e,x.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ci(e,0,jc),t===void 0?t=r.rounding:ci(t,0,8),Xt(n,e+Un(n)+1,t))};Ge.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Kl(r,!0):(ci(e,0,jc),t===void 0?t=s.rounding:ci(t,0,8),r=Xt(new s(r),e+1,t),n=Kl(r,!0,e+1)),n};Ge.toFixed=function(e,t){var n,r,s=this,o=s.constructor;return e===void 0?Kl(s):(ci(e,0,jc),t===void 0?t=o.rounding:ci(t,0,8),r=Xt(new o(s),e+Un(s)+1,t),n=Kl(r.abs(),!1,e+Un(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Un(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,n,r,s,o,u,d=this,f=d.constructor,m=12,g=+(e=new f(e));if(!e.s)return new f(na);if(d=new f(d),!d.s){if(e.s<1)throw Error(Pa+"Infinity");return d}if(d.eq(na))return d;if(r=f.precision,e.eq(na))return Xt(d,r);if(t=e.e,n=e.d.length-1,u=t>=n,o=d.s,u){if((n=g<0?-g:g)<=zk){for(s=new f(na),t=Math.ceil(r/an+4),mn=!1;n%2&&(s=s.times(d),H2(s.d,t)),n=Nc(n/2),n!==0;)d=d.times(d),H2(d.d,t);return mn=!0,e.s<0?new f(na).div(s):Xt(s,r)}}else if(o<0)throw Error(Pa+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,mn=!1,s=e.times(rd(d,r+m)),mn=!0,s=qk(s),s.s=o,s};Ge.toPrecision=function(e,t){var n,r,s=this,o=s.constructor;return e===void 0?(n=Un(s),r=Kl(s,n<=o.toExpNeg||n>=o.toExpPos)):(ci(e,1,jc),t===void 0?t=o.rounding:ci(t,0,8),s=Xt(new o(s),e,t),n=Un(s),r=Kl(s,e<=n||n<=o.toExpNeg,e)),r};Ge.toSignificantDigits=Ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ci(e,1,jc),t===void 0?t=r.rounding:ci(t,0,8)),Xt(new r(n),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Un(e),n=e.constructor;return Kl(e,t<=n.toExpNeg||t>=n.toExpPos)};function Hk(e,t){var n,r,s,o,u,d,f,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),mn?Xt(t,x):t;if(f=e.d,m=t.d,u=e.e,s=t.e,f=f.slice(),o=u-s,o){for(o<0?(r=f,o=-o,d=m.length):(r=m,s=u,d=f.length),u=Math.ceil(x/an),d=u>d?u+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=f.length,o=m.length,d-o<0&&(o=d,r=m,m=f,f=r),n=0;o;)n=(f[--o]=f[o]+m[o]+n)/Zn|0,f[o]%=Zn;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,mn?Xt(t,x):t}function ci(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pl+e)}function ii(e){var t,n,r,s=e.length-1,o="",u=e[0];if(s>0){for(o+=u,t=1;t<s;t++)r=e[t]+"",n=an-r.length,n&&(o+=Is(n)),o+=r;u=e[t],r=u+"",n=an-r.length,n&&(o+=Is(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Ki=(function(){function e(r,s){var o,u=0,d=r.length;for(r=r.slice();d--;)o=r[d]*s+u,r[d]=o%Zn|0,u=o/Zn|0;return u&&r.unshift(u),r}function t(r,s,o,u){var d,f;if(o!=u)f=o>u?1:-1;else for(d=f=0;d<o;d++)if(r[d]!=s[d]){f=r[d]>s[d]?1:-1;break}return f}function n(r,s,o){for(var u=0;o--;)r[o]-=u,u=r[o]<s[o]?1:0,r[o]=u*Zn+r[o]-s[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,o,u){var d,f,m,g,x,b,w,S,j,N,E,C,T,_,O,R,D,L,V=r.constructor,J=r.s==s.s?1:-1,B=r.d,F=s.d;if(!r.s)return new V(r);if(!s.s)throw Error(Pa+"Division by zero");for(f=r.e-s.e,D=F.length,O=B.length,w=new V(J),S=w.d=[],m=0;F[m]==(B[m]||0);)++m;if(F[m]>(B[m]||0)&&--f,o==null?C=o=V.precision:u?C=o+(Un(r)-Un(s))+1:C=o,C<0)return new V(0);if(C=C/an+2|0,m=0,D==1)for(g=0,F=F[0],C++;(m<O||g)&&C--;m++)T=g*Zn+(B[m]||0),S[m]=T/F|0,g=T%F|0;else{for(g=Zn/(F[0]+1)|0,g>1&&(F=e(F,g),B=e(B,g),D=F.length,O=B.length),_=D,j=B.slice(0,D),N=j.length;N<D;)j[N++]=0;L=F.slice(),L.unshift(0),R=F[0],F[1]>=Zn/2&&++R;do g=0,d=t(F,j,D,N),d<0?(E=j[0],D!=N&&(E=E*Zn+(j[1]||0)),g=E/R|0,g>1?(g>=Zn&&(g=Zn-1),x=e(F,g),b=x.length,N=j.length,d=t(x,j,b,N),d==1&&(g--,n(x,D<b?L:F,b))):(g==0&&(d=g=1),x=F.slice()),b=x.length,b<N&&x.unshift(0),n(j,x,N),d==-1&&(N=j.length,d=t(F,j,D,N),d<1&&(g++,n(j,D<N?L:F,N))),N=j.length):d===0&&(g++,j=[0]),S[m++]=g,d&&j[0]?j[N++]=B[_]||0:(j=[B[_]],N=1);while((_++<O||j[0]!==void 0)&&C--)}return S[0]||S.shift(),w.e=f,Xt(w,u?o+Un(w)+1:o)}})();function qk(e,t){var n,r,s,o,u,d,f=0,m=0,g=e.constructor,x=g.precision;if(Un(e)>16)throw Error(hw+Un(e));if(!e.s)return new g(na);for(mn=!1,d=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(r=Math.log(El(2,m))/Math.LN10*2+5|0,d+=r,n=s=o=new g(na),g.precision=d;;){if(s=Xt(s.times(e),d),n=n.times(++f),u=o.plus(Ki(s,n,d)),ii(u.d).slice(0,d)===ii(o.d).slice(0,d)){for(;m--;)o=Xt(o.times(o),d);return g.precision=x,t==null?(mn=!0,Xt(o,x)):o}o=u}}function Un(e){for(var t=e.e*an,n=e.d[0];n>=10;n/=10)t++;return t}function fv(e,t,n){if(t>e.LN10.sd())throw mn=!0,n&&(e.precision=n),Error(Pa+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function rd(e,t){var n,r,s,o,u,d,f,m,g,x=1,b=10,w=e,S=w.d,j=w.constructor,N=j.precision;if(w.s<1)throw Error(Pa+(w.s?"NaN":"-Infinity"));if(w.eq(na))return new j(0);if(t==null?(mn=!1,m=N):m=t,w.eq(10))return t==null&&(mn=!0),fv(j,m);if(m+=b,j.precision=m,n=ii(S),r=n.charAt(0),o=Un(w),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=ii(w.d),r=n.charAt(0),x++;o=Un(w),r>1?(w=new j("0."+n),o++):w=new j(r+"."+n.slice(1))}else return f=fv(j,m+2,N).times(o+""),w=rd(new j(r+"."+n.slice(1)),m-b).plus(f),j.precision=N,t==null?(mn=!0,Xt(w,N)):w;for(d=u=w=Ki(w.minus(na),w.plus(na),m),g=Xt(w.times(w),m),s=3;;){if(u=Xt(u.times(g),m),f=d.plus(Ki(u,new j(s),m)),ii(f.d).slice(0,m)===ii(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(fv(j,m+2,N).times(o+""))),d=Ki(d,new j(x),m),j.precision=N,t==null?(mn=!0,Xt(d,N)):d;d=f,s+=2}}function z2(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Nc(n/an),e.d=[],r=(n+1)%an,n<0&&(r+=an),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=an;r<s;)e.d.push(+t.slice(r,r+=an));t=t.slice(r),r=an-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),mn&&(e.e>mm||e.e<-mm))throw Error(hw+n)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,n){var r,s,o,u,d,f,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(r=t-u,r<0)r+=an,s=t,m=x[g=0];else{if(g=Math.ceil((r+1)/an),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;r%=an,s=r-an+u}if(n!==void 0&&(o=El(10,u-s-1),d=m/o%10|0,f=t<0||x[g+1]!==void 0||m%o,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?s>0?m/El(10,u-s):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(o=Un(e),x.length=1,t=t-o-1,x[0]=El(10,(an-t%an)%an),e.e=Nc(-t/an)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,o=1,g--):(x.length=g+1,o=El(10,an-r),x[g]=s>0?(m/El(10,u-s)%El(10,s)|0)*o:0),f)for(;;)if(g==0){(x[0]+=o)==Zn&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=Zn)break;x[g--]=0,o=1}for(r=x.length;x[--r]===0;)x.pop();if(mn&&(e.e>mm||e.e<-mm))throw Error(hw+Un(e));return e}function Fk(e,t){var n,r,s,o,u,d,f,m,g,x,b=e.constructor,w=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),mn?Xt(t,w):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),u=m-r,u){for(g=u<0,g?(n=f,u=-u,d=x.length):(n=x,r=m,d=f.length),s=Math.max(Math.ceil(w/an),d)+2,u>s&&(u=s,n.length=1),n.reverse(),s=u;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,g=s<d,g&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){g=f[s]<x[s];break}u=0}for(g&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>u;){if(f[--s]<x[s]){for(o=s;o&&f[--o]===0;)f[o]=Zn-1;--f[o],f[s]+=Zn}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,mn?Xt(t,w):t):new b(0)}function Kl(e,t,n){var r,s=Un(e),o=ii(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+Is(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+Is(-s-1)+o,n&&(r=n-u)>0&&(o+=Is(r))):s>=u?(o+=Is(s+1-u),n&&(r=n-s-1)>0&&(o=o+"."+Is(r))):((r=s+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(s+1===u&&(o+="."),o+=Is(r))),e.s<0?"-"+o:o}function H2(e,t){if(e.length>t)return e.length=t,!0}function Kk(e){var t,n,r;function s(o){var u=this;if(!(u instanceof s))return new s(o);if(u.constructor=s,o instanceof s){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Pl+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return z2(u,o.toString())}else if(typeof o!="string")throw Error(Pl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,TK.test(o))z2(u,o);else throw Error(Pl+o)}if(s.prototype=Ge,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Kk,s.config=s.set=_K,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function _K(e){if(!e||typeof e!="object")throw Error(Pa+"Object expected");var t,n,r,s=["precision",1,jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Nc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Pl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pl+n+": "+r);return this}var fw=Kk(AK);na=new fw(1);const Ut=fw;var RK=e=>e,Gk={},Vk=e=>e===Gk,q2=e=>function t(){return arguments.length===0||arguments.length===1&&Vk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Wk=(e,t)=>e===1?t:q2(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=r.filter(u=>u!==Gk).length;return o>=e?t(...r):Wk(e-o,q2(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=r.map(g=>Vk(g)?d.shift():g);return t(...m,...d)}))}),ug=e=>Wk(e.length,e),Dy=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},OK=ug((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),kK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return RK;var s=n.reverse(),o=s[0],u=s.slice(1);return function(){return u.reduce((d,f)=>f(d),o(...arguments))}},My=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Yk=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t&&s.every((u,d)=>{var f;return u===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function Xk(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function Qk(e,t,n){for(var r=new Ut(e),s=0,o=[];r.lt(t)&&s<1e5;)o.push(r.toNumber()),r=r.add(n),s++;return o}ug((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});ug((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});ug((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var Zk=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},Jk=(e,t,n)=>{if(e.lte(0))return new Ut(0);var r=Xk(e.toNumber()),s=new Ut(10).pow(r),o=e.div(s),u=r!==1?.05:.1,d=new Ut(Math.ceil(o.div(u).toNumber())).add(n).mul(u),f=d.mul(s);return t?new Ut(f.toNumber()):new Ut(Math.ceil(f.toNumber()))},DK=(e,t,n)=>{var r=new Ut(1),s=new Ut(e);if(!s.isint()&&n){var o=Math.abs(e);o<1?(r=new Ut(10).pow(Xk(e)-1),s=new Ut(Math.floor(s.div(r).toNumber())).mul(r)):o>1&&(s=new Ut(Math.floor(e)))}else e===0?s=new Ut(Math.floor((t-1)/2)):n||(s=new Ut(Math.floor(e)));var u=Math.floor((t-1)/2),d=kK(OK(f=>s.add(new Ut(f-u).mul(r)).toNumber()),Dy);return d(0,t)},eD=function(t,n,r,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var u=Jk(new Ut(n).sub(t).div(r-1),s,o),d;t<=0&&n>=0?d=new Ut(0):(d=new Ut(t).add(n).div(2),d=d.sub(new Ut(d).mod(u)));var f=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new Ut(n).sub(d).div(u).toNumber()),g=f+m+1;return g>r?eD(t,n,r,s,o+1):(g<r&&(m=n>0?m+(r-g):m,f=n>0?f:f+(r-g)),{step:u,tickMin:d.sub(new Ut(f).mul(u)),tickMax:d.add(new Ut(m).mul(u))})};function MK(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,d]=Zk([t,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Dy(0,r-1).map(()=>1/0)]:[...Dy(0,r-1).map(()=>-1/0),d];return t>n?My(f):f}if(u===d)return DK(u,r,s);var{step:m,tickMin:g,tickMax:x}=eD(u,d,o,s,0),b=Qk(g,x.add(new Ut(.1).mul(m)),m);return t>n?My(b):b}function PK(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=Zk([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var d=Math.max(t,2),f=Jk(new Ut(u).sub(o).div(d-1),s,0),m=[...Qk(new Ut(o),new Ut(u),f),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>r?My(m):m}var IK=Yk(MK),LK=Yk(PK),tD=e=>e.rootProps.maxBarSize,BK=e=>e.rootProps.barGap,nD=e=>e.rootProps.barCategoryGap,UK=e=>e.rootProps.barSize,wd=e=>e.rootProps.stackOffset,mw=e=>e.options.chartName,gw=e=>e.rootProps.syncId,rD=e=>e.rootProps.syncMethod,pw=e=>e.options.eventEmitter,Ii={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},$K={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ii.angleAxisId,includeHidden:!1,name:void 0,reversed:Ii.reversed,scale:Ii.scale,tick:Ii.tick,tickCount:void 0,ticks:void 0,type:Ii.type,unit:void 0},zK={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:Jr.type,unit:void 0},HK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qK={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:"category",unit:void 0},xw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?HK:$K,vw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?qK:zK,hg=e=>e.polarOptions,yw=ge([es,ts,Fn],IO),aD=ge([hg,yw],(e,t)=>{if(e!=null)return xr(e.innerRadius,t,0)}),iD=ge([hg,yw],(e,t)=>{if(e!=null)return xr(e.outerRadius,t,t*.8)}),FK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},sD=ge([hg],FK);ge([xw,sD],dg);var lD=ge([yw,aD,iD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ge([vw,lD],dg);var oD=ge([Tt,hg,aD,iD,es,ts],(e,t,n,r,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:d,startAngle:f,endAngle:m}=t;return{cx:xr(u,s,s/2),cy:xr(d,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),vn=(e,t)=>t,jd=(e,t,n)=>n;function bw(e){return e?.id}var Gn=e=>{var t=Tt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sc=e=>e.tooltip.settings.axisId,Vn=e=>{var t=Gn(e),n=Sc(e);return Nd(e,t,n)},cD=ge([Vn],e=>e?.dataKey);function uD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=n,u=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var g=bw(d);m.forEach((x,b)=>{var w=o==null||s?b:String(tn(x,o,null)),S=tn(x,d.dataKey,0),j;u.has(w)?j=u.get(w):j={},Object.assign(j,{[g]:S}),u.set(w,j)})}}),Array.from(u.values())}function fg(e){return e.stackId!=null&&e.dataKey!=null}var mg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){KK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KK(e,t,n){return(t=GK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Py=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dD=(e,t)=>e.cartesianAxis.xAxis[t],rs=(e,t)=>{var n=dD(e,t);return n??Qr},Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Py,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fd},hD=(e,t)=>e.cartesianAxis.yAxis[t],as=(e,t)=>{var n=hD(e,t);return n??Zr},WK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ww=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??WK},jn=(e,t,n)=>{switch(t){case"xAxis":return rs(e,n);case"yAxis":return as(e,n);case"zAxis":return ww(e,n);case"angleAxis":return xw(e,n);case"radiusAxis":return vw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},YK=(e,t,n)=>{switch(t){case"xAxis":return rs(e,n);case"yAxis":return as(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Nd=(e,t,n)=>{switch(t){case"xAxis":return rs(e,n);case"yAxis":return as(e,n);case"angleAxis":return xw(e,n);case"radiusAxis":return vw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function jw(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var pg=e=>e.graphicalItems.cartesianItems,XK=ge([vn,jd],jw),Nw=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Sd=ge([pg,jn,XK],Nw,{memoizeOptions:{resultEqualityCheck:gg}}),mD=ge([Sd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fg)),gD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QK=ge([Sd],gD),Sw=e=>e.map(t=>t.data).filter(Boolean).flat(1),ZK=ge([Sd],Sw,{memoizeOptions:{resultEqualityCheck:gg}}),Ew=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},Cw=ge([ZK,cg],Ew),Aw=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:tn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:tn(s,r)}))):e.map(r=>({value:r})),xg=ge([Cw,jn,Sd],Aw);function pD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Df(e){if(oi(e)||e instanceof Date){var t=Number(e);if(vr(t))return t}}function K2(e){if(Array.isArray(e)){var t=[Df(e[0]),Df(e[1])];return Fl(t)?t:void 0}var n=Df(e);if(n!=null)return[n,n]}function Ec(e){return e.map(Df).filter(gH)}function JK(e,t,n){return!n||typeof t!="number"||Da(t)?[]:n.length?Ec(n.flatMap(r=>{var s=tn(e,r.dataKey),o,u;if(Array.isArray(s)?[o,u]=s:o=u=s,!(!vr(o)||!vr(u)))return[t-o,t+u]})):[]}var eG=ge([mD,cg,Vn],uD),xD=(e,t,n)=>{var r={},s=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(s).map(o=>{var[u,d]=o,f=d.map(bw);return[u,{stackedData:B9(e,f,n),graphicalItems:d}]}))},Iy=ge([eG,mD,wd],xD),vD=(e,t,n,r)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var u=q9(e,s,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},tG=ge([jn],e=>e.allowDataOverflow),Tw=e=>{var t;if(e==null||!("domain"in e))return Py;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ec(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Py},_w=ge([jn],Tw),Rw=ge([_w,tG],$k),nG=ge([Iy,Qs,vn,Rw],vD,{memoizeOptions:{resultEqualityCheck:mg}}),vg=e=>e.errorBars,rG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>pD(n,r)),pm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var o=s.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},Ow=(e,t,n,r,s)=>{var o,u;if(n.length>0&&e.forEach(d=>{n.forEach(f=>{var m,g,x=(m=r[f.id])===null||m===void 0?void 0:m.filter(E=>pD(s,E)),b=tn(d,(g=t.dataKey)!==null&&g!==void 0?g:f.dataKey),w=JK(d,b,x);if(w.length>=2){var S=Math.min(...w),j=Math.max(...w);(o==null||S<o)&&(o=S),(u==null||j>u)&&(u=j)}var N=K2(b);N!=null&&(o=o==null?N[0]:Math.min(o,N[0]),u=u==null?N[1]:Math.max(u,N[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=K2(tn(d,t.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),u=u==null?f[1]:Math.max(u,f[1]))}),vr(o)&&vr(u))return[o,u]},aG=ge([Cw,jn,QK,vg,vn],Ow,{memoizeOptions:{resultEqualityCheck:mg}});function iG(e){var{value:t}=e;if(oi(t)||t instanceof Date)return t}var sG=(e,t,n)=>{var r=e.map(iG).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&GR(r))?ik(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},yD=e=>e.referenceElements.dots,Cc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),lG=ge([yD,vn,jd],Cc),bD=e=>e.referenceElements.areas,oG=ge([bD,vn,jd],Cc),wD=e=>e.referenceElements.lines,cG=ge([wD,vn,jd],Cc),jD=(e,t)=>{var n=Ec(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uG=ge(lG,vn,jD),ND=(e,t)=>{var n=Ec(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dG=ge([oG,vn],ND),SD=(e,t)=>{var n=Ec(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hG=ge(cG,vn,SD),fG=ge(uG,hG,dG,(e,t,n)=>pm(e,n,t)),kw=(e,t,n,r,s,o,u,d)=>{if(n!=null)return n;var f=u==="vertical"&&d==="xAxis"||u==="horizontal"&&d==="yAxis",m=f?pm(r,o,s):pm(o,s);return CK(t,m,e.allowDataOverflow)},mG=ge([jn,_w,Rw,nG,aG,fG,Tt,vn],kw,{memoizeOptions:{resultEqualityCheck:mg}}),gG=[0,1],Dw=(e,t,n,r,s,o,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:d,type:f}=e,m=Vs(t,o);return m&&d==null?ik(0,n.length):f==="category"?sG(r,e,m):s==="expand"?gG:u}},Mw=ge([jn,Tt,Cw,xg,wd,vn,mG],Dw),ED=(e,t,n,r,s)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(cd(o));return d in Du?d:"point"}}},Ac=ge([jn,Tt,fD,mw,vn],ED);function pG(e){if(e!=null){if(e in Du)return Du[e]();var t="scale".concat(cd(e));if(t in Du)return Du[t]()}}function Pw(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=pG(t);if(s!=null){var o=s.domain(n).range(r);return D9(o),o}}}var Iw=(e,t,n)=>{var r=Tw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fl(e))return IK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fl(e))return LK(e,t.tickCount,t.allowDecimals)}},Lw=ge([Mw,Nd,Ac],Iw),Bw=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Fl(t)&&Array.isArray(n)&&n.length>0){var s=t[0],o=n[0],u=t[1],d=n[n.length-1];return[Math.min(s,o),Math.max(u,d)]}return t},xG=ge([jn,Mw,Lw,vn],Bw),vG=ge(xg,jn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ec(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/s}}),CD=ge(vG,Tt,nD,Fn,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!vr(e))return 0;var o=t==="vertical"?r.height:r.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var u=xr(n,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),yG=(e,t)=>{var n=rs(e,t);return n==null||typeof n.padding!="string"?0:CD(e,"xAxis",t,n.padding)},bG=(e,t)=>{var n=as(e,t);return n==null||typeof n.padding!="string"?0:CD(e,"yAxis",t,n.padding)},wG=ge(rs,yG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),jG=ge(as,bG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),NG=ge([Fn,wG,Jm,Zm,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:o}=r;return s?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),SG=ge([Fn,Tt,jG,Jm,Zm,(e,t,n)=>n],(e,t,n,r,s,o)=>{var{padding:u}=s;return o?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ed=(e,t,n,r)=>{var s;switch(t){case"xAxis":return NG(e,n,r);case"yAxis":return SG(e,n,r);case"zAxis":return(s=ww(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return sD(e);case"radiusAxis":return lD(e,n);default:return}},AD=ge([jn,Ed],dg),Tc=ge([jn,Ac,xG,AD],Pw);ge([Sd,vg,vn],rG);function TD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yg=(e,t)=>t,bg=(e,t,n)=>n,EG=ge(Xm,yg,bg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(TD)),CG=ge(Qm,yg,bg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(TD)),_D=(e,t)=>({width:e.width,height:t.height}),AG=(e,t)=>{var n=typeof t.width=="number"?t.width:fd;return{width:n,height:e.height}},RD=ge(Fn,rs,_D),TG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},_G=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},RG=ge(ts,Fn,EG,yg,bg,(e,t,n,r,s)=>{var o={},u;return n.forEach(d=>{var f=_D(t,d);u==null&&(u=TG(t,r,e));var m=r==="top"&&!s||r==="bottom"&&s;o[d.id]=u-Number(m)*f.height,u+=(m?-1:1)*f.height}),o}),OG=ge(es,Fn,CG,yg,bg,(e,t,n,r,s)=>{var o={},u;return n.forEach(d=>{var f=AG(t,d);u==null&&(u=_G(t,r,e));var m=r==="left"&&!s||r==="right"&&s;o[d.id]=u-Number(m)*f.width,u+=(m?-1:1)*f.width}),o}),kG=(e,t)=>{var n=rs(e,t);if(n!=null)return RG(e,n.orientation,n.mirror)},DG=ge([Fn,rs,kG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var s=n?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),MG=(e,t)=>{var n=as(e,t);if(n!=null)return OG(e,n.orientation,n.mirror)},PG=ge([Fn,as,MG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var s=n?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),OD=ge(Fn,as,(e,t)=>{var n=typeof t.width=="number"?t.width:fd;return{width:n,height:e.height}}),G2=(e,t,n)=>{switch(t){case"xAxis":return RD(e,n).width;case"yAxis":return OD(e,n).height;default:return}},kD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:o,dataKey:u}=n,d=Vs(e,r),f=t.map(m=>m.value);if(u&&d&&o==="category"&&s&&GR(f))return f}},Uw=ge([Tt,xg,jn,vn],kD),DD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:o}=n,u=Vs(e,r);if(u&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},$w=ge([Tt,xg,Nd,vn],DD),V2=ge([Tt,YK,Ac,Tc,Uw,$w,Ed,Lw,vn],(e,t,n,r,s,o,u,d,f)=>{if(t==null)return null;var m=Vs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:d,range:u,realScaleType:n,scale:r}}),IG=(e,t,n,r,s,o,u,d,f)=>{if(!(t==null||r==null)){var m=Vs(e,f),{type:g,ticks:x,tickCount:b}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=g==="category"&&r.bandwidth?r.bandwidth()/w:0;S=f==="angleAxis"&&o!=null&&o.length>=2?er(o[0]-o[1])*2*S:S;var j=x||s;if(j){var N=j.map((E,C)=>{var T=u?u.indexOf(E):E;return{index:C,coordinate:r(T)+S,value:E,offset:S}});return N.filter(E=>!Da(E.coordinate))}return m&&d?d.map((E,C)=>({coordinate:r(E)+S,value:E,index:C,offset:S})):r.ticks?r.ticks(b).map(E=>({coordinate:r(E)+S,value:E,offset:S})):r.domain().map((E,C)=>({coordinate:r(E)+S,value:u?u[E]:E,index:C,offset:S}))}},MD=ge([Tt,Nd,Ac,Tc,Lw,Ed,Uw,$w,vn],IG),LG=(e,t,n,r,s,o,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Vs(e,u),{tickCount:f}=t,m=0;return m=u==="angleAxis"&&r?.length>=2?er(r[0]-r[1])*2*m:m,d&&o?o.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.ticks?n.ticks(f).map(g=>({coordinate:n(g)+m,value:g,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:s?s[g]:g,index:x,offset:m}))}},zs=ge([Tt,Nd,Tc,Ed,Uw,$w,vn],LG),Hs=ge(jn,Tc,(e,t)=>{if(!(e==null||t==null))return gm(gm({},e),{},{scale:t})}),BG=ge([jn,Ac,Mw,AD],Pw);ge((e,t,n)=>ww(e,n),BG,(e,t)=>{if(!(e==null||t==null))return gm(gm({},e),{},{scale:t})});var UG=ge([Tt,Xm,Qm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PD=e=>e.options.defaultTooltipEventType,ID=e=>e.options.validateTooltipEventTypes;function LD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zw(e,t){var n=PD(e),r=ID(e);return LD(t,n,r)}function $G(e){return Qe(t=>zw(t,e))}var BD=(e,t)=>{var n,r=Number(t);if(!(Da(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},zG=e=>e.tooltip.settings,Bs={active:!1,index:null,dataKey:void 0,coordinate:void 0},HG={itemInteraction:{click:Bs,hover:Bs},axisInteraction:{click:Bs,hover:Bs},keyboardInteraction:Bs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UD=oa({name:"tooltip",initialState:HG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Nr()},removeTooltipEntrySettings:{reducer(e,t){var n=Fi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Nr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:qG,removeTooltipEntrySettings:FG,setTooltipSettingsState:KG,setActiveMouseOverItemIndex:$D,mouseLeaveItem:GG,mouseLeaveChart:zD,setActiveClickItemIndex:VG,setMouseOverAxisIndex:HD,setMouseClickAxisIndex:WG,setSyncInteraction:Ly,setKeyboardInteraction:By}=UD.actions,YG=UD.reducer;function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){XG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XG(e,t,n){return(t=QG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function eV(e){return e.index!=null}var qD=(e,t,n,r)=>{if(t==null)return Bs;var s=JG(e,t,n);if(s==null)return Bs;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(eV(s)){if(o)return xf(xf({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return xf(xf({},Bs),{},{coordinate:s.coordinate})},Hw=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!vr(r))return n;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(r,o)))},FD=(e,t,n,r,s,o,u,d)=>{if(!(o==null||d==null)){var f=u[0],m=f==null?void 0:d(f.positions,o);if(m!=null)return m;var g=s?.[Number(o)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},KD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===s})},Cd=e=>e.options.tooltipPayloadSearcher,_c=e=>e.tooltip;function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function X2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){tV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tV(e,t,n){return(t=nV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){return e??t}var GD=(e,t,n,r,s,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:g}=n,x=[];return e.reduce((b,w)=>{var S,{dataDefinedOnItem:j,settings:N}=w,E=aV(j,d),C=Array.isArray(E)?LO(E,m,g):E,T=(S=N?.dataKey)!==null&&S!==void 0?S:r,_=N?.nameKey,O;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&u==="axis"?O=VR(C,r,s):O=o(C,t,f,_),Array.isArray(O))O.forEach(D=>{var L=X2(X2({},N),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});b.push(EA({tooltipEntrySettings:L,dataKey:D.dataKey,payload:D.payload,value:tn(D.payload,D.dataKey),name:D.name}))});else{var R;b.push(EA({tooltipEntrySettings:N,dataKey:T,payload:O,value:tn(O,T),name:(R=tn(O,_))!==null&&R!==void 0?R:N?.name}))}return b},x)}},qw=ge([Vn,Tt,fD,mw,Gn],ED),iV=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sV=ge([Gn,Sc],jw),Ad=ge([iV,Vn,sV],Nw,{memoizeOptions:{resultEqualityCheck:gg}}),lV=ge([Ad],e=>e.filter(fg)),oV=ge([Ad],Sw,{memoizeOptions:{resultEqualityCheck:gg}}),Rc=ge([oV,Qs],Ew),cV=ge([lV,Qs,Vn],uD),Fw=ge([Rc,Vn,Ad],Aw),VD=ge([Vn],Tw),uV=ge([Vn],e=>e.allowDataOverflow),WD=ge([VD,uV],$k),dV=ge([Ad],e=>e.filter(fg)),hV=ge([cV,dV,wd],xD),fV=ge([hV,Qs,Gn,WD],vD),mV=ge([Ad],gD),gV=ge([Rc,Vn,mV,vg,Gn],Ow,{memoizeOptions:{resultEqualityCheck:mg}}),pV=ge([yD,Gn,Sc],Cc),xV=ge([pV,Gn],jD),vV=ge([bD,Gn,Sc],Cc),yV=ge([vV,Gn],ND),bV=ge([wD,Gn,Sc],Cc),wV=ge([bV,Gn],SD),jV=ge([xV,wV,yV],pm),NV=ge([Vn,VD,WD,fV,gV,jV,Tt,Gn],kw),YD=ge([Vn,Tt,Rc,Fw,wd,Gn,NV],Dw),SV=ge([YD,Vn,qw],Iw),EV=ge([Vn,YD,SV,Gn],Bw),XD=e=>{var t=Gn(e),n=Sc(e),r=!1;return Ed(e,t,n,r)},QD=ge([Vn,XD],dg),ZD=ge([Vn,qw,EV,QD],Pw),CV=ge([Tt,Fw,Vn,Gn],kD),AV=ge([Tt,Fw,Vn,Gn],DD),TV=(e,t,n,r,s,o,u,d)=>{if(t){var{type:f}=t,m=Vs(e,d);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=d==="angleAxis"&&s!=null&&s?.length>=2?er(s[0]-s[1])*2*x:x,m&&u?u.map((b,w)=>({coordinate:r(b)+x,value:b,index:w,offset:x})):r.domain().map((b,w)=>({coordinate:r(b)+x,value:o?o[b]:b,index:w,offset:x}))}}},is=ge([Tt,Vn,qw,ZD,XD,CV,AV,Gn],TV),Kw=ge([PD,ID,zG],(e,t,n)=>LD(n.shared,e,t)),JD=e=>e.tooltip.settings.trigger,Gw=e=>e.tooltip.settings.defaultIndex,wg=ge([_c,Kw,JD,Gw],qD),qs=ge([wg,Rc],Hw),eM=ge([is,qs],BD),tM=ge([wg],e=>{if(e)return e.dataKey}),nM=ge([_c,Kw,JD,Gw],KD),_V=ge([es,ts,Tt,Fn,is,Gw,nM,Cd],FD),RV=ge([wg,_V],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),OV=ge([wg],e=>e.active),kV=ge([nM,qs,Qs,cD,eM,Cd,Kw],GD),DV=ge([kV],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(r){MV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MV(e,t,n){return(t=PV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LV=()=>Qe(Vn),BV=()=>{var e=LV(),t=Qe(is),n=Qe(ZD);return Qu(Z2(Z2({},e),{},{scale:n}),t)},UV=()=>Qe(mw),Vw=(e,t)=>t,rM=(e,t,n)=>n,Ww=(e,t,n,r)=>r,$V=ge(is,e=>Fm(e,t=>t.coordinate)),Yw=ge([_c,Vw,rM,Ww],qD),aM=ge([Yw,Rc],Hw),zV=(e,t,n)=>{if(t!=null){var r=_c(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},iM=ge([_c,Vw,rM,Ww],KD),xm=ge([es,ts,Tt,Fn,is,Ww,iM,Cd],FD),HV=ge([Yw,xm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),sM=ge(is,aM,BD),qV=ge([iM,aM,Qs,cD,sM,Cd,Vw],GD),FV=ge([Yw],e=>({isActive:e.active,activeIndex:e.index})),KV=(e,t,n,r,s,o,u,d)=>{if(!(!e||!t||!r||!s||!o)){var f=F9(e.chartX,e.chartY,t,n,d);if(f){var m=G9(f,t),g=O9(m,u,o,r,s),x=K9(t,o,g,f);return{activeIndex:String(g),activeCoordinate:x}}}};function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(null,arguments)}function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){GV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GV(e,t,n){return(t=VV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,g=t,x=n,b=r;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var w,S;if(m==="ScatterChart")w=g,S=oH;else if(m==="BarChart")w=cH(u,g,s,o),S=tk;else if(u==="radial"){var{cx:j,cy:N,radius:E,startAngle:C,endAngle:T}=nk(g);w={cx:j,cy:N,startAngle:C,endAngle:T,innerRadius:E,outerRadius:E},S=ak}else w={points:GH(u,g,s)},S=zb;var _=typeof d=="object"&&"className"in d?d.className:void 0,O=vf(vf(vf(vf({stroke:"#ccc",pointerEvents:"none"},s),w),$l(d)),{},{payload:x,payloadIndex:b,className:At("recharts-tooltip-cursor",_)});return p.isValidElement(d)?p.cloneElement(d,O):p.createElement(S,O)}function XV(e){var t=BV(),n=GO(),r=tg(),s=UV();return p.createElement(YV,Uy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var lM=p.createContext(null),QV=()=>p.useContext(lM),mv={exports:{}},eT;function ZV(){return eT||(eT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function o(f,m,g,x,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new s(g,x||f,b),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],w]:f._events[S].push(w):(f._events[S]=w,f._eventsCount++),f}function u(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,w=x.length,S=new Array(w);b<w;b++)S[b]=x[b].fn;return S},d.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,g,x,b,w,S){var j=n?n+m:m;if(!this._events[j])return!1;var N=this._events[j],E=arguments.length,C,T;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,x),!0;case 4:return N.fn.call(N.context,g,x,b),!0;case 5:return N.fn.call(N.context,g,x,b,w),!0;case 6:return N.fn.call(N.context,g,x,b,w,S),!0}for(T=1,C=new Array(E-1);T<E;T++)C[T-1]=arguments[T];N.fn.apply(N.context,C)}else{var _=N.length,O;for(T=0;T<_;T++)switch(N[T].once&&this.removeListener(m,N[T].fn,void 0,!0),E){case 1:N[T].fn.call(N[T].context);break;case 2:N[T].fn.call(N[T].context,g);break;case 3:N[T].fn.call(N[T].context,g,x);break;case 4:N[T].fn.call(N[T].context,g,x,b);break;default:if(!C)for(O=1,C=new Array(E-1);O<E;O++)C[O-1]=arguments[O];N[T].fn.apply(N[T].context,C)}}return!0},d.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},d.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},d.prototype.removeListener=function(m,g,x,b){var w=n?n+m:m;if(!this._events[w])return this;if(!g)return u(this,w),this;var S=this._events[w];if(S.fn)S.fn===g&&(!b||S.once)&&(!x||S.context===x)&&u(this,w);else{for(var j=0,N=[],E=S.length;j<E;j++)(S[j].fn!==g||b&&!S[j].once||x&&S[j].context!==x)&&N.push(S[j]);N.length?this._events[w]=N.length===1?N[0]:N:u(this,w)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(mv)),mv.exports}var JV=ZV();const eW=hi(JV);var ad=new eW,$y="recharts.syncEvent.tooltip",tT="recharts.syncEvent.brush";function Xw(e,t){if(t){var n=Number.parseInt(t,10);if(!Da(n))return e?.[n]}}var tW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oM=oa({name:"options",initialState:tW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nW=oM.reducer,{createEventEmitter:rW}=oM.actions;function aW(e){return e.tooltip.syncInteraction}var iW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cM=oa({name:"chartData",initialState:iW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:nT,setDataStartEndIndexes:sW,setComputedData:Vae}=cM.actions,lW=cM.reducer,oW=["x","y"];function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){cW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hW(e,t){if(e==null)return{};var n,r,s=fW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function fW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uM=()=>{};function mW(){var e=Qe(gw),t=Qe(pw),n=xn(),r=Qe(rD),s=Qe(is),o=tg(),u=eg(),d=Qe(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return uM;var f=(m,g,x)=>{if(t!==x&&e===m){if(r==="index"){var b;if(u&&g!==null&&g!==void 0&&(b=g.payload)!==null&&b!==void 0&&b.coordinate&&g.payload.sourceViewBox){var w=g.payload.coordinate,{x:S,y:j}=w,N=hW(w,oW),{x:E,y:C,width:T,height:_}=g.payload.sourceViewBox,O=Ko(Ko({},N),{},{x:u.x+(T?(S-E)/T:0)*u.width,y:u.y+(_?(j-C)/_:0)*u.height});n(Ko(Ko({},g),{},{payload:Ko(Ko({},g.payload),{},{coordinate:O})}))}else n(g);return}if(s!=null){var R;if(typeof r=="function"){var D={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},L=r(s,D);R=s[L]}else r==="value"&&(R=s.find(q=>String(q.value)===g.payload.label));var{coordinate:V}=g.payload;if(R==null||g.payload.active===!1||V==null||u==null){n(Ly({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:J,y:B}=V,F=Math.min(J,u.x+u.width),re=Math.min(B,u.y+u.height),be={x:o==="horizontal"?R.coordinate:F,y:o==="horizontal"?re:R.coordinate},xe=Ly({active:g.payload.active,coordinate:be,dataKey:g.payload.dataKey,index:String(R.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox});n(xe)}}};return ad.on($y,f),()=>{ad.off($y,f)}},[d,n,t,e,r,s,o,u])}function gW(){var e=Qe(gw),t=Qe(pw),n=xn();p.useEffect(()=>{if(e==null)return uM;var r=(s,o,u)=>{t!==u&&e===s&&n(sW(o))};return ad.on(tT,r),()=>{ad.off(tT,r)}},[n,t,e])}function pW(){var e=xn();p.useEffect(()=>{e(rW())},[e]),mW(),gW()}function xW(e,t,n,r,s,o){var u=Qe(w=>zV(w,e,t)),d=Qe(pw),f=Qe(gw),m=Qe(rD),g=Qe(aW),x=g?.active,b=eg();p.useEffect(()=>{if(!x&&f!=null&&d!=null){var w=Ly({active:o,coordinate:n,dataKey:u,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:b});ad.emit($y,f,w,d)}},[x,n,u,s,r,d,f,m,o,b])}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){vW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vW(e,t,n){return(t=yW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wW(e){return e.dataKey}function jW(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement($7,t)}var sT=[],NW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ws.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Td(e){var t=ur(e,NW),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:o,content:u,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:g,position:x,reverseDirection:b,useTranslate3d:w,wrapperStyle:S,cursor:j,shared:N,trigger:E,defaultIndex:C,portal:T,axisId:_}=t,O=xn(),R=typeof C=="number"?String(C):C;p.useEffect(()=>{O(KG({shared:N,trigger:E,axisId:_,active:n,defaultIndex:R}))},[O,N,E,_,n,R]);var D=eg(),L=XO(),V=$G(N),{activeIndex:J,isActive:B}=Qe(Z=>FV(Z,V,E,R)),F=Qe(Z=>qV(Z,V,E,R)),re=Qe(Z=>sM(Z,V,E,R)),be=Qe(Z=>HV(Z,V,E,R)),xe=F,q=QV(),H=n??B,[K,ve]=cO([xe,H]),Pe=V==="axis"?re:void 0;xW(V,E,be,Pe,J,H);var P=T??q;if(P==null)return null;var z=xe??sT;H||(z=sT),d&&z.length&&(z=aO(xe.filter(Z=>Z.value!=null&&(Z.hide!==!0||t.includeHidden)),g,wW));var ee=z.length>0,Y=p.createElement(V7,{allowEscapeViewBox:r,animationDuration:s,animationEasing:o,isAnimationActive:f,active:H,coordinate:be,hasPayload:ee,offset:m,position:x,reverseDirection:b,useTranslate3d:w,viewBox:D,wrapperStyle:S,lastBoundingBox:K,innerRef:ve,hasPortalFromProps:!!T},jW(u,iT(iT({},t),{},{payload:z,label:Pe,active:H,coordinate:be,accessibilityLayer:L})));return p.createElement(p.Fragment,null,Pm.createPortal(Y,P),H&&p.createElement(XV,{cursor:j,tooltipEventType:V,coordinate:be,payload:xe,index:J}))}var _d=e=>null;_d.displayName="Cell";function SW(e,t,n){return(t=EW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AW{constructor(t){SW(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){_W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _W(e,t,n){return(t=RW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kW={cacheSize:2e3,enableCache:!0},dM=TW({},kW),oT=new AW(dM.cacheSize),DW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cT="recharts_measurement_span";function MW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(d)}var uT=(e,t)=>{try{var n=document.getElementById(cT);n||(n=document.createElement("span"),n.setAttribute("id",cT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,DW,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ws.isSsr)return{width:0,height:0};if(!dM.enableCache)return uT(t,n);var r=MW(t,n),s=oT.get(r);if(s)return s;var o=uT(t,n);return oT.set(r,o),o},dT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LW=Object.keys(hM),Xo="NaN";function BW(e,t){return e*hM[t]}class $r{static parse(t){var n,[,r,s]=(n=IW.exec(t))!==null&&n!==void 0?n:[];return new $r(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Da(t)&&(this.unit=""),n!==""&&!PW.test(n)&&(this.num=NaN,this.unit=""),LW.includes(n)&&(this.num=BW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new $r(NaN,""):new $r(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $r(NaN,""):new $r(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $r(NaN,""):new $r(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $r(NaN,""):new $r(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Da(this.num)}}function fM(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,o]=(n=dT.exec(t))!==null&&n!==void 0?n:[],u=$r.parse(r??""),d=$r.parse(o??""),f=s==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return Xo;t=t.replace(dT,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,b]=(m=hT.exec(t))!==null&&m!==void 0?m:[],w=$r.parse(g??""),S=$r.parse(b??""),j=x==="+"?w.add(S):w.subtract(S);if(j.isNaN())return Xo;t=t.replace(hT,j.toString())}return t}var fT=/\(([^()]*)\)/;function UW(e){for(var t=e,n;(n=fT.exec(t))!=null;){var[,r]=n;t=t.replace(fT,fM(r))}return t}function $W(e){var t=e.replace(/\s+/g,"");return t=UW(t),t=fM(t),t}function zW(e){try{return $W(e)}catch{return Xo}}function gv(e){var t=zW(e.slice(5,-1));return t===Xo?"":t}var HW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qW=["dx","dy","angle","className","breakAll"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function mT(e,t){if(e==null)return{};var n,r,s=FW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function FW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mM=/[ \f\n\r\t\v\u2028\u2029]+/,gM=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];pn(t)||(n?s=t.toString().split(""):s=t.toString().split(mM));var o=s.map(d=>({word:d,width:Pu(d,r).width})),u=n?0:Pu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},KW=(e,t,n,r,s)=>{var{maxLines:o,children:u,style:d,breakAll:f}=e,m=tt(o),g=u,x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((F,re)=>{var{word:be,width:xe}=re,q=F[F.length-1];if(q&&(r==null||s||q.width+xe+n<Number(r)))q.words.push(be),q.width+=xe+n;else{var H={words:[be],width:xe};F.push(H)}return F},[])},b=x(t),w=J=>J.reduce((B,F)=>B.width>F.width?B:F);if(!m||s)return b;var S=b.length>o||w(b).width>Number(r);if(!S)return b;for(var j="",N=J=>{var B=g.slice(0,J),F=gM({breakAll:f,style:d,children:B+j}).wordsWithComputedWidth,re=x(F),be=re.length>o||w(re).width>Number(r);return[be,re]},E=0,C=g.length-1,T=0,_;E<=C&&T<=g.length-1;){var O=Math.floor((E+C)/2),R=O-1,[D,L]=N(R),[V]=N(O);if(!D&&!V&&(E=O+1),D&&V&&(C=O-1),!D&&V){_=L;break}T++}return _||b},gT=e=>{var t=pn(e)?[]:e.toString().split(mM);return[{words:t}]},GW=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:o,maxLines:u}=e;if((t||n)&&!Ws.isSsr){var d,f,m=gM({breakAll:o,children:r,style:s});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;d=g,f=x}else return gT(r);return KW({breakAll:o,children:r,maxLines:u,style:s},d,f,t,n)}return gT(r)},pT="#808080",jg=p.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=pT}=e,g=mT(e,HW),x=p.useMemo(()=>GW({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:b,dy:w,angle:S,className:j,breakAll:N}=g,E=mT(g,qW);if(!oi(n)||!oi(r)||x.length===0)return null;var C=n+(tt(b)?b:0),T=r+(tt(w)?w:0),_;switch(f){case"start":_=gv("calc(".concat(o,")"));break;case"middle":_=gv("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:_=gv("calc(".concat(x.length-1," * -").concat(s,")"));break}var O=[];if(u){var R=x[0].width,{width:D}=g;O.push("scale(".concat(tt(D)?D/R:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(C,", ").concat(T,")")),O.length&&(E.transform=O.join(" ")),p.createElement("text",zy({},Ar(E),{ref:t,x:C,y:T,className:At("recharts-text",j),textAnchor:d,fill:m.includes("url")?pT:m}),x.map((L,V)=>{var J=L.words.join(N?"":" ");return p.createElement("tspan",{x:C,dy:V===0?_:s,key:"".concat(J,"-").concat(V)},J)}))});jg.displayName="Text";var VW=["labelRef"];function WW(e,t){if(e==null)return{};var n,r,s=YW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function YW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){XW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XW(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(null,arguments)}var pM=p.createContext(null),JW=e=>{var{x:t,y:n,width:r,height:s,children:o}=e,u=p.useMemo(()=>({x:t,y:n,width:r,height:s}),[t,n,r,s]);return p.createElement(pM.Provider,{value:u},o)},xM=()=>{var e=p.useContext(pM),t=eg();return e||t},eY=p.createContext(null),tY=()=>{var e=p.useContext(eY),t=Qe(oD);return e||t},nY=e=>{var{value:t,formatter:n}=e,r=pn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Qw=e=>e!=null&&typeof e=="function",rY=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},aY=(e,t,n,r,s)=>{var{offset:o,className:u}=e,{cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:x,endAngle:b,clockWise:w}=s,S=(m+g)/2,j=rY(x,b),N=j>=0?1:-1,E,C;switch(t){case"insideStart":E=x+N*o,C=w;break;case"insideEnd":E=b-N*o,C=!w;break;case"end":E=b+N*o,C=w;break;default:throw new Error("Unsupported position ".concat(t))}C=j<=0?C:!C;var T=Bn(d,f,S,E),_=Bn(d,f,S,E+(C?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(C?0:1,`,
    `).concat(_.x,",").concat(_.y),R=pn(e.id)?Vu("recharts-radial-line-"):e.id;return p.createElement("text",Li({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",u)}),p.createElement("defs",null,p.createElement("path",{id:R,d:O})),p.createElement("textPath",{xlinkHref:"#".concat(R)},n))},iY=(e,t,n)=>{var{cx:r,cy:s,innerRadius:o,outerRadius:u,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:g,y:x}=Bn(r,s,u+t,m);return{x:g,y:x,textAnchor:g>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:w,y:S}=Bn(r,s,b,m);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},vM=e=>"cx"in e&&tt(e.cx),sY=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,o;n!=null&&!vM(n)&&(o=n);var{x:u,y:d,width:f,height:m}=t,g=m>=0?1:-1,x=g*r,b=g>0?"end":"start",w=g>0?"start":"end",S=f>=0?1:-1,j=S*r,N=S>0?"end":"start",E=S>0?"start":"end";if(s==="top"){var C={x:u+f/2,y:d-g*r,textAnchor:"middle",verticalAnchor:b};return Rn(Rn({},C),o?{height:Math.max(d-o.y,0),width:f}:{})}if(s==="bottom"){var T={x:u+f/2,y:d+m+x,textAnchor:"middle",verticalAnchor:w};return Rn(Rn({},T),o?{height:Math.max(o.y+o.height-(d+m),0),width:f}:{})}if(s==="left"){var _={x:u-j,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Rn(Rn({},_),o?{width:Math.max(_.x-o.x,0),height:m}:{})}if(s==="right"){var O={x:u+f+j,y:d+m/2,textAnchor:E,verticalAnchor:"middle"};return Rn(Rn({},O),o?{width:Math.max(o.x+o.width-O.x,0),height:m}:{})}var R=o?{width:f,height:m}:{};return s==="insideLeft"?Rn({x:u+j,y:d+m/2,textAnchor:E,verticalAnchor:"middle"},R):s==="insideRight"?Rn({x:u+f-j,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},R):s==="insideTop"?Rn({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:w},R):s==="insideBottom"?Rn({x:u+f/2,y:d+m-x,textAnchor:"middle",verticalAnchor:b},R):s==="insideTopLeft"?Rn({x:u+j,y:d+x,textAnchor:E,verticalAnchor:w},R):s==="insideTopRight"?Rn({x:u+f-j,y:d+x,textAnchor:N,verticalAnchor:w},R):s==="insideBottomLeft"?Rn({x:u+j,y:d+m-x,textAnchor:E,verticalAnchor:b},R):s==="insideBottomRight"?Rn({x:u+f-j,y:d+m-x,textAnchor:N,verticalAnchor:b},R):s&&typeof s=="object"&&(tt(s.x)||Yi(s.x))&&(tt(s.y)||Yi(s.y))?Rn({x:u+xr(s.x,f),y:d+xr(s.y,m),textAnchor:"end",verticalAnchor:"end"},R):Rn({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},lY={offset:5};function Ls(e){var t=ur(e,lY),{viewBox:n,position:r,value:s,children:o,content:u,className:d="",textBreakAll:f,labelRef:m}=t,g=tY(),x=xM(),b=r==="center"?x:g??x,w=n||b;if(!w||pn(s)&&pn(o)&&!p.isValidElement(u)&&typeof u!="function")return null;var S=Rn(Rn({},t),{},{viewBox:w});if(p.isValidElement(u)){var{labelRef:j}=S,N=WW(S,VW);return p.cloneElement(u,N)}var E;if(typeof u=="function"){if(E=p.createElement(u,S),p.isValidElement(E))return E}else E=nY(t);var C=vM(w),T=Ar(t);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return aY(t,r,E,T,w);var _=C?iY(w,t.offset,t.position):sY(t,w);return p.createElement(jg,Li({ref:m,className:At("recharts-label",d)},T,_,{breakAll:f}),E)}Ls.displayName="Label";var oY=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?p.createElement(Ls,Li({key:"label-implicit"},r)):oi(e)?p.createElement(Ls,Li({key:"label-implicit",value:e},r)):p.isValidElement(e)?e.type===Ls?p.cloneElement(e,Rn({key:"label-implicit"},r)):p.createElement(Ls,Li({key:"label-implicit",content:e},r)):Qw(e)?p.createElement(Ls,Li({key:"label-implicit",content:e},r)):e&&typeof e=="object"?p.createElement(Ls,Li({},e,{key:"label-implicit"},r)):null};function cY(e){var{label:t,labelRef:n}=e,r=xM();return oY(t,r,n)||null}var pv={},xv={},vT;function uY(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(xv)),xv}var vv={},yT;function dY(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(vv)),vv}var bT;function hY(){return bT||(bT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uY(),n=dY(),r=_b();function s(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=s})(pv)),pv}var yv,wT;function fY(){return wT||(wT=1,yv=hY().last),yv}var mY=fY();const gY=hi(mY);var pY=["valueAccessor"],xY=["dataKey","clockWise","id","textBreakAll"];function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vm.apply(null,arguments)}function jT(e,t){if(e==null)return{};var n,r,s=vY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yY=e=>Array.isArray(e.value)?gY(e.value):e.value,yM=p.createContext(void 0),bM=yM.Provider,wM=p.createContext(void 0),bY=wM.Provider;function wY(){return p.useContext(yM)}function jY(){return p.useContext(wM)}function Mf(e){var{valueAccessor:t=yY}=e,n=jT(e,pY),{dataKey:r,clockWise:s,id:o,textBreakAll:u}=n,d=jT(n,xY),f=wY(),m=jY(),g=f||m;return!g||!g.length?null:p.createElement(cr,{className:"recharts-label-list"},g.map((x,b)=>{var w,S=pn(r)?t(x,b):tn(x&&x.payload,r),j=pn(o)?{}:{id:"".concat(o,"-").concat(b)};return p.createElement(Ls,vm({key:"label-".concat(b)},Ar(x),d,j,{fill:(w=n.fill)!==null&&w!==void 0?w:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:u,viewBox:x.viewBox,index:b}))}))}Mf.displayName="LabelList";function Zw(e){var{label:t}=e;return t?t===!0?p.createElement(Mf,{key:"labelList-implicit"}):p.isValidElement(t)||Qw(t)?p.createElement(Mf,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Mf,vm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}var jM=e=>{var{cx:t,cy:n,r,className:s}=e,o=At("recharts-dot",s);return t===+t&&n===+n&&r===+r?p.createElement("circle",Hy({},sa(e),Cb(e),{className:o,cx:t,cy:n,r})):null},NM=e=>e.graphicalItems.polarItems,NY=ge([vn,jd],jw),Ng=ge([NM,jn,NY],Nw),SY=ge([Ng],Sw),Sg=ge([SY,dw],Ew),EY=ge([Sg,jn,Ng],Aw);ge([Sg,jn,Ng],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var o,u=tn(r,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:tn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var NT=()=>{},CY=ge([Sg,jn,Ng,vg,vn],Ow),AY=ge([jn,_w,Rw,NT,CY,NT,Tt,vn],kw),SM=ge([jn,Tt,Sg,EY,wd,vn,AY],Dw),TY=ge([SM,jn,Ac],Iw);ge([jn,SM,TY,vn],Bw);var _Y={radiusAxis:{},angleAxis:{}},EM=oa({name:"polarAxis",initialState:_Y,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Wae,removeRadiusAxis:Yae,addAngleAxis:Xae,removeAngleAxis:Qae}=EM.actions,RY=EM.reducer;function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ET(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){OY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OY(e,t,n){return(t=kY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=(e,t)=>t,Jw=ge([NM,MY],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),PY=[],ej=(e,t,n)=>n?.length===0?PY:n,CM=ge([dw,Jw,ej],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(o=>ET(ET({},t.presentationProps),o.props))),s!=null)return s}}),IY=ge([CM,Jw,ej],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,s)=>{var o,u=tn(r,t.nameKey,t.name),d;return n!=null&&(o=n[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:bc(u,t.dataKey),color:d,payload:r,type:t.legendType}})}),LY=ge([CM,Jw,ej,Fn],(e,t,n,r)=>{if(!(t==null||e==null))return LX({offset:r,pieSettings:t,displayedData:e,cells:n})}),bv={exports:{}},qt={};var CT;function BY(){if(CT)return qt;CT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function S(j){if(typeof j=="object"&&j!==null){var N=j.$$typeof;switch(N){case e:switch(j=j.type,j){case n:case s:case r:case f:case m:case b:return j;default:switch(j=j&&j.$$typeof,j){case u:case d:case x:case g:return j;case o:return j;default:return N}}case t:return N}}}return qt.ContextConsumer=o,qt.ContextProvider=u,qt.Element=e,qt.ForwardRef=d,qt.Fragment=n,qt.Lazy=x,qt.Memo=g,qt.Portal=t,qt.Profiler=s,qt.StrictMode=r,qt.Suspense=f,qt.SuspenseList=m,qt.isContextConsumer=function(j){return S(j)===o},qt.isContextProvider=function(j){return S(j)===u},qt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},qt.isForwardRef=function(j){return S(j)===d},qt.isFragment=function(j){return S(j)===n},qt.isLazy=function(j){return S(j)===x},qt.isMemo=function(j){return S(j)===g},qt.isPortal=function(j){return S(j)===t},qt.isProfiler=function(j){return S(j)===s},qt.isStrictMode=function(j){return S(j)===r},qt.isSuspense=function(j){return S(j)===f},qt.isSuspenseList=function(j){return S(j)===m},qt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===r||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===g||j.$$typeof===u||j.$$typeof===o||j.$$typeof===d||j.$$typeof===w||j.getModuleId!==void 0)},qt.typeOf=S,qt}var AT;function UY(){return AT||(AT=1,bv.exports=BY()),bv.exports}var $Y=UY(),TT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_T=null,wv=null,AM=e=>{if(e===_T&&Array.isArray(wv))return wv;var t=[];return p.Children.forEach(e,n=>{pn(n)||($Y.isFragment(n)?t=t.concat(AM(n.props.children)):t.push(n))}),wv=t,_T=e,t};function tj(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>TT(s)):r=[TT(t)],AM(e).forEach(s=>{var o=zl(s,"type.displayName")||zl(s,"type.name");r.indexOf(o)!==-1&&n.push(s)}),n}var TM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jv={},RT;function zY(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(jv)),jv}var Nv,OT;function HY(){return OT||(OT=1,Nv=zY().isPlainObject),Nv}var qY=HY();const FY=hi(qY);function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function DT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(n),!0).forEach(function(r){KY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KY(e,t,n){return(t=GY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ym.apply(null,arguments)}var MT=(e,t,n,r,s)=>{var o=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-o/2,",").concat(t+s),u+="L ".concat(e+n-o/2-r,",").concat(t+s),u+="L ".concat(e,",").concat(t," Z"),u},WY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YY=e=>{var t=ur(e,WY),{x:n,y:r,upperWidth:s,lowerWidth:o,height:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,b=p.useRef(null),[w,S]=p.useState(-1),j=p.useRef(s),N=p.useRef(o),E=p.useRef(u),C=p.useRef(n),T=p.useRef(r),_=pd(e,"trapezoid-");if(p.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var be=b.current.getTotalLength();be&&S(be)}catch{}},[]),n!==+n||r!==+r||s!==+s||o!==+o||u!==+u||s===0&&o===0||u===0)return null;var O=At("recharts-trapezoid",d);if(!x)return p.createElement("g",null,p.createElement("path",ym({},Ar(t),{className:O,d:MT(n,r,s,o,u)})));var R=j.current,D=N.current,L=E.current,V=C.current,J=T.current,B="0px ".concat(w===-1?1:w,"px"),F="".concat(w,"px 0px"),re=QO(["strokeDasharray"],m,f);return p.createElement(gd,{animationId:_,key:_,canBegin:w>0,duration:m,easing:f,isActive:x,begin:g},be=>{var xe=En(R,s,be),q=En(D,o,be),H=En(L,u,be),K=En(V,n,be),ve=En(J,r,be);b.current&&(j.current=xe,N.current=q,E.current=H,C.current=K,T.current=ve);var Pe=be>0?{transition:re,strokeDasharray:F}:{strokeDasharray:B};return p.createElement("path",ym({},Ar(t),{className:O,d:MT(K,ve,xe,q,H),ref:b,style:DT(DT({},Pe),t.style)}))})},XY=["option","shapeType","propTransformer","activeClassName","isActive"];function QY(e,t){if(e==null)return{};var n,r,s=ZY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ZY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){JY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JY(e,t,n){return(t=eX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eX(e){var t=tX(e,"string");return typeof t=="symbol"?t:t+""}function tX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nX(e,t){return bm(bm({},t),e)}function rX(e,t){return e==="symbols"}function IT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return p.createElement(tk,n);case"trapezoid":return p.createElement(YY,n);case"sector":return p.createElement(ak,n);case"symbols":if(rX(t))return p.createElement(Eb,n);break;default:return null}}function aX(e){return p.isValidElement(e)?e.props:e}function _M(e){var{option:t,shapeType:n,propTransformer:r=nX,activeClassName:s="recharts-active-shape",isActive:o}=e,u=QY(e,XY),d;if(p.isValidElement(t))d=p.cloneElement(t,bm(bm({},u),aX(t)));else if(typeof t=="function")d=t(u);else if(FY(t)&&typeof t!="boolean"){var f=r(t,u);d=p.createElement(IT,{shapeType:n,elementProps:f})}else{var m=u;d=p.createElement(IT,{shapeType:n,elementProps:m})}return o?p.createElement(cr,{className:s},d):d}var nj=(e,t)=>{var n=xn();return(r,s)=>o=>{e?.(r,s,o),n($D({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},rj=e=>{var t=xn();return(n,r)=>s=>{e?.(n,r,s),t(GG())}},aj=(e,t)=>{var n=xn();return(r,s)=>o=>{e?.(r,s,o),n(VG({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function ij(e){var{fn:t,args:n}=e,r=xn(),s=Tr();return p.useLayoutEffect(()=>{if(!s){var o=t(n);return r(qG(o)),()=>{r(FG(o))}}},[t,n,r,s]),null}var RM=()=>{};function OM(e){var{legendPayload:t}=e,n=xn(),r=Tr();return p.useLayoutEffect(()=>r?RM:(n(WO(t)),()=>{n(YO(t))}),[n,r,t]),null}function iX(e){var{legendPayload:t}=e,n=xn(),r=Qe(Tt);return p.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?RM:(n(WO(t)),()=>{n(YO(t))}),[n,r,t]),null}var Sv,sX=()=>{var[e]=p.useState(()=>Vu("uid-"));return e},lX=(Sv=Jy.useId)!==null&&Sv!==void 0?Sv:sX;function oX(e,t){var n=lX();return t||(e?"".concat(e,"-").concat(n):n)}var cX=p.createContext(void 0),sj=e=>{var{id:t,type:n,children:r}=e,s=oX("recharts-".concat(n),t);return p.createElement(cX.Provider,{value:s},r(s))},uX={cartesianItems:[],polarItems:[]},kM=oa({name:"graphicalItems",initialState:uX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Nr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,s=Fi(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},prepare:Nr()},removeCartesianGraphicalItem:{reducer(e,t){var n=Fi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Nr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Nr()},removePolarGraphicalItem:{reducer(e,t){var n=Fi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Nr()}}}),{addCartesianGraphicalItem:dX,replaceCartesianGraphicalItem:hX,removeCartesianGraphicalItem:fX,addPolarGraphicalItem:mX,removePolarGraphicalItem:gX}=kM.actions,pX=kM.reducer;function DM(e){var t=xn(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(dX(e)):n.current!==e&&t(hX({prev:n.current,next:e})),n.current=e},[t,e]),p.useLayoutEffect(()=>()=>{n.current&&(t(fX(n.current)),n.current=null)},[t]),null}function xX(e){var t=xn();return p.useLayoutEffect(()=>(t(mX(e)),()=>{t(gX(e))}),[t,e]),null}var vX=["onMouseEnter","onClick","onMouseLeave"],yX=["id"],bX=["id"];function lj(e,t){if(e==null)return{};var n,r,s=wX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(null,arguments)}function EX(e){var t=p.useMemo(()=>tj(e.children,_d),[e.children]),n=Qe(r=>IY(r,e.id,t));return n==null?null:p.createElement(iX,{legendPayload:n})}function CX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:o,fill:u,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:u,dataKey:t,nameKey:n,name:bc(d,t),hide:f,type:m,color:u,unit:""}}}var AX=(e,t)=>e>t?"start":e<t?"end":"middle",TX=(e,t,n)=>xr(typeof t=="function"?t(e):t,n,n*.8),_X=(e,t,n)=>{var{top:r,left:s,width:o,height:u}=t,d=IO(o,u),f=s+xr(e.cx,o,o/2),m=r+xr(e.cy,u,u/2),g=xr(e.innerRadius,d,0),x=TX(n,e.outerRadius,d),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:f,cy:m,innerRadius:g,outerRadius:x,maxRadius:b}},RX=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function OX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var kX=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var n=At("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(zb,Fs({},t,{type:"linear",className:n}))},DX=(e,t,n)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),p.isValidElement(r)))return r;var s=At("recharts-pie-label-text",OX(e));return p.createElement(jg,Fs({},t,{alignmentBaseline:"middle",className:s}),r)};function MX(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:o,dataKey:u}=n;if(!r||!s||!t)return null;var d=sa(n),f=$l(s),m=$l(o),g=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,x=t.map((b,w)=>{var S=(b.startAngle+b.endAngle)/2,j=Bn(b.cx,b.cy,b.outerRadius+g,S),N=fn(fn(fn(fn({},d),b),{},{stroke:"none"},f),{},{index:w,textAnchor:AX(j.x,b.cx)},j),E=fn(fn(fn(fn({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:w,points:[Bn(b.cx,b.cy,b.outerRadius,S),j],key:"line"});return p.createElement(cr,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},o&&kX(o,E),DX(s,N,tn(b,u)))});return p.createElement(cr,{className:"recharts-pie-labels"},x)}function PX(e){var{sectors:t,props:n,showLabels:r}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(Zw,{label:s}):p.createElement(MX,{sectors:t,props:n,showLabels:r})}function IX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s}=e,o=Qe(qs),{onMouseEnter:u,onClick:d,onMouseLeave:f}=s,m=lj(s,vX),g=nj(u,s.dataKey),x=rj(f),b=aj(d,s.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((w,S)=>{if(w?.startAngle===0&&w?.endAngle===0&&t.length!==1)return null;var j=n&&String(S)===o,N=o?r:null,E=j?n:N,C=fn(fn({},w),{},{stroke:w.stroke,tabIndex:-1,[zO]:S,[HO]:s.dataKey});return p.createElement(cr,Fs({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},ud(m,w,S),{onMouseEnter:g(w,S),onMouseLeave:x(w,S),onClick:b(w,S)}),p.createElement(_M,Fs({option:E,isActive:j,shapeType:"sector"},C)))}))}function LX(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:o}=e,{cornerRadius:u,startAngle:d,endAngle:f,dataKey:m,nameKey:g,tooltipType:x}=n,b=Math.abs(n.minAngle),w=RX(d,f),S=Math.abs(w),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,N=r.filter(R=>tn(R,m,0)!==0).length,E=(S>=360?N:N-1)*j,C=S-N*b-E,T=r.reduce((R,D)=>{var L=tn(D,m,0);return R+(tt(L)?L:0)},0),_;if(T>0){var O;_=r.map((R,D)=>{var L=tn(R,m,0),V=tn(R,g,D),J=_X(n,o,R),B=(tt(L)?L:0)/T,F,re=fn(fn({},R),s&&s[D]&&s[D].props);D?F=O.endAngle+er(w)*j*(L!==0?1:0):F=d;var be=F+er(w)*((L!==0?b:0)+B*C),xe=(F+be)/2,q=(J.innerRadius+J.outerRadius)/2,H=[{name:V,value:L,payload:re,dataKey:m,type:x}],K=Bn(J.cx,J.cy,q,xe);return O=fn(fn(fn(fn({},n.presentationProps),{},{percent:B,cornerRadius:u,name:V,tooltipPayload:H,midAngle:xe,middleRadius:q,tooltipPosition:K},re),J),{},{value:L,startAngle:F,endAngle:be,payload:re,paddingAngle:er(w)*j}),O})}return _}function BX(e){var{showLabels:t,sectors:n,children:r}=e,s=p.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return p.createElement(bY,{value:t?s:void 0},r)}function UX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:g,onAnimationEnd:x}=t,b=pd(t,"recharts-pie-"),w=n.current,[S,j]=p.useState(!1),N=p.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),E=p.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]);return p.createElement(BX,{showLabels:!S,sectors:r},p.createElement(gd,{animationId:b,begin:o,duration:u,isActive:s,easing:d,onAnimationStart:E,onAnimationEnd:N,key:b},C=>{var T=[],_=r&&r[0],O=_?.startAngle;return r?.forEach((R,D)=>{var L=w&&w[D],V=D>0?zl(R,"paddingAngle",0):0;if(L){var J=En(L.endAngle-L.startAngle,R.endAngle-R.startAngle,C),B=fn(fn({},R),{},{startAngle:O+V,endAngle:O+J+V});T.push(B),O=B.endAngle}else{var{endAngle:F,startAngle:re}=R,be=En(0,F-re,C),xe=fn(fn({},R),{},{startAngle:O+V,endAngle:O+be+V});T.push(xe),O=xe.endAngle}}),n.current=T,p.createElement(cr,null,p.createElement(IX,{sectors:T,activeShape:f,inactiveShape:m,allOtherPieProps:t}))}),p.createElement(PX,{showLabels:!S,sectors:r,props:t}),t.children)}var $X={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ws.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function zX(e){var{id:t}=e,n=lj(e,yX),{hide:r,className:s,rootTabIndex:o}=e,u=p.useMemo(()=>tj(e.children,_d),[e.children]),d=Qe(g=>LY(g,t,u)),f=p.useRef(null),m=At("recharts-pie",s);return r||d==null?(f.current=null,p.createElement(cr,{tabIndex:o,className:m})):p.createElement(p.Fragment,null,p.createElement(ij,{fn:CX,args:fn(fn({},e),{},{sectors:d})}),p.createElement(cr,{tabIndex:o,className:m},p.createElement(UX,{props:fn(fn({},n),{},{sectors:d}),previousSectorsRef:f})))}function MM(e){var t=ur(e,$X),{id:n}=t,r=lj(t,bX),s=sa(r);return p.createElement(sj,{id:n,type:"pie"},o=>p.createElement(p.Fragment,null,p.createElement(xX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(EX,Fs({},r,{id:o})),p.createElement(zX,Fs({},r,{id:o}))))}MM.displayName="Pie";function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function UT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){HX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HX(e,t,n){return(t=qX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KX={xAxis:{},yAxis:{},zAxis:{}},PM=oa({name:"cartesianAxis",initialState:KX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Nr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Nr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Nr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Nr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Nr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Nr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,s=e.yAxis[n];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==s.width&&Math.abs(r-o[0])<=1)return;var u=[...o,r].slice(-3);e.yAxis[n]=UT(UT({},e.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:GX,removeXAxis:VX,addYAxis:WX,removeYAxis:YX,addZAxis:Zae,removeZAxis:Jae,updateYAxisWidth:XX}=PM.actions,QX=PM.reducer,ZX=ge([Fn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),JX=ge([ZX,es,ts],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),oj=()=>Qe(JX),eQ=()=>Qe(DV);function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aQ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var u=zT(zT({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},$l(s)),Cb(s)),d;return p.isValidElement(s)?d=p.cloneElement(s,u):typeof s=="function"?d=s(u):d=p.createElement(jM,u),p.createElement(cr,{className:"recharts-active-dot"},d)};function iQ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,o=Qe(qs),u=eQ();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return pn(d)?null:aQ({point:d,childIndex:Number(o),mainColor:n,dataKey:s,activeDot:r})}var sQ="Invariant failed";function lQ(e,t){throw new Error(sQ)}var oQ=["x","y"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){cQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cQ(e,t,n){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hQ(e,t){if(e==null)return{};var n,r,s=fQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function fQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mQ(e,t){var{x:n,y:r}=e,s=hQ(e,oQ),o="".concat(n),u=parseInt(o,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||s.height),g=parseInt(m,10),x="".concat(t.width||s.width),b=parseInt(x,10);return Ru(Ru(Ru(Ru(Ru({},t),s),u?{x:u}:{}),f?{y:f}:{}),{},{height:g,width:b,name:t.name,radius:t.radius})}function cj(e){return p.createElement(_M,qy({shapeType:"rectangle",propTransformer:mQ,activeClassName:"recharts-active-bar"},e))}var gQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(tt(t))return t;var o=tt(r)||pn(r);return o?t(r,s):(o||lQ(),n)}},pQ={},IM=oa({name:"errorBars",initialState:pQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:s}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:eie,replaceErrorBar:tie,removeErrorBar:nie}=IM.actions,xQ=IM.reducer,vQ=["children"];function yQ(e,t){if(e==null)return{};var n,r,s=bQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jQ=p.createContext(wQ);function LM(e){var{children:t}=e,n=yQ(e,vQ);return p.createElement(jQ.Provider,{value:n},t)}function uj(e,t){var n,r,s=Qe(m=>rs(m,e)),o=Qe(m=>as(m,t)),u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Qr.allowDataOverflow,d=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,f=u||d;return{needClip:f,needClipX:u,needClipY:d}}function BM(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=oj(),{needClipX:o,needClipY:u,needClip:d}=uj(t,n);if(!d)return null;var{x:f,y:m,width:g,height:x}=s;return p.createElement("clipPath",{id:"clipPath-".concat(r)},p.createElement("rect",{x:o?f:f-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var NQ=["onMouseEnter","onMouseLeave","onClick"],SQ=["value","background","tooltipPosition"],EQ=["id"],CQ=["onMouseEnter","onClick","onMouseLeave"];function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(null,arguments)}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wm(e,t){if(e==null)return{};var n,r,s=RQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function RQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OQ=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:r,value:bc(n,t),payload:e}]};function kQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:bc(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:d}}}function DQ(e){var t=Qe(qs),{data:n,dataKey:r,background:s,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:f}=o,m=wm(o,NQ),g=nj(u,r),x=rj(d),b=aj(f,r);if(!s||n==null)return null;var w=$l(s);return p.createElement(p.Fragment,null,n.map((S,j)=>{var{value:N,background:E,tooltipPosition:C}=S,T=wm(S,SQ);if(!E)return null;var _=g(S,j),O=x(S,j),R=b(S,j),D=Sr(Sr(Sr(Sr(Sr({option:s,isActive:String(j)===t},T),{},{fill:"#eee"},E),w),ud(m,S,j)),{},{onMouseEnter:_,onMouseLeave:O,onClick:R,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return p.createElement(cj,Ks({key:"background-bar-".concat(j)},D))}))}function MQ(e){var{showLabels:t,children:n,rects:r}=e,s=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return Sr(Sr({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return p.createElement(bM,{value:t?s:void 0},n)}function PQ(e){var{shape:t,activeBar:n,baseProps:r,entry:s,index:o,dataKey:u}=e,d=Qe(qs),f=Qe(tM),m=n&&String(o)===d&&(f==null||u===f),g=m?n:t;return p.createElement(cj,Ks({},r,{name:String(r.name)},s,{isActive:m,option:g,index:o,dataKey:u}))}function IQ(e){var{shape:t,baseProps:n,entry:r,index:s,dataKey:o}=e;return p.createElement(cj,Ks({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:s,dataKey:o}))}function LQ(e){var{data:t,props:n}=e,r=sa(n),{id:s}=r,o=wm(r,EQ),{shape:u,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:g,onMouseLeave:x}=n,b=wm(n,CQ),w=nj(m,d),S=rj(x),j=aj(g,d);return t?p.createElement(p.Fragment,null,t.map((N,E)=>p.createElement(cr,Ks({key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(E),className:"recharts-bar-rectangle"},ud(b,N,E),{onMouseEnter:w(N,E),onMouseLeave:S(N,E),onClick:j(N,E)}),f?p.createElement(PQ,{shape:u,activeBar:f,baseProps:o,entry:N,index:E,dataKey:d}):p.createElement(IQ,{shape:u,baseProps:o,entry:N,index:E,dataKey:d})))):null}function BQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:g}=t,x=n.current,b=pd(t,"recharts-bar-"),[w,S]=p.useState(!1),j=!w,N=p.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),E=p.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return p.createElement(MQ,{showLabels:j,rects:r},p.createElement(gd,{animationId:b,begin:u,duration:d,isActive:o,easing:f,onAnimationEnd:N,onAnimationStart:E,key:b},C=>{var T=C===1?r:r?.map((_,O)=>{var R=x&&x[O];if(R)return Sr(Sr({},_),{},{x:En(R.x,_.x,C),y:En(R.y,_.y,C),width:En(R.width,_.width,C),height:En(R.height,_.height,C)});if(s==="horizontal"){var D=En(0,_.height,C);return Sr(Sr({},_),{},{y:_.y+_.height-D,height:D})}var L=En(0,_.width,C);return Sr(Sr({},_),{},{width:L})});return C>0&&(n.current=T??null),T==null?null:p.createElement(cr,null,p.createElement(LQ,{props:t,data:T}))}),p.createElement(Zw,{label:t.label}),t.children)}function UQ(e){var t=p.useRef(null);return p.createElement(BQ,{previousRectanglesRef:t,props:e})}var UM=0,$Q=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:tn(e,t)}};class zQ extends p.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:o,yAxisId:u,needClip:d,background:f,id:m}=this.props;if(t||n==null)return null;var g=At("recharts-bar",s),x=m;return p.createElement(cr,{className:g,id:m},d&&p.createElement("defs",null,p.createElement(BM,{clipPathId:x,xAxisId:o,yAxisId:u})),p.createElement(cr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},p.createElement(DQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),p.createElement(UQ,this.props)))}}var HQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ws.isSsr,legendType:"rect",minPointSize:UM,xAxisId:0,yAxisId:0};function qQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=uj(t,n),b=tg(),w=Tr(),S=tj(e.children,_d),j=Qe(C=>xZ(C,t,n,w,e.id,S));if(b!=="vertical"&&b!=="horizontal")return null;var N,E=j?.[0];return E==null||E.height==null||E.width==null?N=0:N=b==="vertical"?E.height/2:E.width/2,p.createElement(LM,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:$Q,errorBarOffset:N},p.createElement(zQ,Ks({},e,{layout:b,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:g})))}function FQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:g,displayedData:x,offset:b,cells:w,parentViewBox:S}=e,j=t==="horizontal"?d:u,N=g?j.scale.domain():null,E=$9({numericAxis:j});return x.map((C,T)=>{var _,O,R,D,L,V;g?_=M9(g[T],N):(_=tn(C,n),Array.isArray(_)||(_=[E,_]));var J=gQ(r,UM)(_[1],T);if(t==="horizontal"){var B,[F,re]=[d.scale(_[0]),d.scale(_[1])];O=jA({axis:u,ticks:f,bandSize:o,offset:s.offset,entry:C,index:T}),R=(B=re??F)!==null&&B!==void 0?B:void 0,D=s.size;var be=F-re;if(L=Da(be)?0:be,V={x:O,y:b.top,width:D,height:b.height},Math.abs(J)>0&&Math.abs(L)<Math.abs(J)){var xe=er(L||J)*(Math.abs(J)-Math.abs(L));R-=xe,L+=xe}}else{var[q,H]=[u.scale(_[0]),u.scale(_[1])];if(O=q,R=jA({axis:d,ticks:m,bandSize:o,offset:s.offset,entry:C,index:T}),D=H-q,L=s.size,V={x:b.left,y:R,width:b.width,height:L},Math.abs(J)>0&&Math.abs(D)<Math.abs(J)){var K=er(D||J)*(Math.abs(J)-Math.abs(D));D+=K}}if(O==null||R==null||D==null||L==null)return null;var ve=Sr(Sr({},C),{},{x:O,y:R,width:D,height:L,value:g?_:_[1],payload:C,background:V,tooltipPosition:{x:O+D/2,y:R+L/2},parentViewBox:S},w&&w[T]&&w[T].props);return ve}).filter(Boolean)}function KQ(e){var t=ur(e,HQ),n=Tr();return p.createElement(sj,{id:t.id,type:"bar"},r=>p.createElement(p.Fragment,null,p.createElement(OM,{legendPayload:OQ(t)}),p.createElement(ij,{fn:kQ,args:t}),p.createElement(DM,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:U9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(qQ,Ks({},t,{id:r}))))}var dj=p.memo(KQ);dj.displayName="Bar";function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){GQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GQ(e,t,n){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=(e,t)=>t,XQ=(e,t,n)=>n,QQ=(e,t,n,r)=>r,ZQ=(e,t,n,r,s)=>s,Rd=ge([pg,ZQ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),JQ=ge([Rd],e=>e?.maxBarSize),eZ=(e,t,n,r,s,o)=>o,KT=(e,t,n)=>{var r=n??e;if(!pn(r))return xr(r,t,0)},tZ=ge([Tt,pg,YQ,XQ,QQ],(e,t,n,r,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),nZ=(e,t,n,r)=>{var s=Tt(e);return s==="horizontal"?Iy(e,"yAxis",n,r):Iy(e,"xAxis",t,r)},rZ=(e,t,n)=>{var r=Tt(e);return r==="horizontal"?G2(e,"xAxis",t):G2(e,"yAxis",n)},aZ=(e,t,n)=>{var r={},s=e.filter(fg),o=e.filter(m=>m.stackId==null),u=s.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),r),d=Object.entries(u).map(m=>{var[g,x]=m,b=x.map(S=>S.dataKey),w=KT(t,n,x[0].barSize);return{stackId:g,dataKeys:b,barSize:w}}),f=o.map(m=>{var g=[m.dataKey].filter(b=>b!=null),x=KT(t,n,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...d,...f]},iZ=ge([tZ,UK,rZ],aZ),sZ=(e,t,n,r,s)=>{var o,u,d=Rd(e,t,n,r,s);if(d!=null){var f=Tt(e),m=tD(e),{maxBarSize:g}=d,x=pn(g)?m:g,b,w;return f==="horizontal"?(b=Hs(e,"xAxis",t,r),w=zs(e,"xAxis",t,r)):(b=Hs(e,"yAxis",n,r),w=zs(e,"yAxis",n,r)),(o=(u=Qu(b,w,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},$M=(e,t,n,r)=>{var s=Tt(e),o,u;return s==="horizontal"?(o=Hs(e,"xAxis",t,r),u=zs(e,"xAxis",t,r)):(o=Hs(e,"yAxis",n,r),u=zs(e,"yAxis",n,r)),Qu(o,u)};function lZ(e,t,n,r,s){var o=r.length;if(!(o<1)){var u=xr(e,n,0,!0),d,f=[];if(vr(r[0].barSize)){var m=!1,g=n/o,x=r.reduce((E,C)=>E+(C.barSize||0),0);x+=(o-1)*u,x>=n&&(x-=(o-1)*u,u=0),x>=n&&g>0&&(m=!0,g*=.9,x=o*g);var b=(n-x)/2>>0,w={offset:b-u,size:0};d=r.reduce((E,C)=>{var T,_={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w.offset+w.size+u,size:m?g:(T=C.barSize)!==null&&T!==void 0?T:0}},O=[...E,_];return w=O[O.length-1].position,O},f)}else{var S=xr(t,n,0,!0);n-2*S-(o-1)*u<=0&&(u=0);var j=(n-2*S-(o-1)*u)/o;j>1&&(j>>=0);var N=vr(s)?Math.min(j,s):j;d=r.reduce((E,C,T)=>[...E,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:S+(j+u)*T+(j-N)/2,size:N}}],f)}return d}}var oZ=(e,t,n,r,s,o,u)=>{var d=pn(u)?t:u,f=lZ(n,r,s!==o?s:o,e,d);return s!==o&&f!=null&&(f=f.map(m=>yf(yf({},m),{},{position:yf(yf({},m.position),{},{offset:m.position.offset-s/2})}))),f},cZ=ge([iZ,tD,BK,nD,sZ,$M,JQ],oZ),uZ=(e,t,n,r)=>Hs(e,"xAxis",t,r),dZ=(e,t,n,r)=>Hs(e,"yAxis",n,r),hZ=(e,t,n,r)=>zs(e,"xAxis",t,r),fZ=(e,t,n,r)=>zs(e,"yAxis",n,r),mZ=ge([cZ,Rd],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),gZ=(e,t)=>{var n=bw(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:o}=s;if(o)return o.find(u=>u.key===n)}}}},pZ=ge([nZ,Rd],gZ),xZ=ge([Fn,Ib,uZ,dZ,hZ,fZ,mZ,Tt,cg,$M,pZ,Rd,eZ],(e,t,n,r,s,o,u,d,f,m,g,x,b)=>{var{chartData:w,dataStartIndex:S,dataEndIndex:j}=f;if(!(x==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||s==null||o==null||m==null)){var{data:N}=x,E;if(N!=null&&N.length>0?E=N:E=w?.slice(S,j+1),E!=null)return FQ({layout:d,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:o,stackedData:g,displayedData:E,offset:e,cells:b})}}),zM=e=>{var{chartData:t}=e,n=xn(),r=Tr();return p.useEffect(()=>r?()=>{}:(n(nT(t)),()=>{n(nT(void 0))}),[t,n,r]),null},GT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},HM=oa({name:"brush",initialState:GT,reducers:{setBrushSettings(e,t){return t.payload==null?GT:t.payload}}}),{setBrushSettings:rie}=HM.actions,vZ=HM.reducer;function yZ(e,t,n){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hj{static create(t){return new hj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}yZ(hj,"EPS",1e-4);function jZ(e){return(e%180+180)%180}var NZ=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jZ(s),u=o*Math.PI/180,d=Math.atan(r/n),f=u>d&&u<Math.PI-d?r/Math.sin(u):n/Math.cos(u);return Math.abs(f)},SZ={dots:[],areas:[],lines:[]},qM=oa({name:"referenceElements",initialState:SZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Fi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Fi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Fi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:aie,removeDot:iie,addArea:sie,removeArea:lie,addLine:oie,removeLine:cie}=qM.actions,EZ=qM.reducer,CZ=p.createContext(void 0),AZ=e=>{var{children:t}=e,[n]=p.useState("".concat(Vu("recharts"),"-clip")),r=oj();if(r==null)return null;var{x:s,y:o,width:u,height:d}=r;return p.createElement(CZ.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:s,y:o,height:d,width:u}))),t)};function oc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function FM(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function TZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return NZ(r,n)}function _Z(e,t,n){var r=n==="width",{x:s,y:o,width:u,height:d}=e;return t===1?{start:r?s:o,end:r?s+u:o+d}:{start:r?s+u:o+d,end:r?s:o}}function jm(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-s)<=0}function RZ(e,t){return FM(e,t+1)}function OZ(e,t,n,r,s){for(var o=(r||[]).slice(),{start:u,end:d}=t,f=0,m=1,g=u,x=function(){var S=r?.[f];if(S===void 0)return{v:FM(r,m)};var j=f,N,E=()=>(N===void 0&&(N=n(S,j)),N),C=S.coordinate,T=f===0||jm(e,C,E,g,d);T||(f=0,g=u,m+=1),T&&(g=C+e*(E()/2+s),f+=m)},b;m<=o.length;)if(b=x(),b)return b.v;return[]}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e,t,n,r,s){for(var o=(r||[]).slice(),u=o.length,{start:d}=t,{end:f}=t,m=function(b){var w=o[b],S,j=()=>(S===void 0&&(S=n(w,b)),S);if(b===u-1){var N=e*(w.coordinate+e*j()/2-f);o[b]=w=fr(fr({},w),{},{tickCoord:N>0?w.coordinate-N*e:w.coordinate})}else o[b]=w=fr(fr({},w),{},{tickCoord:w.coordinate});var E=jm(e,w.tickCoord,j,d,f);E&&(f=w.tickCoord-e*(j()/2+s),o[b]=fr(fr({},w),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function IZ(e,t,n,r,s,o){var u=(r||[]).slice(),d=u.length,{start:f,end:m}=t;if(o){var g=r[d-1],x=n(g,d-1),b=e*(g.coordinate+e*x/2-m);u[d-1]=g=fr(fr({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate});var w=jm(e,g.tickCoord,()=>x,f,m);w&&(m=g.tickCoord-e*(x/2+s),u[d-1]=fr(fr({},g),{},{isShow:!0}))}for(var S=o?d-1:d,j=function(C){var T=u[C],_,O=()=>(_===void 0&&(_=n(T,C)),_);if(C===0){var R=e*(T.coordinate-e*O()/2-f);u[C]=T=fr(fr({},T),{},{tickCoord:R<0?T.coordinate-R*e:T.coordinate})}else u[C]=T=fr(fr({},T),{},{tickCoord:T.coordinate});var D=jm(e,T.tickCoord,O,f,m);D&&(f=T.tickCoord+e*(O()/2+s),u[C]=fr(fr({},T),{},{isShow:!0}))},N=0;N<S;N++)j(N);return u}function fj(e,t,n){var{tick:r,ticks:s,viewBox:o,minTickGap:u,orientation:d,interval:f,tickFormatter:m,unit:g,angle:x}=e;if(!s||!s.length||!r)return[];if(tt(f)||Ws.isSsr){var b;return(b=RZ(s,tt(f)?f:0))!==null&&b!==void 0?b:[]}var w=[],S=d==="top"||d==="bottom"?"width":"height",j=g&&S==="width"?Pu(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},N=(T,_)=>{var O=typeof m=="function"?m(T.value,_):T.value;return S==="width"?TZ(Pu(O,{fontSize:t,letterSpacing:n}),j,x):Pu(O,{fontSize:t,letterSpacing:n})[S]},E=s.length>=2?er(s[1].coordinate-s[0].coordinate):1,C=_Z(o,E,S);return f==="equidistantPreserveStart"?OZ(E,C,N,s,u):(f==="preserveStart"||f==="preserveStartEnd"?w=IZ(E,C,N,s,u,f==="preserveStartEnd"):w=PZ(E,C,N,s,u),w.filter(T=>T.isShow))}var LZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+o,m=u+f+d+(n?r:0);return Math.round(m)}return 0},BZ=["axisLine","width","height","className","hide","ticks"],UZ=["viewBox"],$Z=["viewBox"];function Fy(e,t){if(e==null)return{};var n,r,s=zZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(null,arguments)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){HZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HZ(e,t,n){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function KZ(e){var{x:t,y:n,width:r,height:s,orientation:o,mirror:u,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=qn(qn(qn({},f),sa(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!u||o==="bottom"&&u);m=qn(qn({},m),{},{x1:t,y1:n+g*s,x2:t+r,y2:n+g*s})}else{var x=+(o==="left"&&!u||o==="right"&&u);m=qn(qn({},m),{},{x1:t+x*r,y1:n,x2:t+x*r,y2:n+s})}return p.createElement("line",Gl({},m,{className:At("recharts-cartesian-axis-line",zl(d,"className"))}))}function GZ(e,t,n,r,s,o,u,d,f){var m,g,x,b,w,S,j=d?-1:1,N=e.tickSize||u,E=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=g=e.coordinate,b=n+ +!d*s,x=b-j*N,S=x-j*f,w=E;break;case"left":x=b=e.coordinate,g=t+ +!d*r,m=g-j*N,w=m-j*f,S=E;break;case"right":x=b=e.coordinate,g=t+ +d*r,m=g+j*N,w=m+j*f,S=E;break;default:m=g=e.coordinate,b=n+ +d*s,x=b+j*N,S=x+j*f,w=E;break}return{line:{x1:m,y1:x,x2:g,y2:b},tick:{x:w,y:S}}}function VZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function WZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function YZ(e){var{option:t,tickProps:n,value:r}=e,s,o=At(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,qn(qn({},n),{},{className:o}));else if(typeof t=="function")s=t(qn(qn({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=At(u,t?.className)),s=p.createElement(jg,Gl({},n,{className:u}),r)}return s}function XZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:s,tickFormatter:o,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:g,x,y:b,width:w,height:S,tickSize:j,tickMargin:N,fontSize:E,letterSpacing:C,getTicksConfig:T,events:_}=e,O=fj(qn(qn({},T),{},{ticks:t}),E,C),R=VZ(m,g),D=WZ(m,g),L=sa(T),V=$l(n),J={};typeof r=="object"&&(J=r);var B=qn(qn({},L),{},{fill:"none"},J),F=O.map((re,be)=>{var{line:xe,tick:q}=GZ(re,x,b,w,S,m,j,g,N),H=qn(qn(qn(qn({textAnchor:R,verticalAnchor:D},L),{},{stroke:"none",fill:s},V),q),{},{index:be,payload:re,visibleTicksCount:O.length,tickFormatter:o,padding:d},f);return p.createElement(cr,Gl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},ud(_,re,be)),r&&p.createElement("line",Gl({},B,xe,{className:At("recharts-cartesian-axis-tick-line",zl(r,"className"))})),n&&p.createElement(YZ,{option:n,tickProps:H,value:"".concat(typeof o=="function"?o(re.value,be):re.value).concat(u||"")}))});return F.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var QZ=p.forwardRef((e,t)=>{var{axisLine:n,width:r,height:s,className:o,hide:u,ticks:d}=e,f=Fy(e,BZ),[m,g]=p.useState(""),[x,b]=p.useState(""),w=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return LZ({ticks:w.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=p.useCallback(j=>{if(j){var N=j.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=N;var E=N[0];if(E){var C=window.getComputedStyle(E),T=C.fontSize,_=C.letterSpacing;(T!==m||_!==x)&&(g(T),b(_))}}},[m,x]);return u||r!=null&&r<=0||s!=null&&s<=0?null:p.createElement(cr,{className:At("recharts-cartesian-axis",o),ref:S},p.createElement(KZ,{x:e.x,y:e.y,width:r,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:sa(e)}),p.createElement(XZ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:x,getTicksConfig:e,events:f}),p.createElement(JW,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(cY,{label:e.label,labelRef:e.labelRef}),e.children))}),ZZ=p.memo(QZ,(e,t)=>{var{viewBox:n}=e,r=Fy(e,UZ),{viewBox:s}=t,o=Fy(t,$Z);return oc(n,s)&&oc(r,o)}),gj=p.forwardRef((e,t)=>{var n=ur(e,mj);return p.createElement(ZZ,Gl({},n,{ref:t}))});gj.displayName="CartesianAxis";var JZ=["x1","y1","x2","y2","key"],eJ=["offset"],tJ=["xAxisId","yAxisId"],nJ=["xAxisId","yAxisId"];function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){rJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}function Nm(e,t){if(e==null)return{};var n,r,s=sJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:o,height:u,ry:d}=e;return p.createElement("rect",{x:r,y:s,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function KM(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:o,y2:u,key:d}=t,f=Nm(t,JZ),m=sa(f),{offset:g}=m,x=Nm(m,eJ);n=p.createElement("line",_l({},x,{x1:r,y1:s,x2:o,y2:u,fill:"none",key:d}))}return n}function oJ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=Nm(e,tJ),f=s.map((m,g)=>{var x=gr(gr({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(g),index:g});return KM(r,x)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function cJ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=Nm(e,nJ),f=s.map((m,g)=>{var x=gr(gr({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(g),index:g});return KM(r,x)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function uJ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:o,height:u,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var g=m.map((x,b)=>{var w=!m[b+1],S=w?s+u-x:m[b+1]-x;if(S<=0)return null;var j=b%t.length;return p.createElement("rect",{key:"react-".concat(b),y:x,x:r,height:S,width:o,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function dJ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:o,width:u,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var g=m.map((x,b)=>{var w=!m[b+1],S=w?s+u-x:m[b+1]-x;if(S<=0)return null;var j=b%n.length;return p.createElement("rect",{key:"react-".concat(b),x,y:o,width:S,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var hJ=(e,t)=>{var{xAxis:n,width:r,height:s,offset:o}=e;return BO(fj(gr(gr(gr({},mj),n),{},{ticks:UO(n),viewBox:{x:0,y:0,width:r,height:s}})),o.left,o.left+o.width,t)},fJ=(e,t)=>{var{yAxis:n,width:r,height:s,offset:o}=e;return BO(fj(gr(gr(gr({},mj),n),{},{ticks:UO(n),viewBox:{x:0,y:0,width:r,height:s}})),o.top,o.top+o.height,t)},mJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Od(e){var t=Bb(),n=Ub(),r=GO(),s=gr(gr({},ur(e,mJ)),{},{x:tt(e.x)?e.x:r.left,y:tt(e.y)?e.y:r.top,width:tt(e.width)?e.width:r.width,height:tt(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:u,x:d,y:f,width:m,height:g,syncWithTicks:x,horizontalValues:b,verticalValues:w}=s,S=Tr(),j=Qe(V=>V2(V,"xAxis",o,S)),N=Qe(V=>V2(V,"yAxis",u,S));if(!tt(m)||m<=0||!tt(g)||g<=0||!tt(d)||d!==+d||!tt(f)||f!==+f)return null;var E=s.verticalCoordinatesGenerator||hJ,C=s.horizontalCoordinatesGenerator||fJ,{horizontalPoints:T,verticalPoints:_}=s;if((!T||!T.length)&&typeof C=="function"){var O=b&&b.length,R=C({yAxis:N?gr(gr({},N),{},{ticks:O?b:N.ticks}):void 0,width:t,height:n,offset:r},O?!0:x);tm(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(T=R)}if((!_||!_.length)&&typeof E=="function"){var D=w&&w.length,L=E({xAxis:j?gr(gr({},j),{},{ticks:D?w:j.ticks}):void 0,width:t,height:n,offset:r},D?!0:x);tm(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(_=L)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(lJ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(uJ,_l({},s,{horizontalPoints:T})),p.createElement(dJ,_l({},s,{verticalPoints:_})),p.createElement(oJ,_l({},s,{offset:r,horizontalPoints:T,xAxis:j,yAxis:N})),p.createElement(cJ,_l({},s,{offset:r,verticalPoints:_,xAxis:j,yAxis:N})))}Od.displayName="CartesianGrid";var GM=(e,t,n,r)=>Hs(e,"xAxis",t,r),VM=(e,t,n,r)=>zs(e,"xAxis",t,r),WM=(e,t,n,r)=>Hs(e,"yAxis",n,r),YM=(e,t,n,r)=>zs(e,"yAxis",n,r),gJ=ge([Tt,GM,WM,VM,YM],(e,t,n,r,s)=>Vs(e,"xAxis")?Qu(t,r,!1):Qu(n,s,!1)),pJ=(e,t,n,r,s)=>s;function xJ(e){return e.type==="line"}var vJ=ge([pg,pJ],(e,t)=>e.filter(xJ).find(n=>n.id===t)),yJ=ge([Tt,GM,WM,VM,YM,vJ,gJ,cg],(e,t,n,r,s,o,u,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:g}=d;if(!(o==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||u==null)){var{dataKey:x,data:b}=o,w;if(b!=null&&b.length>0?w=b:w=f?.slice(m,g+1),w!=null)return HJ({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:u,displayedData:w})}});function bJ(e){var t=$l(e),n=3,r=2;if(t!=null){var{r:s,strokeWidth:o}=t,u=Number(s),d=Number(o);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(d)||d<0)&&(d=r),{r:u,strokeWidth:d}}return{r:n,strokeWidth:r}}var wJ=["id"],jJ=["type","layout","connectNulls","needClip"],NJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pj(e,t){if(e==null)return{};var n,r,s=AJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function AJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(null,arguments)}var TJ=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:r,value:bc(n,t),payload:e}]};function _J(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:o,name:u,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:bc(u,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var XM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function RJ(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var OJ=(e,t,n)=>{var r=n.reduce((x,b)=>x+b);if(!r)return XM(t,e);for(var s=Math.floor(e/r),o=e%r,u=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>o){d=[...n.slice(0,f),o-m];break}var g=d.length%2===0?[0,u]:[u];return[...RJ(n,s),...d,...g].map(x=>"".concat(x,"px")).join(", ")};function kJ(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=At("recharts-line-dot",typeof e!="boolean"?e.className:"");n=p.createElement(jM,Vl({},t,{className:r}))}return n}function DJ(e,t){return e==null?!1:t?!0:e.length===1}function MJ(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:o,needClip:u}=r;if(!DJ(n,s))return null;var{id:d}=r,f=pj(r,wJ),m=TM(s),g=sa(f),x=N$(s),b=n.map((S,j)=>{var N=ea(ea(ea({key:"dot-".concat(j),r:3},g),x),{},{index:j,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return kJ(s,N)}),w={clipPath:u?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return p.createElement(cr,Vl({className:"recharts-line-dots",key:"dots"},w),b)}function PJ(e){var{showLabels:t,children:n,points:r}=e,s=p.useMemo(()=>r?.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return ea(ea({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return p.createElement(bM,{value:t?s:null},n)}function QT(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:o}=e,{type:u,layout:d,connectNulls:f,needClip:m}=o,g=pj(o,jJ),x=ea(ea({},Ar(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:d,connectNulls:f,strokeDasharray:s??o.strokeDasharray});return p.createElement(p.Fragment,null,r?.length>1&&p.createElement(zb,Vl({},x,{pathRef:n})),p.createElement(MJ,{points:r,clipPathId:t,props:o}))}function IJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function LJ(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:g,animationEasing:x,animateNewValues:b,width:w,height:S,onAnimationEnd:j,onAnimationStart:N}=n,E=s.current,C=pd(n,"recharts-line-"),[T,_]=p.useState(!1),O=!T,R=p.useCallback(()=>{typeof j=="function"&&j(),_(!1)},[j]),D=p.useCallback(()=>{typeof N=="function"&&N(),_(!0)},[N]),L=IJ(r.current),V=o.current;return p.createElement(PJ,{points:u,showLabels:O},n.children,p.createElement(gd,{animationId:C,begin:m,duration:g,isActive:f,easing:x,onAnimationEnd:R,onAnimationStart:D,key:C},J=>{var B=En(V,L+V,J),F=Math.min(B,L),re;if(f)if(d){var be="".concat(d).split(/[,\s]+/gim).map(H=>parseFloat(H));re=OJ(F,L,be)}else re=XM(L,F);else re=d==null?void 0:String(d);if(E){var xe=E.length/u.length,q=J===1?u:u.map((H,K)=>{var ve=Math.floor(K*xe);if(E[ve]){var Pe=E[ve];return ea(ea({},H),{},{x:En(Pe.x,H.x,J),y:En(Pe.y,H.y,J)})}return b?ea(ea({},H),{},{x:En(w*2,H.x,J),y:En(S/2,H.y,J)}):ea(ea({},H),{},{x:H.x,y:H.y})});return s.current=q,p.createElement(QT,{props:n,points:q,clipPathId:t,pathRef:r,strokeDasharray:re})}return J>0&&L>0&&(s.current=u,o.current=F),p.createElement(QT,{props:n,points:u,clipPathId:t,pathRef:r,strokeDasharray:re})}),p.createElement(Zw,{label:n.label}))}function BJ(e){var{clipPathId:t,props:n}=e,r=p.useRef(null),s=p.useRef(0),o=p.useRef(null);return p.createElement(LJ,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:o})}var UJ=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:tn(e.payload,t)});class $J extends p.Component{render(){var{hide:t,dot:n,points:r,className:s,xAxisId:o,yAxisId:u,top:d,left:f,width:m,height:g,id:x,needClip:b}=this.props;if(t)return null;var w=At("recharts-line",s),S=x,{r:j,strokeWidth:N}=bJ(n),E=TM(n),C=j*2+N;return p.createElement(p.Fragment,null,p.createElement(cr,{className:w},b&&p.createElement("defs",null,p.createElement(BM,{clipPathId:S,xAxisId:o,yAxisId:u}),!E&&p.createElement("clipPath",{id:"clipPath-dots-".concat(S)},p.createElement("rect",{x:f-C/2,y:d-C/2,width:m+C,height:g+C}))),p.createElement(LM,{xAxisId:o,yAxisId:u,data:r,dataPointFormatter:UJ,errorBarOffset:0},p.createElement(BJ,{props:this.props,clipPathId:S}))),p.createElement(iQ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var QM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ws.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function zJ(e){var t=ur(e,QM),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:f,hide:m,isAnimationActive:g,label:x,legendType:b,xAxisId:w,yAxisId:S,id:j}=t,N=pj(t,NJ),{needClip:E}=uj(w,S),C=oj(),T=tg(),_=Tr(),O=Qe(J=>yJ(J,w,S,_,j));if(T!=="horizontal"&&T!=="vertical"||O==null||C==null)return null;var{height:R,width:D,x:L,y:V}=C;return p.createElement($J,Vl({},N,{id:j,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:o,animationEasing:u,isAnimationActive:g,hide:m,label:x,legendType:b,xAxisId:w,yAxisId:S,points:O,layout:T,height:R,width:D,left:L,top:V,needClip:E}))}function HJ(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:o,dataKey:u,bandSize:d,displayedData:f}=e;return f.map((m,g)=>{var x=tn(m,u);if(t==="horizontal"){var b=wA({axis:n,ticks:s,bandSize:d,entry:m,index:g}),w=pn(x)?null:r.scale(x);return{x:b,y:w,value:x,payload:m}}var S=pn(x)?null:n.scale(x),j=wA({axis:r,ticks:o,bandSize:d,entry:m,index:g});return S==null||j==null?null:{x:S,y:j,value:x,payload:m}}).filter(Boolean)}function qJ(e){var t=ur(e,QM),n=Tr();return p.createElement(sj,{id:t.id,type:"line"},r=>p.createElement(p.Fragment,null,p.createElement(OM,{legendPayload:TJ(t)}),p.createElement(ij,{fn:_J,args:t}),p.createElement(DM,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),p.createElement(zJ,Vl({},t,{id:r}))))}var xj=p.memo(qJ);xj.displayName="Line";var FJ=["dangerouslySetInnerHTML","ticks"],KJ=["id"],GJ=["domain"],VJ=["domain"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ky.apply(null,arguments)}function Sm(e,t){if(e==null)return{};var n,r,s=WJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function WJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YJ(e){var t=xn();return p.useLayoutEffect(()=>(t(GX(e)),()=>{t(VX(e))}),[e,t]),null}var XJ=e=>{var{xAxisId:t,className:n}=e,r=Qe(Ib),s=Tr(),o="xAxis",u=Qe(N=>Tc(N,o,t,s)),d=Qe(N=>MD(N,o,t,s)),f=Qe(N=>RD(N,t)),m=Qe(N=>DG(N,t)),g=Qe(N=>dD(N,t));if(f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,w=Sm(e,FJ),{id:S}=g,j=Sm(g,KJ);return p.createElement(gj,Ky({},w,j,{scale:u,x:m.x,y:m.y,width:f.width,height:f.height,className:At("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:d}))},QJ={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,height:Qr.height,hide:!1,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tickCount:Qr.tickCount,type:Qr.type,xAxisId:0},ZJ=e=>{var t,n,r,s,o,u=ur(e,QJ);return p.createElement(p.Fragment,null,p.createElement(YJ,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(s=u.minTickGap)!==null&&s!==void 0?s:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),p.createElement(XJ,u))},JJ=(e,t)=>{var{domain:n}=e,r=Sm(e,GJ),{domain:s}=t,o=Sm(t,VJ);return oc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:oc({domain:n},{domain:s}):!1},kd=p.memo(ZJ,JJ);kd.displayName="XAxis";var eee=["dangerouslySetInnerHTML","ticks"],tee=["id"],nee=["domain"],ree=["domain"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function Em(e,t){if(e==null)return{};var n,r,s=aee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iee(e){var t=xn();return p.useLayoutEffect(()=>(t(WX(e)),()=>{t(YX(e))}),[e,t]),null}var see=e=>{var{yAxisId:t,className:n,width:r,label:s}=e,o=p.useRef(null),u=p.useRef(null),d=Qe(Ib),f=Tr(),m=xn(),g="yAxis",x=Qe(O=>Tc(O,g,t,f)),b=Qe(O=>OD(O,t)),w=Qe(O=>PG(O,t)),S=Qe(O=>MD(O,g,t,f)),j=Qe(O=>hD(O,t));if(p.useLayoutEffect(()=>{if(!(r!=="auto"||!b||Qw(s)||p.isValidElement(s)||j==null)){var O=o.current;if(O){var R=O.getCalculatedWidth();Math.round(b.width)!==Math.round(R)&&m(XX({id:t,width:R}))}}},[S,b,m,s,t,r,j]),b==null||w==null||j==null)return null;var{dangerouslySetInnerHTML:N,ticks:E}=e,C=Em(e,eee),{id:T}=j,_=Em(j,tee);return p.createElement(gj,Gy({},C,_,{ref:o,labelRef:u,scale:x,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:At("recharts-".concat(g," ").concat(g),n),viewBox:d,ticks:S}))},lee={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,width:Zr.width,yAxisId:0},oee=e=>{var t,n,r,s,o,u=ur(e,lee);return p.createElement(p.Fragment,null,p.createElement(iee,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(s=u.minTickGap)!==null&&s!==void 0?s:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),p.createElement(see,u))},cee=(e,t)=>{var{domain:n}=e,r=Em(e,nee),{domain:s}=t,o=Em(t,ree);return oc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:oc({domain:n},{domain:s}):!1},Dd=p.memo(oee,cee);Dd.displayName="YAxis";var Ev={exports:{}},Cv={};var ZT;function uee(){if(ZT)return Cv;ZT=1;var e=dc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Cv.useSyncExternalStoreWithSelector=function(f,m,g,x,b){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function N(O){if(!E){if(E=!0,C=O,O=x(O),b!==void 0&&S.hasValue){var R=S.value;if(b(R,O))return T=R}return T=O}if(R=T,n(C,O))return R;var D=x(O);return b!==void 0&&b(R,D)?(C=O,R):(C=O,T=D)}var E=!1,C,T,_=g===void 0?null:g;return[function(){return N(m())},_===null?void 0:function(){return N(_())}]},[m,g,x,b]);var j=r(f,w[0],w[1]);return o(function(){S.hasValue=!0,S.value=j},[j]),d(j),j},Cv}var JT;function dee(){return JT||(JT=1,Ev.exports=uee()),Ev.exports}dee();function hee(e){e()}function fee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var e_={notify(){},get:()=>[]};function mee(e,t){let n,r=e_,s=0,o=!1;function u(j){g();const N=r.subscribe(j);let E=!1;return()=>{E||(E=!0,N(),x())}}function d(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return o}function g(){s++,n||(n=e.subscribe(f),r=fee())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=e_)}function b(){o||(o=!0,g())}function w(){o&&(o=!1,x())}const S={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return S}var gee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pee=gee(),xee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vee=xee(),yee=()=>pee||vee?p.useLayoutEffect:p.useEffect,bee=yee(),wee=Symbol.for("react-redux-context"),jee=typeof globalThis<"u"?globalThis:{};function Nee(){if(!p.createContext)return{};const e=jee[wee]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var See=Nee();function Eee(e){const{children:t,context:n,serverState:r,store:s}=e,o=p.useMemo(()=>{const f=mee(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=p.useMemo(()=>s.getState(),[s]);bee(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,u]);const d=n||See;return p.createElement(d.Provider,{value:o},t)}var Cee=Eee,Aee=(e,t)=>t,vj=ge([Aee,Tt,oD,Gn,QD,is,$V,Fn],KV),yj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},ZM=Ma("mouseClick"),JM=hd();JM.startListening({actionCreator:ZM,effect:(e,t)=>{var n=e.payload,r=vj(t.getState(),yj(n));r?.activeIndex!=null&&t.dispatch(WG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Vy=Ma("mouseMove"),eP=hd();eP.startListening({actionCreator:Vy,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=zw(r,r.tooltip.settings.shared),o=vj(r,yj(n));s==="axis"&&(o?.activeIndex!=null?t.dispatch(HD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(zD()))}});var t_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},tP=oa({name:"rootProps",initialState:t_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:t_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Tee=tP.reducer,{updateOptions:_ee}=tP.actions,nP=oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ree}=nP.actions,Oee=nP.reducer,rP=Ma("keyDown"),aP=Ma("focus"),bj=hd();bj.startListening({actionCreator:rP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(Hw(s,Rc(n))),d=is(n);if(o==="Enter"){var f=xm(n,"axis","hover",String(s.index));t.dispatch(By({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=UG(n),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,b=u+x*g;if(!(d==null||b>=d.length||b<0)){var w=xm(n,"axis","hover",String(b));t.dispatch(By({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});bj.startListening({actionCreator:aP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var o="0",u=xm(n,"axis","hover",String(o));t.dispatch(By({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var Ea=Ma("externalEvent"),iP=hd();iP.startListening({actionCreator:Ea,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:RV(n),activeDataKey:tM(n),activeIndex:qs(n),activeLabel:eM(n),activeTooltipIndex:qs(n),isTooltipActive:OV(n)};e.payload.handler(r,e.payload.reactEvent)}}});var kee=ge([_c],e=>e.tooltipItemPayloads),Dee=ge([kee,Cd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:o}=s;if(o!=null){var u=t(o,n);return u}}}),sP=Ma("touchMove"),lP=hd();lP.startListening({actionCreator:sP,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=zw(r,r.tooltip.settings.shared);if(s==="axis"){var o=vj(r,yj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(HD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var u,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(zO),g=(u=f.getAttribute(HO))!==null&&u!==void 0?u:void 0,x=Dee(t.getState(),m,g);t.dispatch($D({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var Mee=dO({brush:vZ,cartesianAxis:QX,chartData:lW,errorBars:xQ,graphicalItems:pX,layout:v9,legend:S7,options:nW,polarAxis:RY,polarOptions:Oee,referenceElements:EZ,rootProps:Tee,tooltip:YG}),Pee=function(t){return qz({reducer:Mee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([JM.middleware,eP.middleware,bj.middleware,iP.middleware,lP.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(NO({type:"raf"}))},devTools:Ws.devToolsEnabled})};function oP(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=Tr(),o=p.useRef(null);if(s)return n;o.current==null&&(o.current=Pee(t));var u=Rb;return p.createElement(Cee,{context:u,store:o.current},n)}function cP(e){var{layout:t,margin:n}=e,r=xn(),s=Tr();return p.useEffect(()=>{s||(r(g9(t)),r(m9(n)))},[r,s,t,n]),null}function uP(e){var t=xn();return p.useEffect(()=>{t(_ee(e))},[t,e]),null}var Iee=["children"];function Lee(e,t){if(e==null)return{};var n,r,s=Bee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(null,arguments)}var Uee={width:"100%",height:"100%",display:"block"},$ee=p.forwardRef((e,t)=>{var n=Bb(),r=Ub(),s=XO();if(!rc(n)||!rc(r))return null;var{children:o,otherAttributes:u,title:d,desc:f}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=s?0:void 0,typeof u.role=="string"?g=u.role:g=s?"application":void 0,p.createElement(vb,Cm({},u,{title:d,desc:f,role:g,tabIndex:m,width:n,height:r,style:Uee,ref:t}),o)}),zee=e=>{var{children:t}=e,n=Qe(Jm);if(!n)return null;var{width:r,height:s,y:o,x:u}=n;return p.createElement(vb,{width:r,height:s,x:u,y:o},t)},n_=p.forwardRef((e,t)=>{var{children:n}=e,r=Lee(e,Iee),s=Tr();return s?p.createElement(zee,null,n):p.createElement($ee,Cm({ref:t},r),n)});function Hee(){var e=xn(),[t,n]=p.useState(null),r=Qe(V9);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;vr(o)&&o!==r&&e(x9(o))}},[t,e,r]),n}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){Fee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fee(e,t,n){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(null,arguments)}var Vee=()=>(pW(),null);function Am(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Wee=p.forwardRef((e,t)=>{var n,r,s=p.useRef(null),[o,u]=p.useState({containerWidth:Am((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Am((r=e.style)===null||r===void 0?void 0:r.height)}),d=p.useCallback((m,g)=>{u(x=>{var b=Math.round(m),w=Math.round(g);return x.containerWidth===b&&x.containerHeight===w?x:{containerWidth:b,containerHeight:w}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:g,height:x}=m.getBoundingClientRect();d(g,x);var b=S=>{var{width:j,height:N}=S[0].contentRect;d(j,N)},w=new ResizeObserver(b);w.observe(m),s.current=w}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(ng,{width:o.containerWidth,height:o.containerHeight}),p.createElement("div",Wl({ref:f},e)))}),Yee=p.forwardRef((e,t)=>{var{width:n,height:r}=e,[s,o]=p.useState({containerWidth:Am(n),containerHeight:Am(r)}),u=p.useCallback((f,m)=>{o(g=>{var x=Math.round(f),b=Math.round(m);return g.containerWidth===x&&g.containerHeight===b?g:{containerWidth:x,containerHeight:b}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:g}=f.getBoundingClientRect();u(m,g)}},[t,u]);return p.createElement(p.Fragment,null,p.createElement(ng,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",Wl({ref:d},e)))}),Xee=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return p.createElement(p.Fragment,null,p.createElement(ng,{width:n,height:r}),p.createElement("div",Wl({ref:t},e)))}),Qee=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return Yi(n)||Yi(r)?p.createElement(Yee,Wl({},e,{ref:t})):p.createElement(Xee,Wl({},e,{ref:t}))});function Zee(e){return e===!0?Wee:Qee}var Jee=p.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:b,onTouchEnd:w,onTouchMove:S,onTouchStart:j,style:N,width:E,responsive:C,dispatchTouchEvents:T=!0}=e,_=p.useRef(null),O=xn(),[R,D]=p.useState(null),[L,V]=p.useState(null),J=Hee(),B=Lb(),F=B?.width>0?B.width:E,re=B?.height>0?B.height:s,be=p.useCallback($=>{J($),typeof t=="function"&&t($),D($),V($),$!=null&&(_.current=$)},[J,t,D,V]),xe=p.useCallback($=>{O(ZM($)),O(Ea({handler:o,reactEvent:$}))},[O,o]),q=p.useCallback($=>{O(Vy($)),O(Ea({handler:m,reactEvent:$}))},[O,m]),H=p.useCallback($=>{O(zD()),O(Ea({handler:g,reactEvent:$}))},[O,g]),K=p.useCallback($=>{O(Vy($)),O(Ea({handler:x,reactEvent:$}))},[O,x]),ve=p.useCallback(()=>{O(aP())},[O]),Pe=p.useCallback($=>{O(rP($.key))},[O]),P=p.useCallback($=>{O(Ea({handler:u,reactEvent:$}))},[O,u]),z=p.useCallback($=>{O(Ea({handler:d,reactEvent:$}))},[O,d]),ee=p.useCallback($=>{O(Ea({handler:f,reactEvent:$}))},[O,f]),Y=p.useCallback($=>{O(Ea({handler:b,reactEvent:$}))},[O,b]),Z=p.useCallback($=>{O(Ea({handler:j,reactEvent:$}))},[O,j]),ie=p.useCallback($=>{T&&O(sP($)),O(Ea({handler:S,reactEvent:$}))},[O,T,S]),le=p.useCallback($=>{O(Ea({handler:w,reactEvent:$}))},[O,w]),G=Zee(C);return p.createElement(lM.Provider,{value:R},p.createElement(TR.Provider,{value:L},p.createElement(G,{width:F??N?.width,height:re??N?.height,className:At("recharts-wrapper",r),style:qee({position:"relative",cursor:"default",width:F,height:re},N),onClick:xe,onContextMenu:P,onDoubleClick:z,onFocus:ve,onKeyDown:Pe,onMouseDown:ee,onMouseEnter:q,onMouseLeave:H,onMouseMove:K,onMouseUp:Y,onTouchEnd:le,onTouchMove:ie,onTouchStart:Z,ref:be},p.createElement(Vee,null),n)))}),ete=["width","height","responsive","children","className","style","compact","title","desc"];function tte(e,t){if(e==null)return{};var n,r,s=nte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dP=p.forwardRef((e,t)=>{var{width:n,height:r,responsive:s,children:o,className:u,style:d,compact:f,title:m,desc:g}=e,x=tte(e,ete),b=sa(x);return f?p.createElement(p.Fragment,null,p.createElement(ng,{width:n,height:r}),p.createElement(n_,{otherAttributes:b,title:m,desc:g},o)):p.createElement(Jee,{className:u,style:d,width:n,height:r,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(n_,{otherAttributes:b,title:m,desc:g,ref:t},p.createElement(AZ,null,o)))});function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}var rte={top:5,right:5,bottom:5,left:5},ate={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rte,reverseStackOrder:!1,syncMethod:"index",responsive:!1},hP=p.forwardRef(function(t,n){var r,s=ur(t.categoricalChartProps,ate),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,g={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(oP,{preloadedState:{options:g},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:o},p.createElement(zM,{chartData:m.data}),p.createElement(cP,{layout:s.layout,margin:s.margin}),p.createElement(uP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(dP,Wy({},s,{ref:n})))}),ite=["axis"],fP=p.forwardRef((e,t)=>p.createElement(hP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ite,tooltipPayloadSearcher:Xw,categoricalChartProps:e,ref:t})),ste=["axis","item"],mP=p.forwardRef((e,t)=>p.createElement(hP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ste,tooltipPayloadSearcher:Xw,categoricalChartProps:e,ref:t}));function lte(e){var t=xn();return p.useEffect(()=>{t(Ree(e))},[t,e]),null}var ote=["layout"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function cte(e,t){if(e==null)return{};var n,r,s=ute(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ute(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dte={top:5,right:5,bottom:5,left:5},hte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},fte=p.forwardRef(function(t,n){var r,s=ur(t.categoricalChartProps,hte),{layout:o}=s,u=cte(s,ote),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=t,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(oP,{preloadedState:{options:x},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},p.createElement(zM,{chartData:s.data}),p.createElement(cP,{layout:o,margin:s.margin}),p.createElement(uP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(lte,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(dP,Yy({},u,{ref:n})))}),mte=["item"],gte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},pte=p.forwardRef((e,t)=>{var n=ur(e,gte);return p.createElement(fte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mte,tooltipPayloadSearcher:Xw,categoricalChartProps:n,ref:t})});const ot=(e,t)=>{if(e==null||Number.isNaN(e))return t?.fallback??"";const n=new Intl.NumberFormat("vi-VN").format(e),r=t?.unit??"VND";return r?`${n} ${r}`:n};function xte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function vte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function yte({data:e,isLoading:t,xKey:n,yKey:r,height:s=300}){return t?a.jsx(xte,{}):!e||e.length===0?a.jsx(vte,{}):a.jsx("div",{style:{height:`${s}px`},children:a.jsx(md,{width:"100%",height:"100%",children:a.jsxs(mP,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Od,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(kd,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"},tickFormatter:o=>ot(o,{unit:"VND"})}),a.jsx(Td,{formatter:(o,u)=>[ot(o),u==="profit"?"Li nhun":u],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Ql,{}),a.jsx(dj,{dataKey:r,name:r==="profit"?"Li nhun":r,fill:"#10b981",radius:[8,8,0,0],className:"fill-emerald-600"})]})})})}function bte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function wte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function gP({data:e,isLoading:t,xKey:n,yKey:r,lines:s,height:o=300}){if(t)return a.jsx(bte,{});if(!e||e.length===0)return a.jsx(wte,{});const u=s||(r?[{key:r,label:r,color:"#3b82f6"}]:[]);return a.jsx("div",{style:{height:`${o}px`},children:a.jsx(md,{width:"100%",height:"100%",children:a.jsxs(fP,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Od,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(kd,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"}}),a.jsx(Td,{labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(d,f)=>f==="accounts"||f==="account"?[d,"Ti khon"]:[d,f]}),a.jsx(Ql,{}),u.map(d=>a.jsx(xj,{type:"monotone",dataKey:d.key,stroke:d.color,strokeWidth:2,dot:{r:4},activeDot:{r:6},name:d.label},d.key))]})})})}function jte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function Nte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function Ste({data:e,isLoading:t,xKey:n,bars:r,height:s=300}){return t?a.jsx(jte,{}):!e||e.length===0?a.jsx(Nte,{}):a.jsx("div",{style:{height:`${s}px`},children:a.jsx(md,{width:"100%",height:"100%",children:a.jsxs(mP,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Od,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(kd,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(Dd,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"}}),a.jsx(Td,{labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Ql,{}),r.map(o=>a.jsx(dj,{dataKey:o.key,stackId:"a",fill:o.color,radius:[0,0,0,0],name:o.label},o.key))]})})})}function Ete(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function Cte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function Ate({data:e,isLoading:t,colors:n=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"],height:r=300}){if(t)return a.jsx(Ete,{});if(!e||e.length===0)return a.jsx(Cte,{});const s=e.reduce((o,u)=>o+u.value,0);return a.jsx("div",{style:{height:`${r}px`},children:a.jsx(md,{width:"100%",height:"100%",children:a.jsxs(pte,{children:[a.jsx(MM,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:o=>{const{name:u,percent:d}=o;return`${u}: ${(d*100).toFixed(0)}%`},outerRadius:80,innerRadius:50,fill:"#8884d8",dataKey:"value",children:e.map((o,u)=>a.jsx(_d,{fill:n[u%n.length]},`cell-${u}`))}),a.jsx(Td,{formatter:o=>[ot(o),`T l: ${(o/s*100).toFixed(1)}%`],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Ql,{formatter:o=>{const u=e.find(d=>d.name===o);return u?`${o}: ${ot(u.value)}`:o}})]})})})}function Tte({data:e,isLoading:t}){return a.jsxs(ct,{className:"border-blue-100",children:[a.jsxs(Vi,{className:"bg-gradient-to-r from-blue-50 to-transparent border-b border-blue-50",children:[a.jsx(Wi,{className:"text-lg font-semibold text-gray-900",children:"Phn tch doanh thu h thng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Li nhun h thng theo thi gian (12 thng gn nht)"})]}),a.jsx(ia,{className:"pt-6",children:a.jsx(yte,{data:e,isLoading:t,xKey:"time",yKey:"profit",height:350})})]})}function _te({data:e,isLoading:t}){return a.jsxs(ct,{className:"border-purple-100",children:[a.jsxs(Vi,{className:"bg-gradient-to-r from-purple-50 to-transparent border-b border-purple-50",children:[a.jsx(Wi,{className:"text-lg font-semibold text-gray-900",children:"Xu hng tng trng ngi dng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S lng ti khon mi theo thng"})]}),a.jsx(ia,{className:"pt-6",children:a.jsx(gP,{data:e,isLoading:t,xKey:"month",yKey:"accounts",height:300,lines:[{key:"accounts",label:"Ti khon",color:"#8b5cf6"}]})})]})}function Rte({data:e,isLoading:t}){return a.jsxs(ct,{className:"border-orange-100",children:[a.jsxs(Vi,{className:"bg-gradient-to-r from-orange-50 to-transparent border-b border-orange-50",children:[a.jsx(Wi,{className:"text-lg font-semibold text-gray-900",children:"Tng quan vng i u gi"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phn b trng thi u gi theo thng (12 thng gn nht)"})]}),a.jsx(ia,{className:"pt-6",children:a.jsx(Ste,{data:e,isLoading:t,xKey:"month",bars:[{key:"approved",label:" duyt",color:"#10b981"},{key:"rejected",label:"T chi",color:"#ef4444"},{key:"ongoing",label:"ang din ra",color:"#3b82f6"},{key:"completed",label:"Hon tt",color:"#8b5cf6"},{key:"failed",label:"Tht bi",color:"#f59e0b"}],height:350})})]})}function Ote({data:e,isLoading:t}){return a.jsxs(ct,{className:"border-red-100",children:[a.jsxs(Vi,{className:"bg-gradient-to-r from-red-50 to-transparent border-b border-red-50",children:[a.jsx(Wi,{className:"text-lg font-semibold text-gray-900",children:"Gim st ri ro"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S lng bo co v tranh chp theo thi gian (12 thng gn nht)"})]}),a.jsx(ia,{className:"pt-6",children:a.jsx(gP,{data:e,isLoading:t,xKey:"time",lines:[{key:"reports",label:"Bo co",color:"#ef4444"},{key:"disputes",label:"Tranh chp",color:"#f59e0b"}],height:350})})]})}function kte({data:e,isLoading:t}){return a.jsxs(ct,{className:"border-indigo-100",children:[a.jsxs(Vi,{className:"bg-gradient-to-r from-indigo-50 to-transparent border-b border-indigo-50",children:[a.jsx(Wi,{className:"text-lg font-semibold text-gray-900",children:"Bin ng v h thng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phn b tin vo v tin ra t bin ng s d"})]}),a.jsx(ia,{className:"pt-6",children:a.jsx(Ate,{data:e,isLoading:t,colors:["#10b981","#ef4444"],height:300})})]})}function a_(){return a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},t))})}function i_({users:e,role:t}){return e.length===0?a.jsxs("div",{className:"text-center text-sm text-gray-500 py-8 border border-dashed rounded-lg",children:["Cha c d liu ",t==="farmer"?"nng dn":"thng li"," no."]}):a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${r===0?"bg-yellow-100 text-yellow-700":r===1?"bg-gray-100 text-gray-700":r===2?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:r+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||n.email}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]}),a.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Oa,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n.reputationScore})]}),a.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[a.jsx("p",{className:"text-xs text-gray-500",children:t==="farmer"?`${n.auctionCount} u gi  to`:`${n.auctionCount} phin tham gia`}),n.successfulAuctions!==void 0&&n.successfulAuctions>0&&a.jsxs("p",{className:"text-xs text-emerald-600 font-medium",children:[n.successfulAuctions," ",t==="farmer"?"u gi thnh cng":"u gi thng"]})]})]})})]},n.id))})}function Dte({farmers:e,wholesalers:t,isLoading:n}){return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ct,{className:"border-yellow-100",children:[a.jsx(Vi,{className:"bg-gradient-to-r from-yellow-50 to-transparent border-b border-yellow-50",children:a.jsxs(Wi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center",children:a.jsx(Oa,{className:"w-5 h-5 text-yellow-600"})}),"Top 5 Nng dn uy tn"]})}),a.jsx(ia,{className:"pt-6",children:n?a.jsx(a_,{}):a.jsx(i_,{users:e,role:"farmer"})})]}),a.jsxs(ct,{className:"border-blue-100",children:[a.jsx(Vi,{className:"bg-gradient-to-r from-blue-50 to-transparent border-b border-blue-50",children:a.jsxs(Wi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:a.jsx($s,{className:"w-5 h-5 text-blue-600"})}),"Top 5 Thng li uy tn"]})}),a.jsx(ia,{className:"pt-6",children:n?a.jsx(a_,{}):a.jsx(i_,{users:t,role:"wholesaler"})})]})]})}function Mte(){return a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"h-20 bg-gray-100 rounded-lg animate-pulse"},t))})}function Pte({auctions:e,isLoading:t}){return a.jsxs(ct,{className:"border-pink-100",children:[a.jsxs(Vi,{className:"bg-gradient-to-r from-pink-50 to-transparent border-b border-pink-50",children:[a.jsxs(Wi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-pink-100 flex items-center justify-center",children:a.jsx(cb,{className:"w-5 h-5 text-pink-600"})}),"u gi ang hot"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Top 5 u gi ang din ra gn nht"})]}),a.jsx(ia,{className:"pt-6",children:t?a.jsx(Mte,{}):e.length>0?a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl hover:bg-gradient-to-r hover:from-pink-50/50 hover:to-transparent hover:border-pink-200 transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${r===0?"bg-red-100 text-red-700":r===1?"bg-orange-100 text-orange-700":r===2?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:r+1}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["Nng dn: ",n.farmerName,"  ",n.sessionCode]})})]}),a.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx($s,{className:"w-4 h-4 text-emerald-600"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:ot(n.currentHighestBid)})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.totalBids," lt u gi"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($u,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-500",children:n.remainingTime})]})})]})]},n.id))}):a.jsx("div",{className:"text-center text-sm text-gray-500 py-8 border border-dashed rounded-lg",children:"Cha c u gi no ang din ra."})})]})}const Ite="https://gateway.a-379.store",hr=new Um(Ite),Mt={async getFarms(){return hr.get(Ie.farm.list,{cache:!1})},async deleteFarm(e){return hr.delete(Ie.farm.delete(e),{invalidateCache:Ie.farm.list})},async getCustardAppleTypes(){return hr.get(Ie.farm.custardAppleType.list,{cache:!1})},async getCustardAppleTypeById(e){return hr.get(Ie.farm.custardAppleType.detail(e),{cache:!1})},async createCustardAppleType(e){return hr.post(Ie.farm.custardAppleType.create,e,{invalidateCache:Ie.farm.custardAppleType.list})},async updateCustardAppleType(e,t){return hr.put(Ie.farm.custardAppleType.update(e),t,{invalidateCache:Ie.farm.custardAppleType.list})},async deleteCustardAppleType(e){return hr.delete(Ie.farm.custardAppleType.delete(e),{invalidateCache:Ie.farm.custardAppleType.list})},async getCropsByFarmId(e){return hr.get(Ie.farm.cropByFarm(e),{cache:!1})},async getHarvests(){return hr.get(Ie.farm.harvest.list,{cache:!1})},async getHarvestById(e){return hr.get(Ie.farm.harvest.detail(e),{cache:!1})},async getHarvestsByCropId(e){return hr.get(Ie.farm.harvest.byCrop(e),{cache:!1})},async getCurrentHarvestByCropId(e){return hr.get(Ie.farm.harvest.currentByCrop(e),{cache:!1})},async getHarvestImagesByHarvestId(e){return hr.get(Ie.farm.harvest.images(e),{cache:!1})},async getHarvestGradeDetails(){return hr.get(Ie.farm.harvest.gradeDetail.list,{cache:!1})},async getHarvestGradeDetailById(e){return hr.get(Ie.farm.harvest.gradeDetail.detail(e),{cache:!1})},async getHarvestGradeDetailsByHarvestId(e){return hr.get(Ie.farm.harvest.gradeDetail.byHarvest(e),{cache:!1})}},Lte="https://gateway.a-379.store",Sa=new Um(Lte),st={async getEnglishAuctions(e,t=1,n=10){const r={...e&&{status:e},pageNumber:t,pageSize:n};return Sa.get(Ie.auction.englishAuction.list,{cache:!1,params:r})},async getEnglishAuctionById(e){return Sa.get(`${Ie.auction.englishAuction.list}/${e}`,{cache:!1})},async getHarvestsByAuctionSessionId(e){return Sa.get(Ie.auction.englishAuction.harvestsBySession(e),{cache:!1})},async updateEnglishAuctionStatus(e,t){return Sa.put(`${Ie.auction.englishAuction.list}/${e}/status`,null,{params:{status:t}})},async getAuctionLogsByAuctionId(e){return Sa.get(Ie.auction.auctionLog.byAuction(e),{cache:!1})},async getAuctionLogsByType(e){return Sa.get(Ie.auction.auctionLog.byType(e),{cache:!1})},async pauseEnglishAuction(e){return Sa.post(Ie.auction.englishAuction.pause,e)},async resumeEnglishAuction(e){return Sa.post(Ie.auction.englishAuction.resume,e)},async getAuctionExtends(){return Sa.get(Ie.auction.auctionExtend.list,{cache:!1})},async getAuctionExtendsByAuctionId(e){return Sa.get(Ie.auction.auctionExtend.byAuction(e),{cache:!1})},async getAuctionPausesByAuctionId(e){return Sa.get(Ie.auction.auctionPause.byAuction(e),{cache:!1})},async getBidLogsByAuctionId(e){return Sa.get(Ie.auction.bidLog.byAuction(e),{cache:!1})}},Bte=1,Ute=10,cc={async getReports(e={}){const{status:t,type:n,pageNumber:r=Bte,pageSize:s=Ute}=e;return it.get(Ie.report.list,{cache:!1,params:{pageNumber:r,pageSize:s,...t&&{status:t},...n&&{type:n}}})},async getReportsByAuctionId(e){return it.get(Ie.report.byAuction(e),{cache:!1})},async updateReportStatus(e,t){return it.put(Ie.report.detail(e),{reportStatus:t},{invalidateCache:Ie.report.list})}},Jo={async getPending(){return it.get(Ie.certification.pending,{cache:!1})},async getById(e){return it.get(Ie.certification.detail(e),{cache:!1})},async getByUserId(e){return it.get(Ie.certification.byUser(e),{cache:!1})},async approve(e,t){return it.put(Ie.certification.approve(e),t,{invalidateCache:Ie.certification.pending})}};class $te{getSystemProfit(t){return it.get(Ie.statistics.systemProfit,{cacheTTL:60*1e3,params:t})}getSystemProfitCurrentMonth(){return it.get(Ie.statistics.systemProfitCurrentMonth,{cacheTTL:60*1e3})}getSystemProfitCurrentYear(){return it.get(Ie.statistics.systemProfitCurrentYear,{cacheTTL:60*1e3})}}const bf=new $te;function pP(e,t=3e4,n=!0,r=!0){const s=p.useRef(null),o=p.useRef(e);p.useEffect(()=>{o.current=e},[e]);const u=p.useCallback(()=>{!n||t<=0||(s.current&&clearInterval(s.current),r&&o.current(),s.current=setInterval(()=>{o.current()},t))},[n,t,r]),d=p.useCallback(()=>{s.current&&(clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>(n?u():d(),()=>{d()}),[n,u,d]),{start:u,stop:d}}const $a=e=>new Intl.NumberFormat("vi-VN").format(e);function zte(){const e=yr(),{toast:t}=$n(),[n,r]=p.useState(!0),[s,o]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState([]),[g,x]=p.useState([]),[b,w]=p.useState([]),[S,j]=p.useState([]),[N,E]=p.useState(null),[C,T]=p.useState([]),[_,O]=p.useState(new Map),[R,D]=p.useState([]),[L,V]=p.useState(null),[J,B]=p.useState("current-year"),[F,re]=p.useState(()=>{const Y=new Date,Z=new Date;return Z.setDate(Z.getDate()-30),{start:Z.toISOString().split("T")[0],end:Y.toISOString().split("T")[0],timeRange:"daily"}}),be=p.useCallback(async()=>{r(!0),d(null);try{const[Y,Z,ie,le,G,$,M]=await Promise.all([Mt.getFarms(),st.getEnglishAuctions(void 0,1,500),cc.getReports({pageNumber:1,pageSize:100}),pr.list(),_n.getSystemWallet(),Jo.getPending(),bf.getSystemProfitCurrentYear()]);m(Y.data??[]),x(Z.data?.items??[]),w(ie.data?.items??[]),D($.data??[]),E(G.data??null);const U=le.data;if(Array.isArray(U)?j(U):U&&"items"in U?j(U.items):j([]),G.data?.id)try{const I=await _n.getLedgersByWallet(G.data.id);T(I.data??[])}catch(I){console.error("Error loading system wallet ledgers:",I),T([])}V(M.data??null)}catch(Y){const Z=Y instanceof Error?Y.message:"Khng th ti d liu dashboard";d(Z),t({title:se.ERROR,description:Z,variant:"destructive"})}finally{r(!1)}},[t]),xe=p.useCallback(async Y=>{if(Y.length){o(!0);try{const ie=new Map;for(let le=0;le<Y.length;le+=20){const G=Y.slice(le,le+20),$=G.map(U=>st.getBidLogsByAuctionId(U).catch(()=>({data:[]}))),M=await Promise.all($);G.forEach((U,I)=>{const fe=M[I]?.data??[];ie.set(U,fe)})}O(le=>{const G=new Map(le);return ie.forEach(($,M)=>{G.set(M,$)}),G})}catch(Z){console.error("Error loading bid logs:",Z)}finally{o(!1)}}},[]);p.useEffect(()=>{be()},[be]),p.useEffect(()=>{if(g.length>0){const Y=g.filter(Z=>Z.status==="Completed"||Z.status==="OnGoing").map(Z=>Z.id);xe(Y)}},[g,xe]),p.useEffect(()=>{(async()=>{try{if(J==="current-year"){const ie=await bf.getSystemProfitCurrentYear();V(ie.data??null);return}if(J==="current-month"){const ie=await bf.getSystemProfitCurrentMonth();V(ie.data??null);return}const Z=await bf.getSystemProfit({startDate:F.start,endDate:F.end,timeRange:F.timeRange});V(Z.data??null)}catch(Z){console.error("Error loading system profit:",Z),V(null)}})()},[J,F]),pP(be,3e4,!1,!1);const q=p.useMemo(()=>{const Y=f.length,Z=S.length,ie=S.filter(fe=>fe.status===0).length,le=R.length,G=g.filter(fe=>fe.status==="Pending").length,$=g.filter(fe=>fe.status==="OnGoing").length,M=N?.balance??0,U=b.filter(fe=>fe.reportStatus==="Pending").length,I=b.filter(fe=>fe.reportStatus==="InReview").length;return[{title:"Tng s nng tri",value:$a(Y),change:`${$a(f.filter(fe=>fe.isActive).length)} ang hot ng`,trend:"up",highlight:!0},{title:"Tng s ti khon",value:$a(Z),change:`${$a(ie)} ch xc thc`,trend:"up"},{title:"Ch xc thc",value:$a(ie+le),change:`${$a(ie)} ti khon, ${$a(le)} chng ch`,trend:"neutral"},{title:"u gi ch duyt",value:$a(G),change:`${$a($)} ang din ra`,trend:"up"},{title:"Tng doanh thu h thng",value:ot(M,{fallback:"0 VND"}),change:"S d v h thng",trend:"up"},{title:"Bo co ch xem xt",value:$a(U),change:`${$a(I)} tranh chp`,trend:U>0?"up":"neutral"}]},[f,S,R,g,N,b]),H=p.useMemo(()=>{if(L?.data?.length)return L.data.map(ie=>({time:ie.time.includes("-")?ie.time.split("-").reverse().join("/"):ie.time,profit:ie.profit}));if(!C.length)return[];const Y=new Date,Z=[];for(let ie=11;ie>=0;ie--){const le=new Date(Y.getFullYear(),Y.getMonth()-ie,1),G=`T${le.getMonth()+1}/${le.getFullYear()}`,M=C.filter(U=>{if(!U.createdAt)return!1;const I=new Date(U.createdAt);return I.getFullYear()===le.getFullYear()&&I.getMonth()===le.getMonth()}).reduce((U,I)=>U+(I.direction===1?I.amount:-I.amount),0);Z.push({time:G,profit:M})}return Z},[C,L]),K=p.useMemo(()=>{if(!S.length)return[];const Y=new Map;S.forEach(le=>{const G=new Date(le.createdAt),$=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`,M=Y.get($)||0;Y.set($,M+1)});const Z=new Date,ie=[];for(let le=11;le>=0;le--){const G=new Date(Z.getFullYear(),Z.getMonth()-le,1),$=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`,M=`T${G.getMonth()+1}/${G.getFullYear()}`;ie.push({month:M,accounts:Y.get($)||0})}return ie},[S]),ve=p.useMemo(()=>{if(!g.length)return[];const Y=new Map;g.forEach(le=>{const G=new Date(le.createdAt),$=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`;Y.has($)||Y.set($,{approved:0,rejected:0,ongoing:0,completed:0,failed:0});const M=Y.get($);le.status==="Approved"?M.approved++:le.status==="Rejected"?M.rejected++:le.status==="OnGoing"||le.status==="Pause"?M.ongoing++:le.status==="Completed"?M.completed++:(le.status==="NoWinner"||le.status==="Cancelled")&&M.failed++});const Z=new Date,ie=[];for(let le=11;le>=0;le--){const G=new Date(Z.getFullYear(),Z.getMonth()-le,1),$=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`,M=`T${G.getMonth()+1}/${G.getFullYear()}`,U=Y.get($)||{approved:0,rejected:0,ongoing:0,completed:0,failed:0};ie.push({month:M,...U})}return ie},[g]),Pe=p.useMemo(()=>{if(!b.length)return[];const Y=new Map;b.forEach(le=>{const G=new Date(le.createdAt),$=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`;Y.has($)||Y.set($,{reports:0,disputes:0});const M=Y.get($);(le.reportStatus==="Pending"||le.reportStatus==="InReview")&&M.reports++,le.reportStatus==="InReview"&&M.disputes++});const Z=new Date,ie=[];for(let le=11;le>=0;le--){const G=new Date(Z.getFullYear(),Z.getMonth()-le,1),$=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`,M=`T${G.getMonth()+1}/${G.getFullYear()}`,U=Y.get($)||{reports:0,disputes:0};ie.push({time:M,...U})}return ie},[b]),P=p.useMemo(()=>{if(!C.length)return[];let Y=0,Z=0;return C.forEach(ie=>{ie.direction===1?Y+=ie.amount:ie.direction===2&&(Z+=ie.amount)}),[{name:"Tin vo",value:Y},{name:"Tin ra",value:Z}].filter(ie=>ie.value>0)},[C]),z=p.useMemo(()=>{const Y=new Map;_.forEach((U,I)=>{U.forEach(fe=>{Y.has(fe.userId)||Y.set(fe.userId,new Set),Y.get(fe.userId).add(I)})}),g.filter(U=>U.winnerId).forEach(U=>{const I=U.winnerId;Y.has(I)||Y.set(I,new Set),Y.get(I).add(U.id)});const Z=new Map;Y.forEach((U,I)=>{Z.set(I,U.size)});const ie=new Map;g.filter(U=>U.farmerId).forEach(U=>{const I=ie.get(U.farmerId)||0;ie.set(U.farmerId,I+1)});const le=new Map;g.filter(U=>U.status==="Completed"&&U.farmerId).forEach(U=>{const I=le.get(U.farmerId)||0;le.set(U.farmerId,I+1)});const G=new Map;g.filter(U=>U.status==="Completed"&&U.winnerId).forEach(U=>{const I=U.winnerId,fe=G.get(I)||0;G.set(I,fe+1)});const $=S.filter(U=>{const I=typeof U.role=="string"?U.role.toLowerCase():U.roleObject?.name?.toLowerCase()||"",fe=ie.get(U.id)||0;return I==="farmer"&&fe>0&&(U.reputationScore??0)>0}).map(U=>{const I=ie.get(U.id)||0,fe=le.get(U.id)||0,te=I>0?fe/I:0;return{id:U.id,name:`${U.firstName} ${U.lastName}`.trim()||U.email,email:U.email,reputationScore:U.reputationScore??0,auctionCount:I,successfulAuctions:fe,successRate:te,role:"farmer"}}).sort((U,I)=>Math.abs(U.successRate-I.successRate)>1e-4?I.successRate-U.successRate:U.successfulAuctions!==I.successfulAuctions?I.successfulAuctions-U.successfulAuctions:I.reputationScore-U.reputationScore).slice(0,5),M=S.filter(U=>{const I=typeof U.role=="string"?U.role.toLowerCase():U.roleObject?.name?.toLowerCase()||"",fe=Z.get(U.id)||0;return I==="wholesaler"&&fe>0&&(U.reputationScore??0)>0}).map(U=>{const I=Z.get(U.id)||0,fe=G.get(U.id)||0,te=I>0?fe/I:0;return{id:U.id,name:`${U.firstName} ${U.lastName}`.trim()||U.email,email:U.email,reputationScore:U.reputationScore??0,auctionCount:I,successfulAuctions:fe,successRate:te,role:"wholesaler"}}).sort((U,I)=>Math.abs(U.successRate-I.successRate)>1e-4?I.successRate-U.successRate:U.successfulAuctions!==I.successfulAuctions?I.successfulAuctions-U.successfulAuctions:I.reputationScore-U.reputationScore).slice(0,5);return{farmers:$,wholesalers:M}},[S,_,g]),ee=p.useMemo(()=>g.filter(Z=>Z.status==="OnGoing").map(Z=>{const ie=_.get(Z.id)??[],le=Z.endDate?new Date(Z.endDate):null,G=new Date,$=le?le.getTime()-G.getTime():0,M=Math.max(0,Math.floor($/(1e3*60*60))),U=Math.floor(M/24),I=U>0?`${U} ngy`:M>0?`${M} gi`:"Sp kt thc",fe=S.find(W=>W.id===Z.farmerId),te=fe?`${fe.firstName} ${fe.lastName}`.trim()||fe.email:"Cha xc nh";return{id:Z.id,auctionName:Z.note||`Phin ${Z.sessionCode}`,farmerName:te,currentHighestBid:Z.currentPrice??Z.startingPrice??0,totalBids:ie.length,remainingTime:I,sessionCode:Z.sessionCode,createdAt:Z.createdAt,publishDate:Z.publishDate}}).sort((Z,ie)=>{const le=Z.publishDate?new Date(Z.publishDate).getTime():Z.createdAt?new Date(Z.createdAt).getTime():0;return(ie.publishDate?new Date(ie.publishDate).getTime():ie.createdAt?new Date(ie.createdAt).getTime():0)-le}).slice(0,5),[g,_,S]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[a.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/20 flex-shrink-0",children:a.jsx(tR,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white"})}),a.jsx("span",{className:"truncate",children:"Bng iu khin"})]}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-0 sm:ml-[36px] md:ml-[52px]",children:"Tng quan h thng v phn tch d liu"}),u&&a.jsx("div",{className:"mt-2 sm:mt-3 p-2 sm:p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-xs sm:text-sm text-red-600",children:u})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsx(ce,{onClick:()=>e("/admin/reports"),className:"shadow-sm hover:shadow-md transition-shadow text-xs sm:text-sm",size:"sm",children:"Qun l bo co"}),a.jsxs(ce,{variant:"outline",onClick:be,disabled:n,className:"shadow-sm hover:shadow-md transition-shadow text-xs sm:text-sm",size:"sm",children:[a.jsx(Ka,{className:`w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 ${n?"animate-spin":""}`}),"Lm mi"]})]})]})}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-emerald-500 to-emerald-600 rounded-full"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Tng quan h thng"})]}),a.jsx(b$,{stats:q,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($s,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Phn tch doanh thu"})]})]}),a.jsxs("div",{className:"mb-3 sm:mb-4 flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:["current-year","current-month","custom"].map(Y=>a.jsxs(ce,{variant:J===Y?"default":"outline",size:"sm",onClick:()=>B(Y),className:"text-xs sm:text-sm",children:[Y==="current-year"&&"Nm nay",Y==="current-month"&&"Thng ny",Y==="custom"&&"Ty chnh"]},Y))}),J==="custom"&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 w-full lg:w-auto",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"T ngy"}),a.jsx("input",{type:"date",value:F.start,onChange:Y=>re(Z=>({...Z,start:Y.target.value})),max:F.end,className:"rounded-md border border-gray-200 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"n ngy"}),a.jsx("input",{type:"date",value:F.end,onChange:Y=>re(Z=>({...Z,end:Y.target.value})),min:F.start,max:new Date().toISOString().split("T")[0],className:"rounded-md border border-gray-200 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"Nhm theo"}),a.jsxs("select",{value:F.timeRange,onChange:Y=>re(Z=>({...Z,timeRange:Y.target.value})),className:"rounded-md border border-gray-200 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-blue-500 focus:outline-none",children:[a.jsx("option",{value:"daily",children:"Ngy"}),a.jsx("option",{value:"monthly",children:"Thng"})]})]})]})]}),a.jsx(Tte,{data:H,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-purple-500 to-purple-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qu,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Tng trng & Doanh thu"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx(_te,{data:K,isLoading:n}),a.jsx(kte,{data:P,isLoading:n})]})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-orange-500 to-orange-600 rounded-full"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Vng i u gi"})]}),a.jsx(Rte,{data:ve,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-red-500 to-red-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lm,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Gim st ri ro"})]})]}),a.jsx(Ote,{data:Pe,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-yellow-500 to-yellow-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Bng xp hng uy tn"})]})]}),a.jsx(Dte,{farmers:z.farmers,wholesalers:z.wholesalers,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-pink-500 to-pink-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SL,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"u gi ang hot"})]})]}),a.jsx(Pte,{auctions:ee,isLoading:n||s})]})]})}const ln=({children:e,className:t})=>a.jsx("div",{className:Dt("overflow-x-auto rounded-lg sm:rounded-2xl md:rounded-3xl border border-emerald-50/80 bg-white/80 shadow-[0_20px_60px_rgba(15,118,110,0.08)] backdrop-blur","transition-all duration-300","scrollbar-thin scrollbar-thumb-emerald-300 scrollbar-track-gray-100","[&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-emerald-300 [&::-webkit-scrollbar-track]:bg-gray-100",t),style:{scrollbarWidth:"thin"},children:a.jsx("table",{className:"min-w-[800px] divide-y divide-emerald-50/80 text-xs sm:text-sm text-slate-700 w-full",children:e})}),on=({children:e})=>a.jsx("thead",{className:"bg-gradient-to-r from-emerald-50/90 via-white to-transparent text-[11px] uppercase tracking-[0.18em] text-emerald-600",children:e}),ye=({children:e,className:t,style:n})=>a.jsx("th",{style:n,className:Dt("px-3 sm:px-4 md:px-6 py-3 sm:py-4 text-left font-semibold text-[10px] sm:text-[11px] tracking-[0.1em] sm:tracking-[0.18em]","text-emerald-700/80 whitespace-nowrap",t),children:e}),cn=({children:e})=>a.jsx("tbody",{className:"divide-y divide-emerald-50 bg-white/90",children:e}),lt=({children:e,className:t})=>a.jsx("tr",{className:Dt("transition-all duration-200","odd:bg-white even:bg-emerald-50/30","hover:-translate-y-[1px] hover:bg-emerald-50/70 hover:shadow-[0_12px_30px_rgba(15,118,110,0.12)]",t),children:e}),je=({children:e,className:t,style:n})=>a.jsx("td",{style:n,className:Dt("px-3 sm:px-4 md:px-6 py-3 sm:py-4 text-xs sm:text-sm text-slate-700 align-middle","first:pl-3 sm:first:pl-4 md:first:pl-6 last:pr-3 sm:last:pr-4 md:last:pr-6","whitespace-nowrap",t),children:e}),Oe=p.forwardRef(({className:e,variant:t="default",...n},r)=>{const s={default:"bg-emerald-600/90 text-white shadow-[0_4px_12px_rgba(16,185,129,0.35)]",outline:"border border-emerald-200 bg-white text-emerald-700",soft:"bg-emerald-50/90 text-emerald-700 backdrop-blur-sm",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-rose-100 text-rose-700"};return a.jsx("div",{ref:r,className:Dt("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition-all duration-200",s[t],e),...n})});Oe.displayName="Badge";function or(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function s_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xP(...e){return t=>{let n=!1;const r=e.map(s=>{const o=s_(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():s_(e[s],null)}}}}function ui(...e){return p.useCallback(xP(...e),e)}function Hte(e,t){const n=p.createContext(t),r=o=>{const{children:u,...d}=o,f=p.useMemo(()=>d,Object.values(d));return a.jsx(n.Provider,{value:f,children:u})};r.displayName=e+"Provider";function s(o){const u=p.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Eg(e,t=[]){let n=[];function r(o,u){const d=p.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:b,children:w,...S}=x,j=b?.[e]?.[f]||d,N=p.useMemo(()=>S,Object.values(S));return a.jsx(j.Provider,{value:N,children:w})};m.displayName=o+"Provider";function g(x,b){const w=b?.[e]?.[f]||d,S=p.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=n.map(u=>p.createContext(u));return function(d){const f=d?.[e]||o;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[r,qte(s,...t)]}function qte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const u=r.reduce((d,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...d,...x}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var id=globalThis?.document?p.useLayoutEffect:()=>{},Fte=Jy[" useId ".trim().toString()]||(()=>{}),Kte=0;function Iu(e){const[t,n]=p.useState(Fte());return id(()=>{n(r=>r??String(Kte++))},[e]),t?`radix-${t}`:""}var Gte=Jy[" useInsertionEffect ".trim().toString()]||id;function wj({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,u]=Vte({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:s;{const g=p.useRef(e!==void 0);p.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const m=p.useCallback(g=>{if(d){const x=Wte(g)?g(e):g;x!==e&&u.current?.(x)}else o(g)},[d,e,o,u]);return[f,m]}function Vte({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return Gte(()=>{o.current=t},[t]),p.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function Wte(e){return typeof e=="function"}function Tm(e){const t=Yte(e),n=p.forwardRef((r,s)=>{const{children:o,...u}=r,d=p.Children.toArray(o),f=d.find(Qte);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return a.jsx(t,{...u,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return a.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Yte(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const u=Jte(s),d=Zte(o,s.props);return s.type!==p.Fragment&&(d.ref=r?xP(r,u):u),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xte=Symbol("radix.slottable");function Qte(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xte}function Zte(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{const f=o(...d);return s(...d),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Jte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=ene.reduce((e,t)=>{const n=Tm(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:u,...d}=s,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function tne(e,t){e&&Pm.flushSync(()=>e.dispatchEvent(t))}function uc(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current?.(...n),[])}function nne(e,t=globalThis?.document){const n=uc(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var rne="DismissableLayer",Xy="dismissableLayer.update",ane="dismissableLayer.pointerDownOutside",ine="dismissableLayer.focusOutside",l_,vP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yP=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...f}=e,m=p.useContext(vP),[g,x]=p.useState(null),b=g?.ownerDocument??globalThis?.document,[,w]=p.useState({}),S=ui(t,D=>x(D)),j=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=j.indexOf(N),C=g?j.indexOf(g):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,_=C>=E,O=one(D=>{const L=D.target,V=[...m.branches].some(J=>J.contains(L));!_||V||(s?.(D),u?.(D),D.defaultPrevented||d?.())},b),R=cne(D=>{const L=D.target;[...m.branches].some(J=>J.contains(L))||(o?.(D),u?.(D),D.defaultPrevented||d?.())},b);return nne(D=>{C===m.layers.size-1&&(r?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},b),p.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(l_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),o_(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=l_)}},[g,b,n,m]),p.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),o_())},[g,m]),p.useEffect(()=>{const D=()=>w({});return document.addEventListener(Xy,D),()=>document.removeEventListener(Xy,D)},[]),a.jsx(_r.div,{...f,ref:S,style:{pointerEvents:T?_?"auto":"none":void 0,...e.style},onFocusCapture:or(e.onFocusCapture,R.onFocusCapture),onBlurCapture:or(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:or(e.onPointerDownCapture,O.onPointerDownCapture)})});yP.displayName=rne;var sne="DismissableLayerBranch",lne=p.forwardRef((e,t)=>{const n=p.useContext(vP),r=p.useRef(null),s=ui(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(_r.div,{...e,ref:s})});lne.displayName=sne;function one(e,t=globalThis?.document){const n=uc(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){bP(ane,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function cne(e,t=globalThis?.document){const n=uc(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&bP(ine,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function o_(){const e=new CustomEvent(Xy);document.dispatchEvent(e)}function bP(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?tne(s,o):s.dispatchEvent(o)}var Av="focusScope.autoFocusOnMount",Tv="focusScope.autoFocusOnUnmount",c_={bubbles:!1,cancelable:!0},une="FocusScope",wP=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...u}=e,[d,f]=p.useState(null),m=uc(s),g=uc(o),x=p.useRef(null),b=ui(t,j=>f(j)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let j=function(T){if(w.paused||!d)return;const _=T.target;d.contains(_)?x.current=_:Ps(x.current,{select:!0})},N=function(T){if(w.paused||!d)return;const _=T.relatedTarget;_!==null&&(d.contains(_)||Ps(x.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Ps(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const C=new MutationObserver(E);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),C.disconnect()}}},[r,d,w.paused]),p.useEffect(()=>{if(d){d_.add(w);const j=document.activeElement;if(!d.contains(j)){const E=new CustomEvent(Av,c_);d.addEventListener(Av,m),d.dispatchEvent(E),E.defaultPrevented||(dne(pne(jP(d)),{select:!0}),document.activeElement===j&&Ps(d))}return()=>{d.removeEventListener(Av,m),setTimeout(()=>{const E=new CustomEvent(Tv,c_);d.addEventListener(Tv,g),d.dispatchEvent(E),E.defaultPrevented||Ps(j??document.body,{select:!0}),d.removeEventListener(Tv,g),d_.remove(w)},0)}}},[d,m,g,w]);const S=p.useCallback(j=>{if(!n&&!r||w.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,E=document.activeElement;if(N&&E){const C=j.currentTarget,[T,_]=hne(C);T&&_?!j.shiftKey&&E===_?(j.preventDefault(),n&&Ps(T,{select:!0})):j.shiftKey&&E===T&&(j.preventDefault(),n&&Ps(_,{select:!0})):E===C&&j.preventDefault()}},[n,r,w.paused]);return a.jsx(_r.div,{tabIndex:-1,...u,ref:b,onKeyDown:S})});wP.displayName=une;function dne(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ps(r,{select:t}),document.activeElement!==n)return}function hne(e){const t=jP(e),n=u_(t,e),r=u_(t.reverse(),e);return[n,r]}function jP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function u_(e,t){for(const n of e)if(!fne(n,{upTo:t}))return n}function fne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mne(e){return e instanceof HTMLInputElement&&"select"in e}function Ps(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mne(e)&&t&&e.select()}}var d_=gne();function gne(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=h_(e,t),e.unshift(t)},remove(t){e=h_(e,t),e[0]?.resume()}}}function h_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function pne(e){return e.filter(t=>t.tagName!=="A")}var xne="Portal",NP=p.forwardRef((e,t)=>{const{container:n,...r}=e,[s,o]=p.useState(!1);id(()=>o(!0),[]);const u=n||s&&globalThis?.document?.body;return u?I3.createPortal(a.jsx(_r.div,{...r,ref:t}),u):null});NP.displayName=xne;function vne(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Md=e=>{const{present:t,children:n}=e,r=yne(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=ui(r.ref,bne(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Md.displayName="Presence";function yne(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),u=e?"mounted":"unmounted",[d,f]=vne(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=wf(r.current);o.current=d==="mounted"?m:"none"},[d]),id(()=>{const m=r.current,g=s.current;if(g!==e){const b=o.current,w=wf(m);e?f("MOUNT"):w==="none"||m?.display==="none"?f("UNMOUNT"):f(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),id(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=w=>{const j=wf(r.current).includes(CSS.escape(w.animationName));if(w.target===t&&j&&(f("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=w=>{w.target===t&&(o.current=wf(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function wf(e){return e?.animationName||"none"}function bne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _v=0;function wne(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??f_()),document.body.insertAdjacentElement("beforeend",e[1]??f_()),_v++,()=>{_v===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_v--}},[])}function f_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ai=function(){return ai=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ai.apply(this,arguments)};function SP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function jne(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Pf="right-scroll-bar-position",If="width-before-scroll-bar",Nne="with-scroll-bars-hidden",Sne="--removed-body-scroll-bar-size";function Rv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ene(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Cne=typeof window<"u"?p.useLayoutEffect:p.useEffect,m_=new WeakMap;function Ane(e,t){var n=Ene(null,function(r){return e.forEach(function(s){return Rv(s,r)})});return Cne(function(){var r=m_.get(n);if(r){var s=new Set(r),o=new Set(e),u=n.current;s.forEach(function(d){o.has(d)||Rv(d,null)}),o.forEach(function(d){s.has(d)||Rv(d,u)})}m_.set(n,e)},[e]),n}function Tne(e){return e}function _ne(e,t){t===void 0&&(t=Tne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(r=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(o),u=n}var f=function(){var g=u;u=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return s}function Rne(e){e===void 0&&(e={});var t=_ne(null);return t.options=ai({async:!0,ssr:!1},e),t}var EP=function(e){var t=e.sideCar,n=SP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ai({},n))};EP.isSideCarExport=!0;function One(e,t){return e.useMedium(t),EP}var CP=Rne(),Ov=function(){},Cg=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Ov,onWheelCapture:Ov,onTouchMoveCapture:Ov}),s=r[0],o=r[1],u=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,g=e.enabled,x=e.shards,b=e.sideCar,w=e.noRelative,S=e.noIsolation,j=e.inert,N=e.allowPinchZoom,E=e.as,C=E===void 0?"div":E,T=e.gapMode,_=SP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,R=Ane([n,t]),D=ai(ai({},_),s);return p.createElement(p.Fragment,null,g&&p.createElement(O,{sideCar:CP,removeScrollBar:m,shards:x,noRelative:w,noIsolation:S,inert:j,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:T}),u?p.cloneElement(p.Children.only(d),ai(ai({},D),{ref:R})):p.createElement(C,ai({},D,{className:f,ref:R}),d))});Cg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cg.classNames={fullWidth:If,zeroRight:Pf};var kne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kne();return t&&e.setAttribute("nonce",t),e}function Mne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Pne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ine=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Dne())&&(Mne(t,n),Pne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Lne=function(){var e=Ine();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},AP=function(){var e=Lne(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Bne={left:0,top:0,right:0,gap:0},kv=function(e){return parseInt(e||"",10)||0},Une=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(s)]},$ne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Bne;var t=Une(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zne=AP(),ec="data-scroll-locked",Hne=function(e,t,n,r){var s=e.left,o=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ec,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(If,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(If," .").concat(If,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ec,`] {
    `).concat(Sne,": ").concat(d,`px;
  }
`)},g_=function(){var e=parseInt(document.body.getAttribute(ec)||"0",10);return isFinite(e)?e:0},qne=function(){p.useEffect(function(){return document.body.setAttribute(ec,(g_()+1).toString()),function(){var e=g_()-1;e<=0?document.body.removeAttribute(ec):document.body.setAttribute(ec,e.toString())}},[])},Fne=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;qne();var o=p.useMemo(function(){return $ne(s)},[s]);return p.createElement(zne,{styles:Hne(o,!t,s,n?"":"!important")})},Qy=!1;if(typeof window<"u")try{var jf=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Qy=!1}var Go=Qy?{passive:!1}:!1,Kne=function(e){return e.tagName==="TEXTAREA"},TP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kne(e)&&n[t]==="visible")},Gne=function(e){return TP(e,"overflowY")},Vne=function(e){return TP(e,"overflowX")},p_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_P(e,r);if(s){var o=RP(e,r),u=o[1],d=o[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wne=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Yne=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_P=function(e,t){return e==="v"?Gne(t):Vne(t)},RP=function(e,t){return e==="v"?Wne(t):Yne(t)},Xne=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qne=function(e,t,n,r,s){var o=Xne(e,window.getComputedStyle(t).direction),u=o*r,d=n.target,f=t.contains(d),m=!1,g=u>0,x=0,b=0;do{if(!d)break;var w=RP(e,d),S=w[0],j=w[1],N=w[2],E=j-N-o*S;(S||E)&&_P(e,d)&&(x+=E,b+=S);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(x)<1||!g&&Math.abs(b)<1)&&(m=!0),m},Nf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},x_=function(e){return[e.deltaX,e.deltaY]},v_=function(e){return e&&"current"in e?e.current:e},Zne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Jne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ere=0,Vo=[];function tre(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(ere++)[0],o=p.useState(AP)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var j=jne([e.lockRef.current],(e.shards||[]).map(v_),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var E=Nf(j),C=n.current,T="deltaX"in j?j.deltaX:C[0]-E[0],_="deltaY"in j?j.deltaY:C[1]-E[1],O,R=j.target,D=Math.abs(T)>Math.abs(_)?"h":"v";if("touches"in j&&D==="h"&&R.type==="range")return!1;var L=p_(D,R);if(!L)return!0;if(L?O=D:(O=D==="v"?"h":"v",L=p_(D,R)),!L)return!1;if(!r.current&&"changedTouches"in j&&(T||_)&&(r.current=O),!O)return!0;var V=r.current||O;return Qne(V,N,j,V==="h"?T:_)},[]),f=p.useCallback(function(j){var N=j;if(!(!Vo.length||Vo[Vo.length-1]!==o)){var E="deltaY"in N?x_(N):Nf(N),C=t.current.filter(function(O){return O.name===N.type&&(O.target===N.target||N.target===O.shadowParent)&&Zne(O.delta,E)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var T=(u.current.shards||[]).map(v_).filter(Boolean).filter(function(O){return O.contains(N.target)}),_=T.length>0?d(N,T[0]):!u.current.noIsolation;_&&N.cancelable&&N.preventDefault()}}},[]),m=p.useCallback(function(j,N,E,C){var T={name:j,delta:N,target:E,should:C,shadowParent:nre(E)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(_){return _!==T})},1)},[]),g=p.useCallback(function(j){n.current=Nf(j),r.current=void 0},[]),x=p.useCallback(function(j){m(j.type,x_(j),j.target,d(j,e.lockRef.current))},[]),b=p.useCallback(function(j){m(j.type,Nf(j),j.target,d(j,e.lockRef.current))},[]);p.useEffect(function(){return Vo.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Go),document.addEventListener("touchmove",f,Go),document.addEventListener("touchstart",g,Go),function(){Vo=Vo.filter(function(j){return j!==o}),document.removeEventListener("wheel",f,Go),document.removeEventListener("touchmove",f,Go),document.removeEventListener("touchstart",g,Go)}},[]);var w=e.removeScrollBar,S=e.inert;return p.createElement(p.Fragment,null,S?p.createElement(o,{styles:Jne(s)}):null,w?p.createElement(Fne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rre=One(CP,tre);var OP=p.forwardRef(function(e,t){return p.createElement(Cg,ai({},e,{ref:t,sideCar:rre}))});OP.classNames=Cg.classNames;var are=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wo=new WeakMap,Sf=new WeakMap,Ef={},Dv=0,kP=function(e){return e&&(e.host||kP(e.parentNode))},ire=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sre=function(e,t,n,r){var s=ire(t,Array.isArray(e)?e:[e]);Ef[n]||(Ef[n]=new WeakMap);var o=Ef[n],u=[],d=new Set,f=new Set(s),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};s.forEach(m);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))g(b);else try{var w=b.getAttribute(r),S=w!==null&&w!=="false",j=(Wo.get(b)||0)+1,N=(o.get(b)||0)+1;Wo.set(b,j),o.set(b,N),u.push(b),j===1&&S&&Sf.set(b,!0),N===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",b,E)}})};return g(t),d.clear(),Dv++,function(){u.forEach(function(x){var b=Wo.get(x)-1,w=o.get(x)-1;Wo.set(x,b),o.set(x,w),b||(Sf.has(x)||x.removeAttribute(r),Sf.delete(x)),w||x.removeAttribute(n)}),Dv--,Dv||(Wo=new WeakMap,Wo=new WeakMap,Sf=new WeakMap,Ef={})}},lre=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=are(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),sre(r,s,n,"aria-hidden")):function(){return null}},Ag="Dialog",[DP]=Eg(Ag),[ore,Ya]=DP(Ag),MP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:u=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,g]=wj({prop:r,defaultProp:s??!1,onChange:o,caller:Ag});return a.jsx(ore,{scope:t,triggerRef:d,contentRef:f,contentId:Iu(),titleId:Iu(),descriptionId:Iu(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};MP.displayName=Ag;var PP="DialogTrigger",cre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(PP,n),o=ui(t,s.triggerRef);return a.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Sj(s.open),...r,ref:o,onClick:or(e.onClick,s.onOpenToggle)})});cre.displayName=PP;var jj="DialogPortal",[ure,IP]=DP(jj,{forceMount:void 0}),LP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Ya(jj,t);return a.jsx(ure,{scope:t,forceMount:n,children:p.Children.map(r,u=>a.jsx(Md,{present:n||o.open,children:a.jsx(NP,{asChild:!0,container:s,children:u})}))})};LP.displayName=jj;var _m="DialogOverlay",BP=p.forwardRef((e,t)=>{const n=IP(_m,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ya(_m,e.__scopeDialog);return o.modal?a.jsx(Md,{present:r||o.open,children:a.jsx(hre,{...s,ref:t})}):null});BP.displayName=_m;var dre=Tm("DialogOverlay.RemoveScroll"),hre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(_m,n);return a.jsx(OP,{as:dre,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(_r.div,{"data-state":Sj(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yl="DialogContent",UP=p.forwardRef((e,t)=>{const n=IP(Yl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ya(Yl,e.__scopeDialog);return a.jsx(Md,{present:r||o.open,children:o.modal?a.jsx(fre,{...s,ref:t}):a.jsx(mre,{...s,ref:t})})});UP.displayName=Yl;var fre=p.forwardRef((e,t)=>{const n=Ya(Yl,e.__scopeDialog),r=p.useRef(null),s=ui(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return lre(o)},[]),a.jsx($P,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:or(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:or(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&o.preventDefault()}),onFocusOutside:or(e.onFocusOutside,o=>o.preventDefault())})}),mre=p.forwardRef((e,t)=>{const n=Ya(Yl,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx($P,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),$P=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...u}=e,d=Ya(Yl,n),f=p.useRef(null),m=ui(t,f);return wne(),a.jsxs(a.Fragment,{children:[a.jsx(wP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(yP,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Sj(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(xre,{titleId:d.titleId}),a.jsx(yre,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Nj="DialogTitle",zP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(Nj,n);return a.jsx(_r.h2,{id:s.titleId,...r,ref:t})});zP.displayName=Nj;var HP="DialogDescription",gre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(HP,n);return a.jsx(_r.p,{id:s.descriptionId,...r,ref:t})});gre.displayName=HP;var qP="DialogClose",pre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(qP,n);return a.jsx(_r.button,{type:"button",...r,ref:t,onClick:or(e.onClick,()=>s.onOpenChange(!1))})});pre.displayName=qP;function Sj(e){return e?"open":"closed"}var FP="DialogTitleWarning",[uie,KP]=Hte(FP,{contentName:Yl,titleName:Nj,docsSlug:"dialog"}),xre=({titleId:e})=>{const t=KP(FP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vre="DialogDescriptionWarning",yre=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KP(vre).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},bre=MP,wre=LP,GP=BP,VP=UP,WP=zP;const Wt=bre,jre=wre,YP=p.forwardRef(({className:e,...t},n)=>a.jsx(GP,{ref:n,className:Dt("fixed inset-0 z-40 bg-black/40 backdrop-blur-md transition-opacity animate-in fade-in-0",e),...t}));YP.displayName=GP.displayName;const Ft=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(jre,{children:[a.jsx(YP,{}),a.jsx(VP,{ref:r,className:Dt("fixed z-50 grid w-[95vw] sm:w-full max-w-lg gap-4 sm:gap-6 rounded-xl sm:rounded-2xl md:rounded-3xl border border-white/40 bg-white/90 backdrop-blur-2xl px-4 py-4 sm:px-6 sm:py-6 md:px-7 md:py-7 shadow-[0_30px_80px_rgba(15,118,110,0.2)] duration-200 animate-in fade-in-0 zoom-in-90 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[90vh] overflow-y-auto",e),...n,children:t})]}));Ft.displayName=VP.displayName;const Yt=({className:e,...t})=>a.jsx("div",{className:Dt("flex flex-col space-y-2 text-center sm:text-left",e),...t}),Kt=p.forwardRef(({className:e,...t},n)=>a.jsx(WP,{ref:n,className:Dt("text-lg sm:text-xl font-semibold tracking-tight",e),...t}));Kt.displayName=WP.displayName;function Nre(){const[e,t]=p.useState([]),[n,r]=p.useState({}),[s,o]=p.useState(!1),[u,d]=p.useState(null),f=10,[m,g]=p.useState(1),[x,b]=p.useState({}),{toast:w}=$n(),[S,j]=p.useState(""),[N,E]=p.useState("all"),[C,T]=p.useState("all"),[_,O]=p.useState(null),[R,D]=p.useState(!1),[L,V]=p.useState([]),[J,B]=p.useState(!1),[F,re]=p.useState(!1),[be,xe]=p.useState(null),[q,H]=p.useState(!1),[K,ve]=p.useState(!0),Pe=p.useCallback(async({silent:W=!1}={})=>{o(!0),d(null);try{const Q=await pr.list();if(Q.isSuccess){const ae=Q.data,Se=Array.isArray(ae)?ae:ae?.items??[],Ne=Re=>{const ze=Re.role;if(typeof ze=="string"&&(ze==="farmer"||ze==="wholesaler"))return ze;if(ze&&typeof ze=="object"&&"name"in ze){const nt=String(ze.name||"").toLowerCase();if(nt==="admin"||nt==="farmer"||nt==="wholesaler")return nt}return"wholesaler"},Ue=Se.map(Re=>{const nt=(Re.status??1)===2?"inactive":"active";return{id:Re.id,fullName:`${Re.firstName} ${Re.lastName}`.trim(),email:Re.email,role:Ne(Re),status:nt,createdAt:Re.createdAt}});t(Ue),r(Object.fromEntries(Se.map(Re=>[Re.id,Re]))),b(Object.fromEntries(Se.map(Re=>[Re.id,(Re.status??1)===2]))),g(1),W||w({title:se.SUCCESS,description:Kx.FETCH_SUCCESS})}else{const ae=Q.message||Kx.FETCH_ERROR;d(ae),w({title:se.ERROR,description:ae,variant:"destructive"})}}catch(Q){const ae=Q instanceof Error?Q.message:Kx.FETCH_ERROR;d(ae),w({title:se.ERROR,description:ae,variant:"destructive"})}finally{o(!1)}},[w]);p.useEffect(()=>{Pe({silent:!0})},[Pe]);const P=W=>new Date(W).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),z=p.useMemo(()=>{let W=e;const Q=S.trim().toLowerCase();return Q&&(W=W.filter(ae=>ae.fullName.toLowerCase().includes(Q)||ae.email.toLowerCase().includes(Q)||ae.id.toLowerCase().includes(Q))),N!=="all"&&(W=W.filter(ae=>ae.role===N)),C!=="all"&&(W=W.filter(ae=>C==="active"?!x[ae.id]:C==="inactive"?x[ae.id]:!0)),W.sort((ae,Se)=>{const Ne=new Date(ae.createdAt).getTime();return new Date(Se.createdAt).getTime()-Ne})},[e,S,N,C,x]);p.useEffect(()=>{g(1)},[S,N,C]);const ee=W=>{switch(W){case"farmer":return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Nng dn"});case"wholesaler":return a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Thng li"});default:return a.jsx(Oe,{variant:"outline",children:"Unknown"})}},Y=W=>{switch(W){case"active":return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"});case"inactive":return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng hot ng"});default:return a.jsx(Oe,{variant:"outline",children:"Unknown"})}},Z=(W,Q)=>{Q&&!x[W.id]?(xe(W),ve(!0),re(!0)):!Q&&x[W.id]&&(xe(W),ve(!1),re(!0))},ie=async()=>{if(be){H(!0);try{const W=await pr.updateStatus(be.id,{status:K?2:1,reason:K?"Ti khon b kha bi qun tr vin":"Ti khon c m kha bi qun tr vin"});if(W.isSuccess)w({title:se.SUCCESS,description:K?"Kha ti khon thnh cng":"M kha ti khon thnh cng"}),re(!1),xe(null),await Pe({silent:!0});else{const Q=W.message||(K?"Khng th kha ti khon. Vui lng th li.":"Khng th m kha ti khon. Vui lng th li.");w({title:se.ERROR,description:Q,variant:"destructive"})}}catch(W){const Q=W instanceof Error?W.message:K?"Khng th kha ti khon. Vui lng th li.":"Khng th m kha ti khon. Vui lng th li.";w({title:se.ERROR,description:Q,variant:"destructive"})}finally{H(!1)}}},le=W=>{const Q=n[W];Q?(O(Q),D(!0),B(!0),Jo.getByUserId(W).then(ae=>{ae.isSuccess&&ae.data?V(Array.isArray(ae.data)?ae.data:[]):V([])}).catch(()=>V([])).finally(()=>B(!1))):w({title:se.ERROR,description:"Khng tm thy thng tin chi tit ngi dng",variant:"destructive"})},G=W=>{switch(W){case 0:return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(Oe,{variant:"outline",children:"Unknown"})}},$=Math.max(1,Math.ceil(z.length/f)),M=Math.min(m,$),U=(M-1)*f,I=z.slice(U,U+f),fe=M>1,te=M<$;return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Qun l ngi dng"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Theo di trng thi ti khon v phn quyn."})]}),a.jsxs(ct,{className:"p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-1 sm:mb-2",children:"Danh sch ngi dng"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[s?"ang ti...":`Hin th ${z.length} / ${e.length} ngi dng`,u&&a.jsxs("span",{className:"text-red-600",children:["  ",u]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-56 md:w-64",children:[a.jsx(ka,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"}),a.jsx(sn,{value:S,onChange:W=>j(W.target.value),placeholder:"Tm theo tn, email hoc ID",className:"pl-7 sm:pl-9 text-xs sm:text-sm"})]}),a.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>Pe(),disabled:s,className:"text-xs sm:text-sm",children:s?"ang ti...":"Lm mi"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>{E("all"),g(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${N==="all"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Tt c vai tr",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:e.length})]}),a.jsxs("button",{type:"button",onClick:()=>{E("farmer"),g(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${N==="farmer"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Nng dn",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:e.filter(W=>W.role==="farmer").length})]}),a.jsxs("button",{type:"button",onClick:()=>{E("wholesaler"),g(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${N==="wholesaler"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Thng li",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:e.filter(W=>W.role==="wholesaler").length})]}),a.jsxs("div",{className:"relative",children:[a.jsx(od,{className:`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 pointer-events-none ${C!=="all"?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:C,onChange:W=>{T(W.target.value),g(1)},className:`appearance-none rounded-xl sm:rounded-2xl border px-7 sm:px-9 md:px-10 py-1.5 sm:py-2 pr-6 sm:pr-8 text-xs sm:text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${C!=="all"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:"active",children:"Hot ng"}),a.jsx("option",{value:"inactive",children:"Khng hot ng"})]}),a.jsx(Im,{className:`absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 pointer-events-none ${C!=="all"?"text-emerald-600":"text-gray-400"}`})]})]})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6",children:s?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[30%] min-w-[150px]",children:"H v tn"}),a.jsx(ye,{className:"w-[20%] min-w-[180px]",children:"Email"}),a.jsx(ye,{className:"w-[12%] min-w-[100px]",children:"Vai tr"}),a.jsx(ye,{className:"w-[12%] min-w-[120px]",children:"Trng thi"}),a.jsx(ye,{className:"w-[10%] min-w-[100px] text-right",children:"Kha"}),a.jsx(ye,{className:"w-[16%] min-w-[120px] text-center",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:5}).map((W,Q)=>a.jsx(lt,{children:[35,25,15,15,10].map((ae,Se)=>a.jsx(je,{style:{width:`${ae}%`},children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})},Se))},Q))})]}):I.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[30%] min-w-[150px] text-left",children:"H v tn"}),a.jsx(ye,{className:"w-[20%] min-w-[180px] text-left",children:"Email"}),a.jsx(ye,{className:"w-[12%] min-w-[100px] text-left",children:"Vai tr"}),a.jsx(ye,{className:"w-[12%] min-w-[120px] text-left",children:"Trng thi"}),a.jsx(ye,{className:"w-[10%] min-w-[100px] text-right",children:"Kha"}),a.jsx(ye,{className:"w-[16%] min-w-[120px] text-center",children:"Thao tc"})]})}),a.jsx(cn,{children:I.map(W=>a.jsxs(lt,{className:"min-h-[56px]",children:[a.jsx(je,{className:"font-medium text-gray-900",children:a.jsx("div",{className:"truncate",title:W.fullName,children:W.fullName})}),a.jsxs(je,{children:[a.jsx("div",{className:"truncate text-gray-700",title:W.email,children:W.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["To: ",P(W.createdAt)]})]}),a.jsx(je,{children:ee(W.role)}),a.jsx(je,{children:Y(W.status)}),a.jsx(je,{className:"text-center",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none justify-end",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!x[W.id],onChange:Q=>Z(W,Q.target.checked)}),a.jsx("span",{className:`w-10 h-6 rounded-full ${x[W.id]?"bg-rose-500":"bg-green-500"} relative transition-colors`,"aria-hidden":"true",children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${x[W.id]?"translate-x-4":""}`})}),a.jsx("span",{className:"text-xs text-gray-600",children:x[W.id]?"Blocked":"Active"})]})}),a.jsx(je,{className:"text-center",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>le(W.id),className:"text-xs",children:[a.jsx(Cr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})})]},W.id))})]})}),a.jsx("div",{className:"lg:hidden space-y-3",children:I.map(W=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-[0.3em]",children:"Ngi dng"}),a.jsx("h3",{className:"font-semibold text-gray-900 truncate",title:W.fullName,children:W.fullName}),a.jsx("p",{className:"text-sm text-gray-500 truncate",title:W.email,children:W.email})]}),a.jsx(qu,{className:"h-5 w-5 text-gray-400"})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[ee(W.role),Y(W.status)]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",W.id]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ngy to: ",P(W.createdAt)]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!x[W.id],onChange:Q=>Z(W,Q.target.checked)}),a.jsx("span",{className:`w-9 h-5 rounded-full ${x[W.id]?"bg-rose-500":"bg-green-500"} relative transition-colors`,"aria-hidden":"true",children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform ${x[W.id]?"translate-x-4":""}`})}),a.jsx("span",{className:"text-xs text-gray-600",children:x[W.id]?" kha":"ang hot ng"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>le(W.id),className:"text-xs",children:[a.jsx(Cr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})]})]},W.id))}),$>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 sm:gap-4 mt-3 sm:mt-4 text-xs sm:text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",M,"/",$]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.max(1,W-1)),disabled:!fe,className:"text-xs sm:text-sm",children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.min($,W+1)),disabled:!te,className:"text-xs sm:text-sm",children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-10 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(qu,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c ngi dng no ph hp"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Th thay i t kha tm kim, b lc hoc ti li danh sch ngi dng."}),a.jsx(ce,{onClick:()=>{j(""),E("all"),T("all"),Pe()},children:"Xa b lc v ti li"})]})})})]}),a.jsx(Wt,{open:F,onOpenChange:re,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:`text-xl font-semibold ${K?"text-red-600":"text-green-600"}`,children:K?"Xc nhn kha ti khon":"Xc nhn m kha ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:K?"Bn c chc chn mun kha ti khon ca ngi dng ny?":"Bn c chc chn mun m kha ti khon ca ngi dng ny?"}),be&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:be.fullName}),a.jsx("p",{className:"text-xs text-gray-600",children:be.email})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:K?'Ti khon s b chuyn sang trng thi "Banned" v khng th ng nhp.':'Ti khon s c chuyn sang trng thi "Active" v c th ng nhp li.'})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ce,{variant:"outline",onClick:()=>{re(!1),xe(null)},disabled:q,children:"Hy"}),a.jsx(ce,{variant:"outline",onClick:ie,disabled:q,className:K?"text-red-600 border-red-600 hover:bg-red-50":"text-green-600 border-green-600 hover:bg-green-50",children:q?K?"ang kha...":"ang m kha...":K?"Xc nhn kha":"Xc nhn m kha"})]})]})]})}),a.jsx(Wt,{open:R,onOpenChange:D,children:a.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit ngi dng"})}),_?a.jsxs("div",{className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Thng tin c bn"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"ID"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 font-mono break-all",children:_.id})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Email"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 break-all",children:_.email})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"H"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.firstName||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Tn"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.lastName||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"S in thoi"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.phoneNumber||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Vai tr"}),a.jsx("div",{className:"mt-1",children:ee(e.find(W=>W.id===_.id)?.role||"wholesaler")})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"a ch"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl bg-white p-4 sm:col-span-2",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"a ch"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.address||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"X/Phng"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.communes||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Tnh/Thnh ph"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.province||""})]})]})]}),(_.status!==void 0||_.reputationScore!==void 0)&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Trng thi & Uy tn"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.status!==void 0&&a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Trng thi"}),a.jsxs("div",{className:"mt-1",children:[_.status===0&&a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"}),_.status===1&&a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"}),_.status===2&&a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:"B cm"})]})]}),_.reputationScore!==void 0&&a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"im uy tn"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.reputationScore})]})]})]}),_.verifications&&_.verifications.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[a.jsx(Cr,{className:"h-4 w-4"}),"Ti liu xc minh"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.verifications.map(W=>a.jsxs("div",{className:"rounded-2xl bg-white p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-2",children:W.documentType===0?"CCCD mt trc":W.documentType===1?"CCCD mt sau":"Giy php li xe"}),a.jsx("div",{className:"aspect-[16/10] bg-gray-100 rounded-lg overflow-hidden mb-2",children:a.jsx("img",{src:W.url,alt:W.documentType===0?"CCCD mt trc":"CCCD mt sau",className:"w-full h-full object-cover",onError:Q=>{const ae=Q.target;ae.style.display="none";const Se=ae.parentElement;Se&&(Se.innerHTML='<div class="w-full h-full flex items-center justify-center text-xs text-gray-400">Khng th ti hnh nh</div>')}})}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Ti ln: ",P(W.createdAt)]})]},W.id))})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"}),"Chng ch  duyt"]}),J?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"ang ti chng ch..."})]}):L.length>0?a.jsx("div",{className:"space-y-3",children:L.map(W=>a.jsxs("div",{className:"rounded-2xl bg-white p-4 border border-slate-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-1",children:W.certificationName}),a.jsx("p",{className:"text-xs text-slate-600",children:W.issuingOrganization})]}),G(W.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 mb-0.5",children:"Ngy cp"}),a.jsx("p",{className:"text-slate-900 font-medium",children:P(W.issueDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 mb-0.5",children:"Ngy ht hn"}),a.jsx("p",{className:"text-slate-900 font-medium",children:P(W.expiryDate)})]})]}),W.certificateUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:W.certificateUrl,alt:W.certificationName,className:"w-full max-w-xs rounded-lg border border-slate-200 shadow-sm",onError:Q=>{const ae=Q.target;ae.style.display="none"}})})]},W.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Oa,{className:"h-10 w-10 text-slate-400 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Cha c chng ch no c duyt"})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c thng tin  hin th"})})]})})]})}function Sre(e){const t=e+"CollectionProvider",[n,r]=Eg(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:N,children:E}=j,C=Ms.useRef(null),T=Ms.useRef(new Map).current;return a.jsx(s,{scope:N,itemMap:T,collectionRef:C,children:E})};u.displayName=t;const d=e+"CollectionSlot",f=Tm(d),m=Ms.forwardRef((j,N)=>{const{scope:E,children:C}=j,T=o(d,E),_=ui(N,T.collectionRef);return a.jsx(f,{ref:_,children:C})});m.displayName=d;const g=e+"CollectionItemSlot",x="data-radix-collection-item",b=Tm(g),w=Ms.forwardRef((j,N)=>{const{scope:E,children:C,...T}=j,_=Ms.useRef(null),O=ui(N,_),R=o(g,E);return Ms.useEffect(()=>(R.itemMap.set(_,{ref:_,...T}),()=>void R.itemMap.delete(_))),a.jsx(b,{[x]:"",ref:O,children:C})});w.displayName=g;function S(j){const N=o(e+"CollectionConsumer",j);return Ms.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((R,D)=>T.indexOf(R.ref.current)-T.indexOf(D.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:w},S,r]}var Ere=p.createContext(void 0);function XP(e){const t=p.useContext(Ere);return e||t||"ltr"}var Mv="rovingFocusGroup.onEntryFocus",Cre={bubbles:!1,cancelable:!0},Pd="RovingFocusGroup",[Zy,QP,Are]=Sre(Pd),[Tre,ZP]=Eg(Pd,[Are]),[_re,Rre]=Tre(Pd),JP=p.forwardRef((e,t)=>a.jsx(Zy.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Zy.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ore,{...e,ref:t})})}));JP.displayName=Pd;var Ore=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,b=p.useRef(null),w=ui(t,b),S=XP(o),[j,N]=wj({prop:u,defaultProp:d??null,onChange:f,caller:Pd}),[E,C]=p.useState(!1),T=uc(m),_=QP(n),O=p.useRef(!1),[R,D]=p.useState(0);return p.useEffect(()=>{const L=b.current;if(L)return L.addEventListener(Mv,T),()=>L.removeEventListener(Mv,T)},[T]),a.jsx(_re,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:j,onItemFocus:p.useCallback(L=>N(L),[N]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>D(L=>L+1),[]),onFocusableItemRemove:p.useCallback(()=>D(L=>L-1),[]),children:a.jsx(_r.div,{tabIndex:E||R===0?-1:0,"data-orientation":r,...x,ref:w,style:{outline:"none",...e.style},onMouseDown:or(e.onMouseDown,()=>{O.current=!0}),onFocus:or(e.onFocus,L=>{const V=!O.current;if(L.target===L.currentTarget&&V&&!E){const J=new CustomEvent(Mv,Cre);if(L.currentTarget.dispatchEvent(J),!J.defaultPrevented){const B=_().filter(q=>q.focusable),F=B.find(q=>q.active),re=B.find(q=>q.id===j),xe=[F,re,...B].filter(Boolean).map(q=>q.ref.current);n4(xe,g)}}O.current=!1}),onBlur:or(e.onBlur,()=>C(!1))})})}),e4="RovingFocusGroupItem",t4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:u,...d}=e,f=Iu(),m=o||f,g=Rre(e4,n),x=g.currentTabStopId===m,b=QP(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:j}=g;return p.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),a.jsx(Zy.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:a.jsx(_r.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:or(e.onMouseDown,N=>{r?g.onItemFocus(m):N.preventDefault()}),onFocus:or(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:or(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=Mre(N,g.orientation,g.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=b().filter(_=>_.focusable).map(_=>_.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const _=T.indexOf(N.currentTarget);T=g.loop?Pre(T,_+1):T.slice(_+1)}setTimeout(()=>n4(T))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:j!=null}):u})})});t4.displayName=e4;var kre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dre(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Mre(e,t,n){const r=Dre(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kre[r]}function n4(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Pre(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ire=JP,Lre=t4,Tg="Tabs",[Bre]=Eg(Tg,[ZP]),r4=ZP(),[Ure,Ej]=Bre(Tg),a4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:u="horizontal",dir:d,activationMode:f="automatic",...m}=e,g=XP(d),[x,b]=wj({prop:r,onChange:s,defaultProp:o??"",caller:Tg});return a.jsx(Ure,{scope:n,baseId:Iu(),value:x,onValueChange:b,orientation:u,dir:g,activationMode:f,children:a.jsx(_r.div,{dir:g,"data-orientation":u,...m,ref:t})})});a4.displayName=Tg;var i4="TabsList",s4=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Ej(i4,n),u=r4(n);return a.jsx(Ire,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(_r.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});s4.displayName=i4;var l4="TabsTrigger",o4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,u=Ej(l4,n),d=r4(n),f=d4(u.baseId,r),m=h4(u.baseId,r),g=r===u.value;return a.jsx(Lre,{asChild:!0,...d,focusable:!s,active:g,children:a.jsx(_r.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:t,onMouseDown:or(e.onMouseDown,x=>{!s&&x.button===0&&x.ctrlKey===!1?u.onValueChange(r):x.preventDefault()}),onKeyDown:or(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(r)}),onFocus:or(e.onFocus,()=>{const x=u.activationMode!=="manual";!g&&!s&&x&&u.onValueChange(r)})})})});o4.displayName=l4;var c4="TabsContent",u4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...u}=e,d=Ej(c4,n),f=d4(d.baseId,r),m=h4(d.baseId,r),g=r===d.value,x=p.useRef(g);return p.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(Md,{present:s||g,children:({present:b})=>a.jsx(_r.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:b&&o})})});u4.displayName=c4;function d4(e,t){return`${e}-trigger-${t}`}function h4(e,t){return`${e}-content-${t}`}var $re=a4,f4=s4,m4=o4,g4=u4;const Zs=$re,ss=p.forwardRef(({className:e,...t},n)=>a.jsx(f4,{ref:n,className:Dt("inline-flex h-11 items-center justify-center rounded-xl bg-gray-100 p-1 text-gray-500 shadow-inner",e),...t}));ss.displayName=f4.displayName;const Ct=p.forwardRef(({className:e,...t},n)=>a.jsx(m4,{ref:n,className:Dt("inline-flex min-w-[90px] items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200","hover:bg-white/80 hover:text-emerald-600","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2","data-[state=active]:bg-white data-[state=active]:text-emerald-700 data-[state=active]:shadow-md","data-[state=active]:ring-1 data-[state=active]:ring-emerald-200",e),...t}));Ct.displayName=m4.displayName;const $i=p.forwardRef(({className:e,...t},n)=>a.jsx(g4,{ref:n,className:Dt("mt-4 outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2",e),...t}));$i.displayName=g4.displayName;const Pv=({accounts:e,onViewAccount:t,onApproveAccount:n,onRejectAccount:r,isApproving:s,isRejecting:o,formatDate:u,getStatusBadge:d})=>e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(xc,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c ti khon no"}),a.jsx("p",{className:"text-gray-600",children:"Hin ti khng c ti khon no cn xt duyt"})]}):a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(f=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-5 md:p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3 min-w-0",children:[a.jsx("div",{className:"flex items-start justify-between gap-2",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1 truncate",children:f.fullName}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[a.jsx(ub,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:f.email})]}),a.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[a.jsx(Mu,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:f.farmName})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S in thoi:"}),a.jsx("p",{className:"text-gray-600 truncate",children:f.phone})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Din tch:"}),a.jsx("p",{className:"text-gray-600 truncate",children:f.farmSize})]}),a.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[a.jsx(Il,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 truncate",children:u(f.submittedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-start lg:justify-end",children:[d(f.status),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>t(f),className:"h-7 sm:h-8 px-2 sm:px-3 text-xs",children:[a.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),f.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(ce,{size:"sm",onClick:()=>n(f),disabled:s||o,className:"bg-emerald-600 hover:bg-emerald-700 text-white text-xs h-7 sm:h-8 px-2 sm:px-3",children:[a.jsx(nR,{className:"w-3 h-3 mr-1"}),s?"ang duyt...":"Duyt"]}),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>r(f),disabled:s||o,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 text-xs h-7 sm:h-8 px-2 sm:px-3",children:[a.jsx(Xl,{className:"w-3 h-3 mr-1"}),"T chi"]})]})]})]})},f.id))}),zre=({certifications:e,usersMap:t={},onViewCertification:n,onApproveCertification:r,onRejectCertification:s,isApproving:o,isRejecting:u,formatDate:d,getStatusBadge:f})=>e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Oa,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c chng ch no"}),a.jsx("p",{className:"text-gray-600",children:"Hin ti khng c chng ch no cn xt duyt"})]}):a.jsx("div",{className:"space-y-4",children:e.map(m=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:m.certificationName}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 flex-wrap",children:[t[m.userId]&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xc,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium text-gray-900",children:`${t[m.userId].firstName} ${t[m.userId].lastName}`.trim()||t[m.userId].email})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Z3,{className:"w-4 h-4"}),a.jsx("span",{children:m.issuingOrganization})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Il,{className:"w-4 h-4"}),a.jsxs("span",{children:["Cp ngy: ",d(m.issueDate)]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ht hn:"}),a.jsx("p",{className:"text-gray-600",children:d(m.expiryDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy np:"}),a.jsx("p",{className:"text-gray-600",children:d(m.createdAt)})]}),m.rejectionReason&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"L do t chi:"}),a.jsx("p",{className:"text-red-600",children:m.rejectionReason})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[f(m.status),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>n(m),className:"h-8 px-3 text-xs",children:[a.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),m.status===0&&a.jsxs(a.Fragment,{children:[a.jsxs(ce,{size:"sm",onClick:()=>r(m),disabled:o||u,className:"bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:[a.jsx(nR,{className:"w-3 h-3 mr-1"}),o?"ang duyt...":"Duyt"]}),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>s(m),disabled:o||u,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 text-xs",children:[a.jsx(Xl,{className:"w-3 h-3 mr-1"}),"T chi"]})]})]})]})},m.id))}),Hre=({pendingAccounts:e,approvedAccounts:t,rejectedAccounts:n,pendingCertifications:r,isLoading:s,error:o,onViewAccount:u,onApproveAccount:d,onRejectAccount:f,onViewCertification:m,onApproveCertification:g,onRejectCertification:x,isApproving:b,isRejecting:w,formatDate:S,getStatusBadge:j,getCertificationStatusBadge:N,defaultTab:E="pending"})=>{const[C,T]=p.useState(E);return p.useEffect(()=>{T(E)},[E]),a.jsxs(Zs,{value:C,onValueChange:T,className:"w-full",children:[a.jsxs(ss,{className:"grid w-full grid-cols-4 mb-6",children:[a.jsxs(Ct,{value:"pending",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:["Ti khon (",e.length,")"]}),a.jsxs(Ct,{value:"approved",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[" duyt (",t.length,")"]}),a.jsxs(Ct,{value:"rejected",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[" t chi (",n.length,")"]}),a.jsxs(Ct,{value:"certifications",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:["Chng ch (",r.length,")"]})]}),a.jsx($i,{value:"pending",className:"space-y-4",children:a.jsxs(ct,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon ch duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",e.length," ti khon ang ch xt duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):a.jsx(Pv,{accounts:e,onViewAccount:u,onApproveAccount:d,onRejectAccount:f,isApproving:b,isRejecting:w,formatDate:S,getStatusBadge:j})]})}),a.jsx($i,{value:"approved",className:"space-y-4",children:a.jsxs(ct,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon  duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",t.length," ti khon  c duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rR,{className:"h-16 w-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c ti khon no c duyt"}),a.jsx("p",{className:"text-gray-600",children:"Cc ti khon c duyt s hin th  y"})]}):a.jsx(Pv,{accounts:t,onViewAccount:u,onApproveAccount:()=>{},onRejectAccount:()=>{},isApproving:!1,isRejecting:!1,formatDate:S,getStatusBadge:j})]})}),a.jsx($i,{value:"rejected",className:"space-y-4",children:a.jsxs(ct,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon  t chi"}),a.jsxs("p",{className:"text-gray-600",children:["C ",n.length," ti khon  b t chi"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(li,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c ti khon no b t chi"}),a.jsx("p",{className:"text-gray-600",children:"Cc ti khon b t chi s hin th  y"})]}):a.jsx(Pv,{accounts:n,onViewAccount:u,onApproveAccount:()=>{},onRejectAccount:()=>{},isApproving:!1,isRejecting:!1,formatDate:S,getStatusBadge:j})]})}),a.jsx($i,{value:"certifications",className:"space-y-4",children:a.jsxs(ct,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch chng ch ch duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",r.length," chng ch ang ch xt duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Oa,{className:"h-16 w-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c chng ch no ch duyt"}),a.jsx("p",{className:"text-gray-600",children:"Cc chng ch ch duyt s hin th  y"})]}):a.jsx(zre,{certifications:r,onViewCertification:m,onApproveCertification:g,onRejectCertification:x,isApproving:b,isRejecting:w,formatDate:S,getStatusBadge:N})]})})]})},qre=({account:e,isOpen:t,onClose:n,formatDate:r})=>{const[s,o]=p.useState([]),[u,d]=p.useState(!1);p.useEffect(()=>{e&&t?(d(!0),Jo.getByUserId(e.id).then(m=>{m.isSuccess&&m.data&&o(Array.isArray(m.data)?m.data:[])}).catch(()=>o([])).finally(()=>d(!1))):o([])},[e,t]);const f=m=>{switch(m){case 0:return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(Oe,{variant:"outline",children:"Unknown"})}};return e?a.jsx(Wt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{className:"pb-4 border-b border-gray-200",children:a.jsxs(Kt,{className:"text-2xl font-semibold text-gray-900",children:["Chi tit ti khon: ",e.fullName]})}),a.jsxs("div",{className:"space-y-8 py-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(xc,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin c nhn"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"H v tn"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.fullName})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),a.jsx("p",{className:"text-gray-900 break-all",children:e.email})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"S in thoi"}),a.jsx("p",{className:"text-gray-900",children:e.phone})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch"}),a.jsx("p",{className:"text-gray-900 break-words",children:e.address})]})]})})]}),e.role==="farmer"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Mu,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin nng tri"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tn nng tri"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.farmName})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch nng tri"}),a.jsx("p",{className:"text-gray-900 break-words",children:e.farmAddress})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Din tch"}),a.jsx("p",{className:"text-gray-900",children:e.farmSize})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Loi hnh"}),a.jsx("p",{className:"text-gray-900",children:e.farmType})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Cr,{className:"h-4 w-4 text-emerald-600"})}),"Ti liu xc minh"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.verifications&&e.verifications.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.verifications.map(m=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:m.documentType===0?"CCCD mt trc":m.documentType===1?"CCCD mt sau":"Giy php li xe"}),a.jsxs("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-4 hover:border-emerald-400 transition-colors",children:[a.jsx("div",{className:"aspect-[16/10] bg-gray-100 rounded-lg overflow-hidden mb-3",children:a.jsx("img",{src:m.url,alt:m.documentType===0?"CCCD mt trc":"CCCD mt sau",className:"w-full h-full object-cover rounded-lg",onError:g=>{const x=g.target;x.style.display="none";const b=x.parentElement;b&&(b.innerHTML='<div class="w-full h-full flex items-center justify-center text-xs text-gray-400">Khng th ti hnh nh</div>')}})}),a.jsx("p",{className:"text-xs text-gray-600 text-center",children:m.documentType===0?"Cn cc cng dn - Mt trc":"Cn cc cng dn - Mt sau"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:["Ti ln: ",r(m.createdAt)]})]})]},m.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cha c ti liu xc minh no"})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Il,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin np n"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("p",{className:"text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Ngy np:"})," ",r(e.submittedAt)]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Oa,{className:"h-4 w-4 text-emerald-600"})}),"Chng ch  duyt"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti chng ch..."})]}):s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(m=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.certificationName}),a.jsx("p",{className:"text-sm text-gray-600",children:m.issuingOrganization})]}),f(m.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy cp:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:r(m.issueDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy ht hn:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:r(m.expiryDate)})]})]}),m.certificateUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:m.certificateUrl,alt:m.certificationName,className:"w-full max-w-md rounded-lg border border-gray-200 shadow-sm",onError:g=>{const x=g.target;x.style.display="none"}})})]},m.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cha c chng ch no c duyt"})]})})]})]})]})}):null},Jn=p.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{ref:n,className:Dt("flex min-h-[110px] w-full rounded-2xl border border-transparent bg-white/80 px-4 py-3 text-sm text-gray-900 shadow-[0_12px_28px_rgba(15,118,110,0.08)] transition-all duration-300 placeholder:text-gray-400","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50 focus-visible:border-emerald-500/60 focus-visible:ring-offset-2","hover:border-emerald-200 hover:shadow-[0_16px_38px_rgba(15,118,110,0.12)]","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-70",e),...t}));Jn.displayName="Textarea";const Fre=({account:e,isOpen:t,onClose:n,rejectReason:r,setRejectReason:s,onConfirmReject:o,isRejecting:u})=>{const d=()=>{e&&r.trim()&&o(e.id,r.trim())};return a.jsx(Wt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi ti khon ny? Hnh ng ny khng th hon tc."}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Tn: ",e.fullName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Email: ",e.email]}),e.farmName&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Nng tri: ",e.farmName]})]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi *"}),a.jsx(Jn,{id:"rejectReason",placeholder:"Nhp l do t chi ti khon ny...",value:r,onChange:f=>s(f.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:u,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:d,disabled:!r.trim()||u,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})})},Kre=({account:e,isOpen:t,onClose:n,onConfirmApprove:r,isApproving:s})=>{const o=()=>{e&&r(e.id)};return a.jsx(Wt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt ti khon ny? Ti khon s c chuyn sang trng thi " duyt" v ngi dng c th s dng ti khon ny.'}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Tn: ",e.fullName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Email: ",e.email]}),e.role==="farmer"&&e.farmName&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Nng tri: ",e.farmName]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:s,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:o,disabled:s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})})},Gre=({certification:e,user:t,isOpen:n,onClose:r,formatDate:s,getStatusBadge:o})=>e?a.jsx(Wt,{open:n,onOpenChange:r,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{className:"pb-4 border-b border-gray-200",children:a.jsxs(Kt,{className:"text-2xl font-semibold text-gray-900 flex items-center gap-3",children:[a.jsx(Oa,{className:"h-6 w-6 text-emerald-600"}),"Chi tit chng ch: ",e.certificationName]})}),a.jsxs("div",{className:"space-y-8 py-6",children:[t&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(xc,{className:"h-4 w-4 text-blue-600"})}),"Thng tin ngi gi"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"H v tn"}),a.jsx("p",{className:"text-gray-900 font-medium",children:`${t.firstName} ${t.lastName}`.trim()||"Cha c thng tin"})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ub,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900 break-all",children:t.email})]})]}),t.phoneNumber&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"S in thoi"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lR,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900",children:t.phoneNumber})]})]}),t.address&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch"}),a.jsxs("p",{className:"text-gray-900 break-words",children:[t.address,t.communes&&`, ${t.communes}`,t.province&&`, ${t.province}`]})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(qi,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin chng ch"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tn chng ch"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.certificationName})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:o(e.status)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"T chc cp"}),a.jsx("p",{className:"text-gray-900",children:e.issuingOrganization})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Loi chng ch"}),a.jsxs("p",{className:"text-gray-900",children:["Loi ",e.type]})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy cp"}),a.jsx("p",{className:"text-gray-900",children:s(e.issueDate)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy ht hn"}),a.jsx("p",{className:"text-gray-900",children:s(e.expiryDate)})]}),e.rejectionReason&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"L do t chi"}),a.jsx("p",{className:"text-red-600",children:e.rejectionReason})]}),e.reviewedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy xt duyt"}),a.jsx("p",{className:"text-gray-900",children:s(e.reviewedAt)})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Oa,{className:"h-4 w-4 text-emerald-600"})}),"Hnh nh chng ch"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"max-w-2xl w-full",children:a.jsx("img",{src:e.certificateUrl,alt:e.certificationName,className:"w-full h-auto rounded-lg border border-gray-200 shadow-sm",onError:u=>{const d=u.target;d.src="/placeholder-certificate.jpg",d.alt="Khng th ti hnh nh"}})})})})]})]})]})}):null,Vre=({certification:e,isOpen:t,onClose:n,rejectReason:r,setRejectReason:s,onConfirmReject:o,isRejecting:u})=>{const d=()=>{e&&r.trim()&&o(e.id,r.trim())};return a.jsx(Wt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi chng ch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi chng ch ny? Hnh ng ny khng th hon tc."}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Chng ch: ",e.certificationName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["T chc cp: ",e.issuingOrganization]})]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi *"}),a.jsx(Jn,{id:"rejectReason",placeholder:"Nhp l do t chi chng ch ny...",value:r,onChange:f=>s(f.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:u,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:d,disabled:!r.trim()||u,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})})},Wre=({certification:e,isOpen:t,onClose:n,onConfirmApprove:r,isApproving:s})=>{const o=()=>{e&&r(e.id)};return a.jsx(Wt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt chng ch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt chng ch ny? Chng ch s c chuyn sang trng thi " duyt" v ngi dng c th s dng chng ch ny.'}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Chng ch: ",e.certificationName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["T chc cp: ",e.issuingOrganization]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:s,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:o,disabled:s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})})},Iv=e=>new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Yre=e=>{switch(e){case"pending":return{text:"Ch duyt",className:"text-yellow-600 border-yellow-600"};case"approved":return{text:" duyt",className:"text-green-600 border-green-600"};case"rejected":return{text:" t chi",className:"text-red-600 border-red-600"};default:return{text:"Unknown",className:""}}},Xre=()=>{const[e]=Z_(),t=e.get("tab")||"pending",[n,r]=p.useState(null),[s,o]=p.useState(null),[u,d]=p.useState(!1),[f,m]=p.useState(""),[g,x]=p.useState(!1),[b,w]=p.useState(!1),[S,j]=p.useState(!1),[N,E]=p.useState(!1),[C,T]=p.useState([]),[_,O]=p.useState([]),[R,D]=p.useState([]),[L,V]=p.useState([]),[J,B]=p.useState(null),[F,re]=p.useState(!1),[be,xe]=p.useState(!1),[q,H]=p.useState(!1),[K,ve]=p.useState(""),[Pe,P]=p.useState(!1),[z,ee]=p.useState(null),[Y,Z]=p.useState({}),{toast:ie}=$n(),le=p.useCallback((Le,$e)=>{let Be="Cha c thng tin",dt="Cha c thng tin",un="Cha c thng tin",dn="Cha c thng tin";Le.role==="farmer"&&$e[Le.id]&&(Be=$e[Le.id].name||"Cha c thng tin",dt=`${Le.address}, ${Le.communes}, ${Le.province}`,un="Cha c thng tin",dn="Cha c thng tin");const kn={0:"pending",1:"approved",2:"rejected"};return{id:Le.id,email:Le.email,fullName:`${Le.firstName} ${Le.lastName}`.trim(),phone:Le.phoneNumber||"Cha c",address:`${Le.address}, ${Le.communes}, ${Le.province}`,role:Le.role??"farmer",farmName:Be,farmAddress:dt,farmSize:un,farmType:dn,submittedAt:Le.createdAt,status:kn[Le.status??0]||"pending",documents:[],verifications:Le.verifications||[]}},[]),G=p.useCallback(async({silent:Le=!1}={})=>{P(!0),ee(null);try{const[$e,Be]=await Promise.all([pr.list(),Mt.getFarms().catch(()=>({isSuccess:!1,data:[]}))]);if($e.isSuccess){const dt=$e.data,un=Array.isArray(dt)?dt:dt?.items??[],dn={};Be.isSuccess&&Be.data&&Array.isArray(Be.data)&&Be.data.forEach(Et=>{Et.userId&&!dn[Et.userId]&&(dn[Et.userId]={name:Et.name})});const kn=un.map(Et=>le(Et,dn)),Cn=kn.filter(Et=>Et.status==="pending"),Pt=kn.filter(Et=>Et.status==="approved"),Wn=kn.filter(Et=>Et.status==="rejected");T(Cn),O(Pt),D(Wn),Le||ie({title:se.SUCCESS,description:ki.FETCH_SUCCESS})}else{const dt=$e.message||ki.FETCH_ERROR;ee(dt),Le||ie({title:se.ERROR,description:dt,variant:"destructive"})}}catch($e){const Be=$e instanceof Error?$e.message:ki.FETCH_ERROR;ee(Be),console.error("Li khi ti danh sch ti khon:",$e),Le||ie({title:se.ERROR,description:Be,variant:"destructive"})}finally{P(!1)}},[le,ie]),$=p.useCallback(async({silent:Le=!1}={})=>{P(!0),ee(null);try{const $e=await Jo.getPending();if($e.isSuccess){const Be=Array.isArray($e.data)?$e.data:[];if(V(Be),Be.length>0)try{const dt=[...new Set(Be.map(dn=>dn.userId))],un=await pr.list();if(un.isSuccess){const dn=un.data,kn=Array.isArray(dn)?dn:dn?.items??[],Cn={};kn.forEach(Pt=>{dt.includes(Pt.id)&&(Cn[Pt.id]=Pt)}),Z(Pt=>({...Pt,...Cn}))}}catch(dt){console.error("Li khi ti thng tin ngi dng:",dt)}Le||ie({title:se.SUCCESS,description:Di.FETCH_SUCCESS})}else{const Be=$e.message||Di.FETCH_ERROR;ee(Be),Le||ie({title:se.ERROR,description:Be,variant:"destructive"})}}catch($e){const Be=$e instanceof Error?$e.message:Di.FETCH_ERROR;ee(Be),console.error("Li khi ti danh sch chng ch:",$e),Le||ie({title:se.ERROR,description:Be,variant:"destructive"})}finally{P(!1)}},[ie]);p.useEffect(()=>{G({silent:!0}),$({silent:!0})},[G,$]);const M=Le=>{o(Le),w(!0)},U=async Le=>{j(!0);try{const $e=await pr.updateStatus(Le,{status:1,reason:"Ti khon  c duyt bi qun tr vin"});if($e.isSuccess)ie({title:se.SUCCESS,description:ki.APPROVE_SUCCESS}),w(!1),o(null),await G({silent:!0});else{const Be=$e.message||ki.APPROVE_ERROR;ee(Be),ie({title:se.ERROR,description:Be,variant:"destructive"})}}catch($e){console.error("Error approving account:",$e);const Be=$e instanceof Error?$e.message:ki.APPROVE_ERROR;ee(Be),ie({title:se.ERROR,description:Be,variant:"destructive"})}finally{j(!1)}},I=async(Le,$e)=>{E(!0);try{const Be=await pr.updateStatus(Le,{status:2,reason:$e||"Ti khon b t chi bi qun tr vin"});if(Be.isSuccess)ie({title:se.SUCCESS,description:ki.REJECT_SUCCESS}),x(!1),m(""),o(null),await G({silent:!0});else{const dt=Be.message||ki.REJECT_ERROR;ee(dt),ie({title:se.ERROR,description:dt,variant:"destructive"})}}catch(Be){console.error("Error rejecting account:",Be);const dt=Be instanceof Error?Be.message:ki.REJECT_ERROR;ee(dt),ie({title:se.ERROR,description:dt,variant:"destructive"})}finally{E(!1)}},fe=Le=>{r(Le),d(!0)},te=Le=>{o(Le),x(!0)},W=()=>{r(null),d(!1)},Q=()=>{x(!1),m(""),o(null)},ae=Le=>{B(Le),H(!0)},Se=async Le=>{j(!0);try{const $e=await Jo.approve(Le,{status:1});if($e.isSuccess)ie({title:se.SUCCESS,description:Di.APPROVE_SUCCESS}),H(!1),B(null),await $({silent:!0});else{const Be=$e.message||Di.APPROVE_ERROR;ee(Be),ie({title:se.ERROR,description:Be,variant:"destructive"})}}catch($e){console.error("Error approving certification:",$e);const Be=$e instanceof Error?$e.message:Di.APPROVE_ERROR;ee(Be),ie({title:se.ERROR,description:Be,variant:"destructive"})}finally{j(!1)}},Ne=async(Le,$e)=>{E(!0);try{const Be=await Jo.approve(Le,{status:2,rejectionReason:$e});if(Be.isSuccess)ie({title:se.SUCCESS,description:Di.REJECT_SUCCESS}),xe(!1),ve(""),await $({silent:!0});else{const dt=Be.message||Di.REJECT_ERROR;ee(dt),ie({title:se.ERROR,description:dt,variant:"destructive"})}}catch(Be){console.error("Error rejecting certification:",Be);const dt=Be instanceof Error?Be.message:Di.REJECT_ERROR;ee(dt),ie({title:se.ERROR,description:dt,variant:"destructive"})}finally{E(!1)}},Ue=Le=>{B(Le),re(!0)},Re=Le=>{B(Le),xe(!0)},ze=()=>{B(null),re(!1)},nt=()=>{xe(!1),ve("")},He=Le=>{const $e=Yre(Le);return a.jsx(Oe,{variant:"outline",className:$e.className,children:$e.text})},De=Le=>{switch(Le){case 0:return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(Oe,{variant:"outline",children:"Unknown"})}};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Qun l xt duyt ti khon"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Duyt v qun l cc ti khon nng dn ang ch xt duyt"})]}),a.jsx(Hre,{pendingAccounts:C,approvedAccounts:_,rejectedAccounts:R,pendingCertifications:L,isLoading:Pe,error:z,onViewAccount:fe,onApproveAccount:M,onRejectAccount:te,onViewCertification:Ue,onApproveCertification:ae,onRejectCertification:Re,isApproving:S,isRejecting:N,formatDate:Iv,getStatusBadge:He,getCertificationStatusBadge:De,defaultTab:t}),a.jsx(qre,{account:n,isOpen:u,onClose:W,formatDate:Iv}),a.jsx(Kre,{account:s,isOpen:b,onClose:()=>{w(!1),o(null)},onConfirmApprove:U,isApproving:S}),a.jsx(Fre,{account:s,isOpen:g,onClose:Q,rejectReason:f,setRejectReason:m,onConfirmReject:I,isRejecting:N}),a.jsx(Gre,{certification:J,user:J?Y[J.userId]:null,isOpen:F,onClose:ze,formatDate:Iv,getStatusBadge:De}),a.jsx(Vre,{certification:J,isOpen:be,onClose:nt,rejectReason:K,setRejectReason:ve,onConfirmReject:Ne,isRejecting:N}),a.jsx(Wre,{certification:J,isOpen:q,onClose:()=>{H(!1),B(null)},onConfirmApprove:Se,isApproving:S})]})};let Yo=null;const Qre=300*1e3;function Zre(){const e=yr(),[t,n]=p.useState([]),[r,s]=p.useState(!1),[o,u]=p.useState({}),[d,f]=p.useState(!1),[m,g]=p.useState(""),x=10,[b,w]=p.useState(1),[S,j]=p.useState(null),{toast:N}=$n(),E=B=>{e(`${et.ADMIN_CROPS}?farmId=${B}`)},C=p.useCallback(async B=>{f(!0);try{const re=[];for(let be=0;be<B.length;be+=5){const xe=B.slice(be,be+5),q=await Promise.all(xe.map(async K=>{try{const ve=await Mt.getCropsByFarmId(K.id),Pe=ve.isSuccess&&Array.isArray(ve.data)?ve.data.length:0;return[K.id,Pe]}catch{return[K.id,0]}}));re.push(...q.map(([K,ve])=>[K,ve]));const H=Object.fromEntries(re);u(K=>({...K,...H}))}}catch(F){console.error("Li khi ly s lng crop cho cc nng tri:",F),N({title:se.INFO,description:Cl.CROP_COUNT_ERROR})}finally{f(!1)}},[N]),T=p.useCallback(async({silent:B=!1}={})=>{s(!0),j(null);try{const F=await Mt.getFarms();if(F.isSuccess&&F.data){let re={};const be=Date.now();if(Yo&&be-Yo.timestamp<Qre)re=Yo.data;else try{const q=await pr.list();if(q.isSuccess){const H=q.data,K=Array.isArray(H)?H:H?.items??[];re=Object.fromEntries(K.map(ve=>[ve.id,ve])),Yo={data:re,timestamp:be}}}catch(q){console.error("Li khi ly thng tin ngi dng:",q),Yo&&(re=Yo.data)}const xe=F.data.map(q=>{const H=re[q.userId],K=H?`${H.firstName||""} ${H.lastName||""}`.trim()||H.email:"Cha xc nh",ve=H?.address?`${H.address}${H.communes?`, ${H.communes}`:""}${H.province?`, ${H.province}`:""}`.trim():"Cha cp nht";return{id:q.id,name:q.name,owner:K,location:ve||"Cha cp nht",size:"Cha cp nht",type:"Cha cp nht",status:q.isActive?"active":"inactive",createdAt:q.createdAt,imageUrl:q.farmImage}});n(xe),C(xe),B||N({title:se.SUCCESS,description:Cl.FETCH_SUCCESS})}else{const re=F.message||Cl.FETCH_ERROR;j(re),N({title:se.ERROR,description:re,variant:"destructive"})}}catch(F){const re=F instanceof Error?F.message:Cl.FETCH_ERROR;j(re),N({title:se.ERROR,description:re,variant:"destructive"})}finally{s(!1)}},[N]);p.useEffect(()=>{T({silent:!0})},[T]);const _=p.useMemo(()=>{const B=m.trim().toLowerCase();return t.filter(F=>!B||F.name.toLowerCase().includes(B)||F.owner.toLowerCase().includes(B)||F.location.toLowerCase().includes(B))},[t,m]);p.useEffect(()=>{w(1)},[m]);const O=B=>new Date(B).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),R=B=>B==="active"?a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"}):a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng hot ng"}),D=Math.max(1,Math.ceil(_.length/x)),V=(Math.min(b,D)-1)*x,J=_.slice(V,V+x);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Qun l nng tri"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Danh sch nng tri ca ngi dng"})]}),a.jsxs(ct,{className:"p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-1 sm:mb-2",children:"Danh sch nng tri"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[r?"ang ti...":`Hin th ${_.length} / ${t.length} nng tri`,S&&a.jsxs("span",{className:"text-red-600",children:["  ",S]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-56 md:w-64",children:[a.jsx(ka,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"}),a.jsx(sn,{value:m,onChange:B=>g(B.target.value),placeholder:"Tm theo tn, ch s hu...",className:"pl-7 sm:pl-9 text-xs sm:text-sm"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>T(),disabled:r,className:"text-xs sm:text-sm",children:[a.jsx(Ka,{className:`h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2 ${r?"animate-spin":""}`}),r?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:r?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left w-[18%]",children:"Tn nng tri"}),a.jsx(ye,{className:"text-left w-[15%]",children:"Ch s hu"}),a.jsx(ye,{className:"text-left w-[22%]",children:"a im"}),a.jsx(ye,{className:"text-left w-[8%]",children:"Din tch"}),a.jsx(ye,{className:"text-left w-[9%]",children:"Trng thi"}),a.jsx(ye,{className:"text-left w-[10%]",children:"Ngy to"}),a.jsx(ye,{className:"text-right w-[8%]",children:"L t"}),a.jsx(ye,{className:"text-right w-[10%]",children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((B,F)=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[18%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[15%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[22%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[8%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[9%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(je,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"text-right w-[8%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-12 ml-auto"})}),a.jsx(je,{className:"text-right w-[10%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 ml-auto"})})]},F))})]}):_.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left w-[18%]",children:"Tn nng tri"}),a.jsx(ye,{className:"text-left w-[15%]",children:"Ch s hu"}),a.jsx(ye,{className:"text-left w-[22%]",children:"a im"}),a.jsx(ye,{className:"text-left w-[9%]",children:"Trng thi"}),a.jsx(ye,{className:"text-left w-[10%]",children:"Ngy to"}),a.jsx(ye,{className:"text-right w-[8%]",children:"L t"}),a.jsx(ye,{className:"text-right w-[8%]",children:"Thao tc"})]})}),a.jsx(cn,{children:J.map(B=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"font-medium min-h-[48px] w-[18%]",children:a.jsx("button",{onClick:()=>e(et.ADMIN_FARM_PROFILE.replace(":farmId",B.id)),className:"text-left truncate max-w-[240px] text-blue-600 hover:text-blue-700 hover:underline",title:B.name,children:B.name})}),a.jsx(je,{className:"min-h-[48px] w-[15%]",children:a.jsx("div",{className:"truncate max-w-[200px]",title:B.owner,children:B.owner})}),a.jsx(je,{className:"min-h-[48px] w-[22%]",children:a.jsx("div",{className:"truncate max-w-[280px]",title:B.location,children:B.location})}),a.jsx(je,{className:"min-h-[48px] w-[9%]",children:R(B.status)}),a.jsx(je,{className:"text-sm min-h-[48px] w-[10%]",children:O(B.createdAt)}),a.jsxs(je,{className:"text-sm text-right min-h-[48px] w-[8%]",children:[o[B.id]??""," l"]}),a.jsx(je,{className:"text-right min-h-[48px] w-[10%]",children:a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>E(B.id),children:[a.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Xem v trng"]})})]},B.id))})]}),D>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",b,"/",D]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>w(B=>Math.max(1,B-1)),disabled:b<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>w(B=>Math.min(D,B+1)),disabled:b>=D,children:"Sau"})]})]})]}),a.jsxs("div",{className:"lg:hidden space-y-4",children:[J.map(B=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[B.imageUrl&&a.jsx("img",{src:B.imageUrl,alt:B.name,className:"w-full h-36 object-cover rounded mb-2"}),a.jsx("button",{onClick:()=>e(et.ADMIN_FARM_PROFILE.replace(":farmId",B.id)),className:"font-medium text-gray-900 truncate text-left text-blue-600 hover:text-blue-700 hover:underline",title:B.name,children:B.name}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",title:B.owner,children:["Ch s hu: ",B.owner]})]}),a.jsx("div",{className:"ml-2",children:R(B.status)})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{className:"truncate",title:B.location,children:[a.jsx("span",{className:"font-medium",children:"a im:"})," ",B.location]}),a.jsxs("div",{className:"flex gap-4 text-xs",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:"Din tch:"})," ",B.size]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",B.type]})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Ngy to:"})," ",O(B.createdAt)]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"S crop:"})," ",o[B.id]??""]}),a.jsx("div",{className:"pt-2",children:a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>E(B.id),children:[a.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Xem v trng"]})})]})]})},B.id)),D>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",b,"/",D]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>w(B=>Math.max(1,B-1)),disabled:b<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>w(B=>Math.min(D,B+1)),disabled:b>=D,children:"Sau"})]})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sR,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m?"Khng tm thy nng tri":"Cha c nng tri no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:m?"Th tm kim vi t kha khc":"Hin ti cha c nng tri no trong h thng"}),m&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(""),children:"Xa b lc"})]})})]})]})}function Lv(e){return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function Pi(e){return new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}function Jre(e){switch(e){case"Draft":return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Bn nhp"});case"Pending":return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"i xt duyt"});case"Rejected":return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:"B t chi"});case"Approved":return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Chp nhn"});case"OnGoing":return a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:"ang din ra"});case"Completed":return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Hon thnh"});case"NoWinner":return a.jsx(Oe,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Khng ngi chin thng"});case"Cancelled":return a.jsx(Oe,{variant:"outline",className:"text-rose-600 border-rose-600",children:"Hy"});default:return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng xc nh"})}}function eae(){const{farmId:e}=gc(),t=yr(),{toast:n}=$n(),[r,s]=p.useState(null),[o,u]=p.useState([]),[d,f]=p.useState([]),[m,g]=p.useState(!0),[x,b]=p.useState(new Map),[w,S]=p.useState(null),[j,N]=p.useState(!1);return p.useEffect(()=>{(async()=>{if(e)try{g(!0);const C=await Mt.getFarms();if(C.isSuccess&&C.data){const T=C.data.find(_=>_.id===e);if(T){s(T);const _=await Mt.getCropsByFarmId(e);if(_.isSuccess&&_.data){const D=[];for(const L of _.data){const V=await Mt.getHarvestsByCropId(L.id);let J=V.isSuccess&&V.data?V.data:[],B;try{const xe=await Mt.getCurrentHarvestByCropId(L.id);xe.isSuccess&&xe.data&&(B=xe.data)}catch{console.log(`Crop ${L.id} khng c current harvest`)}const F=[],re=new Map;for(const xe of J)try{const q=await Mt.getHarvestGradeDetailsByHarvestId(xe.id),H=q.isSuccess&&q.data?q.data.map(K=>({id:K.id,grade:K.grade?.toString(),quantity:K.quantity,unit:K.unit})):[];try{const K=await Mt.getHarvestImagesByHarvestId(xe.id);K.isSuccess&&K.data&&re.set(xe.id,K.data)}catch(K){console.error(`Li ly images cho harvest ${xe.id}:`,K)}F.push({...xe,harvestGradeDetailDTOs:H})}catch(q){console.error(`Li ly grade detail cho harvest ${xe.id}:`,q),F.push(xe)}b(xe=>{const q=new Map(xe);return re.forEach((H,K)=>{q.set(K,H)}),q});const be=F.sort((xe,q)=>{if(B){if(xe.id===B.id)return-1;if(q.id===B.id)return 1}return new Date(q.createdAt).getTime()-new Date(xe.createdAt).getTime()});D.push({...L,harvests:be,currentHarvest:B})}u(D)}const O=["Pending","Approved","Rejected","OnGoing","Completed","NoWinner","Cancelled","Draft"],R=[];for(const D of O){const L=await st.getEnglishAuctions(D,1,1e3);if(L.isSuccess&&L.data){const J=(L.data.items||[]).filter(B=>B.farmerId===T.userId);for(const B of J)try{const F=await cc.getReportsByAuctionId(B.id),re=F.isSuccess&&F.data?F.data.items:[];R.push({...B,reports:re})}catch(F){console.error(`Li ly reports cho auction ${B.id}:`,F),R.push({...B,reports:[]})}}}R.sort((D,L)=>new Date(L.createdAt).getTime()-new Date(D.createdAt).getTime()),f(R)}else n({title:se.ERROR,description:"Khng tm thy nng tri",variant:"destructive"}),t(et.ADMIN_FARMS)}}catch(C){const T=C instanceof Error?C.message:" xy ra li khi ti d liu";n({title:se.ERROR,description:T,variant:"destructive"})}finally{g(!1)}})()},[e,t,n]),m?a.jsx("div",{className:"mx-auto max-w-[1800px] p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(ce,{variant:"outline",onClick:()=>t(et.ADMIN_FARMS),className:"mb-4",children:[a.jsx(pc,{className:"w-4 h-4 mr-2"}),"Quay li"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"H S Nng Tri"})]}),a.jsx(ct,{className:"mb-6 p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[r.farmImage&&a.jsx("img",{src:r.farmImage,alt:r.name,className:"w-32 h-32 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(sR,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsx(Oe,{variant:"outline",className:r.isActive?"text-green-600 border-green-600":"text-gray-600 border-gray-600",children:r.isActive?"Hot ng":"Khng hot ng"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(xc,{className:"w-4 h-4"}),a.jsxs("span",{children:["User ID: ",r.userId]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Il,{className:"w-4 h-4"}),a.jsxs("span",{children:["Ngy to: ",Pi(r.createdAt)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Il,{className:"w-4 h-4"}),a.jsxs("span",{children:["Cp nht: ",r.updatedAt?Pi(r.updatedAt):"Cha cp nht"]})]})]}),(()=>{const E=d.filter(T=>T.status==="Completed"&&(T.winningPrice||T.currentPrice)),C=E.reduce((T,_)=>T+(_.winningPrice??_.currentPrice??0),0);return a.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(aR,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Tng doanh thu t u gi"})]}),a.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:ot(C)}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["T ",E.length," phin u gi  hon tt"]})]})})()]})]})}),a.jsxs(ct,{className:"mb-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(zu,{className:"w-6 h-6 text-emerald-600"}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["L Trng (",o.length,")"]})]}),o.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c l trng no"}):a.jsx("div",{className:"space-y-6",children:o.map(E=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["L trng #",E.id.slice(0,8)]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Din tch:"})," ",E.area," m"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",E.custardAppleType]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"S cy:"})," ",E.treeCount]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian canh tc:"})," ",E.farmingDuration," ngy"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Ngy bt u:"})," ",Pi(E.startPlantingDate)]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"D kin thu hoch:"})," ",Pi(E.nearestHarvestDate)]})]}),E.note&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",E.note]})]})}),a.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(oR,{className:"w-5 h-5 text-blue-600"}),a.jsxs("h4",{className:"font-semibold text-gray-900",children:["V Thu Hoch (",E.harvests.length,")"]}),E.currentHarvest&&a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"C v hin ti"})]}),E.harvests.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c v thu hoch no"}):a.jsx("div",{className:"space-y-3",children:E.harvests.map(C=>{const T=E.currentHarvest?.id===C.id;return a.jsxs("div",{className:`p-4 rounded-lg border ${T?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Of,{className:`w-4 h-4 ${T?"text-green-600":"text-gray-600"}`}),a.jsx("span",{className:"font-semibold text-sm",children:T?"V hin ti":"V trc"}),T&&a.jsx(Oe,{variant:"outline",className:"text-xs text-green-600 border-green-600",children:"ang hot ng"})]}),a.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:[C.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm text-gray-700 mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy bt u:"}),a.jsx("span",{className:"ml-2",children:Pi(C.startDate)})]}),C.harvestDate&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy thu hoch:"}),a.jsx("span",{className:"ml-2",children:Pi(C.harvestDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Tng s lng:"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[C.totalQuantity," ",C.unit]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Gi bn:"}),a.jsx("span",{className:"ml-2 font-semibold text-green-600",children:ot(C.salePrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy to:"}),a.jsx("span",{className:"ml-2 text-xs",children:Lv(C.createdAt)})]}),C.updatedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Cp nht:"}),a.jsx("span",{className:"ml-2 text-xs",children:Lv(C.updatedAt)})]})]}),C.note&&a.jsxs("div",{className:"mb-3 p-2 bg-white rounded border border-gray-200",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Ghi ch:"}),a.jsx("p",{className:"text-sm text-gray-700 mt-1",children:C.note})]}),C.harvestGradeDetailDTOs&&C.harvestGradeDetailDTOs.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Chi tit phn loi:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:C.harvestGradeDetailDTOs.map((_,O)=>a.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Cp ",_.grade]}),a.jsxs(Oe,{variant:"outline",className:"text-xs",children:[_.quantity," ",_.unit]})]})},O))})]}),(()=>{const _=x.get(C.id)||[];return _.length===0?null:a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-base font-semibold text-gray-900",children:["Hnh nh (",_.length,"):"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{S(C),N(!0)},className:"text-sm",children:[a.jsx(Rf,{className:"w-4 h-4 mr-2"}),"Xem tt c"]})]}),a.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[_.slice(0,3).map(O=>a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("img",{src:O.imageUrl,alt:`Harvest ${C.id}`,className:"w-64 h-48 object-cover rounded-xl border-2 border-gray-200 hover:border-emerald-400 hover:shadow-xl transition-all cursor-pointer",onClick:()=>{S(C),N(!0)}}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-xl"})]},O.id)),_.length>3&&a.jsxs("div",{className:"w-64 h-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-gray-50 transition-all flex-shrink-0",onClick:()=>{S(C),N(!0)},children:[a.jsx(Rf,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsxs("span",{className:"text-base font-semibold text-gray-600",children:["+",_.length-3]}),a.jsx("span",{className:"text-sm text-gray-500",children:"nh khc"})]})]})]})})()]},C.id)})})]})]},E.id))})]}),a.jsxs(ct,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cb,{className:"w-6 h-6 text-emerald-600"}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Phin u Gi (",d.length,")"]})]}),(()=>{const C=d.filter(T=>T.status==="Completed"&&(T.winningPrice||T.currentPrice)).reduce((T,_)=>T+(_.winningPrice??_.currentPrice??0),0);return C>0?a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tng doanh thu"}),a.jsx("p",{className:"text-xl font-bold text-emerald-600",children:ot(C)})]}):null})()]}),d.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c phin u gi no"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(E=>a.jsx(ct,{className:"p-4 hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-emerald-300",onClick:()=>t(et.ADMIN_AUCTIONS_BY_ID.replace(":id",E.id)),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate mb-1",children:E.sessionCode}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:E.note||"Khng c ghi ch"})]}),Jre(E.status)]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi khi im"}),a.jsx("span",{className:"text-sm font-bold text-blue-700",children:ot(E.startingPrice)})]}),E.currentPrice&&a.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi hin ti"}),a.jsx("span",{className:"text-sm font-bold text-green-700",children:ot(E.currentPrice)})]}),E.winningPrice&&a.jsxs("div",{className:"flex items-center justify-between p-2 bg-amber-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi thng"}),a.jsx("span",{className:"text-sm font-bold text-amber-700",children:ot(E.winningPrice)})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ngy bt u:"}),a.jsx("span",{className:"font-medium",children:Pi(E.publishDate)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ngy kt thc:"}),a.jsx("span",{className:"font-medium",children:Pi(E.endDate)})]}),E.reports.length>0&&a.jsxs("div",{className:"flex items-center gap-1 pt-1",children:[a.jsx(iR,{className:"w-3 h-3 text-orange-600"}),a.jsxs("span",{className:"text-orange-600 font-medium",children:[E.reports.length," bo co"]})]})]}),a.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[a.jsxs(ce,{size:"sm",variant:"outline",onClick:C=>{C.stopPropagation(),t(et.ADMIN_AUCTIONS_BY_ID.replace(":id",E.id))},className:"text-xs",children:[a.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Xem chi tit"]}),E.status==="Completed"&&(E.winningPrice||E.currentPrice)&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Doanh thu"}),a.jsx("p",{className:"text-sm font-bold text-emerald-600",children:ot(E.winningPrice??E.currentPrice??0)})]})]})]})},E.id))})]}),a.jsx(Wt,{open:j,onOpenChange:N,children:a.jsxs(Ft,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto p-6",children:[a.jsx(Yt,{className:"mb-4 pb-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{className:"text-lg font-semibold text-gray-900",children:["Hnh nh thu hoch",w&&a.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(Ngy bt u: ",Pi(w.startDate),")"]})]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>N(!1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:a.jsx(Xl,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"mt-4",children:w?(()=>{const E=x.get(w.id)||[];return E.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((C,T)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden rounded-lg border border-gray-200 bg-gray-50 hover:border-emerald-400 transition-all shadow-sm hover:shadow-lg",children:a.jsx("img",{src:C.imageUrl,alt:`Harvest image ${T+1}`,className:"w-full h-full object-contain p-2"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-lg pointer-events-none"}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:Lv(C.createdAt)})})]},C.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Rf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c hnh nh no cho v thu hoch ny."})]})})():a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti..."})]})})]})})]}):a.jsx("div",{className:"mx-auto max-w-[1800px] p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy nng tri"})})})}function tae(){const[e,t]=Z_(),[n,r]=p.useState([]),[s,o]=p.useState([]),[u,d]=p.useState(!1),[f,m]=p.useState(null),[g,x]=p.useState(""),b=10,[w,S]=p.useState(1),[j,N]=p.useState(null),[E,C]=p.useState([]),[T,_]=p.useState(!1),[O,R]=p.useState(!1),[D,L]=p.useState(null),[V,J]=p.useState(null),[B,F]=p.useState(null),{toast:re}=$n(),be=p.useCallback(async({silent:G=!1}={})=>{L(null);try{const $=await Mt.getFarms();if($.isSuccess&&$.data){const M=$.data.map(U=>({id:U.id,name:U.name,owner:"Cha cp nht",location:"Cha cp nht",size:"Cha cp nht",type:"Cha cp nht",status:U.isActive?"active":"inactive",createdAt:U.createdAt,imageUrl:U.farmImage}));r(M),G||re({title:se.SUCCESS,description:Cl.FETCH_SUCCESS})}else{const M=$.message||Cl.FETCH_ERROR;L(M),re({title:se.ERROR,description:M,variant:"destructive"})}}catch($){const M=$ instanceof Error?$.message:Cl.FETCH_ERROR;L(M),re({title:se.ERROR,description:M,variant:"destructive"})}},[re]),xe=p.useCallback(async(G,{silent:$=!1}={})=>{d(!0),J(null);try{const M=G?n.filter(I=>I.id===G):n;if(M.length===0){o([]),$||re({title:se.INFO,description:Zh.NO_FARM_SELECTED});return}const U=[];for(const I of M)try{const fe=await Mt.getCropsByFarmId(I.id);if(fe.isSuccess&&fe.data){const te=fe.data.map(W=>({id:W.id,name:`${W.custardAppleType} (${W.treeCount} cy)`,type:W.custardAppleType,area:`${W.area}`,plantedAt:W.startPlantingDate,expectedHarvestAt:W.nearestHarvestDate,status:"growing",description:W.note||void 0,treeCount:W.treeCount,farmingDuration:W.farmingDuration,farmId:I.id,farmName:I.name}));U.push(...te)}}catch(fe){console.error(`Li khi ti cy trng ca nng tri ${I.name}:`,fe),re({title:se.INFO,description:`${Zh.PARTIAL_ERROR} (${I.name})`})}o(U),$||re({title:se.SUCCESS,description:Zh.FETCH_SUCCESS})}catch(M){const U=M instanceof Error?M.message:Zh.FETCH_ERROR;J(U),re({title:se.ERROR,description:U,variant:"destructive"})}finally{d(!1)}},[n,re]);p.useEffect(()=>{be({silent:!0})},[be]),p.useEffect(()=>{if(n.length>0){const G=e.get("farmId");G&&(n.some(M=>M.id===G)?m(G):t({}))}},[n,e,t]),p.useEffect(()=>{n.length>0&&xe(f||void 0,{silent:!0})},[n,f,xe]);const q=G=>new Date(G).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),H=G=>G==="growing"?a.jsx(Oe,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:"ang sinh trng"}):G==="harvested"?a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:" thu hoch"}):G==="paused"?a.jsx(Oe,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Tm dng"}):null,K=G=>{m(G),S(1),t(G?{farmId:G}:{})},ve=async G=>{N(G),R(!0),_(!0),F(null);try{const $=await Mt.getHarvestsByCropId(G.id);$.isSuccess&&$.data?(C($.data),re({title:se.SUCCESS,description:Gx.FETCH_SUCCESS})):(C([]),re({title:se.INFO,description:Gx.FETCH_ERROR}))}catch($){const M=$ instanceof Error?$.message:Gx.FETCH_ERROR;console.error("Li khi ti danh sch thu hoch:",$),C([]),F(M),re({title:se.ERROR,description:M,variant:"destructive"})}finally{_(!1)}},Pe=()=>{R(!1),N(null),C([])},P=G=>G?new Date(G).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",z=f?s.filter(G=>G.farmId===f):s,ee=p.useMemo(()=>{const G=g.trim().toLowerCase();return z.filter($=>!G||$.name.toLowerCase().includes(G)||$.farmName.toLowerCase().includes(G)||$.type.toLowerCase().includes(G)||$.description&&$.description.toLowerCase().includes(G))},[z,g]);p.useEffect(()=>{S(1)},[g,f]);const Y=Math.max(1,Math.ceil(ee.length/b)),ie=(Math.min(w,Y)-1)*b,le=ee.slice(ie,ie+b);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"L trng"}),a.jsx("p",{className:"text-base text-gray-600",children:"Danh sch l trng ca cc nng tri"})]}),a.jsxs(ct,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch l trng"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[u?"ang ti...":`Hin th ${ee.length} / ${s.length} l trng`,V&&a.jsxs("span",{className:"text-red-600",children:["  ",V]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(sn,{value:g,onChange:G=>x(G.target.value),placeholder:"Tm theo tn, nng tri, loi...",className:"pl-9"})]}),a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>xe(f||void 0),disabled:u||n.length===0,children:[a.jsx(Ka,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),u?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(od,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${f?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:f||"",onChange:G=>{K(G.target.value||null),S(1)},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${f?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Tt c nng tri"}),n.map(G=>{const $=s.filter(M=>M.farmId===G.id).length;return a.jsxs("option",{value:G.id,children:[G.name," (",$,")"]},G.id)})]}),a.jsx(Im,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${f?"text-emerald-600":"text-gray-400"}`})]})}),D&&a.jsx("p",{className:"text-xs text-red-600 mt-2",children:D})]}),a.jsx("div",{className:"overflow-x-auto",children:u?a.jsx("div",{className:"min-w-[1000px]",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left w-[22%] min-w-[200px]",children:"L trng"}),a.jsx(ye,{className:"text-left w-[26%] min-w-[220px]",children:"Thng tin"}),a.jsx(ye,{className:"text-left hidden lg:table-cell w-[14%] min-w-[110px]",children:"Gieo trng"}),a.jsx(ye,{className:"text-left hidden xl:table-cell w-[14%] min-w-[130px]",children:"D kin thu hoch"}),a.jsx(ye,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(ye,{className:"text-right w-[14%] min-w-[120px] whitespace-nowrap",children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((G,$)=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[22%]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-24"})]})}),a.jsx(je,{className:"w-[26%]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse hidden md:block"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse hidden md:block w-32"})]})}),a.jsx(je,{className:"hidden lg:table-cell w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"hidden xl:table-cell w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(je,{className:"text-right w-[14%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-20 ml-auto"})})]},$))})]})}):ee.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-w-[900px]",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left w-[22%] min-w-[200px]",children:"L trng"}),a.jsx(ye,{className:"text-left w-[26%] min-w-[220px]",children:"Thng tin"}),a.jsx(ye,{className:"text-left hidden lg:table-cell w-[14%] min-w-[110px]",children:"Gieo trng"}),a.jsx(ye,{className:"text-left hidden xl:table-cell w-[14%] min-w-[130px]",children:"D kin thu hoch"}),a.jsx(ye,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(ye,{className:"text-right w-[14%] min-w-[120px] whitespace-nowrap",children:"Thao tc"})]})}),a.jsx(cn,{children:le.map(G=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"min-h-[48px] w-[22%]",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:G.name}),a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:G.farmName})]})}),a.jsx(je,{className:"text-sm min-h-[48px] w-[26%]",children:a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{children:["Din tch: ",a.jsxs("span",{className:"font-medium",children:[G.area," m"]})]}),a.jsxs("div",{className:"hidden md:block",children:["S cy: ",a.jsx("span",{className:"font-medium",children:G.treeCount??""})]}),a.jsxs("div",{className:"hidden md:block text-xs text-gray-500",children:["Thi gian canh tc: ",G.farmingDuration?`${G.farmingDuration} ngy`:""]}),G.description&&a.jsxs("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:G.description,children:["M t: ",G.description]})]})}),a.jsx(je,{className:"text-sm min-h-[36px] hidden lg:table-cell w-[14%]",children:q(G.plantedAt)}),a.jsx(je,{className:"text-sm min-h-[36px] hidden xl:table-cell w-[14%]",children:q(G.expectedHarvestAt)}),a.jsx(je,{className:"min-h-[48px] w-[10%]",children:H(G.status)}),a.jsx(je,{className:"text-right min-h-[48px] min-w-[120px] whitespace-nowrap w-[14%]",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>ve(G),children:[a.jsx(Cr,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Chi tit"})]})})]},G.id))})]})}),Y>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",w,"/",Y]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>S(G=>Math.max(1,G-1)),disabled:w<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>S(G=>Math.min(Y,G+1)),disabled:w>=Y,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(zu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g||f?"Khng tm thy v trng":"Cha c v trng no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:g||f?"Th tm kim vi t kha khc hoc chn nng tri khc":"Hin ti cha c v trng no trong h thng"}),(g||f)&&a.jsxs("div",{className:"flex gap-2 justify-center",children:[g&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>x(""),children:"Xa tm kim"}),f&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>K(null),children:"Xa b lc"})]})]})})]}),a.jsx(Wt,{open:O,onOpenChange:R,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{children:["Danh sch thu hoch - ",j?.name]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:Pe,className:"h-6 w-6 p-0",children:a.jsx(Xl,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"mt-4",children:[B&&a.jsx("p",{className:"text-sm text-red-600 text-center mb-3",children:B}),T?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"ang ti danh sch thu hoch..."}):E.length>0?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[18%] min-w-[120px]",children:"Ngy bt u"}),a.jsx(ye,{className:"w-[18%] min-w-[120px]",children:"Ngy thu hoch"}),a.jsx(ye,{className:"w-[14%] min-w-[100px]",children:"S lng"}),a.jsx(ye,{className:"w-[10%] min-w-[80px]",children:"n v"}),a.jsx(ye,{className:"w-[16%] min-w-[120px]",children:"Gi bn"}),a.jsx(ye,{className:"w-[24%] min-w-[200px]",children:"Ghi ch"})]})}),a.jsx(cn,{children:E.map(G=>a.jsxs(lt,{children:[a.jsx(je,{className:"text-xs w-[18%]",children:P(G.startDate)}),a.jsx(je,{className:"text-xs w-[18%]",children:G.harvestDate?P(G.harvestDate):a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Cha thu hoch"})}),a.jsx(je,{className:"text-xs w-[14%]",children:G.totalQuantity}),a.jsx(je,{className:"text-xs w-[10%]",children:G.unit}),a.jsx(je,{className:"text-xs w-[16%]",children:G.salePrice>0?ot(G.salePrice):""}),a.jsx(je,{className:"text-xs text-gray-600 w-[24%]",children:G.note||""})]},G.id))})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Cha c d liu thu hoch."})]})]})})]})}function nae(){const[e,t]=p.useState(1),[n,r]=p.useState([]),[s,o]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState({name:"",description:""}),[g,x]=p.useState(!1),[b,w]=p.useState(!1),[S,j]=p.useState(null),[N,E]=p.useState({name:"",description:""}),[C,T]=p.useState(!1),[_,O]=p.useState(null),[R,D]=p.useState(!1),[L,V]=p.useState(""),[J,B]=p.useState(null),{toast:F}=$n(),re=5,be=p.useCallback(async({silent:G=!1}={})=>{o(!0),B(null);try{const $=await Mt.getCustardAppleTypes();if($.isSuccess&&$.data)r($.data),G||F({title:se.SUCCESS,description:ba.FETCH_SUCCESS});else{const M=$.message||ba.FETCH_ERROR;B(M),F({title:se.ERROR,description:M,variant:"destructive"})}}catch($){const M=$ instanceof Error?$.message:ba.FETCH_ERROR;B(M),F({title:se.ERROR,description:M,variant:"destructive"})}finally{o(!1)}},[F]);p.useEffect(()=>{be({silent:!0})},[be]);const xe=p.useMemo(()=>{const G=L.trim().toLowerCase();return G?n.filter($=>$.name.toLowerCase().includes(G)||($.description||"").toLowerCase().includes(G)):n},[n,L]);p.useEffect(()=>{t(1)},[L]);const q=()=>m({name:"",description:""}),H=()=>{q(),d(!0)},K=(G,$)=>{m(M=>({...M,[G]:$}))},ve=()=>{q(),d(!1)},Pe=async()=>{if(!(!f.name.trim()||g)){x(!0);try{const G={name:f.name.trim(),description:f.description?.trim()||void 0},$=await Mt.createCustardAppleType(G);if($.isSuccess){await be();const M=Math.max(1,Math.ceil((n.length+1)/re));t(M),ve(),F({title:se.SUCCESS,description:ba.CREATE_SUCCESS})}else{const M=$.message||ba.CREATE_ERROR;F({title:se.ERROR,description:M,variant:"destructive"})}}catch(G){const $=G instanceof Error?G.message:ba.CREATE_ERROR;F({title:se.ERROR,description:$,variant:"destructive"})}finally{x(!1)}}},P=G=>{j(G.id),E({name:G.name,description:G.description||""}),w(!0)},z=()=>{w(!1),j(null),E({name:"",description:""})},ee=(G,$)=>{E(M=>({...M,[G]:$}))},Y=async()=>{if(!(!S||!N.name.trim()||C)){T(!0);try{const G={name:N.name.trim(),description:N.description?.trim()||void 0},$=await Mt.updateCustardAppleType(S,G);if($.isSuccess)await be(),z(),F({title:se.SUCCESS,description:ba.UPDATE_SUCCESS});else{const M=$.message||ba.UPDATE_ERROR;F({title:se.ERROR,description:M,variant:"destructive"})}}catch(G){const $=G instanceof Error?G.message:ba.UPDATE_ERROR;F({title:se.ERROR,description:$,variant:"destructive"})}finally{T(!1)}}},Z=G=>O(G),ie=async()=>{if(!(!_||R)){D(!0);try{const G=await Mt.deleteCustardAppleType(_.id);if(G.isSuccess){await be();const $=n.length-1,M=Math.max(1,Math.ceil($/re));e>M&&t(Math.max(1,M)),S===_.id&&z(),O(null),F({title:se.SUCCESS,description:ba.DELETE_SUCCESS})}else{const $=G.message||ba.DELETE_ERROR;F({title:se.ERROR,description:$,variant:"destructive"})}}catch(G){const $=G instanceof Error?G.message:ba.DELETE_ERROR;F({title:se.ERROR,description:$,variant:"destructive"})}finally{D(!1)}}},le=()=>O(null);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l loi mng cu"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"To v cp nht danh mc phc v cc quy trnh nng tri."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(sn,{value:L,onChange:G=>V(G.target.value),placeholder:"Tm theo tn hoc m t",className:"pl-9"})]}),!u&&a.jsx(ce,{onClick:H,children:"Thm loi mng cu"})]})]}),a.jsxs(ct,{className:"card-responsive",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch loi mng cu"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[s?"ang ti...":`C ${xe.length} loi`,J?`  Li: ${J}`:""]})]}),u&&a.jsx(ce,{variant:"outline",onClick:ve,disabled:g,children:"Hy thm mi"})]}),u&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn loi"}),a.jsx(sn,{value:f.name,onChange:G=>K("name",G.target.value),placeholder:"V d: Mng cu B en"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(Jn,{rows:2,value:f.description,onChange:G=>K("description",G.target.value),placeholder:"c im ni bt, lu  canh tc, bo qun..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:ve,disabled:g,children:"Hy"}),a.jsx(ce,{onClick:Pe,disabled:g,children:g?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:s?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[30%] min-w-[160px] text-left",children:"Tn"}),a.jsx(ye,{className:"w-[50%] min-w-[240px] text-left",children:"M t"}),a.jsx(ye,{className:"text-right w-[20%] min-w-[140px]",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:3}).map((G,$)=>a.jsxs(lt,{children:[a.jsx(je,{className:"py-5 w-[30%]",children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{className:"py-5 w-[50%]",children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{className:"py-5 text-right w-[20%]",children:a.jsx("div",{className:"ml-auto h-4 w-24 animate-pulse rounded bg-gray-200"})})]},$))})]}):xe.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[30%] min-w-[160px] text-left",children:"Tn"}),a.jsx(ye,{className:"w-[50%] min-w-[240px] text-left",children:"M t"}),a.jsx(ye,{className:"text-right w-[20%] min-w-[140px]",children:"Thao tc"})]})}),a.jsx(cn,{children:(()=>{const G=Math.max(1,Math.ceil(xe.length/re)),M=(Math.min(e,G)-1)*re;return xe.slice(M,M+re).map(I=>a.jsxs(lt,{children:[a.jsx(je,{className:"font-medium w-[30%]",children:I.name}),a.jsx(je,{className:"text-sm text-gray-600 w-[50%]",children:I.description||""}),a.jsx(je,{className:"text-right w-[20%]",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>P(I),children:[a.jsx(Hu,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>Z(I),children:[a.jsx(Qv,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},I.id))})()})]}),(()=>{if(xe.length<=re)return null;const G=Math.max(1,Math.ceil(xe.length/re)),$=e>1,M=e<G;return a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",e,"/",G]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>t(U=>Math.max(1,U-1)),disabled:!$,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>t(U=>Math.min(G,U+1)),disabled:!M,children:"Sau"})]})]})})()]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(cR,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c loi mng cu no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm loi mi  bt u phn loi sn phm cho h thng."}),a.jsx(ce,{onClick:H,children:"Thm loi u tin"})]})})]}),a.jsx(Wt,{open:b,onOpenChange:G=>{G||z()},children:a.jsxs(Ft,{className:"max-w-lg",children:[a.jsx(Yt,{children:a.jsx(Kt,{children:"Chnh sa loi mng cu"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"edit-custard-name",children:"Tn loi"}),a.jsx("input",{id:"edit-custard-name",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",value:N.name,onChange:G=>ee("name",G.target.value),placeholder:"Tn loi mng cu"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"edit-custard-description",children:"M t"}),a.jsx("textarea",{id:"edit-custard-description",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",rows:3,value:N.description,onChange:G=>ee("description",G.target.value),placeholder:"Cp nht thng tin m t, ghi ch..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:z,disabled:C,children:"Hy"}),a.jsx(ce,{onClick:Y,disabled:C,children:C?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Wt,{open:!!_,onOpenChange:G=>{G||le()},children:a.jsxs(Ft,{className:"max-w-sm",children:[a.jsx(Yt,{children:a.jsx(Kt,{children:"Xa loi mng cu"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa loi mng cu ",a.jsx("span",{className:"font-semibold text-gray-900",children:_?.name}),"? Thao tc ny khng th hon tc."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:le,disabled:R,children:"Hy"}),a.jsx(ce,{variant:"destructive",onClick:ie,disabled:R,children:R?"ang xa...":"Xa"})]})]})})]})}function rae(){const[e,t]=p.useState([]),[n,r]=p.useState(!1),s=5,[o,u]=p.useState(1),[d,f]=p.useState(null),[m,g]=p.useState([]),[x,b]=p.useState([]),[w,S]=p.useState(!1),[j,N]=p.useState(!1),[E,C]=p.useState(!1),T=async()=>{r(!0);try{const F=await Mt.getHarvests();F.isSuccess&&F.data&&t(F.data)}catch(F){console.error("Li khi ti danh sch thu hoch:",F)}finally{r(!1)}};p.useEffect(()=>{T()},[]);const _=F=>F?new Date(F).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",O=async F=>{f(F),C(!0),S(!0),N(!0);try{const[re,be]=await Promise.all([Mt.getHarvestGradeDetailsByHarvestId(F.id),Mt.getHarvestImagesByHarvestId(F.id).catch(()=>({isSuccess:!1,data:[]}))]);re.isSuccess&&re.data?g(re.data):g([]),be.isSuccess&&be.data?b(be.data):b([])}catch(re){console.error("Li khi ti chi tit thu hoch:",re),g([]),b([])}finally{S(!1),N(!1)}},R=()=>{C(!1),f(null),g([]),b([])},D=e,L=Math.max(1,Math.ceil(D.length/s)),V=Math.min(o,L),J=(V-1)*s,B=D.slice(J,J+s);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thu hoch"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Danh sch tt c cc v thu hoch"})]}),a.jsxs(ct,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch thu hoch"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:["C ",D.length," v thu hoch trong h thng"]})]}),a.jsx("div",{className:"overflow-x-auto",children:n?a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch thu hoch..."}):D.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[17%] min-w-[140px]",children:"Ngy bt u"}),a.jsx(ye,{className:"w-[17%] min-w-[140px]",children:"Ngy thu hoch"}),a.jsx(ye,{className:"w-[12%] min-w-[100px]",children:"S lng"}),a.jsx(ye,{className:"w-[10%] min-w-[80px]",children:"n v"}),a.jsx(ye,{className:"w-[14%] min-w-[120px]",children:"Gi bn"}),a.jsx(ye,{className:"w-[15%] min-w-[150px]",children:"Ghi ch"}),a.jsx(ye,{className:"w-[15%] min-w-[150px] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:B.map(F=>a.jsxs(lt,{children:[a.jsx(je,{className:"text-xs w-[17%]",children:_(F.startDate)}),a.jsx(je,{className:"text-xs w-[17%]",children:F.harvestDate?_(F.harvestDate):a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Cha thu hoch"})}),a.jsx(je,{className:"text-xs w-[12%]",children:F.totalQuantity}),a.jsx(je,{className:"text-xs w-[10%]",children:F.unit}),a.jsx(je,{className:"text-xs w-[14%]",children:F.salePrice>0?ot(F.salePrice):""}),a.jsx(je,{className:"text-xs text-gray-600 w-[15%]",children:F.note||""}),a.jsx(je,{className:"text-right w-[15%]",children:a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>O(F),className:"text-xs",children:"Xem chi tit"})})]},F.id))})]}),D.length>s&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",V,"/",L]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(F=>Math.max(1,F-1)),disabled:V<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(F=>Math.min(L,F+1)),disabled:V>=L,children:"Sau"})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c d liu thu hoch."})})]}),a.jsx(Wt,{open:E,onOpenChange:C,children:a.jsxs(Ft,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{children:["Chi tit phn loi thu hoch",d&&a.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(Ngy bt u: ",_(d.startDate),")"]})]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:R,className:"h-6 w-6 p-0",children:a.jsx(Xl,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Chi tit phn loi"}),w?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"ang ti chi tit phn loi..."}):m.length>0?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[20%] min-w-[100px]",children:"Cp "}),a.jsx(ye,{className:"w-[20%] min-w-[120px]",children:"S lng"}),a.jsx(ye,{className:"w-[15%] min-w-[80px]",children:"n v"}),a.jsx(ye,{className:"w-[45%] min-w-[200px]",children:"Ngy to"})]})}),a.jsx(cn,{children:m.map(F=>a.jsxs(lt,{children:[a.jsx(je,{className:"text-xs w-[20%]",children:a.jsxs(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:["Cp ",F.grade]})}),a.jsx(je,{className:"text-xs w-[20%]",children:F.quantity}),a.jsx(je,{className:"text-xs w-[15%]",children:F.unit}),a.jsx(je,{className:"text-xs w-[45%]",children:_(F.createdAt)})]},F.id))})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Cha c d liu phn loi thu hoch."})]}),d&&a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Hnh nh (",x.length,")"]}),j?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti hnh nh..."})]}):x.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map((F,re)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden rounded-lg border border-gray-200 bg-gray-50 hover:border-emerald-400 transition-all shadow-sm hover:shadow-lg",children:a.jsx("img",{src:F.imageUrl,alt:`Harvest image ${re+1}`,className:"w-full h-full object-contain p-2"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-lg pointer-events-none"}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:_(F.createdAt)})})]},F.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Rf,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c hnh nh no cho v thu hoch ny."})]})]})]})]})})]})}const Bv=[{id:"ORD001",farm:"Nng tri A",customer:"Nguyn Vn A",total:15e4,status:"pending",createdAt:"2024-01-15T10:30:00Z",auctionId:"AUC-001",auctionTitle:"Phin u gi nng sn tun 45",winnerName:"Nguyn Vn A",payment:{depositPaid:!0,depositAmount:3e4,remainingPaid:!1,remainingAmount:12e4},farmerBank:{bankName:"Vietcombank",accountName:"Nguyen Van A",accountNumber:"0123456789"},buyerBank:{bankName:"Techcombank",accountName:"Le Thi B",accountNumber:"9876543210"},messages:[{from:"buyer",content:"Ti mun xc nhn thi gian giao hng d kin?",time:"2024-01-15T11:00:00Z"},{from:"farmer",content:"D kin ngy 18/01, ti s lin h shipper.",time:"2024-01-15T11:10:00Z"}]},{id:"ORD002",farm:"Nng tri B",customer:"Trn Th B",total:2e5,status:"confirmed",createdAt:"2024-01-14T14:20:00Z",auctionId:"AUC-002",auctionTitle:"u gi c bit cui thng",winnerName:"i l D",payment:{depositPaid:!0,depositAmount:5e4,remainingPaid:!0,remainingAmount:15e4},farmerBank:{bankName:"ACB",accountName:"Tran Thi B",accountNumber:"111222333"},buyerBank:{bankName:"VietinBank",accountName:"Cong ty D",accountNumber:"333222111"},messages:[{from:"buyer",content:"Hng nhn , cm n.",time:"2024-01-21T09:00:00Z"},{from:"farmer",content:"Cm n  ng h.",time:"2024-01-21T09:10:00Z"}]},{id:"ORD003",farm:"Nng tri C",customer:"L Vn C",total:3e5,status:"delivered",createdAt:"2024-01-13T09:15:00Z",auctionId:"AUC-003",auctionTitle:"Phin u gi s 3",winnerName:"Nh bn l E",payment:{depositPaid:!0,depositAmount:6e4,remainingPaid:!0,remainingAmount:24e4},farmerBank:{bankName:"MB Bank",accountName:"Le Van C",accountNumber:"555666777"},buyerBank:{bankName:"BIDV",accountName:"Nha ban le E",accountNumber:"777666555"},messages:[{from:"farmer",content:"n  giao thnh cng.",time:"2024-01-16T16:00:00Z"}],complaint:{by:"buyer",content:"Mt s tri b dp, mong h tr.",time:"2024-01-16T17:00:00Z"}}];function aae(){const[e,t]=p.useState(null),[n,r]=p.useState(!1),s=g=>{t(g),r(!0)},o=()=>{r(!1),t(null)},u=(g,x)=>{const b=x==="farmer"?g.farmerBank:g.buyerBank;if(!b)return;const w=`Ngn hng: ${b.bankName}
Ch TK: ${b.accountName}
S TK: ${b.accountNumber}`;navigator&&navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(w).catch(()=>{})},d=g=>new Date(g).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),f=g=>ot(g),m=g=>g==="pending"?a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch xc nhn"}):g==="confirmed"?a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:" xc nhn"}):g==="shipping"?a.jsx(Oe,{variant:"outline",className:"text-purple-600 border-purple-600",children:"ang giao"}):g==="delivered"?a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:" giao"}):g==="cancelled"?a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:" hy"}):a.jsx(Oe,{variant:"outline",children:"Unknown"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Qun l n hng"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Danh sch n hng ca cc nng tri"})]}),a.jsxs(ct,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold text-gray-900 mb-2",children:"Danh sch n hng"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:["C ",Bv.length," n hng trong h thng"]})]}),a.jsxs("div",{className:"overflow-x-hidden",children:[a.jsx("div",{className:"hidden md:block",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[8%]",children:"M"}),a.jsx(ye,{className:"w-[14%]",children:"Nng tri"}),a.jsx(ye,{className:"w-[14%]",children:"Khch hng"}),a.jsx(ye,{className:"w-[10%]",children:"Tng"}),a.jsx(ye,{className:"w-[10%]",children:"Trng thi"}),a.jsx(ye,{className:"w-[10%]",children:"Ngy"}),a.jsx(ye,{className:"w-[12%]",children:"Cc"}),a.jsx(ye,{className:"w-[12%]",children:"Cn li"}),a.jsx(ye,{className:"w-[10%] text-right",children:" "})]})}),a.jsx(cn,{children:Bv.map(g=>a.jsxs(lt,{children:[a.jsx(je,{className:"font-mono text-xs w-[8%]",children:g.id}),a.jsx(je,{className:"w-[14%]",children:a.jsx("div",{className:"truncate max-w-[160px]",title:g.farm,children:g.farm})}),a.jsx(je,{className:"w-[14%]",children:a.jsx("div",{className:"truncate max-w-[160px]",title:g.customer,children:g.customer})}),a.jsx(je,{className:"font-medium text-xs w-[10%]",children:f(g.total)}),a.jsx(je,{className:"w-[10%]",children:m(g.status)}),a.jsx(je,{className:"text-xs w-[10%]",children:d(g.createdAt)}),a.jsx(je,{className:"w-[12%]",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-default select-none whitespace-nowrap text-xs",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${g.payment.depositPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-700",children:g.payment.depositPaid?" cc":"Cha cc"}),a.jsxs("span",{className:"hidden lg:inline text-gray-500",children:[" ",f(g.payment.depositAmount)]})]})}),a.jsx(je,{className:"w-[12%]",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-default select-none whitespace-nowrap text-xs",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${g.payment.remainingPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-700",children:g.payment.remainingPaid?" TT":"Cha TT"}),a.jsxs("span",{className:"hidden lg:inline text-gray-500",children:[" ",f(g.payment.remainingAmount)]})]})}),a.jsx(je,{className:"text-right whitespace-nowrap w-[10%]",children:a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>s(g),className:"h-7 px-2 text-xs",children:"Xem chi tit"})})]},g.id))})]})}),a.jsx("div",{className:"md:hidden space-y-3",children:Bv.map(g=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",title:g.id,children:g.id}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",title:g.customer,children:["Khch hng: ",g.customer]})]}),a.jsx("div",{className:"ml-2",children:m(g.status)})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Nng tri:"}),a.jsx("span",{className:"truncate max-w-[150px]",title:g.farm,children:g.farm})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Tng tin:"}),a.jsx("span",{className:"font-medium text-green-600",children:f(g.total)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Cc:"}),a.jsxs("span",{className:"text-xs",children:[g.payment.depositPaid?" cc":"Cha cc","  ",f(g.payment.depositAmount)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Cn li:"}),a.jsxs("span",{className:"text-xs",children:[g.payment.remainingPaid?" TT":"Cha TT","  ",f(g.payment.remainingAmount)]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Ngy to:"})," ",d(g.createdAt)]}),a.jsx("div",{className:"pt-2 text-right",children:a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>s(g),children:"Xem chi tit"})})]})]})},g.id))})]})]}),n&&e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:o}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Chi tit n hng  ",e.id]}),a.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-gray-100",children:a.jsx(Xl,{className:"w-5 h-5 text-gray-600"})})]}),a.jsxs("div",{className:"p-5 space-y-5 max-h-[80vh] overflow-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Nng tri:"})," ",a.jsx("span",{className:"font-medium",children:e.farm})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Khch hng:"})," ",a.jsx("span",{className:"font-medium",children:e.customer})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tng tin:"})," ",a.jsx("span",{className:"font-medium text-green-600",children:f(e.total)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-500",children:"Trng thi:"})," ",m(e.status)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy to:"})," ",a.jsx("span",{className:"font-medium",children:d(e.createdAt)})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thng tin phin u gi"}),e.auctionId?a.jsxs("div",{className:"text-sm text-gray-700 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"M phin:"})," ",a.jsx("span",{className:"font-medium",children:e.auctionId})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-gray-500",children:"Tiu :"})," ",a.jsx("span",{className:"font-medium",children:e.auctionTitle})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngi thng:"})," ",a.jsx("span",{className:"font-medium",children:e.winnerName})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"n hng khng lin kt phin u gi."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thanh ton"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${e.payment.depositPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-500",children:"Cc:"}),a.jsx("span",{className:"font-medium",children:e.payment.depositPaid?" cc":"Cha cc"}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("span",{className:"font-medium",children:f(e.payment.depositAmount)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${e.payment.remainingPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-500",children:"Cn li:"}),a.jsx("span",{className:"font-medium",children:e.payment.remainingPaid?" thanh ton":"Cha thanh ton"}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("span",{className:"font-medium",children:f(e.payment.remainingAmount)})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Phn hi gia nng tri v ngi mua"}),e.messages&&e.messages.length>0?a.jsx("div",{className:"space-y-2 text-sm",children:e.messages.map((g,x)=>a.jsxs("div",{className:"border rounded p-2 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[a.jsx("span",{className:"font-medium",children:g.from==="farmer"?"Nng tri":"Ngi mua"}),a.jsx("span",{children:""}),a.jsx("span",{children:d(g.time)})]}),a.jsx("div",{className:"text-gray-800",children:g.content})]},x))}):a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c phn hi."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Khiu ni"}),e.complaint?a.jsxs("div",{className:"text-sm text-gray-700 border rounded p-3 bg-orange-50",children:[a.jsxs("div",{className:"mb-1 text-xs text-gray-600",children:["Bn khiu ni: ",a.jsx("span",{className:"font-medium",children:e.complaint.by==="farmer"?"Nng tri":"Ngi mua"}),"  ",d(e.complaint.time)]}),a.jsx("div",{className:"whitespace-pre-wrap",children:e.complaint.content})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c khiu ni."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thng tin chuyn khon"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Nng tri"}),e.farmerBank?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:["Ngn hng: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.bankName})]}),a.jsxs("div",{children:["Ch TK: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.accountName})]}),a.jsxs("div",{children:["S TK: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.accountNumber})]}),a.jsx(ce,{size:"sm",className:"mt-2",onClick:()=>u(e,"farmer"),children:"Sao chp thng tin"})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Cha c thng tin."})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Ngi mua"}),e.buyerBank?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:["Ngn hng: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.bankName})]}),a.jsxs("div",{children:["Ch TK: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.accountName})]}),a.jsxs("div",{children:["S TK: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.accountNumber})]}),a.jsx(ce,{size:"sm",className:"mt-2",onClick:()=>u(e,"buyer"),children:"Sao chp thng tin"})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Cha c thng tin."})]})]})]})]}),a.jsx("div",{className:"p-4 border-t flex justify-end",children:a.jsx(ce,{variant:"outline",onClick:o,children:"ng"})})]})]})]})}function iae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Qun l sn phm"})}function sae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Qun l n v vn chuyn"})}function lae({open:e,onOpenChange:t,children:n}){return a.jsxs("div",{role:"dialog","aria-modal":"true",className:Dt("fixed inset-0 z-50 flex min-h-full items-center justify-center px-4 py-6 transition-all duration-200",e?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-md transition-opacity",onClick:()=>t(!1)}),a.jsx("div",{className:"relative z-10 w-full max-w-lg",children:n})]})}const p4=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Dt("rounded-3xl border border-white/30 bg-white/95 p-7 shadow-[0_30px_80px_rgba(15,118,110,0.18)] backdrop-blur-2xl","animate-in fade-in-0 zoom-in-95",e),...t}));p4.displayName="AlertDialogContent";const oae=({className:e,...t})=>a.jsx("div",{className:Dt("space-y-2 text-center sm:text-left",e),...t}),x4=p.forwardRef(({className:e,...t},n)=>a.jsx("h2",{ref:n,className:Dt("text-2xl font-bold tracking-tight text-slate-900",e),...t}));x4.displayName="AlertDialogTitle";const v4=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Dt("text-sm text-slate-500",e),...t}));v4.displayName="AlertDialogDescription";const y4=p.forwardRef(({className:e,...t},n)=>a.jsx(ce,{ref:n,variant:"outline",className:Dt("w-full sm:w-auto",e),...t}));y4.displayName="AlertDialogCancel";const cae=p.forwardRef(({className:e,...t},n)=>a.jsx(ce,{ref:n,className:Dt("w-full sm:w-auto",e),...t}));cae.displayName="AlertDialogAction";function _g({isOpen:e,onOpenChange:t,onConfirm:n,title:r,description:s,actionLabel:o,actionVariant:u,isLoading:d=!1,children:f}){const[m,g]=p.useState(!1),x=async()=>{g(!0);try{await n(),t(!1)}catch(j){console.error(j)}finally{g(!1)}},w=(()=>{switch(u){case"approve":return{icon:_a,bgColor:"bg-emerald-600 hover:bg-emerald-700",borderColor:"border-emerald-200",textColor:"text-emerald-900",lightBg:"bg-emerald-50"};case"reject":return{icon:li,bgColor:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200",textColor:"text-red-900",lightBg:"bg-red-50"};case"pending":return{icon:$u,bgColor:"bg-amber-600 hover:bg-amber-700",borderColor:"border-amber-200",textColor:"text-amber-900",lightBg:"bg-amber-50"};default:return{icon:uL,bgColor:"bg-gray-600 hover:bg-gray-700",borderColor:"border-gray-200",textColor:"text-gray-900",lightBg:"bg-gray-50"}}})(),S=w.icon;return a.jsx(lae,{open:e,onOpenChange:t,children:a.jsxs(p4,{className:"max-w-md",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 mx-auto rounded-full ${w.lightBg}`,children:a.jsx(S,{className:`w-6 h-6 ${w.textColor}`})}),a.jsxs(oae,{className:"text-center",children:[a.jsx(x4,{className:"text-lg font-semibold",children:r}),a.jsx(v4,{className:"text-sm leading-relaxed mt-2",children:s})]}),f&&a.jsx("div",{className:"mt-4 space-y-3",children:f}),a.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[a.jsx(y4,{disabled:m||d,className:"px-4 py-2 font-medium",onClick:()=>{!m&&!d&&t(!1)},children:"Hy"}),a.jsx("button",{onClick:x,disabled:m||d,className:`${w.bgColor} text-white px-4 py-2 rounded-md font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:m||d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"ang x l..."]}):a.jsxs(a.Fragment,{children:[a.jsx(S,{className:"w-4 h-4"}),o]})})]})]})})}function y_(e){return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function uae(e){switch(e){case"Draft":return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Bn nhp"});case"Pending":return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"i xt duyt"});case"Rejected":return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:"B t chi"});case"Approved":return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Chp nhn"});case"OnGoing":return a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:"ang din ra"});case"Pause":return a.jsx(Oe,{variant:"outline",className:"text-amber-600 border-amber-600",children:"ang tm dng"});case"Completed":return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Hon thnh"});case"NoWinner":return a.jsx(Oe,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Khng ngi chin thng"});case"Cancelled":return a.jsx(Oe,{variant:"outline",className:"text-rose-600 border-rose-600",children:"Hy"});default:return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng xc nh"})}}function dae(){const e=yr(),[t,n]=p.useState("all"),[r,s]=p.useState([]),[o,u]=p.useState(1),[d]=p.useState(10),[f,m]=p.useState(0),[g,x]=p.useState(0),[b,w]=p.useState(!1),[S,j]=p.useState(""),{toast:N}=$n(),[E,C]=p.useState(""),[T,_]=p.useState(null),[O,R]=p.useState(""),[D,L]=p.useState("0"),[V,J]=p.useState({}),[B,F]=p.useState({isOpen:!1,auctionId:null,actionType:null}),[re,be]=p.useState({all:0,Draft:0,Pending:0,Rejected:0,Approved:0,OnGoing:0,Pause:0,Completed:0,NoWinner:0,Cancelled:0}),xe=p.useCallback(async({silent:M=!1}={})=>{w(!0);try{let U=[],I=0,fe=0;const te=await Mt.getFarms();if(!te.isSuccess||!te.data)throw new Error("Khng th ti danh sch nng tri");const W=te.data;if(t==="all"){const Q=["Pending","Approved","Rejected","OnGoing","Pause","Completed","NoWinner","Cancelled"],ae=await Promise.all(Q.map(Re=>st.getEnglishAuctions(Re,1,1e3)));U=[],ae.forEach(Re=>{if(Re.isSuccess&&Re.data){const ze=Re.data.items.map(nt=>{const He=W.find(De=>De.userId===nt.farmerId);return{...nt,farmName:He?He.name:"Unknown",farmId:He?He.id:void 0,uiStatus:nt.status,verified:!1}});U.push(...ze),I+=Re.data.totalCount}});const Se=(o-1)*d,Ne=Se+d,Ue=U.slice(Se,Ne);fe=Math.ceil(U.length/d),s(Ue),m(fe),x(I)}else{const Q=await st.getEnglishAuctions(t,o,d);if(Q.isSuccess&&Q.data){const ae=Q.data.items.map(Se=>{const Ne=W.find(Ue=>Ue.userId===Se.farmerId);return{...Se,farmName:Ne?Ne.name:"Unknown",farmId:Ne?Ne.id:void 0,uiStatus:Se.status,verified:!1}});s(ae),m(Q.data.totalPages),x(Q.data.totalCount)}else{const ae=Q.message||pt.FETCH_ERROR;N({title:se.ERROR,description:ae,variant:"destructive"});return}}M||N({title:se.SUCCESS,description:pt.FETCH_SUCCESS})}catch(U){const I=U instanceof Error?U.message:pt.FETCH_ERROR;console.error("Error fetching auctions:",U),N({title:se.ERROR,description:I,variant:"destructive"})}finally{w(!1)}},[o,d,t,N]);p.useEffect(()=>{xe({silent:!0})},[xe]);const q=p.useCallback(async()=>{const M=["all","Pending","Approved","Rejected","OnGoing","Pause","Completed","Draft","NoWinner","Cancelled"];try{const U=await Promise.all(M.map(async I=>{const fe=await st.getEnglishAuctions(I==="all"?void 0:I,1,1),te=fe.data,W=fe.isSuccess&&te?te.totalCount:te?.items?.length??0;return[I,W]}));be(Object.fromEntries(U))}catch(U){console.error("Khng th ti s lng phin theo trng thi:",U)}},[]);p.useEffect(()=>{q()},[q]),pP(()=>{xe({silent:!0}),q()},3e4,!0,!1);const H=p.useCallback(async M=>{try{const U=M.map(async te=>{try{const W=await st.getAuctionExtendsByAuctionId(te);return W.isSuccess&&W.data?[te,W.data]:[te,[]]}catch(W){return console.error(`Error fetching extends for auction ${te}:`,W),[te,[]]}}),I=await Promise.all(U),fe=Object.fromEntries(I);J(te=>({...te,...fe}))}catch(U){console.error("Error fetching auction extends:",U)}},[]);p.useEffect(()=>{if(r.length>0){const U=r.map(I=>I.id).filter(I=>!V[I]);U.length>0&&H(U)}},[r,V,H]);const K=p.useCallback(M=>(V[M]||[]).reduce((I,fe)=>I+fe.extendDurationInMinutes,0),[V]),ve=(M,U)=>{U==="pause"&&(C(""),_(null),R("")),U==="resume"&&L("0"),F({isOpen:!0,auctionId:M,actionType:U})},Pe=async()=>{if(!B.auctionId||!B.actionType)return;if(B.actionType==="pause"){if(!T)throw N({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"}),new Error("PAUSE_REASON_CATEGORY_REQUIRED");if(T!=="other"&&!O)throw N({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_SPECIFIC_REQUIRED");const I=E.trim();if(!I)throw N({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_REQUIRED");try{const fe=await st.pauseEnglishAuction({auctionId:B.auctionId,reason:I});if(fe.isSuccess)s(te=>te.map(W=>W.id===B.auctionId?{...W,status:"Pause",uiStatus:"Pause"}:W)),N({title:se.SUCCESS,description:pt.PAUSE_SUCCESS}),q(),xe({silent:!0});else{const te=fe.message||pt.PAUSE_ERROR;N({title:se.ERROR,description:te,variant:"destructive"})}}catch(fe){const te=fe instanceof Error?fe.message:pt.PAUSE_ERROR;throw console.error(fe),N({title:se.ERROR,description:te,variant:"destructive"}),fe}return}if(B.actionType==="resume"){const I=Math.max(0,Number(D)||0);try{const fe=await st.resumeEnglishAuction({auctionId:B.auctionId,extendMinute:I});if(fe.isSuccess){if(s(te=>te.map(W=>W.id===B.auctionId?{...W,status:"OnGoing",uiStatus:"OnGoing"}:W)),B.auctionId)try{const te=await st.getAuctionExtendsByAuctionId(B.auctionId);te.isSuccess&&te.data&&J(W=>({...W,[B.auctionId]:te.data||[]}))}catch(te){console.error("Error refreshing auction extends:",te)}N({title:se.SUCCESS,description:pt.RESUME_SUCCESS}),q(),xe({silent:!0})}else{const te=fe.message||pt.RESUME_ERROR;N({title:se.ERROR,description:te,variant:"destructive"})}}catch(fe){const te=fe instanceof Error?fe.message:pt.RESUME_ERROR;throw console.error(fe),N({title:se.ERROR,description:te,variant:"destructive"}),fe}return}const U={approve:"Approved",reject:"Rejected",pending:"Pending",stop:"Completed",cancel:"Cancelled"}[B.actionType];try{const I=await st.updateEnglishAuctionStatus(B.auctionId,U);if(I.isSuccess)s(fe=>fe.map(te=>te.id===B.auctionId?{...te,status:U,uiStatus:U}:te)),N({title:se.SUCCESS,description:pt.STATUS_UPDATE_SUCCESS}),q(),xe({silent:!0});else{const fe=I.message||pt.STATUS_UPDATE_ERROR;N({title:se.ERROR,description:fe,variant:"destructive"}),q()}}catch(I){const fe=I instanceof Error?I.message:pt.STATUS_UPDATE_ERROR;throw console.error(I),N({title:se.ERROR,description:fe,variant:"destructive"}),q(),I}},z=B.actionType?{approve:{title:"Xc nhn duyt phin u gi",description:"Bn c chc chn mun duyt phin u gi ny? Phin s c kch hot v c sn cho ngi dng.",actionLabel:"Duyt",variant:"approve"},reject:{title:"Xc nhn t chi phin u gi",description:"Bn c chc chn mun t chi phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"T chi",variant:"reject"},pending:{title:'t phin u gi v trng thi "i xt duyt"',description:'Bn c chc chn mun t li phin ny v trng thi "i xt duyt"?',actionLabel:"Xc nhn",variant:"pending"},stop:{title:"Xc nhn dng phin u gi",description:"Bn c chc chn mun dng phin u gi ny? Phin s kt thc ngay lp tc.",actionLabel:"Dng",variant:"reject"},cancel:{title:"Xc nhn hy phin u gi",description:"Bn c chc chn mun hy phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"Hy",variant:"reject"},pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s tm thi b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) v m li phin u gi.",actionLabel:"Tip tc",variant:"approve"}}[B.actionType]:null,ee=M=>{if(M){F(U=>({...U,isOpen:M}));return}F({isOpen:!1,auctionId:null,actionType:null}),C(""),_(null),R(""),L("0")},Y={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},Z=(()=>{if(B.actionType==="pause"){const M=T,U=M&&M!=="other"?Y[M].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(Y).map(([I,fe],te)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-category",value:I,checked:T===I,onChange:()=>{_(I),R(""),C("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[te+1,". ",fe.title]})})]})},I)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-category",value:"other",checked:T==="other",onChange:()=>{_("other"),R(""),C("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),M&&M!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:U.map((I,fe)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-specific",value:I,checked:O===I,onChange:()=>{R(I);const te=Y[M].title;C(`${te}: ${I}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:I})})]})},fe))})]}),M==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Jn,{id:"pause-reason",rows:3,value:E,onChange:I=>C(I.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do tm dng s c ghi nhn trong lch s hot ng ca phin."})]})}return B.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"resume-extend",children:"Gia hn thm (pht)"}),a.jsx(sn,{id:"resume-extend",type:"number",min:0,value:D,onChange:M=>L(M.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"t 0 nu khng mun gia hn thi gian."})]}):null})(),ie=[{key:"all",label:"Tt c"},{key:"Pending",label:"i xt duyt"},{key:"Approved",label:" duyt"},{key:"Rejected",label:"T chi"},{key:"OnGoing",label:"ang din ra"},{key:"Pause",label:"Tm dng"}],le=[{key:"Completed",label:"Hon thnh"},{key:"NoWinner",label:"Khng ngi chin thng"},{key:"Cancelled",label:"Hy"}],G=p.useMemo(()=>{const M=S.trim().toLowerCase();return r.filter(U=>!M||U.sessionCode.toLowerCase().includes(M)||U.farmName.toLowerCase().includes(M)||U.note.toLowerCase().includes(M)).sort((U,I)=>{const fe=new Date(U.createdAt).getTime();return new Date(I.createdAt).getTime()-fe})},[r,S]),$=p.useMemo(()=>{if(t==="all"){const M=re.all??0,U=re.Draft??0;return Math.max(0,M-U)}return re[t]??0},[re,t]);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Qun l phin u gi"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Theo di danh sch phin, ph duyt hoc t chi."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-56 md:w-64",children:[a.jsx(ka,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"}),a.jsx(sn,{value:S,onChange:M=>j(M.target.value),placeholder:"Tm theo m phin hoc nng tri",className:"pl-7 sm:pl-9 text-xs sm:text-sm"})]}),a.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>xe(),disabled:b,className:"text-xs sm:text-sm",children:b?"ang ti...":"Lm mi"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[ie.map(M=>{const U=M.key==="all"?re.all??0:re[M.key]??0;return a.jsxs("button",{type:"button",onClick:()=>{n(M.key),u(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${t===M.key?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[M.label," ",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:U})]},M.key)}),a.jsxs("div",{className:"relative",children:[a.jsx(od,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${le.find(M=>M.key===t)?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:le.find(M=>M.key===t)?t:"",onChange:M=>{M.target.value?(n(M.target.value),u(1)):(n("all"),u(1))},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${le.find(M=>M.key===t)?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Lc thm..."}),le.map(M=>{const U=re[M.key]??0;return a.jsxs("option",{value:M.key,children:[M.label," (",U,")"]},M.key)})]}),a.jsx(Im,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${le.find(M=>M.key===t)?"text-emerald-600":"text-gray-400"}`})]})]})]}),a.jsxs(ct,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch phin u gi"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:b?"ang ti...":`Hin th ${G.length} / ${$||g} phin`})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Trang ",o,"/",f||1]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[10%] whitespace-nowrap text-left",children:"M phin"}),a.jsx(ye,{className:"hidden md:table-cell w-[15%] whitespace-nowrap text-left",children:"Nng tri"}),a.jsx(ye,{className:"hidden md:table-cell w-[12%] whitespace-nowrap text-left",children:"Bt u"}),a.jsx(ye,{className:"hidden md:table-cell w-[12%] whitespace-nowrap text-left",children:"Kt thc"}),a.jsx(ye,{className:"w-[10%] text-left",children:"Trng thi"}),a.jsx(ye,{className:"w-[18%] text-left",children:"Thao tc"}),a.jsx(ye,{className:"w-[5%] text-left",children:" "})]})}),a.jsx(cn,{children:G.map(M=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[10%] font-mono text-xs whitespace-nowrap text-left",children:M.sessionCode}),a.jsx(je,{className:"w-[15%] text-xs truncate hidden md:table-cell text-left",children:M.farmName}),a.jsx(je,{className:"w-[12%] text-xs hidden md:table-cell whitespace-nowrap text-left",children:y_(M.publishDate)}),a.jsx(je,{className:"w-[12%] text-xs hidden md:table-cell text-left",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"whitespace-nowrap",children:y_(M.endDate)}),K(M.id)>0&&a.jsxs("span",{className:"text-green-600 text-xs mt-0.5",children:["(+",K(M.id)," pht)"]})]})}),a.jsx(je,{className:"w-[10%] text-left",children:uae(M.uiStatus)}),a.jsxs(je,{className:"w-[18%]",children:[M.uiStatus==="Pending"&&a.jsxs("div",{className:"flex gap-1.5 flex max-w-[180px]",children:[a.jsx(ce,{size:"sm",onClick:()=>ve(M.id,"approve"),className:"bg-emerald-600 hover:bg-emerald-700 text-white flex-1 min-w-[90px] text-xs",children:" Duyt"}),a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>ve(M.id,"reject"),className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 flex-1 min-w-[90px] text-xs",children:" Khng duyt"})]}),M.uiStatus==="OnGoing"&&a.jsxs("div",{className:"flex gap-1.5 justify-start flex-wrap",children:[a.jsxs(ce,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-white",onClick:()=>ve(M.id,"pause"),children:[a.jsx(Ll,{className:"w-4 h-4 mr-1.5"}),"Tm dng"]}),a.jsx(ce,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",onClick:()=>ve(M.id,"cancel"),children:" Hy"})]}),M.uiStatus==="Pause"&&a.jsxs("div",{className:"flex gap-1.5 justify-start flex-wrap",children:[a.jsxs(ce,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>ve(M.id,"resume"),children:[a.jsx(Bl,{className:"w-4 h-4 mr-1.5"}),"Tip tc"]}),a.jsx(ce,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>ve(M.id,"cancel"),children:" Hy"})]}),M.uiStatus!=="Pending"&&M.uiStatus!=="OnGoing"&&M.uiStatus!=="Pause"&&a.jsx("span",{className:"text-sm text-gray-400",children:""})]}),a.jsx(je,{className:"w-[5%] text-left",children:a.jsx(ce,{size:"sm",variant:"outline",className:"text-xs px-2 py-1",onClick:()=>e(et.ADMIN_AUCTIONS_BY_ID.replace(":id",M.id)),children:"Chi tit"})})]},M.id))})]}),f>1&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm px-4",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",o,"/",f]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(M=>Math.max(1,M-1)),disabled:o<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(M=>Math.min(f,M+1)),disabled:o>=f,children:"Sau"})]})]})]})]}),z&&a.jsx(_g,{isOpen:B.isOpen,onOpenChange:ee,onConfirm:Pe,title:z.title,description:z.description,actionLabel:z.actionLabel,actionVariant:z.variant,children:Z})]})}function b_(e){return e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}function hae(e){return e?new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-"}function fae(e){switch(e){case"Draft":return a.jsx(Oe,{className:"bg-gray-100 text-gray-700",children:"Bn nhp"});case"Pending":return a.jsx(Oe,{className:"bg-yellow-100 text-yellow-700",children:"i xt duyt"});case"Rejected":return a.jsx(Oe,{className:"bg-red-100 text-red-700",children:"B t chi"});case"Approved":return a.jsx(Oe,{className:"bg-green-100 text-green-700",children:"Chp nhn"});case"OnGoing":return a.jsx(Oe,{className:"bg-blue-100 text-blue-700",children:"ang din ra"});case"Pause":return a.jsx(Oe,{className:"bg-amber-100 text-amber-700",children:"ang tm dng"});case"Completed":return a.jsx(Oe,{className:"bg-gray-100 text-gray-700",children:"Hon thnh"});case"NoWinner":return a.jsx(Oe,{className:"bg-orange-100 text-orange-700",children:"Khng c ngi chin thng"});case"Cancelled":return a.jsx(Oe,{className:"bg-rose-100 text-rose-700",children:"Hy"});default:return a.jsx(Oe,{className:"bg-gray-100 text-gray-700",children:"Khng xc nh"})}}function Id({auction:e,farmName:t,totalExtendMinutes:n=0,priceChanged:r=!1}){const[s,o]=p.useState(!1),[u,d]=p.useState(e.currentPrice??null),[f,m]=p.useState(e.currentPrice??null);return p.useEffect(()=>{const g=e.currentPrice??null;if(g!==u&&g!==null&&u!==null){m(u),o(!0),d(g);const x=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(x)}else g!==u&&g!==null&&d(g)},[e.currentPrice,u]),p.useEffect(()=>{if(r){o(!0);const g=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(g)}},[r]),a.jsx(ct,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 overflow-hidden",children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-5 mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-blue-600 mb-2",children:"M phin"}),a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-3",children:e.sessionCode}),e.note&&a.jsxs("p",{className:"text-sm text-gray-600 max-w-3xl whitespace-nowrap",children:["Ghi ch: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.note})]})]}),fae(e.status)]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(aR,{className:"w-5 h-5 text-green-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Gi Khi im"})]}),a.jsx("p",{className:"text-lg font-extrabold text-gray-900 whitespace-nowrap",children:ot(e.startingPrice,{unit:"VND"})})]}),a.jsxs("div",{className:`bg-white rounded-2xl p-4 border transition-all duration-500 ${s?"border-green-400 bg-green-50 shadow-lg shadow-green-200/50":"border-blue-100"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx($s,{className:`w-5 h-5 transition-colors duration-300 ${s?"text-green-600":"text-blue-600"}`}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Gi Hin Ti"})]}),a.jsx("p",{className:`text-lg font-extrabold whitespace-nowrap transition-all duration-500 ${s?"scale-110 drop-shadow-lg":"text-gray-900 scale-100"}`,style:s?{animation:"priceUpdate 1.5s ease-in-out"}:{},children:u!=null?ot(u):e.currentPrice!==void 0&&e.currentPrice!==null?ot(e.currentPrice):"-"}),s&&f!==null&&u!==null&&u>f&&a.jsxs("div",{className:"mt-1 text-xs font-semibold text-green-600 opacity-0 animate-in fade-in duration-300",children:[" +",ot(u-f)]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(yB,{className:"w-5 h-5 text-orange-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Bc Gi"})]}),a.jsx("p",{className:"text-lg font-extrabold text-gray-900 whitespace-nowrap",children:ot(e.minBidIncrement)})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx($u,{className:"w-5 h-5 text-teal-600"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Bt u"})]}),a.jsx("p",{className:"text-base font-bold text-gray-900",children:b_(e.publishDate)})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Il,{className:"w-5 h-5 text-purple-600"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Kt Thc"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-base font-bold text-gray-900",children:b_(e.endDate)}),n>0&&a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["(+",n," pht)"]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(qu,{className:"w-5 h-5 text-indigo-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Nng Tri"})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900 truncate whitespace-nowrap",children:t})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-base",children:[a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Mua ngay: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.enableBuyNow?ot(e.buyNowPrice):"Khng"})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Chng cht gi cui: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.enableAntiSniping?`C (+${e.antiSnipingExtensionSeconds} giy)`:"Khng"})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"D thu hoch: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:hae(e.expectedHarvestDate)})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Tng lng d kin: "}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[e.expectedTotalQuantity," kg"]})]})})]})]})})}const w_=e=>{if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?"--":t.toLocaleDateString("vi-VN")};function mae({harvests:e,farm:t,cropsById:n={},currentHarvestByCropId:r={}}){return e.length===0?a.jsx(ct,{children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Of,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Khng c l hng"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qL,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"L Hng / Ma V"}),a.jsxs(Oe,{variant:"outline",className:"ml-2 px-3 py-1 border-blue-200 text-blue-700",children:[e.length," l"]})]}),a.jsx("div",{className:"grid gap-6",children:e.map((s,o)=>{const u=n[s.cropID],d=r[s.cropID],f=s.harvestGradeDetailDTOs??[],m=f.reduce((g,x)=>g+(x.quantity??0),0);return a.jsxs(ct,{className:"overflow-hidden border border-gray-200",children:[a.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-700 font-bold text-lg",children:["#",o+1]}),a.jsx("div",{children:a.jsxs("p",{className:"text-xl font-bold text-blue-700",children:["LOT-",s.id.slice(0,8).toUpperCase()]})})]}),s.note&&a.jsxs("div",{className:"flex items-start gap-2 pl-14",children:[a.jsx(qi,{className:"h-3.5 w-3.5 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-500",children:s.note})]})]}),a.jsx("div",{className:"flex items-center gap-4 sm:gap-6",children:a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs mb-1",children:[a.jsx(Il,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:"Ngy bt u"})]}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(s.startDate).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})})]})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[minmax(0,58%)_minmax(0,42%)]",children:[a.jsxs("div",{className:"relative rounded-lg border border-emerald-200 bg-emerald-50/30 p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:a.jsx(Mu,{className:"h-5 w-5 text-emerald-600"})}),a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-emerald-700",children:"Thng tin trang tri"})]}),t?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mu,{className:"h-4 w-4 text-emerald-600 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tn trang tri"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.name})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(aB,{className:"h-4 w-4 text-emerald-600 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Trng thi"}),a.jsx(Oe,{variant:"outline",className:t.isActive?"border-emerald-300 text-emerald-700 bg-emerald-50":"border-gray-300 text-gray-500 bg-gray-50",children:t.isActive?"ang hot ng":"Tm ngng"})]})]})]}):a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(Mu,{className:"h-4 w-4"}),"Khng c thng tin trang tri"]})]}),a.jsxs("div",{className:"relative rounded-lg border border-amber-200 bg-amber-50/30 p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:a.jsx(zu,{className:"h-5 w-5 text-amber-600"})}),a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-amber-700",children:"Thng tin cy trng"})]}),u?a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-[repeat(auto-fit,minmax(200px,1fr))]",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Loi mng cu"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.custardAppleType||"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Din tch"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.area?`${u.area.toLocaleString("vi-VN")} m`:"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"S cy"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.treeCount?.toLocaleString("vi-VN")??"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Thi gian canh tc"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.farmingDuration?`${u.farmingDuration} ngy`:"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Ngy trng"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:w_(d?.startDate??u.startPlantingDate)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Ngy thu hoch"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:w_(d?.harvestDate||"--")})]})]}):a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(zu,{className:"h-4 w-4"}),"Khng c thng tin cy trng"]})]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white overflow-hidden",children:[a.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:a.jsx(tR,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-blue-700",children:"Chi tit phn hng"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"S lng tng loi ca l hng"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 bg-white rounded-lg px-4 py-2.5 border border-blue-200",children:[a.jsx(Of,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Tng sn lng"}),a.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[m.toLocaleString("vi-VN")," ",f[0]?.unit??""]})]})]})]})}),f.length>0?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:f.map(g=>a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1.5",children:"Phn loi"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:g.grade||""})]}),a.jsx(Oe,{variant:"outline",className:"px-3 py-1.5 text-xs font-semibold rounded-full border-blue-300 text-blue-700 bg-blue-50 whitespace-nowrap",children:g.unit||"--"})]}),a.jsx("div",{className:"pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Sn lng"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.quantity?.toLocaleString("vi-VN")??0})]}),a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:g.unit})]})})]},g.id??g.grade))})}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Of,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c d liu phn hng cho l hng ny."})]})]})]})]},s.id)})})]})}function gae({data:e=[],currentPrice:t=0,startingPrice:n=0}){const[r,s]=p.useState(!1);p.useEffect(()=>{s(!0)},[]);const o=Date.now(),u=e.length>0?e:[{time:o-1,price:n,label:"Bt u",fullTime:"Bt u"},{time:o,price:t||n,label:"Hin ti",fullTime:"Hin ti"}],d=u.length>0?Math.max(...u.map(w=>w.time)):null;p.useEffect(()=>{console.log("[PriceChart] Chart data updated:",u.length,"points",u),console.log("[PriceChart] Current price:",t,"Starting price:",n)},[u.length,t,n,e.length]);const m=(()=>{if(u.length===0)return t-n;if(e.length>0){const E=e[0]?.price??n,C=e.map(_=>_.price);return(C.length>0?Math.max(...C):t)-E}const w=u.filter(E=>E.label!=="Bt u"),S=w.length>0?w[0]?.price:n,j=u.map(E=>E.price);return(j.length>0?Math.max(...j):t)-S})(),g=t-n,x=n!==0?(g/n*100).toFixed(1):"0.0",b=ot(Math.abs(g));return r?a.jsx(ct,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx($s,{className:"w-5 h-5 text-blue-600"}),"Biu  Gi"]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Thay i:"}),a.jsxs("span",{className:`text-lg font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:[g>0?"+":g<0?"-":"",b," (",x,"%)"]})]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 w-full",style:{height:"320px",minHeight:"320px"},children:a.jsx(md,{width:"100%",height:300,children:a.jsxs(fP,{data:u,margin:{top:5,right:30,left:0,bottom:5},children:[a.jsx(Od,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(kd,{dataKey:"time",type:"number",scale:"time",stroke:"#9ca3af",style:{fontSize:"12px"},domain:["dataMin","dataMax"],tickFormatter:w=>new Date(w).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}),a.jsx(Dd,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:["dataMin - 1000","dataMax + 1000"]}),a.jsx(Td,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelFormatter:(w,S)=>{const j=S&&S[0]?.payload,N=d!==null&&j?.time===d,E=S&&S[0]?.payload?.fullTime;if(E&&!N)return E;let C=null;if(j?.time)C=new Date(j.time);else{const T=typeof w=="number"?w:Number(w);!isNaN(T)&&T>0&&(C=new Date(T))}if(C&&!isNaN(C.getTime())){const T=String(C.getDate()).padStart(2,"0"),_=String(C.getMonth()+1).padStart(2,"0"),O=C.getFullYear();if(N)return`${T}/${_}/${O}`;const R=String(C.getHours()).padStart(2,"0"),D=String(C.getMinutes()).padStart(2,"0"),L=String(C.getSeconds()).padStart(2,"0");return`${R}:${D}:${L} ${T}/${_}/${O}`}return String(w||"")},formatter:(w,S,j)=>{const N=typeof w=="number"?w:Number(w)||0,E=j?.payload?.durationLabel,C=E?` (${E})`:"";return[`${ot(N)}${C}`,"Gi"]},labelStyle:{color:"#1f2937"}}),a.jsx(xj,{type:"stepAfter",dataKey:"price",name:"Gi u",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,strokeWidth:2,stroke:"#3b82f6",fill:"#fff"},activeDot:{r:6}})]})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center border border-blue-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Khi im"}),a.jsx("p",{className:"text-lg font-bold text-blue-700",children:ot(n)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center border border-green-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Hin Ti"}),a.jsx("p",{className:"text-lg font-bold text-green-700",children:ot(t)})]}),a.jsxs("div",{className:`rounded-lg p-3 text-center border ${m>=0?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Mc Gi  Tng Trong Ngy"}),a.jsxs("p",{className:`text-lg font-bold ${m>=0?"text-orange-700":"text-red-700"}`,children:[m>0?"+":"",ot(m)]})]})]})]})}):a.jsx(ct,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("div",{children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx($s,{className:"w-5 h-5 text-blue-600"}),"Biu  Gi"]})})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 h-80 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"ang ti biu ..."})})]})})}const Uv=`${Bm.replace(/\/+$/,"")}/api/messaging-service/hubs/global`;class pae{connection=null;currentAuctionId=null;isConnecting=!1;handlers={};lastProcessedBidId=null;lastProcessedBidTime=0;lastProcessedBuyNowId=null;lastProcessedBuyNowTime=0;getToken(){return typeof window>"u"?null:localStorage.getItem("authToken")}async connect(t,n){if(this.connection&&this.currentAuctionId===t){this.handlers=n,this.registerHandlers();return}this.connection&&await this.disconnect();const r=this.getToken();if(!r){console.warn("[SignalR] No auth token found, cannot connect");return}this.currentAuctionId=t,this.isConnecting=!0,this.handlers=n,console.log("[SignalR] Connecting to hub:",Uv,"for auction:",t),this.connection=new ER().withUrl(Uv,{transport:On.LongPolling,accessTokenFactory:()=>r??""}).withAutomaticReconnect([0,2e3,5e3,1e4]).configureLogging(Ae.Information).build(),this.registerHandlers(),this.connection.onreconnected(()=>{console.log("[SignalR] Reconnected, resubscribing to auction:",this.currentAuctionId),this.currentAuctionId&&this.subscribeToAuction(this.currentAuctionId).catch(console.error)});try{await this.connection.start(),console.log("[SignalR] Connected successfully"),await this.subscribeToAuction(t)}catch(s){throw console.error("[SignalR] Failed to connect to hub:",s),console.error("[SignalR] Hub URL was:",Uv),console.error("[SignalR] Error details:",s instanceof Error?s.message:String(s)),s}finally{this.isConnecting=!1}}registerHandlers(){if(this.connection){if(this.connection.off("BidPlaced"),this.connection.off("bidplaced"),this.connection.off("BuyNow"),this.connection.off("buynow"),this.connection.off("NewNotification"),this.connection.off("SystemNotification"),this.handlers.bidPlaced){const t=n=>{const r=Date.now();if(this.lastProcessedBidId===n.bidId&&r-this.lastProcessedBidTime<200){console.log("[SignalR] Duplicate BidPlaced event ignored:",n.bidId,"Time diff:",r-this.lastProcessedBidTime,"ms");return}this.lastProcessedBidId=n.bidId,this.lastProcessedBidTime=r,console.log("[SignalR] Received BidPlaced event:",n),this.handlers.bidPlaced?.(n)};this.connection.on("BidPlaced",t),this.connection.on("bidplaced",t)}if(this.handlers.buyNow){const t=n=>{const r=Date.now();if(this.lastProcessedBuyNowId===n.bidId&&r-this.lastProcessedBuyNowTime<200){console.log("[SignalR] Duplicate BuyNow event ignored:",n.bidId,"Time diff:",r-this.lastProcessedBuyNowTime,"ms");return}this.lastProcessedBuyNowId=n.bidId,this.lastProcessedBuyNowTime=r,console.log("[SignalR] Received BuyNow event:",n),this.handlers.buyNow?.(n)};this.connection.on("BuyNow",t),this.connection.on("buynow",t)}this.handlers.newNotification&&this.connection.on("NewNotification",t=>{console.log("[SignalR] Received NewNotification event:",t),this.handlers.newNotification?.(t)}),this.handlers.systemNotification&&this.connection.on("SystemNotification",t=>{console.log("[SignalR] Received SystemNotification event:",t),this.handlers.systemNotification?.(t)})}}async subscribeToAuction(t){if(!this.connection||this.connection.state!==Bt.Connected){console.warn("[SignalR] Cannot subscribe: connection not ready");return}try{console.log("[SignalR] Subscribing to auction group:",t),await this.connection.invoke("JoinAuctionGroup",t),console.log("[SignalR] Successfully subscribed to auction:",t)}catch(n){console.error("[SignalR] Failed to subscribe to auction:",n)}}async disconnect(){if(!this.isConnecting&&this.connection)try{await this.connection.stop(),console.log("[SignalR] Disconnected")}catch(t){console.error("[SignalR] Failed to stop connection:",t)}finally{this.connection=null,this.currentAuctionId=null,this.handlers={},this.lastProcessedBidId=null,this.lastProcessedBidTime=0,this.lastProcessedBuyNowId=null,this.lastProcessedBuyNowTime=0}}async joinGroup(t){console.log("[SignalR] joinGroup called (legacy), use connect() instead")}async leaveGroup(t){console.log("[SignalR] leaveGroup called (legacy), use disconnect() instead")}on(t,n){return console.warn("[SignalR] Using legacy on() method. Consider using connect() instead."),t==="BidPlaced"?this.handlers.bidPlaced=n:t==="BuyNow"?this.handlers.buyNow=n:t==="NewNotification"?this.handlers.newNotification=n:t==="SystemNotification"&&(this.handlers.systemNotification=n),()=>{t==="BidPlaced"?delete this.handlers.bidPlaced:t==="BuyNow"?delete this.handlers.buyNow:t==="NewNotification"?delete this.handlers.newNotification:t==="SystemNotification"&&delete this.handlers.systemNotification}}off(t,n){t==="BidPlaced"?delete this.handlers.bidPlaced:t==="BuyNow"&&delete this.handlers.buyNow}}const di=new pae,Lf=e=>{if(typeof e=="number"&&!Number.isNaN(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e.replace(/,/g,""));if(!Number.isNaN(t))return t}},$v=e=>{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){const t=e.trim().toLowerCase();if(["true","1","yes"].includes(t))return!0;if(["false","0","no"].includes(t))return!1}},Rm=e=>{if(!e)return null;try{const t=typeof e=="string"?JSON.parse(e):e;if(t&&typeof t=="object")return t}catch{}return null},xae=e=>{if(!e)return null;const t=e.Bid??e.bid??e.BID??(typeof e=="object"?e:null);return t&&typeof t=="object"?t:null},b4=e=>{const t=Rm(e.newEntity)??Rm(e.oldEntity);if(!t)return null;const n=xae(t);if(!n)return null;const r=Lf(n.BidAmount??n.bidAmount??n.amount??n.price)??Lf(t.currentPrice??t.newPrice??t.price??t.amount),s=Lf(n.AutoBidMaxLimit??n.autoBidMaxLimit),o=$v(n.IsAutoBid??n.isAutoBid),u=$v(n.IsWinning??n.isWinning),d=$v(n.IsCancelled??n.isCancelled);return r===void 0&&s===void 0&&o===void 0&&u===void 0&&d===void 0?null:{bidAmount:r,autoBidMaxLimit:s,isAutoBid:o,isWinning:u,isCancelled:d}},vae=e=>{const t=b4(e);if(t?.bidAmount!==void 0)return t.bidAmount;const n=Rm(e.newEntity)??Rm(e.oldEntity);return n?Lf(n.currentPrice??n.newPrice??n.price??n.amount)??null:null},j_=e=>e.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),yae=e=>{const t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),u=e.getFullYear();return`${t}:${n}:${r} ${s}/${o}/${u}`},N_=e=>{const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}/${n}/${r}`},zv=e=>{if(e<=0||Number.isNaN(e))return"< 1 giy";const t=Math.floor(e/1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),s=t%60,o=[];return n&&o.push(`${n} gi`),r&&o.push(`${r} pht`),(s||o.length===0)&&o.push(`${s} giy`),o.join(" ")};function bae(){const{id:e}=gc(),t=yr(),n=Hr(),[r,s]=p.useState(null),[o,u]=p.useState([]),[d,f]=p.useState("Unknown"),[m,g]=p.useState(null),[x,b]=p.useState({}),[w,S]=p.useState({}),[j,N]=p.useState(!0),[E,C]=p.useState(!1),[T,_]=p.useState({isOpen:!1,actionType:null}),[O,R]=p.useState(""),[D,L]=p.useState(null),[V,J]=p.useState(""),[B,F]=p.useState("0"),[re,be]=p.useState([]),[xe,q]=p.useState([]),[H,K]=p.useState(!1),[,ve]=p.useState(0),[,Pe]=p.useState(new Set),{toast:P}=$n(),z=p.useCallback(async te=>{try{const W=await st.getAuctionExtendsByAuctionId(te);W.isSuccess&&W.data&&be(W.data)}catch(W){console.error("Error fetching auction extends:",W)}},[]),ee=p.useCallback(async(te,W,Q,ae)=>{const Se=await st.getBidLogsByAuctionId(te);if(Se.isSuccess&&Se.data){const Ne=new Set(Se.data.map(Le=>Le.bidId||Le.id).filter(Boolean));Pe(Ne);const ze=[...Se.data].sort((Le,$e)=>new Date(Le.dateTimeUpdate).getTime()-new Date($e.dateTimeUpdate).getTime()).map(Le=>{const $e=vae(Le);if(!$e||Number.isNaN($e))return null;let Be;Le.dateTimeUpdate?(Be=new Date(Le.dateTimeUpdate),isNaN(Be.getTime())&&(console.warn("[AuctionDetailPage] Invalid dateTimeUpdate, using current time:",Le.dateTimeUpdate),Be=new Date)):(console.warn("[AuctionDetailPage] Missing dateTimeUpdate, using current time"),Be=new Date);const dt=j_(Be),un=yae(Be);return{time:Be.getTime(),label:dt,price:$e,fullTime:un,durationMs:0,durationLabel:""}}).filter(Le=>Le!==null);for(let Le=0;Le<ze.length;Le++){const $e=ze[Le],Be=ze[Le+1],un=(Be?Be.time:ae?new Date(ae).getTime():Date.now())-$e.time;$e.durationMs=un,$e.durationLabel=zv(un)}if(ze.length>0){const Le=ze[ze.length-1],$e=new Date(Le.time);Le.fullTime=N_($e)}const nt=W||Q||ae,He=nt?new Date(nt).getTime():Date.now(),De=r?.startingPrice&&He?[{time:He,label:"Bt u",price:r.startingPrice,fullTime:"Bt u",durationMs:ze[0]?ze[0].time-He:0,durationLabel:ze[0]?zv(ze[0].time-He):""}]:[];q([...De,...ze])}},[r?.startingPrice]);p.useEffect(()=>{if(!e){console.log("[AuctionDetailPage] No auction ID, skipping SignalR setup");return}return console.log("[AuctionDetailPage] Setting up SignalR for auction:",e),di.connect(e,{bidPlaced:te=>{if(te.auctionId!==e){console.log("[AuctionDetailPage] Event auctionId mismatch, ignoring:",te.auctionId,"vs",e);return}console.log("[AuctionDetailPage] Processing BidPlaced event for auction:",e),K(!0),setTimeout(()=>K(!1),1e3),s(W=>W?(console.log("[AuctionDetailPage] Updating price from",W.currentPrice,"to",te.newPrice),{...W,currentPrice:te.newPrice}):(console.warn("[AuctionDetailPage] No auction data to update"),W)),q(W=>{let Q;typeof te.placedAt=="string"?(Q=new Date(te.placedAt),isNaN(Q.getTime())&&(console.warn("[AuctionDetailPage] Invalid placedAt date, using current time:",te.placedAt),Q=new Date)):typeof te.placedAt=="number"?Q=new Date(te.placedAt):(console.warn("[AuctionDetailPage] Unknown placedAt format, using current time"),Q=new Date);const ae=Q.getTime(),Se=j_(Q),Ne=N_(Q),Ue=[...W];if(Ue.length>0){const nt=Ue.length-1,He={...Ue[nt]};He.durationMs=ae-He.time,He.durationLabel=zv(He.durationMs||0),Ue[nt]=He}const Re={time:ae,label:Se,price:te.newPrice,fullTime:Ne,durationMs:0,durationLabel:"ang gi"};console.log("[AuctionDetailPage] Adding new chart data point:",Re),console.log("[AuctionDetailPage] Previous chart data length:",W.length);const ze=[...Ue,Re];return console.log("[AuctionDetailPage] Updated chart data length:",ze.length),ze}),ee(te.auctionId,r?.publishDate,r?.createdAt,r?.endDate).catch(W=>console.error("[AuctionDetailPage] Failed to refresh bid logs after BidPlaced:",W)),ve(W=>{const Q=W+1;return console.log("[AuctionDetailPage] Refresh trigger updated to:",Q),Q}),Pe(W=>{if(W.has(te.bidId))return W;const Q=new Set(W);return Q.add(te.bidId),P({title:"C lt t gi mi",description:`${te.userName}  t gi ${te.newPrice.toLocaleString("vi-VN")} VN`}),Q})},buyNow:te=>{if(te.auctionId!==e){console.log("[AuctionDetailPage] Event auctionId mismatch, ignoring:",te.auctionId,"vs",e);return}console.log("[AuctionDetailPage] Processing BuyNow event for auction:",e),s(W=>W&&{...W,status:"Completed",currentPrice:te.buyNowPrice}),P({title:" mua ngay",description:`${te.userName}  mua ngay vi gi ${te.buyNowPrice.toLocaleString("vi-VN")} VN`,variant:"default"}),te.auctionId&&st.getEnglishAuctionById(te.auctionId).then(W=>{W.isSuccess&&W.data&&(s(W.data),ee(te.auctionId,W.data.publishDate,W.data.createdAt,W.data.endDate).catch(console.error))})}}).then(()=>{console.log("[AuctionDetailPage] SignalR connected successfully")}).catch(te=>{console.error("[AuctionDetailPage] Failed to init realtime auction connection:",te)}),()=>{console.log("[AuctionDetailPage] Cleaning up SignalR connection for auction:",e),di.disconnect().catch(console.error)}},[e,P]),p.useEffect(()=>{(async()=>{if(e)try{N(!0);const W=await st.getEnglishAuctionById(e);if(!W.isSuccess||!W.data)return;const Q=W.data;s(Q);const ae=await st.getHarvestsByAuctionSessionId(Q.id),Se=ae.isSuccess&&ae.data?ae.data.map(ze=>ze.harvestId):[],Ne=[],Ue={};for(const ze of Se){const nt=await Mt.getHarvestById(ze);if(nt.isSuccess&&nt.data){const He=nt.data;let De=[];try{const Be=await Mt.getHarvestGradeDetailsByHarvestId(He.id);Be.isSuccess&&Be.data&&(De=Be.data)}catch(Be){console.error(`Li ly grade detail cho harvest ${He.id}:`,Be)}const Le=De.map(Be=>({id:Be.id,grade:Be.grade?.toString(),quantity:Be.quantity,unit:Be.unit}));Ne.push({...He,harvestGradeDetailDTOs:Le});const $e=await Mt.getCurrentHarvestByCropId(He.cropID);$e.isSuccess&&$e.data&&(Ue[He.cropID]=$e.data)}}u(Ne),S(Ue);const Re=await Mt.getFarms();if(Re.isSuccess&&Re.data){const ze=Re.data.find(nt=>nt.userId===Q.farmerId);if(ze){f(ze.name),g(ze);const nt=await Mt.getCropsByFarmId(ze.id);if(nt.isSuccess&&nt.data){const He=nt.data.reduce((De,Le)=>(De[Le.id]=Le,De),{});b(He)}}}await z(Q.id),await ee(Q.id,Q.publishDate,Q.createdAt,Q.endDate)}finally{N(!1)}})()},[ee,z,e]),p.useEffect(()=>{if(!e||r?.status!=="OnGoing")return;const te=setInterval(()=>{ee(e,r.publishDate,r.createdAt,r.endDate).catch(W=>console.error("[AuctionDetailPage] Poll refresh bid logs failed:",W))},5e3);return()=>clearInterval(te)},[r?.createdAt,r?.endDate,r?.publishDate,r?.status,ee,e]);const Y=p.useCallback(()=>e?re.filter(te=>te.auctionId===e).reduce((te,W)=>te+W.extendDurationInMinutes,0):0,[re,e]);if(j)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})});if(!r)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})});const Z=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",ie=te=>{e&&(te==="overview"?t(`/admin/auctions/${e}`):te==="activity-history"?t(`/admin/auctions/${e}/activity-history`):te==="bid-history"?t(`/admin/auctions/${e}/bid-history`):te==="winner"?t(`/admin/auctions/${e}/winner`):te==="reports"&&t(`/admin/auctions/${e}/reports`))},le=te=>{te==="pause"&&(R(""),L(null),J("")),te==="resume"&&F("0"),_({isOpen:!0,actionType:te})},G=async()=>{if(!e||!T.actionType)return;if(T.actionType==="pause"){if(!D)throw P({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"}),new Error("PAUSE_REASON_CATEGORY_REQUIRED");if(D!=="other"&&!V)throw P({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_SPECIFIC_REQUIRED");const Q=O.trim();if(!Q)throw P({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_REQUIRED");try{C(!0);const ae=await st.pauseEnglishAuction({auctionId:e,reason:Q});if(ae.isSuccess){const Se=await st.getEnglishAuctionById(e);Se.isSuccess&&Se.data&&s(Se.data),P({title:se.SUCCESS,description:pt.PAUSE_SUCCESS})}else P({title:se.ERROR,description:ae.message||pt.PAUSE_ERROR,variant:"destructive"})}catch(ae){const Se=ae instanceof Error?ae.message:pt.PAUSE_ERROR;throw P({title:se.ERROR,description:Se,variant:"destructive"}),ae}finally{C(!1)}return}if(T.actionType==="resume"){const Q=Math.max(0,Number(B)||0);try{C(!0);const ae=await st.resumeEnglishAuction({auctionId:e,extendMinute:Q});if(ae.isSuccess){const Se=await st.getEnglishAuctionById(e);Se.isSuccess&&Se.data&&s(Se.data),e&&await z(e),P({title:se.SUCCESS,description:pt.RESUME_SUCCESS})}else P({title:se.ERROR,description:ae.message||pt.RESUME_ERROR,variant:"destructive"})}catch(ae){const Se=ae instanceof Error?ae.message:pt.RESUME_ERROR;throw P({title:se.ERROR,description:Se,variant:"destructive"}),ae}finally{C(!1)}return}const W={approve:"Approved",reject:"Rejected",stop:"Completed",cancel:"Cancelled"}[T.actionType];try{C(!0);const Q=await st.updateEnglishAuctionStatus(e,W);if(Q.isSuccess){const ae=await st.getEnglishAuctionById(e);ae.isSuccess&&ae.data&&s(ae.data),P({title:se.SUCCESS,description:pt.STATUS_UPDATE_SUCCESS||"Cp nht trng thi thnh cng"})}else P({title:se.ERROR,description:Q.message||pt.STATUS_UPDATE_ERROR||"Khng th cp nht trng thi",variant:"destructive"})}catch(Q){const ae=Q instanceof Error?Q.message:" xy ra li khi cp nht trng thi";throw P({title:se.ERROR,description:ae,variant:"destructive"}),Q}finally{C(!1)}},$=()=>T.actionType?{approve:{title:"Xc nhn duyt phin u gi",description:"Bn c chc chn mun duyt phin u gi ny? Phin s c kch hot v c sn cho ngi dng.",actionLabel:"Duyt",variant:"approve"},reject:{title:"Xc nhn t chi phin u gi",description:"Bn c chc chn mun t chi phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"T chi",variant:"reject"},stop:{title:"Xc nhn dng phin u gi",description:"Bn c chc chn mun dng phin u gi ny? Phin s c kt thc ngay lp tc.",actionLabel:"Dng",variant:"reject"},cancel:{title:"Xc nhn hy phin u gi",description:"Bn c chc chn mun hy phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"Hy",variant:"reject"},pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[T.actionType]:null,M={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},U=(()=>{if(T.actionType==="pause"){const te=D,W=te&&te!=="other"?M[te].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(M).map(([Q,ae],Se)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-category",value:Q,checked:D===Q,onChange:()=>{L(Q),J(""),R("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Se+1,". ",ae.title]})})]})},Q)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-category",value:"other",checked:D==="other",onChange:()=>{L("other"),J(""),R("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),te&&te!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:W.map((Q,ae)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-specific",value:Q,checked:V===Q,onChange:()=>{J(Q);const Se=M[te].title;R(`${Se}: ${Q}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Q})})]})},ae))})]}),te==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Jn,{id:"detail-pause-reason",rows:3,value:O,onChange:Q=>R(Q.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return T.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"detail-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(sn,{id:"detail-resume-extend",type:"number",min:0,value:B,onChange:te=>F(te.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),I=$(),fe=te=>{if(te){_(W=>({...W,isOpen:te}));return}_({isOpen:!1,actionType:null}),R(""),L(null),J(""),F("0")};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="Pending"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>le("approve"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),"Duyt"]}),a.jsxs(ce,{onClick:()=>le("reject"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",disabled:E,children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Khng duyt"]})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>le("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:E,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>le("cancel"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:E,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>le("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>le("cancel"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:E,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Zs,{value:Z(),onValueChange:ie,className:"w-full",children:a.jsxs(ss,{children:[a.jsx(Ct,{value:"overview",children:"Tng Quan"}),a.jsx(Ct,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Ct,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Ct,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Ct,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Id,{auction:r,farmName:d,totalExtendMinutes:Y(),priceChanged:H}),a.jsx(gae,{data:xe,currentPrice:r.currentPrice||r.startingPrice,startingPrice:r.startingPrice}),a.jsx(mae,{harvests:o,farm:m,cropsById:x,currentHarvestByCropId:w})]}),T.actionType&&I&&a.jsx(_g,{isOpen:T.isOpen,onOpenChange:fe,onConfirm:G,title:I.title,description:I.description,actionLabel:I.actionLabel,actionVariant:I.variant,isLoading:E,children:U})]})}function wae(){const{id:e}=gc(),t=yr(),n=Hr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[w,S]=p.useState("all"),[j,N]=p.useState([]),[E,C]=p.useState([]),[T,_]=p.useState(!1),[,O]=p.useState(new Set),[R,D]=p.useState(!1),[L,V]=p.useState({isOpen:!1,actionType:null}),[J,B]=p.useState(""),[F,re]=p.useState(null),[be,xe]=p.useState(""),[q,H]=p.useState("0"),{toast:K}=$n(),ve=p.useCallback(async(Q,ae)=>{try{b(!0);let Se;if(ae){if(Se=await st.getAuctionLogsByType(ae),Se.isSuccess&&Se.data){const Ue=[...Se.data.filter(Re=>Re.auctionPostId===Q)].sort((Re,ze)=>new Date(ze.dateTimeUpdate).getTime()-new Date(Re.dateTimeUpdate).getTime());g(Ue)}}else if(Se=await st.getAuctionLogsByAuctionId(Q),Se.isSuccess&&Se.data){const Ne=[...Se.data].sort((Ue,Re)=>new Date(Re.dateTimeUpdate).getTime()-new Date(Ue.dateTimeUpdate).getTime());g(Ne)}Se&&!Se.isSuccess&&K({title:se.ERROR,description:Se.message||"Khng th ti lch s hot ng",variant:"destructive"})}catch(Se){const Ne=Se instanceof Error?Se.message:" xy ra li khi ti lch s hot ng";K({title:se.ERROR,description:Ne,variant:"destructive"})}finally{b(!1)}},[K]);p.useEffect(()=>{if(e)return di.connect(e,{bidPlaced:Q=>{Q.auctionId===e&&(s(ae=>ae&&{...ae,currentPrice:Q.newPrice}),_(!0),setTimeout(()=>_(!1),1e3),O(ae=>{if(ae.has(Q.bidId))return ae;const Se=new Set(ae);return Se.add(Q.bidId),K({title:"C lt t gi mi",description:`${Q.userName}  t gi ${Q.newPrice.toLocaleString("vi-VN")} VN`}),Se}),ve(e,w==="all"?void 0:w))},buyNow:Q=>{Q.auctionId===e&&(ve(e,w==="all"?void 0:w),s(ae=>ae&&{...ae,currentPrice:Q.buyNowPrice,status:"Completed"}))}}).catch(Q=>{console.error("[AuctionActivityHistoryPage] Failed to init realtime connection:",Q)}),()=>{di.disconnect().catch(console.error)}},[e,w,ve]);const Pe=async Q=>{try{const ae=await st.getAuctionPausesByAuctionId(Q);ae.isSuccess&&ae.data&&N(ae.data)}catch(ae){console.error("Error fetching pause sessions:",ae)}},P=async Q=>{try{const ae=await st.getAuctionExtendsByAuctionId(Q);ae.isSuccess&&ae.data&&C(ae.data)}catch(ae){console.error("Error fetching auction extends:",ae)}};p.useEffect(()=>{if(!e)return;(async()=>{try{f(!0);const ae=await st.getEnglishAuctionById(e);if(ae.isSuccess&&ae.data){if(s(ae.data),ae.data.farmerId)try{const Se=await Mt.getFarms();if(Se.isSuccess&&Se.data){const Ne=Se.data.find(Ue=>Ue.userId===ae.data?.farmerId);Ne&&u(Ne.name)}}catch(Se){console.error("Error fetching farm:",Se)}}else K({title:se.ERROR,description:ae.message||"Khng th ti thng tin phin u gi",variant:"destructive"})}catch(ae){const Se=ae instanceof Error?ae.message:" xy ra li khi ti thng tin phin u gi";K({title:se.ERROR,description:Se,variant:"destructive"})}finally{f(!1)}})()},[e,K]),p.useEffect(()=>{e&&(Pe(e),P(e))},[e]),p.useEffect(()=>{e&&ve(e,w==="all"?void 0:w)},[w,e,ve]);const z=Q=>{switch(Q){case"Create":return a.jsx(qi,{className:"w-4 h-4"});case"StatusChange":return a.jsx(Hu,{className:"w-4 h-4"});case"Publish":return a.jsx(VL,{className:"w-4 h-4"});case"Update":return a.jsx(Hu,{className:"w-4 h-4"});case"Delete":return a.jsx(Hi,{className:"w-4 h-4"});case"Pause":return a.jsx(Ll,{className:"w-4 h-4"});case"Resume":return a.jsx(Bl,{className:"w-4 h-4"});case"Extend":return a.jsx($s,{className:"w-4 h-4"});case"End":return a.jsx($u,{className:"w-4 h-4"});default:return a.jsx($u,{className:"w-4 h-4"})}},ee=Q=>{switch(Q){case"Create":return a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:"To mi"});case"StatusChange":return a.jsx(Oe,{variant:"outline",className:"text-purple-600 border-purple-600",children:"Thay i trng thi"});case"Publish":return a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"Xut bn"});case"Update":return a.jsx(Oe,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Cp nht"});case"Delete":return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:"Xa"});case"Pause":return a.jsx(Oe,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Tm dng"});case"Resume":return a.jsx(Oe,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:"Tip tc"});case"Extend":return a.jsx(Oe,{variant:"outline",className:"text-teal-600 border-teal-600",children:"Gia hn"});case"End":return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Kt thc"});default:return a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:Q})}},Y=Q=>{if(Q.type!=="Pause"&&Q.type!=="Resume")return null;const ae=new Date(Q.dateTimeUpdate).getTime();return j.filter(Ne=>{const Ue=new Date(Ne.pauseStartAt).getTime();return Math.abs(Ue-ae)<300*1e3}).sort((Ne,Ue)=>{const Re=Math.abs(new Date(Ne.pauseStartAt).getTime()-ae),ze=Math.abs(new Date(Ue.pauseStartAt).getTime()-ae);return Re-ze})[0]||null},Z=Q=>{if(Q.type!=="Extend"&&Q.type!=="Resume")return null;const ae=new Date(Q.dateTimeUpdate).getTime();return E.filter(Ne=>{const Ue=new Date(Ne.createdAt).getTime();return Math.abs(Ue-ae)<300*1e3}).sort((Ne,Ue)=>{const Re=Math.abs(new Date(Ne.createdAt).getTime()-ae),ze=Math.abs(new Date(Ue.createdAt).getTime()-ae);return Re-ze})[0]||null},ie=Q=>new Date(Q).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),le=E.reduce((Q,ae)=>Q+ae.extendDurationInMinutes,0),G=Q=>{Q==="pause"&&(B(""),re(null),xe("")),Q==="resume"&&H("0"),V({isOpen:!0,actionType:Q})},$=async()=>{if(!(!e||!L.actionType)){if(L.actionType==="pause"){if(!F){K({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(F!=="other"&&!be){K({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const Q=J.trim();if(!Q){K({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{D(!0);const ae=await st.pauseEnglishAuction({auctionId:e,reason:Q});if(ae.isSuccess){const Se=await st.getEnglishAuctionById(e);Se.isSuccess&&Se.data&&s(Se.data),K({title:se.SUCCESS,description:pt.PAUSE_SUCCESS}),V({isOpen:!1,actionType:null}),B(""),re(null),xe("")}else K({title:se.ERROR,description:ae.message||pt.PAUSE_ERROR,variant:"destructive"})}catch(ae){const Se=ae instanceof Error?ae.message:pt.PAUSE_ERROR;K({title:se.ERROR,description:Se,variant:"destructive"})}finally{D(!1)}return}if(L.actionType==="resume"){const Q=Math.max(0,Number(q)||0);try{D(!0);const ae=await st.resumeEnglishAuction({auctionId:e,extendMinute:Q});if(ae.isSuccess){const Se=await st.getEnglishAuctionById(e);Se.isSuccess&&Se.data&&s(Se.data),await P(e),K({title:se.SUCCESS,description:pt.RESUME_SUCCESS}),V({isOpen:!1,actionType:null}),H("0")}else K({title:se.ERROR,description:ae.message||pt.RESUME_ERROR,variant:"destructive"})}catch(ae){const Se=ae instanceof Error?ae.message:pt.RESUME_ERROR;K({title:se.ERROR,description:Se,variant:"destructive"})}finally{D(!1)}return}}},M={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},U=(()=>{if(L.actionType==="pause"){const Q=F,ae=Q&&Q!=="other"?M[Q].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(M).map(([Se,Ne],Ue)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-category",value:Se,checked:F===Se,onChange:()=>{re(Se),xe(""),B("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Ue+1,". ",Ne.title]})})]})},Se)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-category",value:"other",checked:F==="other",onChange:()=>{re("other"),xe(""),B("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),Q&&Q!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:ae.map((Se,Ne)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-specific",value:Se,checked:be===Se,onChange:()=>{xe(Se);const Ue=M[Q].title;B(`${Ue}: ${Se}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Se})})]})},Ne))})]}),Q==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Jn,{rows:3,value:J,onChange:Se=>B(Se.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return L.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"activity-history-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(sn,{id:"activity-history-resume-extend",type:"number",min:0,value:q,onChange:Q=>H(Q.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),fe=L.actionType?{pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[L.actionType]:null,te=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",W=Q=>{e&&(Q==="overview"?t(`/admin/auctions/${e}`):Q==="activity-history"?t(`/admin/auctions/${e}/activity-history`):Q==="bid-history"?t(`/admin/auctions/${e}/bid-history`):Q==="winner"?t(`/admin/auctions/${e}/winner`):Q==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>G("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:R,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>G("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:R,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>G("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:R,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>G("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:R,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Zs,{value:te(),onValueChange:W,className:"w-full",children:a.jsxs(ss,{children:[a.jsx(Ct,{value:"overview",children:"Tng Quan"}),a.jsx(Ct,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Ct,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Ct,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Ct,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Id,{auction:r,farmName:o,totalExtendMinutes:le,priceChanged:T}),a.jsx(ct,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(qi,{className:"w-5 h-5 text-blue-600"}),"Lch S Hot ng"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"ang ti...":`Tng ${m.length} hot ng`})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(od,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:w,onChange:Q=>S(Q.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c loi"}),a.jsx("option",{value:"Create",children:"To mi"}),a.jsx("option",{value:"Update",children:"Cp nht"}),a.jsx("option",{value:"Delete",children:"Xa"}),a.jsx("option",{value:"Publish",children:"Xut bn"}),a.jsx("option",{value:"End",children:"Kt thc"}),a.jsx("option",{value:"StatusChange",children:"Thay i trng thi"}),a.jsx("option",{value:"Extend",children:"Gia hn"}),a.jsx("option",{value:"Pause",children:"Tm dng"}),a.jsx("option",{value:"Resume",children:"Tip tc"})]})]})})]}),x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti lch s..."})}):m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Cha c hot ng no"})}):a.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:m.map(Q=>a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:z(Q.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee(Q.type),a.jsx("span",{className:"text-xs text-gray-500",children:ie(Q.dateTimeUpdate)})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[Q.type==="StatusChange"&&Q.oldEntity&&Q.newEntity&&a.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Thay i trng thi:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Trc:"}),a.jsx(Oe,{variant:"outline",className:"text-xs",children:(()=>{try{const ae=JSON.parse(Q.oldEntity);return{0:"Draft",1:"Pending",2:"Rejected",3:"Approved",4:"OnGoing",5:"Completed",6:"NoWinner",7:"Cancelled",8:"Pause"}[ae.status]||`Status ${ae.status}`}catch{return"N/A"}})()}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:"Sau:"}),a.jsx(Oe,{variant:"outline",className:"text-xs",children:(()=>{try{const ae=JSON.parse(Q.newEntity);return{0:"Draft",1:"Pending",2:"Rejected",3:"Approved",4:"OnGoing",5:"Completed",6:"NoWinner",7:"Cancelled",8:"Pause"}[ae.status]||`Status ${ae.status}`}catch{return"N/A"}})()})]})]}),Q.type==="Publish"&&a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c xut bn"}),Q.type==="Create"&&a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c to mi"}),Q.type==="Pause"&&(()=>{const ae=Y(Q);if(!ae)return a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c tm dng"});let Se=ae.pauseDurationInMinutes;if(Se===null&&ae.pauseEndAt){const Ne=new Date(ae.pauseStartAt).getTime(),Ue=new Date(ae.pauseEndAt).getTime();Se=Math.round((Ue-Ne)/(1e3*60))}return a.jsxs("div",{className:"bg-orange-50 p-3 rounded border border-orange-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-orange-700 mb-2",children:"Chi tit tm dng:"}),a.jsxs("div",{className:"space-y-1 text-xs text-orange-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"L do:"})," ",ae.reason]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bt u:"})," ",ie(ae.pauseStartAt)]}),ae.pauseEndAt&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",ie(ae.pauseEndAt)]}),Se!==null&&Se>0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian tm dng:"})," ",Se," pht"]}),ae.note&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",ae.note]})]})]})})(),Q.type==="Resume"&&(()=>{const ae=Y(Q),Se=Z(Q);let Ne=ae?.pauseDurationInMinutes??null;if(Ne===null&&ae?.pauseEndAt){const Ue=new Date(ae.pauseStartAt).getTime(),Re=new Date(ae.pauseEndAt).getTime();Ne=Math.round((Re-Ue)/(1e3*60))}return a.jsxs("div",{className:"bg-emerald-50 p-3 rounded border border-emerald-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-700 mb-2",children:"Chi tit tip tc:"}),a.jsxs("div",{className:"space-y-1 text-xs text-emerald-600",children:[ae&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bt u tm dng:"})," ",ie(ae.pauseStartAt)]}),ae.pauseEndAt&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Kt thc tm dng:"})," ",ie(ae.pauseEndAt)]}),Ne!==null&&Ne>0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian tm dng:"})," ",Ne," pht"]}),ae.note&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",ae.note]})]}),Se&&Se.extendDurationInMinutes>0&&a.jsxs("p",{className:"mt-2 pt-2 border-t border-emerald-300",children:[a.jsx("span",{className:"font-medium",children:"Gia hn thm:"})," ",Se.extendDurationInMinutes," pht"]})]})]})})(),Q.type==="Extend"&&(()=>{const ae=Z(Q);return ae?a.jsxs("div",{className:"bg-teal-50 p-3 rounded border border-teal-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-teal-700 mb-2",children:"Chi tit gia hn:"}),a.jsxs("div",{className:"space-y-1 text-xs text-teal-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian gia hn:"})," ",ae.extendDurationInMinutes," pht"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",ae.extendType]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian to:"})," ",ie(ae.createdAt)]})]})]}):a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c gia hn"})})()]})]})]},Q.id))})]})})]}),L.actionType&&fe&&a.jsx(_g,{isOpen:L.isOpen,onOpenChange:Q=>{Q||(V({isOpen:!1,actionType:null}),B(""),re(null),xe(""),H("0"))},onConfirm:$,title:fe.title,description:fe.description,actionLabel:fe.actionLabel,actionVariant:fe.variant,isLoading:R,children:U})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}function jae(){const{id:e}=gc(),t=yr(),n=Hr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[w,S]=p.useState([]),[j,N]=p.useState(!1),[E,C]=p.useState(!1),[,T]=p.useState(new Set),[_,O]=p.useState(!1),[R,D]=p.useState({isOpen:!1,actionType:null}),[L,V]=p.useState(""),[J,B]=p.useState(null),[F,re]=p.useState(""),[be,xe]=p.useState("0"),{toast:q}=$n(),H=M=>{if(M<=0||Number.isNaN(M))return"< 1 giy";const U=Math.floor(M/1e3),I=Math.floor(U/3600),fe=Math.floor(U%3600/60),te=U%60,W=[];return I&&W.push(`${I} gi`),fe&&W.push(`${fe} pht`),(te||W.length===0)&&W.push(`${te} giy`),W.join(" ")},K=(M,U)=>{const I=new Date(U.dateTimeUpdate).getTime();if(Number.isNaN(I))return"Khng xc nh";if(M===0){const W=Date.now()-I;return W>0?`${H(W)} (cha b vt)`:"< 1 giy"}const fe=m[M-1];if(!fe)return"Khng xc nh";const te=new Date(fe.dateTimeUpdate).getTime();return Number.isNaN(te)||te<=I?"< 1 giy":H(te-I)},ve=p.useCallback(async(M,U=!1)=>{try{U||b(!0);const I=await st.getBidLogsByAuctionId(M);if(I.isSuccess&&I.data){const fe=[...I.data].sort((W,Q)=>new Date(Q.dateTimeUpdate).getTime()-new Date(W.dateTimeUpdate).getTime());g(fe);const te=new Set(fe.map(W=>W.bidId||W.id).filter(Boolean));T(te)}else U||q({title:se.ERROR,description:I.message||"Khng th ti lch s t gi",variant:"destructive"})}catch(I){const fe=I instanceof Error?I.message:" xy ra li khi ti lch s t gi";U||q({title:se.ERROR,description:fe,variant:"destructive"})}finally{U||b(!1)}},[q]);p.useEffect(()=>{if(!e){console.log("[AuctionBidHistoryPage] No auction ID, skipping SignalR setup");return}let M=!0;return(async()=>{try{console.log("[AuctionBidHistoryPage]  Setting up SignalR connection for current price updates:",e),await di.connect(e,{bidPlaced:I=>{if(M){if(console.log("[AuctionBidHistoryPage]  BidPlaced event received for price update:",{auctionId:I.auctionId,bidId:I.bidId,userName:I.userName,newPrice:I.newPrice,currentAuctionId:e}),I.auctionId!==e){console.log("[AuctionBidHistoryPage]  Event auctionId mismatch, ignoring");return}s(fe=>fe&&{...fe,currentPrice:I.newPrice}),N(!0),setTimeout(()=>N(!1),1e3),T(fe=>{if(fe.has(I.bidId))return fe;const te=new Set(fe);return te.add(I.bidId),q({title:"C lt t gi mi",description:`${I.userName}  t gi ${I.newPrice.toLocaleString("vi-VN")} VN`}),te})}}}),M&&console.log("[AuctionBidHistoryPage]  SignalR connected successfully for price updates:",e)}catch(I){console.error("[AuctionBidHistoryPage]  Failed to init SignalR connection for price updates:",I)}})(),()=>{M=!1,console.log("[AuctionBidHistoryPage]  Cleaning up SignalR connection for auction:",e),di.disconnect().catch(console.error)}},[e,q]),p.useEffect(()=>{(async()=>{if(e)try{f(!0);const U=await st.getEnglishAuctionById(e);if(!U.isSuccess||!U.data)return;const I=U.data;s(I);const fe=await Mt.getFarms();if(fe.isSuccess&&fe.data){const te=fe.data.find(W=>W.userId===I.farmerId);te&&u(te.name)}await ve(e,!0),await Pe(e)}finally{f(!1)}})()},[e,ve]),p.useEffect(()=>{if(!e||!r){C(!1);return}const M=r.status==="OnGoing"||r.status==="Pending"||r.status==="Approved";if(C(M),!M)return;console.log("[AuctionBidHistoryPage]  Setting up auto-reload for bid logs (polling every 5s)");const U=setInterval(()=>{ve(e,!0)},5e3);return()=>{console.log("[AuctionBidHistoryPage]  Cleaning up auto-reload interval"),clearInterval(U)}},[e,r,ve]);const Pe=async M=>{try{const U=await st.getAuctionExtendsByAuctionId(M);U.isSuccess&&U.data&&S(U.data)}catch(U){console.error("Error fetching auction extends:",U)}},P=w.reduce((M,U)=>M+U.extendDurationInMinutes,0),z=M=>{M==="pause"&&(V(""),B(null),re("")),M==="resume"&&xe("0"),D({isOpen:!0,actionType:M})},ee=async()=>{if(!(!e||!R.actionType)){if(R.actionType==="pause"){if(!J){q({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(J!=="other"&&!F){q({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const M=L.trim();if(!M){q({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{O(!0);const U=await st.pauseEnglishAuction({auctionId:e,reason:M});if(U.isSuccess){const I=await st.getEnglishAuctionById(e);I.isSuccess&&I.data&&s(I.data),q({title:se.SUCCESS,description:pt.PAUSE_SUCCESS}),D({isOpen:!1,actionType:null}),V(""),B(null),re("")}else q({title:se.ERROR,description:U.message||pt.PAUSE_ERROR,variant:"destructive"})}catch(U){const I=U instanceof Error?U.message:pt.PAUSE_ERROR;q({title:se.ERROR,description:I,variant:"destructive"})}finally{O(!1)}return}if(R.actionType==="resume"){const M=Math.max(0,Number(be)||0);try{O(!0);const U=await st.resumeEnglishAuction({auctionId:e,extendMinute:M});if(U.isSuccess){const I=await st.getEnglishAuctionById(e);I.isSuccess&&I.data&&s(I.data),await Pe(e),q({title:se.SUCCESS,description:pt.RESUME_SUCCESS}),D({isOpen:!1,actionType:null}),xe("0")}else q({title:se.ERROR,description:U.message||pt.RESUME_ERROR,variant:"destructive"})}catch(U){const I=U instanceof Error?U.message:pt.RESUME_ERROR;q({title:se.ERROR,description:I,variant:"destructive"})}finally{O(!1)}return}}},Y={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},Z=(()=>{if(R.actionType==="pause"){const M=J,U=M&&M!=="other"?Y[M].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(Y).map(([I,fe],te)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-category",value:I,checked:J===I,onChange:()=>{B(I),re(""),V("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[te+1,". ",fe.title]})})]})},I)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-category",value:"other",checked:J==="other",onChange:()=>{B("other"),re(""),V("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),M&&M!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:U.map((I,fe)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-specific",value:I,checked:F===I,onChange:()=>{re(I);const te=Y[M].title;V(`${te}: ${I}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:I})})]})},fe))})]}),M==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Jn,{rows:3,value:L,onChange:I=>V(I.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return R.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"bid-history-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(sn,{id:"bid-history-resume-extend",type:"number",min:0,value:be,onChange:M=>xe(M.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),le=R.actionType?{pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[R.actionType]:null,G=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",$=M=>{e&&(M==="overview"?t(`/admin/auctions/${e}`):M==="activity-history"?t(`/admin/auctions/${e}/activity-history`):M==="bid-history"?t(`/admin/auctions/${e}/bid-history`):M==="winner"?t(`/admin/auctions/${e}/winner`):M==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>z("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:_,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>z("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:_,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>z("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:_,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>z("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:_,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Zs,{value:G(),onValueChange:$,className:"w-full",children:a.jsxs(ss,{children:[a.jsx(Ct,{value:"overview",children:"Tng Quan"}),a.jsx(Ct,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Ct,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Ct,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Ct,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Id,{auction:r,farmName:o,totalExtendMinutes:P,priceChanged:j}),a.jsx(ct,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(qi,{className:"w-5 h-5 text-blue-600"}),"Lch S t Gi",E&&a.jsx("span",{className:"flex items-center gap-1 text-xs font-normal text-blue-600 bg-blue-50 px-2 py-1 rounded",children:a.jsx(Ka,{className:"w-3 h-3 animate-spin"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"ang ti...":`Tng ${m.length} lt t gi`})]})}),x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti danh sch t gi..."})}):m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Cha c lt t gi no cho phin u gi ny"})}):a.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs("tr",{children:[a.jsx(ye,{children:"STT"}),a.jsx(ye,{children:"Thng li"}),a.jsx(ye,{className:"text-right",children:"Gi t"}),a.jsx(ye,{className:"text-center",children:"T ng"}),a.jsx(ye,{className:"text-right",children:"Gii hn t ng t gi"}),a.jsx(ye,{className:"text-right",children:"Gi v tr cao nht"})]})}),a.jsx(cn,{children:m.map((M,U)=>{const I=b4(M),fe=K(U,M),te=`${M.id||M.bidId||"unknown"}-${M.dateTimeUpdate||"no-date"}`;return a.jsxs(lt,{children:[a.jsx(je,{children:U+1}),a.jsx(je,{className:"text-sm text-gray-900",children:M.userName?.trim()||"Unknown"}),a.jsx(je,{className:"text-right font-semibold text-emerald-700",children:I?.bidAmount!==void 0?ot(I.bidAmount):""}),a.jsx(je,{className:"text-center",children:I?.isAutoBid?"C":"Khng"}),a.jsx(je,{className:"text-right",children:I&&I.autoBidMaxLimit&&I.autoBidMaxLimit>0?ot(I.autoBidMaxLimit):""}),a.jsx(je,{className:"text-right text-sm text-gray-700",children:fe})]},te)})})]})})]})})]}),R.actionType&&le&&a.jsx(_g,{isOpen:R.isOpen,onOpenChange:M=>{M||(D({isOpen:!1,actionType:null}),V(""),B(null),re(""),xe("0"))},onConfirm:ee,title:le.title,description:le.description,actionLabel:le.actionLabel,actionVariant:le.variant,isLoading:_,children:Z})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}function Nae({winner:e}){return e?a.jsx(ct,{className:"overflow-hidden border-2 border-amber-300 bg-gradient-to-br from-amber-50 to-orange-50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(zE,{className:"w-6 h-6 text-amber-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Ngi Thng u Gi"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Tn Thng Li"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.name})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oe,{className:"bg-green-100 text-green-700 flex items-center gap-1",children:[a.jsx(_a,{className:"w-4 h-4"})," Chin Thng"]})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Thng"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:ot(e.finalPrice)})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"S Ln u Gi"}),a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.bidCount," ln"]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-amber-200 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ub,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lR,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"in Thoi"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.phone})]})]})]})]})}):a.jsx(ct,{className:"bg-gray-50 border-gray-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(zE,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Cha c ngi thng u gi"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Phin u gi vn ang din ra hoc cha c kt qu"})]})})}function Sae(){const{id:e}=gc(),t=yr(),n=Hr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[,w]=p.useState(new Set),{toast:S}=$n(),[j,N]=p.useState(void 0),E=p.useCallback(async R=>{try{const D=await st.getAuctionExtendsByAuctionId(R);D.isSuccess&&D.data&&g(D.data)}catch(D){console.error("Error fetching auction extends:",D)}},[]),C=p.useCallback(async()=>{if(e)try{const R=await st.getEnglishAuctionById(e);if(!R.isSuccess||!R.data)return;const D=R.data;s(D);const L=await Mt.getFarms();if(L.isSuccess&&L.data){const V=L.data.find(J=>J.userId===D.farmerId);V&&u(V.name)}if(D.winnerId&&D.winningPrice)try{const V=await pr.getById(D.winnerId);if(V.isSuccess&&V.data){const J=V.data,B=await st.getBidLogsByAuctionId(e);let F=0;B.isSuccess&&B.data&&(F=B.data.filter(be=>be.userId===D.winnerId).length);const re=`${J.firstName||""} ${J.lastName||""}`.trim()||J.email||D.winnerId;N({id:J.id,name:re,email:J.email||"",phone:J.phoneNumber||"",finalPrice:D.winningPrice,bidCount:F,winTime:new Date(D.updatedAt||D.endDate)})}}catch(V){console.error("Error fetching winner info:",V),D.winnerId&&D.winningPrice&&N({id:D.winnerId,name:D.winnerId,email:"",phone:"",finalPrice:D.winningPrice,bidCount:0,winTime:new Date(D.updatedAt||D.endDate)})}else N(void 0);await E(e)}catch(R){console.error("Error fetching winner data:",R)}},[e,E]);p.useEffect(()=>{if(e)return di.connect(e,{bidPlaced:R=>{R.auctionId===e&&(s(D=>D&&{...D,currentPrice:R.newPrice}),b(!0),setTimeout(()=>b(!1),1e3),w(D=>{if(D.has(R.bidId))return D;const L=new Set(D);return L.add(R.bidId),S({title:"C lt t gi mi",description:`${R.userName}  t gi ${R.newPrice.toLocaleString("vi-VN")} VN`}),L}),setTimeout(()=>{C()},500))},buyNow:R=>{R.auctionId===e&&C()}}).catch(R=>{console.error("[AuctionWinnerPage] Failed to init realtime connection:",R)}),()=>{di.disconnect().catch(console.error)}},[e,C]),p.useEffect(()=>{(async()=>{if(e)try{f(!0),await C()}finally{f(!1)}})()},[e,C]);const T=m.reduce((R,D)=>R+D.extendDurationInMinutes,0),_=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",O=R=>{e&&(R==="overview"?t(`/admin/auctions/${e}`):R==="activity-history"?t(`/admin/auctions/${e}/activity-history`):R==="bid-history"?t(`/admin/auctions/${e}/bid-history`):R==="winner"?t(`/admin/auctions/${e}/winner`):R==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("div",{className:"flex items-center justify-between gap-3 mb-6",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]})}),a.jsx(Zs,{value:_(),onValueChange:O,className:"w-full",children:a.jsxs(ss,{children:[a.jsx(Ct,{value:"overview",children:"Tng Quan"}),a.jsx(Ct,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Ct,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Ct,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Ct,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Id,{auction:r,farmName:o,totalExtendMinutes:T,priceChanged:x}),a.jsx(Nae,{winner:j})]})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}const wl={async getDisputes(e={}){return it.get(Ie.dispute.list,{cache:!1,params:e})},async getPendingDisputes(){return it.get(Ie.dispute.pending,{cache:!1})},async getDisputeById(e){return it.get(Ie.dispute.detail(e),{cache:!1})},async updateDisputeStatus(e,t){return it.patch(Ie.dispute.updateStatus(e),t,{invalidateCache:Ie.dispute.list})},async createDisputeResolve(e){return it.post(Ie.dispute.createResolve,e,{invalidateCache:Ie.dispute.list})},async getResolveByDisputeId(e){return it.get(Ie.dispute.resolveByDisputeId(e),{cache:!1})},async getResolveByEscrowId(e){return it.get(Ie.dispute.resolveByEscrowId(e),{cache:!1})}},Eae="https://gateway.a-379.store",ri=new Um(Eae),ks={async getCategories(){return ri.get(Ie.policy.categories.list,{cache:!1})},async getCategoryById(e){return ri.get(Ie.policy.categories.detail(e),{cache:!1})},async createCategory(e){return ri.post(Ie.policy.categories.create,e)},async updateCategory(e,t){return ri.put(Ie.policy.categories.update(e),t)},async deleteCategory(e){return ri.delete(Ie.policy.categories.delete(e))},async getCategoryItems(e){return ri.get(Ie.policy.categories.items(e),{cache:!1})},async getItemById(e){return ri.get(Ie.policy.items.detail(e),{cache:!1})},async createItem(e){return ri.post(Ie.policy.items.create,e)},async updateItem(e,t){return ri.put(Ie.policy.items.update(e),t)},async deleteItem(e){return ri.delete(Ie.policy.items.delete(e))}},Cae=["Pending","InReview","Resolved","ActionTaken","Rejected"],Aae=["Fraud","FalseInformation","TechnicalIssue","PolicyViolated","Other"],Cf={Fraud:"Gian ln",FalseInformation:"Thng tin sai",TechnicalIssue:"Li k thut",PolicyViolated:"Vi phm chnh sch",Other:"Khc"};function Tae(){const{id:e}=gc(),t=yr(),n=Hr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState({}),[x,b]=p.useState(null),[w,S]=p.useState(!1),[j,N]=p.useState(null),[E,C]=p.useState(null),[T,_]=p.useState(""),[O,R]=p.useState(1),[D,L]=p.useState(10),[V,J]=p.useState([]),[B,F]=p.useState(!1),[,re]=p.useState(new Set),[be,xe]=p.useState({}),[q,H]=p.useState(!1),[K,ve]=p.useState(null),[Pe,P]=p.useState(null),[z,ee]=p.useState(!1),[Y,Z]=p.useState({isOpen:!1,actionType:null}),[ie,le]=p.useState(""),[G,$]=p.useState(null),[M,U]=p.useState(""),[I,fe]=p.useState("0"),{toast:te}=$n(),W=p.useCallback(async()=>{if(e)try{const Ce=await st.getEnglishAuctionById(e);if(!Ce.isSuccess||!Ce.data)return;const qe=Ce.data;s(qe);const Je=await Mt.getFarms();if(Je.isSuccess&&Je.data){const Qt=Je.data.find(xt=>xt.userId===qe.farmerId);Qt&&u(Qt.name)}await ae(e)}catch(Ce){console.error("Error fetching auction data:",Ce)}},[e]),Q=p.useCallback(async(Ce={})=>{if(!e)return;const{silent:qe=!1}=Ce;try{qe||S(!0),C(null);const Je=await cc.getReportsByAuctionId(e);Je.data&&(b(Je.data),qe||te({title:se.SUCCESS,description:ta.FETCH_SUCCESS}))}catch(Je){const Qt=Je instanceof Error&&Je.message?Je.message:ta.FETCH_ERROR;C(Qt),qe||te({title:se.ERROR,description:Qt,variant:"destructive"})}finally{qe||S(!1)}},[e,te]);p.useEffect(()=>{if(!e)return;let Ce=!0,qe=0;const Je=3,Qt=async()=>{try{console.log("[AuctionReportsPage]  Setting up SignalR connection for auction:",e),await di.connect(e,{bidPlaced:xt=>{!Ce||xt.auctionId!==e||(s(Gt=>Gt&&{...Gt,currentPrice:xt.newPrice}),F(!0),setTimeout(()=>F(!1),1e3),re(Gt=>{if(Gt.has(xt.bidId))return Gt;const Rr=new Set(Gt);return Rr.add(xt.bidId),te({title:"C lt t gi mi",description:`${xt.userName}  t gi ${xt.newPrice.toLocaleString("vi-VN")} VN`}),Rr}),W(),setTimeout(()=>{Ce&&(Q({silent:!0}),setTimeout(()=>{Ce&&Q({silent:!0})},1e3))},1500))},buyNow:xt=>{!Ce||xt.auctionId!==e||(W(),setTimeout(()=>{Ce&&(Q({silent:!0}),setTimeout(()=>{Ce&&Q({silent:!0})},1e3))},1500))}}),Ce&&(console.log("[AuctionReportsPage]  SignalR connected successfully for auction:",e),qe=0)}catch(xt){if(console.error("[AuctionReportsPage]  Failed to init realtime connection:",xt),Ce&&qe<Je){qe++;const Gt=Math.min(1e3*Math.pow(2,qe-1),5e3);console.log(`[AuctionReportsPage]  Retrying SignalR connection (${qe}/${Je}) in ${Gt}ms...`),setTimeout(()=>{Ce&&Qt()},Gt)}}};return Qt(),()=>{Ce=!1,console.log("[AuctionReportsPage]  Cleaning up SignalR connection for auction:",e),di.disconnect().catch(console.error)}},[e,W,Q,te]),p.useEffect(()=>{(async()=>{try{const qe=await pr.list();if(qe.isSuccess&&qe.data){const Je=qe.data,Qt=Array.isArray(Je)?Je:Je?.items??[],xt={};Qt.forEach(Gt=>{xt[Gt.id]=`${Gt.firstName} ${Gt.lastName}`.trim()||Gt.email}),xe(xt)}}catch(qe){console.error("Error fetching users:",qe)}})()},[]),p.useEffect(()=>{(async()=>{if(e)try{f(!0),await W()}finally{f(!1)}})()},[e,W]);const ae=async Ce=>{try{const qe=await st.getAuctionExtendsByAuctionId(Ce);qe.isSuccess&&qe.data&&J(qe.data)}catch(qe){console.error("Error fetching auction extends:",qe)}},Se=(Ce,qe)=>{g(Je=>({...Je,[Ce]:qe||void 0})),R(1)};p.useEffect(()=>{e&&Q({silent:!0})},[Q,e]);const Ne=Ce=>{R(qe=>Math.max(1,qe+(Ce==="next"?1:-1)))},Ue=Ce=>{L(Ce),R(1)},Re=(Ce,qe)=>{ve(Ce),P(qe),H(!0)},ze=async()=>{if(!(!K||!Pe))try{N(K.id),C(null),await cc.updateReportStatus(K.id,Pe),te({title:se.SUCCESS,description:ta.UPDATE_SUCCESS}),H(!1),ve(null),P(null),await Q({silent:!0})}catch(Ce){const qe=Ce instanceof Error&&Ce.message?Ce.message:ta.UPDATE_ERROR;C(qe),te({title:se.ERROR,description:qe,variant:"destructive"})}finally{N(null)}},nt=Ce=>{Ce==="pause"&&(le(""),$(null),U("")),Ce==="resume"&&fe("0"),Z({isOpen:!0,actionType:Ce})},He=async()=>{if(!(!e||!Y.actionType)){if(Y.actionType==="pause"){if(!G){te({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(G!=="other"&&!M){te({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const Ce=ie.trim();if(!Ce){te({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{ee(!0);const qe=await st.pauseEnglishAuction({auctionId:e,reason:Ce});if(qe.isSuccess){const Je=await st.getEnglishAuctionById(e);Je.isSuccess&&Je.data&&s(Je.data),te({title:se.SUCCESS,description:pt.PAUSE_SUCCESS}),Z({isOpen:!1,actionType:null}),le(""),$(null),U("")}else te({title:se.ERROR,description:qe.message||pt.PAUSE_ERROR,variant:"destructive"})}catch(qe){const Je=qe instanceof Error?qe.message:pt.PAUSE_ERROR;te({title:se.ERROR,description:Je,variant:"destructive"})}finally{ee(!1)}return}if(Y.actionType==="resume"){const Ce=Math.max(0,Number(I)||0);try{ee(!0);const qe=await st.resumeEnglishAuction({auctionId:e,extendMinute:Ce});if(qe.isSuccess){const Je=await st.getEnglishAuctionById(e);Je.isSuccess&&Je.data&&s(Je.data),await ae(e),te({title:se.SUCCESS,description:pt.RESUME_SUCCESS}),Z({isOpen:!1,actionType:null}),fe("0")}else te({title:se.ERROR,description:qe.message||pt.RESUME_ERROR,variant:"destructive"})}catch(qe){const Je=qe instanceof Error?qe.message:pt.RESUME_ERROR;te({title:se.ERROR,description:Je,variant:"destructive"})}finally{ee(!1)}return}}},De={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},Le=(()=>{if(Y.actionType==="pause"){const Ce=G,qe=Ce&&Ce!=="other"?De[Ce].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(De).map(([Je,Qt],xt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-category",value:Je,checked:G===Je,onChange:()=>{$(Je),U(""),le("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[xt+1,". ",Qt.title]})})]})},Je)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-category",value:"other",checked:G==="other",onChange:()=>{$("other"),U(""),le("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),Ce&&Ce!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:qe.map((Je,Qt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-specific",value:Je,checked:M===Je,onChange:()=>{U(Je);const xt=De[Ce].title;le(`${xt}: ${Je}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Je})})]})},Qt))})]}),Ce==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Jn,{rows:3,value:ie,onChange:Je=>le(Je.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return Y.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"reports-resume-extend",children:"Gia hn thm (pht)"}),a.jsx("input",{id:"reports-resume-extend",type:"number",min:0,value:I,onChange:Ce=>fe(Ce.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),$e=p.useMemo(()=>{if(!x?.items)return[];let Ce=x.items;m.status&&(Ce=Ce.filter(Je=>Je.reportStatus===m.status)),m.type&&(Ce=Ce.filter(Je=>Je.reportType===m.type));const qe=T.trim().toLowerCase();return qe&&(Ce=Ce.filter(Je=>Je.note.toLowerCase().includes(qe)||Je.auctionId.toLowerCase().includes(qe)||Je.reporterId.toLowerCase().includes(qe)||Cf[Je.reportType].toLowerCase().includes(qe))),Ce},[x,T,m.status,m.type]),Be=$e.length,dt=Math.max(1,Math.ceil(Be/D)),un=(O-1)*D,dn=$e.slice(un,un+D),kn=Ce=>{switch(Ce){case"Pending":return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:Ca[Ce]});case"InReview":return a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:Ca[Ce]});case"Resolved":return a.jsx(Oe,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:Ca[Ce]});case"ActionTaken":return a.jsx(Oe,{variant:"outline",className:"text-purple-600 border-purple-600",children:Ca[Ce]});case"Rejected":return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:Ca[Ce]});default:return a.jsx(Oe,{variant:"outline",children:Ce})}},Cn=Ce=>new Date(Ce).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Pt=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",Wn=Ce=>{e&&(Ce==="overview"?t(`/admin/auctions/${e}`):Ce==="activity-history"?t(`/admin/auctions/${e}/activity-history`):Ce==="bid-history"?t(`/admin/auctions/${e}/bid-history`):Ce==="winner"?t(`/admin/auctions/${e}/winner`):Ce==="reports"&&t(`/admin/auctions/${e}/reports`))};if(d)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})});if(!r)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})});const Et=V.reduce((Ce,qe)=>Ce+qe.extendDurationInMinutes,0);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>nt("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:z,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>nt("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:z,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>nt("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:z,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>nt("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:z,children:[a.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Zs,{value:Pt(),onValueChange:Wn,className:"w-full",children:a.jsxs(ss,{children:[a.jsx(Ct,{value:"overview",children:"Tng Quan"}),a.jsx(Ct,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Ct,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Ct,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Ct,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Id,{auction:r,farmName:o,totalExtendMinutes:Et,priceChanged:B}),a.jsxs(ct,{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"B lc"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:m.status??"",onChange:Ce=>Se("status",Ce.target.value||void 0),children:[a.jsx("option",{value:"",children:"Tt c"}),Cae.map(Ce=>a.jsx("option",{value:Ce,children:Ca[Ce]},Ce))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi bo co"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:m.type??"",onChange:Ce=>Se("type",Ce.target.value||void 0),children:[a.jsx("option",{value:"",children:"Tt c"}),Aae.map(Ce=>a.jsx("option",{value:Ce,children:Cf[Ce]},Ce))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kch thc trang"}),a.jsx("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:D,onChange:Ce=>Ue(Number(Ce.target.value)),children:[10,20,50].map(Ce=>a.jsxs("option",{value:Ce,children:[Ce," kt qu"]},Ce))})]})]})]}),E&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:E})]}),a.jsxs(ct,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch bo co"}),a.jsx("p",{className:"text-sm text-gray-600",children:w?"ang ti...":x?`Hin th ${dn.length} / ${Be} bo co (tng ${x.totalCount})`:"Cha c d liu"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(sn,{value:T,onChange:Ce=>_(Ce.target.value),placeholder:"Tm theo ni dung, m phin...",className:"pl-9"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Q(),disabled:w,children:[a.jsx(Ka,{className:`h-4 w-4 mr-2 ${w?"animate-spin":""}`}),w?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:w?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left w-[12%] min-w-[110px]",children:"Loi bo co"}),a.jsx(ye,{className:"text-left w-[20%] min-w-[180px]",children:"Ni dung"}),a.jsx(ye,{className:"text-left w-[15%] min-w-[140px]",children:"M phin u gi"}),a.jsx(ye,{className:"text-left w-[15%] min-w-[140px]",children:"Ngi bo co"}),a.jsx(ye,{className:"text-left w-[10%] min-w-[110px]",children:"Trng thi"}),a.jsx(ye,{className:"text-left w-[13%] min-w-[130px]",children:"Ngy to"}),a.jsx(ye,{className:"text-right w-[15%] min-w-[150px]",children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((Ce,qe)=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[28%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[18%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(je,{className:"w-[13%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"text-right w-[17%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 ml-auto"})})]},qe))})]}):dn.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left w-[14%] min-w-[130px]",children:"Loi bo co"}),a.jsx(ye,{className:"text-left w-[28%] min-w-[220px]",children:"Ni dung"}),a.jsx(ye,{className:"text-left w-[18%] min-w-[160px]",children:"Ngi bo co"}),a.jsx(ye,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(ye,{className:"text-left w-[13%] min-w-[140px]",children:"Ngy to"}),a.jsx(ye,{className:"text-right w-[17%] min-w-[180px]",children:"Thao tc"})]})}),a.jsx(cn,{children:dn.map(Ce=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"min-h-[48px] w-[12%]",children:a.jsx("div",{className:"font-medium text-gray-900",children:Cf[Ce.reportType]})}),a.jsx(je,{className:"min-h-[48px] w-[20%]",children:a.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",title:Ce.note,children:Ce.note})}),a.jsx(je,{className:"text-sm min-h-[48px] w-[15%]",children:a.jsx("div",{className:"truncate max-w-[200px]",title:be[Ce.reporterId]||Ce.reporterId,children:be[Ce.reporterId]||Ce.reporterId})}),a.jsx(je,{className:"min-h-[48px] w-[10%]",children:kn(Ce.reportStatus)}),a.jsx(je,{className:"text-sm min-h-[48px] w-[13%]",children:Cn(Ce.createdAt)}),a.jsx(je,{className:"text-right min-h-[48px] w-[15%]",children:Ce.reportStatus==="Pending"?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Re(Ce,"InReview"),disabled:!!j,className:"text-emerald-600 border-emerald-600 hover:bg-emerald-50",children:[a.jsx(_a,{className:"h-4 w-4 mr-2"}),"Xem xt"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Re(Ce,"Rejected"),disabled:!!j,className:"text-red-600 border-red-600 hover:bg-red-50",children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"T chi"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:""})})]},Ce.id))})]}),dt>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",O," / ",dt]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Ne("prev"),disabled:w||O<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Ne("next"),disabled:w||O>=dt,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:T?"Khng tm thy bo co":"Cha c bo co no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:T?"Th tm kim vi t kha khc hoc xa b lc":"Hin ti cha c bo co no cho phin u gi ny"}),T&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>_(""),children:"Xa tm kim"})]})})]})]}),a.jsx(Wt,{open:q,onOpenChange:H,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:Pe==="InReview"?"text-emerald-600":"text-red-600",children:Pe==="InReview"?"Xc nhn xem xt bo co":"Xc nhn t chi bo co"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:Pe==="InReview"?"Bn c chc chn mun chuyn bo co ny sang trng thi 'ang xem xt'?":"Bn c chc chn mun t chi bo co ny? Hnh ng ny khng th hon tc."}),K&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Loi: ",Cf[K.reportType]]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",title:K.note,children:K.note}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ngi bo co: ",be[K.reporterId]||K.reporterId]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{H(!1),ve(null),P(null)},disabled:!!j,children:"Hy"}),a.jsx(ce,{onClick:ze,disabled:!!j,className:Pe==="InReview"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Ka,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:Pe==="InReview"?a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"h-4 w-4 mr-2"}),"Xc nhn xem xt"]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"Xc nhn t chi"]})})})]})]})]})}),Y.actionType&&a.jsx(Wt,{open:Y.isOpen,onOpenChange:Ce=>{Ce||(Z({isOpen:!1,actionType:null}),le(""),$(null),U(""),fe("0"))},children:a.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:Y.actionType==="pause"?"text-amber-600":"text-emerald-600",children:Y.actionType==="pause"?"Tm dng phin u gi":"Tip tc phin u gi"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:Y.actionType==="pause"?"Nhp l do tm dng, phin s b kha vi ngi tham gia.":"Thit lp thi gian gia hn (nu cn) ri m li phin."}),Le,a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{Z({isOpen:!1,actionType:null}),le(""),$(null),U(""),fe("0")},disabled:z,children:"Hy"}),a.jsx(ce,{onClick:He,disabled:z,className:Y.actionType==="pause"?"bg-amber-500 hover:bg-amber-600 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white",children:z?a.jsxs(a.Fragment,{children:[a.jsx(Ka,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:Y.actionType==="pause"?a.jsxs(a.Fragment,{children:[a.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Tm dng"]}):a.jsxs(a.Fragment,{children:[a.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Tip tc"]})})})]})]})]})})]})}function _ae(){const{token:e}=Gs(),n=(()=>{try{const o=localStorage.getItem("currentUser");if(o)return JSON.parse(o)}catch(o){console.error("Li khi c thng tin ngi dng:",o)}return null})(),r=o=>o?new Date(o).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",s=o=>o?a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:"C"}):a.jsx(Oe,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Ci t h thng"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Thng tin ti khon ca bn"})]}),a.jsxs(ct,{className:"card-responsive",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-responsive-xl font-semibold text-gray-900 mb-2",children:"Thng tin c nhn"})}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:n.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"H"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.firstName||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.lastName||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"H v tn"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:`${n.firstName} ${n.lastName}`.trim()||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S in thoi"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.phoneNumber||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"a ch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.address||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"X/Phng"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.communes||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tnh/Thnh ph"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.province||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vai tr ID"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:n.roleId||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vai tr"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:typeof n.role=="string"?n.role:n.roleObject?.name||n.roleObject?.fullName||n.roleId||""})]}),n.roleObject&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Chi tit vai tr"}),a.jsx("div",{className:"mt-1",children:a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:n.roleObject?.name||n.roleObject?.fullName||n.roleId||(typeof n.role=="string"?n.role:"")})})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Trng thi ti khon"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email  xc nhn"}),a.jsx("div",{className:"mt-1",children:s(n.emailConfirmed)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S in thoi  xc nhn"}),a.jsx("div",{className:"mt-1",children:s(n.phoneNumberConfirmed)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Xc thc hai yu t"}),a.jsx("div",{className:"mt-1",children:s(n.twoFactorEnabled)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Kha ti khon"}),a.jsx("div",{className:"mt-1",children:s(n.lockoutEnabled)})]}),n.lockoutEnd&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy ht hn kha"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.lockoutEnd)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S ln ng nhp sai"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.accessFailedCount||0})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thng tin h thng"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.createdAt)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.updatedAt)})]}),e&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Token (n mt phn)"}),a.jsxs("p",{className:"text-sm text-gray-900 mt-1 font-mono break-all",children:[e.substring(0,20),"...",e.substring(e.length-20)]})]})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ngi dng."})]})]})}function Rae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Tr gip & lin h"})}const Oae=["Pending","InReview","Resolved","ActionTaken","Rejected"],kae=["Fraud","FalseInformation","TechnicalIssue","PolicyViolated","Other"],Af={Fraud:"Gian ln",FalseInformation:"Thng tin sai",TechnicalIssue:"Li k thut",PolicyViolated:"Vi phm chnh sch",Other:"Khc"},Br="text-left px-3 py-2 text-xs whitespace-nowrap",Ur="px-3 py-2 text-xs align-top";function Dae(){const[e,t]=p.useState({pageNumber:1,pageSize:10}),[n,r]=p.useState(null),[s,o]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState(null),[g,x]=p.useState(""),[b,w]=p.useState({}),[S,j]=p.useState({}),[N,E]=p.useState(!1),[C,T]=p.useState(null),[_,O]=p.useState(null),{toast:R}=$n(),D=(H,K)=>{t(ve=>({...ve,[H]:K||void 0,pageNumber:1}))},L=p.useCallback(async(H={})=>{const{silent:K=!1}=H;try{o(!0),m(null);const ve=await cc.getReports(e);ve.data&&(r(ve.data),K||R({title:se.SUCCESS,description:ta.FETCH_SUCCESS}))}catch(ve){const Pe=ve instanceof Error&&ve.message?ve.message:ta.FETCH_ERROR;m(Pe),R({title:se.ERROR,description:Pe,variant:"destructive"})}finally{o(!1)}},[e,R]);p.useEffect(()=>{(async()=>{try{const K={};let ve=1,Pe=!0;const P=100;for(;Pe;){const ee=await st.getEnglishAuctions(void 0,ve,P);if(ee.isSuccess&&ee.data?.items){const Y=ee.data.items;Y.forEach(Z=>{K[Z.id]=Z.sessionCode||Z.id}),Pe=Y.length===P,ve++}else Pe=!1}w(K);const z=await pr.list();if(z.isSuccess&&z.data){const ee=z.data,Y=Array.isArray(ee)?ee:ee?.items??[],Z={};Y.forEach(ie=>{Z[ie.id]=`${ie.firstName} ${ie.lastName}`.trim()||ie.email}),j(Z)}}catch(K){console.error("Error fetching auction and user data:",K)}})()},[]),p.useEffect(()=>{L({silent:!0})},[L]);const V=H=>{t(K=>({...K,pageNumber:Math.max(1,(K.pageNumber??1)+(H==="next"?1:-1))}))},J=(H,K)=>{T(H),O(K),E(!0)},B=async()=>{if(!(!C||!_))try{d(C.id),m(null),await cc.updateReportStatus(C.id,_),R({title:se.SUCCESS,description:ta.UPDATE_SUCCESS}),E(!1),T(null),O(null),await L({silent:!0})}catch(H){const K=H instanceof Error&&H.message?H.message:ta.UPDATE_ERROR;m(K),R({title:se.ERROR,description:K,variant:"destructive"})}finally{d(null)}},F=p.useCallback(H=>b[H]||H,[b]),re=p.useCallback(H=>S[H]||H,[S]),be=p.useMemo(()=>{if(!n?.items)return[];const H=g.trim().toLowerCase();return(H?n.items.filter(ve=>ve.note.toLowerCase().includes(H)||ve.auctionId.toLowerCase().includes(H)||F(ve.auctionId).toLowerCase().includes(H)||ve.reporterId.toLowerCase().includes(H)||re(ve.reporterId).toLowerCase().includes(H)||Af[ve.reportType].toLowerCase().includes(H)):n.items).sort((ve,Pe)=>{const P=new Date(ve.createdAt).getTime();return new Date(Pe.createdAt).getTime()-P})},[n,g,F,re]),xe=H=>{switch(H){case"Pending":return a.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:Ca[H]});case"InReview":return a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:Ca[H]});case"Resolved":return a.jsx(Oe,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:Ca[H]});case"ActionTaken":return a.jsx(Oe,{variant:"outline",className:"text-purple-600 border-purple-600",children:Ca[H]});case"Rejected":return a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:Ca[H]});default:return a.jsx(Oe,{variant:"outline",children:H})}},q=H=>new Date(H).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bo co"}),a.jsx("p",{className:"text-base text-gray-600",children:"Qun l bo co v cp nht trng thi x l."})]}),a.jsxs(ct,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch bo co"}),a.jsx("p",{className:"text-sm text-gray-600",children:s?"ang ti...":n?`Hin th ${be.length} / ${n.totalCount} bo co`:"Cha c d liu"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(sn,{value:g,onChange:H=>x(H.target.value),placeholder:"Tm theo ni dung, m phin...",className:"pl-9"})]}),a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>L(),disabled:s,children:[a.jsx(Ka,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"ang ti...":"Lm mi"]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>D("status",void 0),className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${e.status?"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700":"border-emerald-500 bg-emerald-50 text-emerald-700"}`,children:["Tt c trng thi",n&&a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:n.totalCount})]}),Oae.map(H=>{const K=n?.items?.filter(ve=>ve.reportStatus===H).length??0;return a.jsxs("button",{type:"button",onClick:()=>D("status",H),className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${e.status===H?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[Ca[H],n&&a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:K})]},H)}),a.jsxs("div",{className:"relative",children:[a.jsx(od,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${e.type?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:e.type??"",onChange:H=>D("type",H.target.value||void 0),className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${e.type?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Tt c loi bo co"}),kae.map(H=>{const K=n?.items?.filter(ve=>ve.reportType===H).length??0;return a.jsxs("option",{value:H,children:[Af[H]," ",n&&`(${K})`]},H)})]}),a.jsx(Im,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${e.type?"text-emerald-600":"text-gray-400"}`})]})]}),f&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:f})]}),a.jsx("div",{className:"overflow-x-auto",children:s?a.jsxs(ln,{className:"text-xs",children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:`${Br} w-[12%] min-w-[110px]`,children:"Loi bo co"}),a.jsx(ye,{className:`${Br} w-[20%] min-w-[180px]`,children:"Ni dung"}),a.jsx(ye,{className:`${Br} w-[15%] min-w-[140px]`,children:"M phin u gi"}),a.jsx(ye,{className:`${Br} w-[15%] min-w-[140px]`,children:"Ngi bo co"}),a.jsx(ye,{className:`${Br} w-[10%] min-w-[110px]`,children:"Trng thi"}),a.jsx(ye,{className:`${Br} w-[13%] min-w-[130px]`,children:"Ngy to"}),a.jsx(ye,{className:`${Br} text-right w-[15%] min-w-[150px]`,children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((H,K)=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:`${Ur} w-[12%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Ur} w-[20%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Ur} w-[15%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Ur} w-[15%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Ur} w-[10%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-16"})}),a.jsx(je,{className:`${Ur} w-[13%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Ur} text-right w-[15%]`,children:a.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-20 ml-auto"})})]},K))})]}):be.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{className:"text-xs",children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:`${Br} w-[12%] min-w-[110px]`,children:"Loi bo co"}),a.jsx(ye,{className:`${Br} w-[20%] min-w-[180px]`,children:"Ni dung"}),a.jsx(ye,{className:`${Br} w-[15%] min-w-[140px]`,children:"M phin u gi"}),a.jsx(ye,{className:`${Br} w-[15%] min-w-[140px]`,children:"Ngi bo co"}),a.jsx(ye,{className:`${Br} w-[10%] min-w-[110px]`,children:"Trng thi"}),a.jsx(ye,{className:`${Br} w-[13%] min-w-[130px]`,children:"Ngy to"}),a.jsx(ye,{className:`${Br} text-right w-[15%] min-w-[150px]`,children:"Thao tc"})]})}),a.jsx(cn,{children:be.map(H=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:`${Ur} w-[12%]`,children:a.jsx("div",{className:"font-medium text-gray-900 truncate",children:Af[H.reportType]})}),a.jsx(je,{className:`${Ur} w-[20%]`,children:a.jsx("div",{className:"text-xs text-gray-700 line-clamp-2",title:H.note,children:H.note})}),a.jsx(je,{className:`${Ur} w-[15%]`,children:a.jsx("div",{className:"truncate max-w-[200px]",title:F(H.auctionId),children:F(H.auctionId)})}),a.jsx(je,{className:`${Ur} w-[15%]`,children:a.jsx("div",{className:"truncate max-w-[200px]",title:re(H.reporterId),children:re(H.reporterId)})}),a.jsx(je,{className:`${Ur} w-[10%]`,children:xe(H.reportStatus)}),a.jsx(je,{className:`${Ur} w-[13%]`,children:q(H.createdAt)}),a.jsx(je,{className:`${Ur} text-right w-[15%]`,children:H.reportStatus==="Pending"?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(ce,{size:"sm",onClick:()=>J(H,"InReview"),disabled:!!u,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(_a,{className:"h-4 w-4 mr-2"}),"Xem xt"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>J(H,"Rejected"),disabled:!!u,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"T chi"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:""})})]},H.id))})]}),n&&n.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",n.pageNumber," / ",n.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>V("prev"),disabled:s||n.previousPage===!1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>V("next"),disabled:s||n.nextPage===!1,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"Khng tm thy bo co":"Cha c bo co no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:g?"Th tm kim vi t kha khc hoc xa b lc":"Hin ti cha c bo co no trong h thng"}),g&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>x(""),children:"Xa tm kim"})]})})]}),a.jsx(Wt,{open:N,onOpenChange:E,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:_==="InReview"?"text-emerald-600":"text-red-600",children:_==="InReview"?"Xc nhn xem xt bo co":"Xc nhn t chi bo co"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:_==="InReview"?"Bn c chc chn mun chuyn bo co ny sang trng thi 'ang xem xt'?":"Bn c chc chn mun t chi bo co ny? Hnh ng ny khng th hon tc."}),C&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Loi: ",Af[C.reportType]]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",title:C.note,children:C.note}),a.jsxs("p",{className:"text-xs text-gray-500",children:["M phin: ",F(C.auctionId)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{E(!1),T(null),O(null)},disabled:!!u,children:"Hy"}),a.jsx(ce,{onClick:B,disabled:!!u,className:_==="InReview"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ka,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:_==="InReview"?a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"h-4 w-4 mr-2"}),"Xc nhn xem xt"]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"Xc nhn t chi"]})})})]})]})]})})]})}const Mae={0:"Hot ng",1:"Tm ngng",2:" ng"},Pae={0:"Ch duyt",1:" duyt",2:" t chi",3:" hon thnh",4:" hy"},S_={0:"PayOS",1:"Wallet"},Iae={1:"Thanh ton Escrow",2:"Gii phng Escrow",3:"Hon tin Escrow",4:"Np tin",5:"Rt tin",6:"Thanh ton phn cn li Escrow",7:"Ph tham gia u gi",8:"Hon ph tham gia u gi",9:"Ph u gi"},Lae=e=>{const t={0:"text-green-600 border-green-600",1:"text-yellow-600 border-yellow-600",2:"text-red-600 border-red-600"};return a.jsx(Oe,{variant:"outline",className:t[e],children:Mae[e]})},E_=e=>{const t={0:"text-yellow-600 border-yellow-600 bg-yellow-50",1:"text-blue-600 border-blue-600 bg-blue-50",2:"text-red-600 border-red-600 bg-red-50",3:"text-green-600 border-green-600 bg-green-50",4:"text-gray-600 border-gray-600 bg-gray-50"};return a.jsx(Oe,{variant:"outline",className:t[e],children:Pae[e]})},Ds=e=>new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),C_=e=>{if(!e)return"";let t=e.replace(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,"");return t=t.replace(/auction\s*:?\s*[0-9a-f-]+/gi,""),t=t.replace(/auctionId\s*:?\s*[0-9a-f-]+/gi,""),t=t.replace(/\s*[,:]\s*/g," ").replace(/\s+/g," ").trim(),t||""};function Bae(){const{toast:e}=$n(),t=yr(),[n,r]=p.useState(null),[s,o]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[g,x]=p.useState(""),[b,w]=p.useState("all"),[S,j]=p.useState(""),[N,E]=p.useState(""),[C,T]=p.useState([]),[_,O]=p.useState(!1),[R,D]=p.useState(""),[L,V]=p.useState("all"),[J,B]=p.useState(1),[F,re]=p.useState(1),be=10,[xe,q]=p.useState(!1),[H,K]=p.useState(!1),[ve,Pe]=p.useState(!1),[P,z]=p.useState(null),[ee,Y]=p.useState(""),[Z,ie]=p.useState(null),[le,G]=p.useState(null),[$,M]=p.useState(!1),[U,I]=p.useState(null),[fe,te]=p.useState(!1),[W,Q]=p.useState(null),[ae,Se]=p.useState(!1),[Ne,Ue]=p.useState(null),[Re,ze]=p.useState(!1),[nt,He]=p.useState(null),[De,Le]=p.useState(null),[$e,Be]=p.useState(!1),[dt,un]=p.useState(!1),[dn,kn]=p.useState(null),[Cn,Pt]=p.useState(null),[Wn,Et]=p.useState(null),[Ce,qe]=p.useState(null),[Je,Qt]=p.useState(!1),[xt,Gt]=p.useState(null),[Rr,ca]=p.useState(!1),qr=p.useCallback(async()=>{try{console.log("[WalletPage] Fetching system wallet...");const me=await _n.getSystemWallet();return console.log("[WalletPage] System wallet response:",me),me.isSuccess&&me.data?(console.log("[WalletPage] Wallet data:",me.data),r(me.data),me.data):(console.error("[WalletPage] Failed to get wallet:",me.message),e({title:se.ERROR,description:me.message||"Khng th ti thng tin v",variant:"destructive"}),null)}catch(me){console.error("[WalletPage] Error fetching wallet:",me);const ke=me instanceof Error?me.message:" xy ra li khi ti thng tin v";return e({title:se.ERROR,description:ke,variant:"destructive"}),null}},[e]),eo=p.useCallback(async me=>{try{m(!0),console.log("[WalletPage] Fetching ledgers for wallet:",me);const ke=await _n.getLedgersByWallet(me);if(console.log("[WalletPage] Ledgers response:",ke),ke.isSuccess&&ke.data){console.log("[WalletPage] Ledgers data:",ke.data);const Me=[...ke.data].sort((Zt,br)=>Zt.createdAt&&br.createdAt?new Date(br.createdAt).getTime()-new Date(Zt.createdAt).getTime():br.balanceAfter-Zt.balanceAfter);o(Me)}else console.error("[WalletPage] Failed to get ledgers:",ke.message),e({title:se.ERROR,description:ke.message||"Khng th ti lch s giao dch",variant:"destructive"})}catch(ke){console.error("[WalletPage] Error fetching ledgers:",ke);const Me=ke instanceof Error?ke.message:" xy ra li khi ti lch s giao dch";e({title:se.ERROR,description:Me,variant:"destructive"})}finally{m(!1)}},[e]),Or=p.useCallback(async()=>{try{O(!0);const me=await _n.getWithdrawRequests();if(me.isSuccess&&me.data){const ke=[...me.data].sort((Me,Zt)=>Me.createdAt&&Zt.createdAt?new Date(Zt.createdAt).getTime()-new Date(Me.createdAt).getTime():0);T(ke)}else e({title:se.ERROR,description:me.message||"Khng th ti danh sch yu cu rt tin",variant:"destructive"})}catch(me){const ke=me instanceof Error?me.message:" xy ra li khi ti danh sch yu cu rt tin";e({title:se.ERROR,description:ke,variant:"destructive"})}finally{O(!1)}},[e]),Js=p.useCallback(me=>{z(me),K(!0)},[]),Xa=p.useCallback(async()=>{if(P)try{ie(P.id);const me=await _n.approveWithdrawRequest(P.id);me.isSuccess&&me.data?(e({title:se.SUCCESS,description:"Duyt yu cu rt tin thnh cng",variant:"default"}),K(!1),z(null),await Or()):e({title:se.ERROR,description:me.message||"Khng th duyt yu cu rt tin",variant:"destructive"})}catch(me){const ke=me instanceof Error?me.message:" xy ra li khi duyt yu cu rt tin";e({title:se.ERROR,description:ke,variant:"destructive"})}finally{ie(null)}},[e,Or,P]),ls=p.useCallback(async(me,ke)=>{try{ie(me);const Me=await _n.rejectWithdrawRequest(me,ke?{reason:ke}:void 0);Me.isSuccess&&Me.data?(e({title:se.SUCCESS,description:"T chi yu cu rt tin thnh cng",variant:"default"}),q(!1),Y(""),z(null),await Or()):e({title:se.ERROR,description:Me.message||"Khng th t chi yu cu rt tin",variant:"destructive"})}catch(Me){const Zt=Me instanceof Error?Me.message:" xy ra li khi t chi yu cu rt tin";e({title:se.ERROR,description:Zt,variant:"destructive"})}finally{ie(null)}},[e,Or]),Oc=p.useCallback(me=>{z(me),Pe(!0)},[]),el=p.useCallback(async()=>{if(P)try{ie(P.id);const me=await _n.completeWithdrawRequest(P.id);me.isSuccess&&me.data?(e({title:se.SUCCESS,description:"Hon thnh yu cu rt tin thnh cng",variant:"default"}),Pe(!1),z(null),await Or()):e({title:se.ERROR,description:me.message||"Khng th hon thnh yu cu rt tin",variant:"destructive"})}catch(me){const ke=me instanceof Error?me.message:" xy ra li khi hon thnh yu cu rt tin";e({title:se.ERROR,description:ke,variant:"destructive"})}finally{ie(null)}},[e,Or,P]);p.useEffect(()=>{(async()=>{d(!0);const ke=await qr();ke&&await eo(ke.id),d(!1)})()},[]),p.useEffect(()=>{Or()},[Or]);const to=p.useCallback(async me=>{try{const ke=await _n.getWithdrawRequestById(me);if(ke.isSuccess&&ke.data){if(G(ke.data),ke.data.userId)try{Se(!0);const Me=await pr.getById(ke.data.userId);Me.isSuccess&&Me.data&&Q(Me.data)}catch(Me){console.error("Error fetching user info:",Me)}finally{Se(!1)}if(ke.data.walletId)try{ze(!0);const Me=await _n.getWalletById(ke.data.walletId);Me.isSuccess&&Me.data&&Ue(Me.data)}catch(Me){console.error("Error fetching wallet info:",Me)}finally{ze(!1)}if(ke.data.userBankAccountId)try{te(!0);const Me=await _n.getUserBankAccountById(ke.data.userBankAccountId);Me.isSuccess&&Me.data&&I(Me.data)}catch(Me){console.error("Error fetching bank account:",Me)}finally{te(!1)}}}catch{e({title:se.ERROR,description:"Khng th ti chi tit yu cu rt tin",variant:"destructive"})}},[e]),Qa=()=>{(async()=>{d(!0);const ke=await qr();ke&&await eo(ke.id),d(!1)})(),Or()},no=async me=>{z(me),I(null),Q(null),Ue(null),M(!0),await to(me.id)},tl=p.useCallback(async me=>{if(kn(null),Pt(null),Et(null),qe(null),!(!me.fromWalletId&&!me.toWalletId))try{if(Qt(!0),me.fromWalletId)try{const ke=await _n.getWalletById(me.fromWalletId);if(ke.isSuccess&&ke.data&&(kn(ke.data),ke.data.userId)){const Me=await pr.getById(ke.data.userId);Me.isSuccess&&Me.data&&Et(Me.data)}}catch(ke){console.error("Error fetching from wallet/user:",ke)}if(me.toWalletId)try{const ke=await _n.getWalletById(me.toWalletId);if(ke.isSuccess&&ke.data&&(Pt(ke.data),ke.data.userId)){const Me=await pr.getById(ke.data.userId);Me.isSuccess&&Me.data&&qe(Me.data)}}catch(ke){console.error("Error fetching to wallet/user:",ke)}}finally{Qt(!1)}},[]),ro=p.useCallback(async me=>{Gt(null);try{if(ca(!0),console.log("[loadRelatedEntityInfo] Transaction:",{transactionType:me.transactionType,escrowId:me.escrowId,relatedEntityId:me.relatedEntityId,relatedEntityType:me.relatedEntityType}),(me.transactionType===1||me.transactionType===6)&&me.escrowId&&me.escrowId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow:",me.escrowId);const ke=await _n.getEscrowById(me.escrowId);if(console.log("[loadRelatedEntityInfo] Escrow response:",ke),ke.isSuccess&&ke.data){const Me=ke.data;if(console.log("[loadRelatedEntityInfo] Escrow data:",Me),Me.auctionId&&Me.auctionId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow by auctionId:",Me.auctionId);const Zt=await _n.getEscrowByAuctionId(Me.auctionId);console.log("[loadRelatedEntityInfo] Escrow by auction response:",Zt);const br=await st.getEnglishAuctionById(Me.auctionId);if(br.isSuccess&&br.data){console.log("[loadRelatedEntityInfo] Auction loaded successfully:",br.data),Gt(br.data);return}}catch(Zt){console.error("[loadRelatedEntityInfo] Error fetching escrow/auction or auction:",Zt)}if(Me.buyRequestId&&Me.buyRequestId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow by buyRequestId:",Me.buyRequestId);const Zt=await _n.getEscrowByBuyRequestId(Me.buyRequestId);console.log("[loadRelatedEntityInfo] Escrow by buyRequest response:",Zt)}catch(Zt){console.error("[loadRelatedEntityInfo] Error fetching escrow/buyrequest:",Zt)}!Me.auctionId&&!Me.buyRequestId&&console.log("[loadRelatedEntityInfo] Escrow does not have auctionId or buyRequestId, trying fallback")}else console.warn("[loadRelatedEntityInfo] Escrow API failed:",ke.message)}catch(ke){console.error("[loadRelatedEntityInfo] Error fetching escrow detail:",ke)}if(me.relatedEntityId&&me.relatedEntityId!=="00000000-0000-0000-0000-000000000000"&&(me.relatedEntityType||(me.transactionType===7||me.transactionType===8||me.transactionType===9?"Auction":null))==="Auction"&&me.relatedEntityId)try{console.log("[loadRelatedEntityInfo] Loading auction from relatedEntityId:",me.relatedEntityId);const Me=await st.getEnglishAuctionById(me.relatedEntityId);if(Me.isSuccess&&Me.data){console.log("[loadRelatedEntityInfo] Auction loaded from relatedEntityId:",Me.data),Gt(Me.data);return}}catch(Me){console.error("[loadRelatedEntityInfo] Error fetching auction detail:",Me)}}finally{ca(!1)}},[]),ue=p.useCallback(async me=>{I(null),Q(null),Ue(null),M(!0);try{const ke=await _n.getWithdrawRequestById(me);if(ke.isSuccess&&ke.data){if(z(ke.data),G(ke.data),ke.data.userId)try{Se(!0);const Me=await pr.getById(ke.data.userId);Me.isSuccess&&Me.data&&Q(Me.data)}catch(Me){console.error("Error fetching user info:",Me)}finally{Se(!1)}if(ke.data.walletId)try{ze(!0);const Me=await _n.getWalletById(ke.data.walletId);Me.isSuccess&&Me.data&&Ue(Me.data)}catch(Me){console.error("Error fetching wallet info:",Me)}finally{ze(!1)}if(ke.data.userBankAccountId)try{te(!0);const Me=await _n.getUserBankAccountById(ke.data.userBankAccountId);Me.isSuccess&&Me.data&&I(Me.data)}catch(Me){console.error("Error fetching bank account:",Me)}finally{te(!1)}}else e({title:se.ERROR,description:ke.message||"Khng th ti chi tit yu cu rt tin",variant:"destructive"})}catch(ke){const Me=ke instanceof Error?ke.message:" xy ra li khi ti chi tit yu cu rt tin";e({title:se.ERROR,description:Me,variant:"destructive"})}},[e]),Fe=p.useMemo(()=>{let me=s;if(g){const ke=g.toLowerCase();me=me.filter(Me=>Me.description.toLowerCase().includes(ke)||Me.transactionId.toLowerCase().includes(ke)||Me.walletId.toLowerCase().includes(ke))}if(b!=="all"&&(me=me.filter(ke=>ke.direction===Number(b))),S){const ke=new Date(S);ke.setHours(0,0,0,0),me=me.filter(Me=>{if(!Me.createdAt)return!1;const Zt=new Date(Me.createdAt);return Zt.setHours(0,0,0,0),Zt>=ke})}if(N){const ke=new Date(N);ke.setHours(23,59,59,999),me=me.filter(Me=>Me.createdAt?new Date(Me.createdAt)<=ke:!1)}return me},[s,g,b,S,N]),jt=p.useMemo(()=>{let me=C;if(R){const ke=R.toLowerCase();me=me.filter(Me=>Me.id.toLowerCase().includes(ke)||Me.userId.toLowerCase().includes(ke)||Me.walletId.toLowerCase().includes(ke)||Me.userBankAccountId.toLowerCase().includes(ke))}return L!=="all"&&(me=me.filter(ke=>ke.status===L)),me},[C,R,L]),fi=p.useMemo(()=>{const me=(J-1)*be;return Fe.slice(me,me+be)},[Fe,J]),ao=p.useMemo(()=>{const me=(F-1)*be;return jt.slice(me,me+be)},[jt,F]),io=Math.max(1,Math.ceil(Fe.length/be)),so=Math.max(1,Math.ceil(jt.length/be));p.useEffect(()=>{B(1)},[g,b,S,N]),p.useEffect(()=>{re(1)},[R,L]);const Ld=me=>{z(me),Y(""),q(!0)},nl=()=>{P&&ls(P.id,ee)};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l v"}),a.jsx("p",{className:"text-gray-600",children:"Qun l s d, lch s giao dch v yu cu rt tin"})]}),a.jsx(ct,{className:"mb-6",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"S d hin ti"}),u?a.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}):a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:n?ot(n.balance):""}),n&&a.jsx("div",{className:"mt-3 flex items-center gap-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Trng thi:"})," ",Lae(n.walletStatus)]})})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(ce,{variant:"outline",onClick:Qa,disabled:u||f||_,children:[a.jsx(Ka,{className:`w-4 h-4 mr-2 ${u||f||_?"animate-spin":""}`}),"Lm mi"]})})]})})}),a.jsxs(Zs,{defaultValue:"system-wallet",className:"w-full",children:[a.jsxs(ss,{className:"mb-6",children:[a.jsx(Ct,{value:"system-wallet",children:"V h thng"}),a.jsx(Ct,{value:"withdraw-requests",children:"Yu cu rt tin"})]}),a.jsx($i,{value:"system-wallet",children:a.jsx(ct,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Lch s giao dch"}),a.jsx("p",{className:"text-sm text-gray-600",children:f?"ang ti...":a.jsxs(a.Fragment,{children:["Hin th ",fi.length," / ",Fe.length," giao dch (Tng ",s.length,")"]})})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(sn,{placeholder:"Tm kim theo m t, m giao dch...",value:g,onChange:me=>x(me.target.value),className:"pl-10"})]}),a.jsx("div",{children:a.jsxs("select",{value:b,onChange:me=>{const ke=me.target.value;w(ke==="all"?"all":Number(ke))},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c giao dch"}),a.jsx("option",{value:"1",children:"Tin vo"}),a.jsx("option",{value:"2",children:"Tin ra"})]})}),a.jsx("div",{children:a.jsx(sn,{type:"date",placeholder:"T ngy",value:S,onChange:me=>j(me.target.value),className:"w-full"})}),a.jsx("div",{children:a.jsx(sn,{type:"date",placeholder:"n ngy",value:N,onChange:me=>E(me.target.value),className:"w-full",min:S||void 0})})]}),(g||b!=="all"||S||N)&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{x(""),w("all"),j(""),E("")},className:"h-8 px-3 text-xs",children:[a.jsx(Xl,{className:"w-3 h-3 mr-1"}),"Xa b lc"]})})]}),f?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti lch s giao dch..."})}):Fe.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx($f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Cha c giao dch no"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[15%]",children:"S tin"}),a.jsx(ye,{className:"w-[15%]",children:"S d sau"}),a.jsx(ye,{className:"w-[30%]",children:"M t"}),a.jsx(ye,{className:"w-[20%]",children:"Thi gian"}),a.jsx(ye,{className:"w-[20%] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:fi.map((me,ke)=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{children:a.jsxs("span",{className:`font-semibold ${me.direction===1?"text-green-600":"text-red-600"}`,children:[me.direction===1?"+":"-",ot(me.amount)]})}),a.jsx(je,{children:a.jsx("span",{className:"font-medium text-gray-900",children:ot(me.balanceAfter)})}),a.jsx(je,{children:a.jsx("div",{className:"truncate max-w-[300px]",title:C_(me.description),children:C_(me.description)})}),a.jsx(je,{children:me.createdAt?a.jsx("span",{className:"text-sm text-gray-600",children:Ds(me.createdAt)}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx(je,{className:"text-right",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:async()=>{He(me.transactionId),un(!0),Be(!0);try{const Me=await _n.getTransactionById(me.transactionId);Me.isSuccess&&Me.data&&(Le(Me.data),await tl(Me.data),await ro(Me.data))}catch{e({title:se.ERROR,description:"Khng th ti thng tin giao dch",variant:"destructive"})}finally{Be(!1)}},className:"h-8 px-3 text-xs",children:[a.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Xem chi tit"]})})]},me.id||`${me.transactionId}-${ke}`))})]})}),!f&&Fe.length>0&&io>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 sm:gap-4 mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Trang ",J," / ",io]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>B(me=>Math.max(1,me-1)),disabled:J===1,className:"text-xs sm:text-sm",children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>B(me=>Math.min(io,me+1)),disabled:J===io,className:"text-xs sm:text-sm",children:"Sau"})]})]})]})})}),a.jsx($i,{value:"withdraw-requests",children:a.jsx(ct,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Yu cu rt tin"}),a.jsx("p",{className:"text-sm text-gray-600",children:_?"ang ti...":`Hin th ${ao.length} / ${jt.length} yu cu`})]})}),a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(sn,{placeholder:"Tm kim theo s tin, l do...",value:R,onChange:me=>D(me.target.value),className:"pl-10"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("select",{value:L,onChange:me=>V(me.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:0,children:"Ch duyt"}),a.jsx("option",{value:1,children:" duyt"}),a.jsx("option",{value:2,children:" t chi"}),a.jsx("option",{value:3,children:" hon thnh"}),a.jsx("option",{value:4,children:" hy"})]})})]}),_?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qn,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-500",children:"ang ti danh sch yu cu rt tin..."})]}):jt.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx($f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Khng tm thy yu cu rt tin no"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[15%]",children:"S tin"}),a.jsx(ye,{className:"w-[15%]",children:"Trng thi"}),a.jsx(ye,{className:"w-[18%]",children:"Ngy to"}),a.jsx(ye,{className:"w-[20%]",children:"L do"}),a.jsx(ye,{className:"w-[32%] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:ao.map(me=>a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{children:a.jsx("span",{className:"font-semibold text-gray-900",children:ot(me.amount)})}),a.jsx(je,{children:E_(me.status)}),a.jsx(je,{children:a.jsx("span",{className:"text-sm text-gray-600",children:Ds(me.createdAt)})}),a.jsx(je,{children:a.jsx("span",{className:"text-sm text-gray-600",children:me.reason||""})}),a.jsx(je,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>no(me),className:"h-8 px-3 text-xs",children:[a.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),me.status===0&&a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx(ce,{size:"sm",onClick:()=>Js(me),disabled:!!Z,className:"bg-emerald-600 hover:bg-emerald-700 text-white flex-1 min-w-[90px] text-xs",children:" Duyt"}),a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>Ld(me),disabled:!!Z,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 flex-1 min-w-[90px] text-xs",children:" T chi"})]}),me.status===1&&a.jsxs(ce,{size:"sm",onClick:()=>Oc(me),disabled:!!Z,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:[a.jsx(_a,{className:"w-3 h-3 mr-1"}),"Hon thnh"]})]})})]},me.id))})]})}),!_&&jt.length>0&&so>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 sm:gap-4 mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Trang ",F," / ",so]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>re(me=>Math.max(1,me-1)),disabled:F===1,className:"text-xs sm:text-sm",children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>re(me=>Math.min(so,me+1)),disabled:F===so,className:"text-xs sm:text-sm",children:"Sau"})]})]})]})})})]}),a.jsx(Wt,{open:H,onOpenChange:K,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt yu cu rt tin ny? Yu cu s c chuyn sang trng thi " duyt".'}),P&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",ot(P.amount)]}),P.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:P.reason,children:["L do: ",P.reason]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{K(!1),z(null)},disabled:!!Z,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:Xa,disabled:!!Z,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:Z===P?.id?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})}),a.jsx(Wt,{open:ve,onOpenChange:Pe,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-blue-600",children:"Xc nhn hon thnh yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun hon thnh yu cu rt tin ny? Yu cu s c chuyn sang trng thi " hon thnh" v tin s c chuyn vo ti khon ngn hng.'}),P&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",ot(P.amount)]}),P.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:P.reason,children:["L do: ",P.reason]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{Pe(!1),z(null)},disabled:!!Z,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:el,disabled:!!Z,className:"bg-blue-600 hover:bg-blue-700 text-white min-h-[40px] px-4",children:Z===P?.id?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang hon thnh..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),"Xc nhn hon thnh"]})})]})]})]})}),a.jsx(Wt,{open:xe,onOpenChange:q,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Yt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi yu cu rt tin ny? Hnh ng ny khng th hon tc."}),P&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",ot(P.amount)]}),P.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:P.reason,children:["L do: ",P.reason]})]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi (ty chn)"}),a.jsx(Jn,{id:"rejectReason",placeholder:"Nhp l do t chi yu cu rt tin ny...",value:ee,onChange:me=>Y(me.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{q(!1),Y(""),z(null)},disabled:!!Z,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:nl,disabled:!!Z,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:Z===P?.id?a.jsxs(a.Fragment,{children:[a.jsx(Qn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})}),a.jsx(Wt,{open:$,onOpenChange:M,children:a.jsx(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:P&&a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"pb-4 border-b border-gray-200",children:a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit yu cu rt tin"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thng tin ngi dng"}),ae?a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin ngi dng..."})]}):W?a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[W.firstName," ",W.lastName]})}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:W.email})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"S in thoi"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:W.phoneNumber||""})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"a ch"}),a.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[W.address,", ",W.communes,", ",W.province]})]})]})]})}):a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ngi dng"})})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"S tin"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:ot(le?.amount||P.amount)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:E_(le?.status||P.status)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thng tin ti khon ngn hng"}),fe?a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin ngn hng..."})]}):U?a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[U.bank?.logo&&a.jsx("img",{src:U.bank.logo,alt:U.bank.name,className:"w-10 h-10 object-contain"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:U.bank?.name||U.bank?.shortName||"N/A"}),U.bank?.code&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Code: ",U.bank.code]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"S ti khon"}),a.jsx("p",{className:"text-sm font-mono text-gray-900 mt-1",children:U.accountNumber})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"Tn ch ti khon"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:U.accountName})]})]}),U.isPrimary&&a.jsx("div",{className:"mt-2",children:a.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600 bg-blue-50",children:"Ti khon chnh"})})]})]})}):a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ti khon ngn hng"})})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"L do"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:le?.reason||P.reason||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ds(le?.createdAt||P.createdAt)})]}),le?.updatedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ds(le.updatedAt)})]})]})]})})}),a.jsx(Wt,{open:dt,onOpenChange:me=>{me||(un(!1),He(null),Le(null),kn(null),Pt(null),Et(null),qe(null),Gt(null))},children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Yt,{className:"pb-4 border-b border-gray-200",children:[a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit giao dch"}),De&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["S tin: ",ot(De.amount)," |"," ","Loi tin: ",De.currency]})]}),a.jsx("div",{className:"space-y-6",children:$e?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qn,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-500",children:"ang ti thng tin giao dch..."})]}):De?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Code"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:De.code||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:De.desc||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:De.success?a.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600 bg-green-50",children:"Thnh cng"}):a.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600 bg-red-50",children:"Tht bi"})})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Order Code"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:De.orderCode||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"S tin"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:ot(De.amount)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Loi tin"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:De.currency})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Loi giao dch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Iae[De.transactionType]||`Type ${De.transactionType}`})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Loi thanh ton"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:S_[De.paymentType]!==void 0?S_[De.paymentType]:`Type ${De.paymentType}`})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Escrow ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-600 mt-1",children:De.escrowId!=="00000000-0000-0000-0000-000000000000"?De.escrowId:""})]}),De.relatedEntityId&&a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Related Entity ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-700 mt-1 break-all",children:De.relatedEntityId})]})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian giao dch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:De.transactionDateTime&&De.transactionDateTime!=="0001-01-01T00:00:00"?Ds(De.transactionDateTime):""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ds(De.createdAt)})]}),De.updatedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ds(De.updatedAt)})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thng tin ngi gi / ngi nhn"}),Je?a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Qn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin v v ngi dng..."]}):a.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngi gi"}),a.jsx("p",{className:"font-medium text-gray-900",children:Wn?`${Wn.firstName} ${Wn.lastName}`:dn?`Wallet ${dn.id}`:De.fromWalletId||""}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Wallet ID:"," ",a.jsx("span",{className:"font-mono",children:dn?.id||De.fromWalletId||""})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngi nhn"}),a.jsx("p",{className:"font-medium text-gray-900",children:Ce?`${Ce.firstName} ${Ce.lastName}`:Cn?`Wallet ${Cn.id}`:De.toWalletId||""}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Wallet ID:"," ",a.jsx("span",{className:"font-mono",children:Cn?.id||De.toWalletId||""})]})]})]})]}),(De.relatedEntityId||(De.transactionType===1||De.transactionType===6)&&De.escrowId&&De.escrowId!=="00000000-0000-0000-0000-000000000000")&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2 space-y-3",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"i tng lin quan"}),Rr?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Qn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin i tng lin quan..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{className:"text-gray-700",children:["Loi:"," ",a.jsx("span",{className:"font-medium",children:De.relatedEntityType||(xt||De.transactionType===7||De.transactionType===8||De.transactionType===9?"Auction":De.transactionType===1||De.transactionType===6?"Auction/BuyRequest":"")})]}),De.relatedEntityId&&De.relatedEntityId!=="00000000-0000-0000-0000-000000000000"?a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Related Entity ID:"," ",a.jsx("span",{className:"font-mono break-all",children:De.relatedEntityId})]}):null,De.escrowId&&De.escrowId!=="00000000-0000-0000-0000-000000000000"&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Escrow ID:"," ",a.jsx("span",{className:"font-mono break-all",children:De.escrowId})]})]}),xt&&a.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-200 space-y-2",children:[a.jsxs("p",{className:"text-sm font-semibold text-emerald-900",children:["Phin u gi #",xt.sessionCode]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gi khi im:"})," ",a.jsx("span",{className:"font-medium",children:ot(xt.startingPrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gi hin ti:"})," ",a.jsx("span",{className:"font-medium",children:xt.currentPrice?ot(xt.currentPrice):""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Trng thi:"})," ",a.jsx(Oe,{variant:"outline",className:"text-xs",children:xt.status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy kt thc:"})," ",a.jsx("span",{className:"font-medium",children:Ds(xt.endDate)})]})]})]}),(xt||De.relatedEntityType==="Auction"||De.transactionType===7||De.transactionType===8||De.transactionType===9||De.transactionType===1||De.transactionType===6)&&a.jsx(ce,{size:"sm",variant:"outline",className:"text-emerald-700 border-emerald-600 hover:bg-emerald-50",onClick:()=>{De.relatedEntityId&&t(`/admin/auctions/${De.relatedEntityId}`)},children:"i ti phin u gi"}),De.relatedEntityType==="BuyRequest"&&a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Yu cu mua ID: ",a.jsx("span",{className:"font-mono",children:De.relatedEntityId})]})})]})]}),De.relatedEntityId&&(De.relatedEntityType==="WithdrawRequest"||De.transactionType===5)&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Giao dch ny lin quan ti mt yu cu rt tin. Bn c th m chi tit  xem y  thng tin."}),a.jsx(ce,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>{un(!1),De.relatedEntityId&&ue(De.relatedEntityId)},children:"Xem chi tit yu cu rt tin"})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Khng th ti thng tin giao dch"})})})]})})]})}const Uae={0:"Ch phn hi",1:"Hai bn  ng ",2:"Ngi dng t chi",3:"Admin ang x l",4:" kt thc"},$ae={0:"text-amber-600 border-amber-200 bg-amber-50",1:"text-emerald-700 border-emerald-200 bg-emerald-50",2:"text-red-600 border-red-200 bg-red-50",3:"text-blue-600 border-blue-200 bg-blue-50",4:"text-slate-700 border-slate-200 bg-slate-50"},A_=e=>a.jsx(Oe,{variant:"outline",className:$ae[e],children:Uae[e]}),jl=e=>e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",T_=e=>e==null||Number.isNaN(e)?"":`${new Intl.NumberFormat("vi-VN").format(e)} kg`;function zae(){const{toast:e}=$n(),[t,n]=p.useState([]),[r,s]=p.useState(!0),[o,u]=p.useState("all"),[d,f]=p.useState(""),[m,g]=p.useState(1),[x]=p.useState(10),[b,w]=p.useState(1),[S,j]=p.useState(0),[N,E]=p.useState({}),[C,T]=p.useState(null),[_,O]=p.useState(null),[R,D]=p.useState(!1),[L,V]=p.useState(!1),[J,B]=p.useState(!1),[F,re]=p.useState(""),[be,xe]=p.useState(""),[q,H]=p.useState(!0),[K,ve]=p.useState(!1),[Pe,P]=p.useState(null),[z,ee]=p.useState(""),Y=p.useCallback(async(Ne,Ue)=>{try{s(!0);const Re=await wl.getDisputes({pageNumber:Ne,pageSize:x,status:Ue==="all"?void 0:Ue});if(Re.isSuccess&&Re.data){const ze={Pending:0,Approved:1,Rejected:2,InAdminReview:3,Resolved:4,0:0,1:1,2:2,3:3,4:4},nt=Re.data.data.map($e=>{const Be=$e.distupeStatus??$e.disputeStatus;let dt;return typeof Be=="string"?dt=ze[Be]??Number(Be):dt=Be??0,{...$e,disputeStatus:dt,isWholesalerCreated:$e.isWholeSalerCreated??$e.isWholesalerCreated??!1}});n(nt),w(Re.data.totalPages),j(Re.data.totalCount);const He=nt.map(async $e=>{try{const Be=await wl.getResolveByEscrowId($e.escrowId);if(Be.isSuccess&&Be.data)return{disputeId:$e.id,resolveInfo:Be.data}}catch{}return null}),De=await Promise.all(He),Le={};De.forEach($e=>{$e&&(Le[$e.disputeId]=$e.resolveInfo)}),E($e=>({...$e,...Le}))}else e({title:se.ERROR,description:Re.message||"Khng th ti danh sch tranh chp",variant:"destructive"})}catch(Re){const ze=Re instanceof Error?Re.message:" xy ra li khi ti danh sch tranh chp";e({title:se.ERROR,description:ze,variant:"destructive"})}finally{s(!1)}},[x,e]);p.useEffect(()=>{Y(m,o)},[Y,m,o]);const Z=p.useMemo(()=>{let Ne=t;if(d){const Ue=d.toLowerCase();Ne=Ne.filter(Re=>Re.id.toLowerCase().includes(Ue)||Re.escrowId.toLowerCase().includes(Ue)||(Re.disputeMessage||"").toLowerCase().includes(Ue))}return Ne},[t,d]),ie=async Ne=>{const Ue={...Ne,disputeStatus:typeof Ne.disputeStatus=="string"?Number(Ne.disputeStatus):Ne.disputeStatus};T(Ue),O(null),re(""),xe(""),H(!0),B(!0);try{D(!0);const Re=await wl.getResolveByEscrowId(Ue.escrowId);if(Re.isSuccess&&Re.data){const ze=Re.data;O(ze),re(ze.adminNote||""),xe(ze.refundAmount.toString()),E(nt=>({...nt,[Ue.id]:ze}))}}catch{}finally{D(!1)}},le=async()=>{if(C)try{V(!0);const Ne=await wl.updateDisputeStatus(C.id,{status:3,adminNote:F||"Bt u xem xt tranh chp"});if(Ne.isSuccess&&Ne.data){const Ue=Ne.data,Re=typeof Ue.distupeStatus<"u"?Number(Ue.distupeStatus):typeof Ue.disputeStatus<"u"?Number(Ue.disputeStatus):3,ze={...Ue,disputeStatus:Re,isWholesalerCreated:Ue.isWholeSalerCreated??Ue.isWholesalerCreated??!1};e({title:se.SUCCESS,description:" chuyn tranh chp sang trng thi admin ang x l"}),T(ze),await Y(m,o)}else e({title:se.ERROR,description:Ne.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"})}catch(Ne){const Ue=Ne instanceof Error?Ne.message:" xy ra li khi cp nht trng thi tranh chp";e({title:se.ERROR,description:Ue,variant:"destructive"})}finally{V(!1)}},G=Ne=>{P(Ne),ee(""),ve(!0)},$=async(Ne,Ue)=>{const Re=Pe;if(!Re)return;if(Number(Re.disputeStatus)!==1){e({title:se.ERROR,description:'Ch c th chuyn trng thi t "Hai bn  ng " sang "Admin ang x l"',variant:"destructive"});return}const nt=z||F||"Chuyn sang trng thi admin ang xem xt";if(!nt.trim()){e({title:se.ERROR,description:"Vui lng nhp ghi ch trc khi cp nht trng thi",variant:"destructive"});return}try{V(!0),console.log("Updating dispute status:",{disputeId:Re.id,currentStatus:Re.disputeStatus,newStatus:3,note:nt});const He=await wl.updateDisputeStatus(Re.id,{status:3,adminNote:nt});if(console.log("Update status response:",He),He.isSuccess&&He.data){const De=He.data;console.log("Raw response data:",De),console.log("distupeStatus:",De.distupeStatus),console.log("disputeStatus:",De.disputeStatus);const Le=typeof De.distupeStatus<"u"?Number(De.distupeStatus):typeof De.disputeStatus<"u"?Number(De.disputeStatus):3;console.log("Normalized status:",Le);const $e={...De,disputeStatus:Le,isWholesalerCreated:De.isWholeSalerCreated??De.isWholesalerCreated??!1};e({title:se.SUCCESS,description:' cp nht trng thi t "Hai bn  ng " sang "Admin ang x l"'}),C?.id===Re.id&&T($e),ve(!1),P(null),ee(""),await Y(m,o)}else e({title:se.ERROR,description:He.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"})}catch(He){const De=He instanceof Error?He.message:" xy ra li khi cp nht trng thi tranh chp";e({title:se.ERROR,description:De,variant:"destructive"})}finally{V(!1)}},M=async(Ne,Ue)=>{const Re=Pe||C;if(!Re)return;if(Number(Re.disputeStatus)!==1){e({title:se.ERROR,description:'Ch c th chuyn trng thi t "Hai bn  ng " sang " kt thc"',variant:"destructive"});return}if(!(_||N[Re.id])){e({title:se.ERROR,description:"Cha c thng tin gii quyt tranh chp. Vui lng to gii quyt trc.",variant:"destructive"});return}const He=z||F||"Kt thc tranh chp";if(!He.trim()){e({title:se.ERROR,description:"Vui lng nhp ghi ch trc khi cp nht trng thi",variant:"destructive"});return}try{V(!0);const De=await wl.updateDisputeStatus(Re.id,{status:4,adminNote:He});if(De.isSuccess&&De.data){const Le=De.data,$e=typeof Le.distupeStatus<"u"?Number(Le.distupeStatus):typeof Le.disputeStatus<"u"?Number(Le.disputeStatus):4,Be={...Le,disputeStatus:$e,isWholesalerCreated:Le.isWholeSalerCreated??Le.isWholesalerCreated??!1};e({title:se.SUCCESS,description:' cp nht trng thi t "Hai bn  ng " sang " kt thc"'}),C?.id===Re.id&&T(Be),ve(!1),P(null),ee(""),await Y(m,o)}else e({title:se.ERROR,description:De.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"})}catch(De){const Le=De instanceof Error?De.message:" xy ra li khi cp nht trng thi tranh chp";e({title:se.ERROR,description:Le,variant:"destructive"})}finally{V(!1)}},U=async()=>{if(!C)return;const Ne=Number(be||"0");if(Number.isNaN(Ne)||Ne<0){e({title:se.ERROR,description:"S tin hon phi l s khng m",variant:"destructive"});return}if(!F.trim()){e({title:se.ERROR,description:"Vui lng nhp ghi ch quyt nh ca admin",variant:"destructive"});return}try{V(!0);const Ue=await wl.createDisputeResolve({escrowId:C.escrowId,refundAmount:Ne,isFinalDecision:q,adminNote:F});if(Ue.isSuccess&&Ue.data){const Re=Ue.data;e({title:se.SUCCESS,description:" to bn ghi gii quyt tranh chp thnh cng"}),O(Re),E(ze=>({...ze,[C.id]:Re})),await Y(m,o)}else{const Re=Ue.message||"Khng th to bn ghi gii quyt tranh chp";let ze=Re;if(Re.includes("exceed")||Re.includes("vt qu")){const nt=Re.match(/\((\d+)\)/),He=nt?Number(nt[1]):null;ze=`S tin hon (${ot(Ne)}) khng c vt qu tng s tin escrow${He?` (${ot(He)})`:""}. Vui lng nhp li s tin hon.`}else Re.includes("auction")&&(ze="Escrow ny khng c lin kt vi auction. Vui lng kim tra li thng tin escrow.");e({title:se.ERROR,description:ze,variant:"destructive"})}}catch(Ue){const Re=Ue instanceof Error?Ue.message:" xy ra li khi to bn ghi gii quyt tranh chp";e({title:se.ERROR,description:Re,variant:"destructive"})}finally{V(!1)}},I=C&&Number(C.disputeStatus)===2,fe=C&&Number(C.disputeStatus)===1&&!_,te=C&&Number(C.disputeStatus)===1&&!!_,W=C&&!_&&Number(C.disputeStatus)===3,Q=C&&Number(C.disputeStatus)===4,ae=C&&Number(C.disputeStatus)===3,Se=Ne=>{Ne<1||Ne>b||Ne===m||g(Ne)};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l tranh chp"}),a.jsx("p",{className:"text-gray-600",children:"Theo di v x l cc tranh chp gia Nng dn v Thng li lin quan."})]}),a.jsx(ct,{className:"mb-6",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Xv,{className:"w-5 h-5 text-emerald-600"}),"Danh sch tranh chp"]}),a.jsx("p",{className:"text-sm text-gray-600",children:r?"ang ti...":`Tng ${S} tranh chp`})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(sn,{placeholder:"Tm theo ID, M giao dch, ni dung...",value:d,onChange:Ne=>f(Ne.target.value),className:"pl-10"})]}),a.jsxs("select",{value:o,onChange:Ne=>u(Ne.target.value==="all"?"all":Number(Ne.target.value)),className:"w-full sm:w-[220px] px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:0,children:"Ch phn hi"}),a.jsx("option",{value:1,children:"Hai bn  ng "}),a.jsx("option",{value:2,children:"Ngi dng t chi"}),a.jsx("option",{value:3,children:"Admin ang x l"}),a.jsx("option",{value:4,children:" kt thc"})]}),a.jsxs(ce,{variant:"outline",onClick:()=>Y(m,o),disabled:r,children:[a.jsx(Ka,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"Lm mi"]})]})]}),r?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(Qn,{className:"w-8 h-8 text-emerald-500 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"ang ti danh sch tranh chp..."})]}):Z.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(Xv,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"Cha c tranh chp no ph hp b lc"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Khi c tranh chp mi, chng s xut hin ti y  bn x l."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"w-[14%]",children:"Escrow ID"}),a.jsx(ye,{className:"w-[12%] text-right",children:"Sn lng (kg)"}),a.jsx(ye,{className:"w-[14%] text-right",children:"S tin tranh chp mong mun"}),a.jsx(ye,{className:"w-[12%]",children:"Trng thi"}),a.jsx(ye,{className:"w-[16%]",children:"Thi gian to / cp nht"}),a.jsx(ye,{className:"w-[18%] text-center",children:"Cp nht trng thi"}),a.jsx(ye,{className:"w-[16%] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:Z.map(Ne=>{const Ue={Pending:0,Approved:1,Rejected:2,InAdminReview:3,Resolved:4};let Re;typeof Ne.disputeStatus=="string"?Re=Ue[Ne.disputeStatus]??Number(Ne.disputeStatus):Re=Ne.disputeStatus;const ze=Re===1,nt=!!N[Ne.id];return a.jsxs(lt,{className:"hover:bg-gray-50",children:[a.jsx(je,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-mono text-xs text-gray-700 truncate max-w-[220px]",children:Ne.escrowId}),Ne.disputeMessage&&a.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[220px]",children:Ne.disputeMessage})]})}),a.jsx(je,{className:"text-right",children:a.jsx("span",{className:"font-semibold text-gray-900",children:T_(Ne.actualAmount)})}),a.jsx(je,{className:"text-right",children:a.jsx("span",{className:"font-semibold text-gray-900",children:N[Ne.id]?.refundAmount?ot(N[Ne.id].refundAmount):""})}),a.jsx(je,{children:A_(Ne.disputeStatus)}),a.jsx(je,{children:a.jsxs("div",{className:"flex flex-col text-xs text-gray-600",children:[a.jsxs("span",{children:["To: ",jl(Ne.createdAt)]}),a.jsxs("span",{children:["Cp nht: ",jl(Ne.updatedAt)]})]})}),a.jsx(je,{className:"text-center",children:ze?nt?a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>G(Ne),disabled:L,className:"text-xs border-emerald-600 text-emerald-600 hover:bg-emerald-50",children:"Kt thc tranh chp"}):a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>G(Ne),disabled:L,className:"text-xs border-purple-600 text-purple-600 hover:bg-purple-50",children:"Chuyn sang Admin xem xt"}):a.jsx("span",{className:"text-xs text-gray-400",children:""})}),a.jsx(je,{className:"text-right",children:a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>ie(Ne),className:"text-xs",children:[a.jsx(Cr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})})})]},Ne.id)})})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{children:["Trang ",m,"/",b,"  ",S," tranh chp"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Se(m-1),disabled:m<=1,children:[a.jsx(sL,{className:"h-4 w-4 mr-1.5"}),"Trc"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Se(m+1),disabled:m>=b,children:["Sau",a.jsx(oL,{className:"h-4 w-4 ml-1.5"})]})]})]})]})]})}),a.jsx(Wt,{open:J,onOpenChange:Ne=>{B(Ne),Ne||(T(null),O(null),re(""),xe(""),H(!0))},children:a.jsx(Ft,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:C&&a.jsxs(a.Fragment,{children:[a.jsxs(Yt,{children:[a.jsx(Kt,{children:"Chi tit tranh chp"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Escrow ID:"," ",a.jsx("span",{className:"font-mono text-xs text-gray-800",children:C.escrowId})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:A_(C.disputeStatus)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Sn lng (kg)"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:T_(C.actualAmount)})]}),_&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"S tin tranh chp mong mun"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:ot(_.refundAmount)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian to"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:jl(C.createdAt)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian cp nht"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:jl(C.updatedAt)})]}),C.resolvedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian kt thc"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:jl(C.resolvedAt)})]})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ni dung tranh chp"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:C.disputeMessage||""})]}),C.attachments&&C.attachments.length>0&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Hnh nh nh km"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:C.attachments.map(Ne=>a.jsxs("a",{href:Ne.url,target:"_blank",rel:"noreferrer",className:"block group",children:[a.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100 border border-gray-200 group-hover:border-emerald-500 transition-colors",children:a.jsx("img",{src:Ne.url,alt:"Dispute attachment",className:"w-full h-full object-cover"})}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:Ne.id})]},Ne.id))})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-4",children:[R&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Qn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin gii quyt..."]}),Q&&_?a.jsxs("div",{className:"rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-3",children:[a.jsx("p",{className:"font-semibold text-sm text-emerald-900 mb-3",children:"Thng tin gii quyt tranh chp"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S tin hon: "}),a.jsx("span",{className:"text-gray-900",children:ot(_.refundAmount)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch ca admin: "}),a.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-line",children:_.adminNote||""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Quyt nh cui cng: "}),a.jsx("span",{className:"text-gray-900",children:_.isFinalDecision?"C":"Khng"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy to: "}),a.jsx("span",{className:"text-gray-900",children:jl(_.createdAt)})]})]})]}):ae?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"adminNote",className:"text-sm font-medium text-gray-700",children:"Ghi ch ca admin"}),a.jsx(Jn,{id:"adminNote",rows:4,placeholder:"Ghi li nhn nh, quyt nh x l tranh chp...",value:F,onChange:Ne=>re(Ne.target.value),className:"mt-1",disabled:R})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"refundAmount",className:"text-sm font-medium text-gray-700",children:"S tin hon (VND)"}),a.jsx(sn,{id:"refundAmount",type:"number",min:0,step:1e3,placeholder:"Nhp s tin hon...",value:be,onChange:Ne=>xe(Ne.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quyt nh cui cng"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("input",{type:"checkbox",id:"isFinalDecision",checked:q,onChange:Ne=>H(Ne.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),a.jsx(Ke,{htmlFor:"isFinalDecision",className:"text-sm text-gray-700 cursor-pointer",children:"y l quyt nh cui cng"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"nh du nu y l quyt nh cui cng ca admin."})]})]})]}):_?a.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50 px-4 py-3",children:[a.jsx("p",{className:"font-semibold text-sm text-blue-900 mb-3",children:"Thng tin gii quyt tranh chp"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S tin hon: "}),a.jsx("span",{className:"text-gray-900",children:ot(_.refundAmount)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch ca admin: "}),a.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-line",children:_.adminNote||""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Quyt nh cui cng: "}),a.jsx("span",{className:"text-gray-900",children:_.isFinalDecision?"C":"Khng"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy to: "}),a.jsx("span",{className:"text-gray-900",children:jl(_.createdAt)})]})]})]}):null]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("p",{children:"- Rejected  InAdminReview  Resolved (khng c li trng thi)"}),a.jsx("p",{children:"- Approved / Resolved l trng thi cui cng, khng chnh sa li."})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>B(!1),disabled:L,children:"ng"}),I&&a.jsx(ce,{type:"button",variant:"outline",onClick:le,disabled:L,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:L?"ang cp nht...":"Bt u xem xt"}),fe&&a.jsx(ce,{type:"button",variant:"outline",onClick:()=>G(C),disabled:L,className:"border-purple-600 text-purple-600 hover:bg-purple-50",children:"Chuyn sang Admin xem xt"}),te&&a.jsx(ce,{type:"button",variant:"outline",onClick:()=>G(C),disabled:L,className:"border-emerald-600 text-emerald-600 hover:bg-emerald-50",children:"Kt thc tranh chp"}),W&&a.jsx(ce,{type:"button",onClick:U,disabled:L,children:L?"ang to...":"To gii quyt tranh chp"})]})]})]})]})})}),a.jsx(Wt,{open:K,onOpenChange:Ne=>{ve(Ne),Ne||(P(null),ee(""))},children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsxs(Yt,{children:[a.jsx(Kt,{className:"text-xl font-semibold text-gray-900",children:"Cp nht trng thi tranh chp"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:Pe&&N[Pe.id]?'Chuyn t "Hai bn  ng " sang " kt thc"':'Chuyn t "Hai bn  ng " sang "Admin ang x l"'})]}),Pe&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(Ke,{htmlFor:"updateStatusNote",className:"text-sm font-medium text-gray-700",children:["Ghi ch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Jn,{id:"updateStatusNote",rows:4,placeholder:"Nhp ghi ch v vic chuyn trng thi...",value:z,onChange:Ne=>ee(Ne.target.value),className:"mt-1"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ghi ch ny s c lu li trong lch s cp nht trng thi."})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(ce,{variant:"outline",onClick:()=>{ve(!1),P(null),ee("")},disabled:L,children:"Hy"}),a.jsx(ce,{onClick:()=>{!!N[Pe.id]?M():$()},disabled:L||!z.trim(),className:N[Pe.id]?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-purple-600 hover:bg-purple-700 text-white",children:L?"ang cp nht...":N[Pe.id]?"Kt thc tranh chp":"Cp nht trng thi"})]})]})]})})]})}function Hae(){const{toast:e}=$n(),[t,n]=p.useState("categories"),[r,s]=p.useState([]),[o,u]=p.useState(!1),[d,f]=p.useState(1),[m,g]=p.useState(""),[x,b]=p.useState(!1),[w,S]=p.useState({name:"",description:""}),[j,N]=p.useState(!1),[E,C]=p.useState(!1),[T,_]=p.useState(null),[O,R]=p.useState({name:"",description:"",isActive:!0}),[D,L]=p.useState(!1),[V,J]=p.useState(null),[B,F]=p.useState(!1),[re,be]=p.useState([]),[xe,q]=p.useState(!1),[H,K]=p.useState(1),[ve,Pe]=p.useState(""),[P,z]=p.useState(null),[ee,Y]=p.useState(!1),[Z,ie]=p.useState({categoryId:"",content:"",description:""}),[le,G]=p.useState(!1),[$,M]=p.useState(!1),[U,I]=p.useState(null),[fe,te]=p.useState({categoryId:"",content:"",description:"",isActive:!0}),[W,Q]=p.useState(!1),[ae,Se]=p.useState(null),[Ne,Ue]=p.useState(!1),Re=10,ze=p.useCallback(async({silent:ue=!1}={})=>{u(!0);try{const Fe=await ks.getCategories();Fe.isSuccess&&Fe.data?(s(Fe.data),ue||e({title:se.SUCCESS,description:"Ly danh sch danh mc chnh sch thnh cng"})):e({title:se.ERROR,description:Fe.message||"Li khi ly danh sch danh mc",variant:"destructive"})}catch(Fe){e({title:se.ERROR,description:Fe instanceof Error?Fe.message:"Li khi ly danh sch danh mc",variant:"destructive"})}finally{u(!1)}},[e]),nt=p.useCallback(async({silent:ue=!1}={})=>{if(!P){be([]);return}q(!0);try{const Fe=await ks.getCategoryItems(P);Fe.isSuccess&&Fe.data?(be(Fe.data),ue||e({title:se.SUCCESS,description:"Ly danh sch chnh sch thnh cng"})):e({title:se.ERROR,description:Fe.message||"Li khi ly danh sch chnh sch",variant:"destructive"})}catch(Fe){e({title:se.ERROR,description:Fe instanceof Error?Fe.message:"Li khi ly danh sch chnh sch",variant:"destructive"})}finally{q(!1)}},[P,e]);p.useEffect(()=>{ze({silent:!0})},[ze]),p.useEffect(()=>{t==="items"&&P&&nt({silent:!0})},[t,P,nt]);const He=p.useMemo(()=>{const ue=m.trim().toLowerCase();return ue?r.filter(Fe=>Fe.name.toLowerCase().includes(ue)||Fe.description.toLowerCase().includes(ue)):r},[r,m]),De=p.useMemo(()=>{const ue=ve.trim().toLowerCase();return ue?re.filter(Fe=>Fe.description.toLowerCase().includes(ue)||Fe.content.toLowerCase().includes(ue)||Fe.categoryName.toLowerCase().includes(ue)):re},[re,ve]),Le=()=>S({name:"",description:""}),$e=()=>{Le(),b(!0)},Be=(ue,Fe)=>{S(jt=>({...jt,[ue]:Fe}))},dt=()=>{Le(),b(!1)},un=async()=>{if(!(!w.name.trim()||j)){N(!0);try{const ue=await ks.createCategory({name:w.name.trim(),description:w.description.trim()});if(ue.isSuccess){await ze();const Fe=Math.max(1,Math.ceil((r.length+1)/Re));f(Fe),dt(),e({title:se.SUCCESS,description:"To danh mc chnh sch thnh cng"})}else e({title:se.ERROR,description:ue.message||"Li khi to danh mc",variant:"destructive"})}catch(ue){e({title:se.ERROR,description:ue instanceof Error?ue.message:"Li khi to danh mc",variant:"destructive"})}finally{N(!1)}}},dn=ue=>{_(ue.id),R({name:ue.name,description:ue.description,isActive:ue.isActive}),C(!0)},kn=()=>{C(!1),_(null),R({name:"",description:"",isActive:!0})},Cn=(ue,Fe)=>{R(jt=>({...jt,[ue]:Fe}))},Pt=async()=>{if(!(!T||!O.name.trim()||D)){L(!0);try{const ue=await ks.updateCategory(T,{name:O.name.trim(),description:O.description.trim(),isActive:O.isActive});ue.isSuccess?(await ze(),kn(),e({title:se.SUCCESS,description:"Cp nht danh mc chnh sch thnh cng"})):e({title:se.ERROR,description:ue.message||"Li khi cp nht danh mc",variant:"destructive"})}catch(ue){e({title:se.ERROR,description:ue instanceof Error?ue.message:"Li khi cp nht danh mc",variant:"destructive"})}finally{L(!1)}}},Wn=ue=>J(ue),Et=async()=>{if(!(!V||B)){F(!0);try{const ue=await ks.deleteCategory(V.id);if(ue.isSuccess){await ze();const Fe=r.length-1,jt=Math.max(1,Math.ceil(Fe/Re));d>jt&&f(Math.max(1,jt)),T===V.id&&kn(),J(null),e({title:se.SUCCESS,description:"Xa danh mc chnh sch thnh cng"})}else e({title:se.ERROR,description:ue.message||"Li khi xa danh mc",variant:"destructive"})}catch(ue){e({title:se.ERROR,description:ue instanceof Error?ue.message:"Li khi xa danh mc",variant:"destructive"})}finally{F(!1)}}},Ce=()=>J(null),qe=()=>ie({categoryId:P||"",content:"",description:""}),Je=()=>{if(!P){e({title:se.ERROR,description:"Vui lng chn danh mc trc",variant:"destructive"});return}qe(),Y(!0)},Qt=(ue,Fe)=>{ie(jt=>({...jt,[ue]:Fe}))},xt=()=>{qe(),Y(!1)},Gt=async()=>{if(!(!Z.categoryId||!Z.content.trim()||le)){G(!0);try{const ue=await ks.createItem({categoryId:Z.categoryId,content:Z.content.trim(),description:Z.description.trim()});if(ue.isSuccess){await nt();const Fe=Math.max(1,Math.ceil((re.length+1)/Re));K(Fe),xt(),e({title:se.SUCCESS,description:"To chnh sch thnh cng"})}else e({title:se.ERROR,description:ue.message||"Li khi to chnh sch",variant:"destructive"})}catch(ue){e({title:se.ERROR,description:ue instanceof Error?ue.message:"Li khi to chnh sch",variant:"destructive"})}finally{G(!1)}}},Rr=async ue=>{I(ue.id),te({categoryId:ue.categoryId,content:ue.content,description:ue.description,isActive:ue.isActive}),M(!0)},ca=()=>{M(!1),I(null),te({categoryId:"",content:"",description:"",isActive:!0})},qr=(ue,Fe)=>{te(jt=>({...jt,[ue]:Fe}))},eo=async()=>{if(!(!U||!fe.content.trim()||W)){Q(!0);try{const ue=await ks.updateItem(U,{categoryId:fe.categoryId,content:fe.content.trim(),description:fe.description.trim(),isActive:fe.isActive});ue.isSuccess?(await nt(),ca(),e({title:se.SUCCESS,description:"Cp nht chnh sch thnh cng"})):e({title:se.ERROR,description:ue.message||"Li khi cp nht chnh sch",variant:"destructive"})}catch(ue){e({title:se.ERROR,description:ue instanceof Error?ue.message:"Li khi cp nht chnh sch",variant:"destructive"})}finally{Q(!1)}}},Or=ue=>Se(ue),Js=async()=>{if(!(!ae||Ne)){Ue(!0);try{const ue=await ks.deleteItem(ae.id);if(ue.isSuccess){await nt();const Fe=re.length-1,jt=Math.max(1,Math.ceil(Fe/Re));H>jt&&K(Math.max(1,jt)),U===ae.id&&ca(),Se(null),e({title:se.SUCCESS,description:"Xa chnh sch thnh cng"})}else e({title:se.ERROR,description:ue.message||"Li khi xa chnh sch",variant:"destructive"})}catch(ue){e({title:se.ERROR,description:ue instanceof Error?ue.message:"Li khi xa chnh sch",variant:"destructive"})}finally{Ue(!1)}}},Xa=()=>Se(null),ls=Math.max(1,Math.ceil(He.length/Re)),el=(Math.min(d,ls)-1)*Re,to=He.slice(el,el+Re),Qa=Math.max(1,Math.ceil(De.length/Re)),tl=(Math.min(H,Qa)-1)*Re,ro=De.slice(tl,tl+Re);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l chnh sch"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Qun l danh mc v ni dung chnh sch ca h thng"})]}),a.jsx(ct,{className:"card-responsive",children:a.jsxs(Zs,{value:t,onValueChange:ue=>n(ue),children:[a.jsxs(ss,{className:"mb-6",children:[a.jsx(Ct,{value:"categories",children:"Danh mc chnh sch"}),a.jsx(Ct,{value:"items",children:"Ni dung chnh sch"})]}),a.jsxs($i,{value:"categories",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch danh mc"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:o?"ang ti...":`C ${He.length} danh mc`})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(sn,{value:m,onChange:ue=>g(ue.target.value),placeholder:"Tm theo tn hoc m t",className:"pl-9"})]}),!x&&a.jsxs(ce,{onClick:$e,children:[a.jsx($E,{className:"h-4 w-4 mr-2"}),"Thm danh mc"]})]})]}),x&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn danh mc"}),a.jsx(sn,{value:w.name,onChange:ue=>Be("name",ue.target.value),placeholder:"V d: Chnh sch bo mt"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(Jn,{rows:2,value:w.description,onChange:ue=>Be("description",ue.target.value),placeholder:"M t v danh mc chnh sch"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:dt,disabled:j,children:"Hy"}),a.jsx(ce,{onClick:un,disabled:j,children:j?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:o?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left",children:"Tn"}),a.jsx(ye,{className:"text-left",children:"M t"}),a.jsx(ye,{className:"text-center",children:"Trng thi"}),a.jsx(ye,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:3}).map((ue,Fe)=>a.jsxs(lt,{children:[a.jsx(je,{children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-16 animate-pulse rounded bg-gray-200 mx-auto"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-200 ml-auto"})})]},Fe))})]}):He.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left",children:"Tn"}),a.jsx(ye,{className:"text-left",children:"M t"}),a.jsx(ye,{className:"text-center",children:"Trng thi"}),a.jsx(ye,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:to.map(ue=>a.jsxs(lt,{children:[a.jsx(je,{className:"font-medium",children:ue.name}),a.jsx(je,{className:"text-sm text-gray-600",children:ue.description||""}),a.jsx(je,{className:"text-center",children:a.jsx(Oe,{variant:ue.isActive?"default":"outline",children:ue.isActive?"Hot ng":"Tm dng"})}),a.jsx(je,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>dn(ue),children:[a.jsx(Hu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>Wn(ue),children:[a.jsx(Qv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},ue.id))})]}),He.length>Re&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",d,"/",ls]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>f(ue=>Math.max(1,ue-1)),disabled:d<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>f(ue=>Math.min(ls,ue+1)),disabled:d>=ls,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(qi,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c danh mc no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm danh mc mi  bt u qun l chnh sch."}),a.jsx(ce,{onClick:$e,children:"Thm danh mc u tin"})]})})]}),a.jsxs($i,{value:"items",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch chnh sch"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:xe?"ang ti...":`C ${De.length} chnh sch`})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("div",{className:"relative w-full sm:w-48",children:a.jsxs("select",{value:P||"",onChange:ue=>{z(ue.target.value||null),K(1)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Tt c danh mc"}),r.map(ue=>a.jsx("option",{value:ue.id,children:ue.name},ue.id))]})}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(sn,{value:ve,onChange:ue=>Pe(ue.target.value),placeholder:"Tm theo ni dung",className:"pl-9"})]}),!ee&&a.jsxs(ce,{onClick:Je,disabled:!P,children:[a.jsx($E,{className:"h-4 w-4 mr-2"}),"Thm chnh sch"]})]})]}),ee&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Danh mc"}),a.jsxs("select",{value:Z.categoryId,onChange:ue=>Qt("categoryId",ue.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Chn danh mc"}),r.map(ue=>a.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ni dung"}),a.jsx(Jn,{rows:4,value:Z.content,onChange:ue=>Qt("content",ue.target.value),placeholder:"Ni dung chnh sch"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(Jn,{rows:2,value:Z.description,onChange:ue=>Qt("description",ue.target.value),placeholder:"M t ngn gn v chnh sch"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:xt,disabled:le,children:"Hy"}),a.jsx(ce,{onClick:Gt,disabled:le,children:le?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:!P&&t==="items"?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-gray-50 p-4",children:a.jsx(qi,{className:"h-6 w-6 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chn danh mc"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Vui lng chn danh mc  xem danh sch chnh sch."})]}):xe?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left",children:"Danh mc"}),a.jsx(ye,{className:"text-left",children:"M t"}),a.jsx(ye,{className:"text-left",children:"Ni dung"}),a.jsx(ye,{className:"text-center",children:"Trng thi"}),a.jsx(ye,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:3}).map((ue,Fe)=>a.jsxs(lt,{children:[a.jsx(je,{children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-16 animate-pulse rounded bg-gray-200 mx-auto"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-200 ml-auto"})})]},Fe))})]}):De.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(lt,{children:[a.jsx(ye,{className:"text-left",children:"Danh mc"}),a.jsx(ye,{className:"text-left",children:"M t"}),a.jsx(ye,{className:"text-left",children:"Ni dung"}),a.jsx(ye,{className:"text-center",children:"Trng thi"}),a.jsx(ye,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:ro.map(ue=>a.jsxs(lt,{children:[a.jsx(je,{className:"font-medium",children:ue.categoryName}),a.jsx(je,{className:"text-sm text-gray-600",children:ue.description||""}),a.jsx(je,{className:"text-sm text-gray-600 max-w-md truncate",children:ue.content||""}),a.jsx(je,{className:"text-center",children:a.jsx(Oe,{variant:ue.isActive?"default":"outline",children:ue.isActive?"Hot ng":"Tm dng"})}),a.jsx(je,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>Rr(ue),children:[a.jsx(Hu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>Or(ue),children:[a.jsx(Qv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},ue.id))})]}),De.length>Re&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",H,"/",Qa]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>K(ue=>Math.max(1,ue-1)),disabled:H<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>K(ue=>Math.min(Qa,ue+1)),disabled:H>=Qa,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(qi,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c chnh sch no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm chnh sch mi  bt u qun l ni dung."}),a.jsx(ce,{onClick:Je,disabled:!P,children:"Thm chnh sch u tin"})]})})]})]})}),a.jsx(Wt,{open:E,onOpenChange:ue=>{ue||kn()},children:a.jsxs(Ft,{className:"max-w-lg",children:[a.jsx(Yt,{children:a.jsx(Kt,{children:"Chnh sa danh mc chnh sch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn danh mc"}),a.jsx(sn,{value:O.name,onChange:ue=>Cn("name",ue.target.value),placeholder:"Tn danh mc"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(Jn,{rows:3,value:O.description,onChange:ue=>Cn("description",ue.target.value),placeholder:"M t danh mc"})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:O.isActive,onChange:ue=>Cn("isActive",ue.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hot ng"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:kn,disabled:D,children:"Hy"}),a.jsx(ce,{onClick:Pt,disabled:D,children:D?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Wt,{open:!!V,onOpenChange:ue=>{ue||Ce()},children:a.jsxs(Ft,{className:"max-w-sm",children:[a.jsx(Yt,{children:a.jsx(Kt,{children:"Xa danh mc chnh sch"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa danh mc"," ",a.jsx("span",{className:"font-semibold text-gray-900",children:V?.name}),"? Thao tc ny khng th hon tc."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Ce,disabled:B,children:"Hy"}),a.jsx(ce,{variant:"destructive",onClick:Et,disabled:B,children:B?"ang xa...":"Xa"})]})]})}),a.jsx(Wt,{open:$,onOpenChange:ue=>{ue||ca()},children:a.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Yt,{children:a.jsx(Kt,{children:"Chnh sa chnh sch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Danh mc"}),a.jsxs("select",{value:fe.categoryId,onChange:ue=>qr("categoryId",ue.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Chn danh mc"}),r.map(ue=>a.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ni dung"}),a.jsx(Jn,{rows:6,value:fe.content,onChange:ue=>qr("content",ue.target.value),placeholder:"Ni dung chnh sch"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(Jn,{rows:3,value:fe.description,onChange:ue=>qr("description",ue.target.value),placeholder:"M t chnh sch"})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:fe.isActive,onChange:ue=>qr("isActive",ue.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hot ng"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:ca,disabled:W,children:"Hy"}),a.jsx(ce,{onClick:eo,disabled:W,children:W?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Wt,{open:!!ae,onOpenChange:ue=>{ue||Xa()},children:a.jsxs(Ft,{className:"max-w-sm",children:[a.jsx(Yt,{children:a.jsx(Kt,{children:"Xa chnh sch"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bn c chc mun xa chnh sch ny? Thao tc ny khng th hon tc."}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Xa,disabled:Ne,children:"Hy"}),a.jsx(ce,{variant:"destructive",onClick:Js,disabled:Ne,children:Ne?"ang xa...":"Xa"})]})]})})]})}function bn({children:e}){const{user:t,loading:n}=Gs();return n?null:t&&t.role==="admin"?a.jsx(a.Fragment,{children:e}):a.jsx(Vv,{to:et.ADMIN_LOGIN,replace:!0})}function qae(){const{user:e}=Gs();return a.jsx(uU,{children:a.jsx(A3,{children:a.jsxs(r3,{children:[a.jsx(Jt,{path:et.ADMIN_DASHBOARD,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(zte,{})})})}),a.jsx(Jt,{path:et.ADMIN_USERS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Nre,{})})})}),a.jsx(Jt,{path:et.ADMIN_APPROVAL,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Xre,{})})})}),a.jsx(Jt,{path:et.ADMIN_FARMS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Zre,{})})})}),a.jsx(Jt,{path:et.ADMIN_FARM_PROFILE,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(eae,{})})})}),a.jsx(Jt,{path:et.ADMIN_CROPS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(tae,{})})})}),a.jsx(Jt,{path:et.ADMIN_CATEGORIES,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(nae,{})})})}),a.jsx(Jt,{path:et.ADMIN_HARVESTS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(rae,{})})})}),a.jsx(Jt,{path:et.ADMIN_ORDERS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(aae,{})})})}),a.jsx(Jt,{path:et.ADMIN_REPORTS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Dae,{})})})}),a.jsx(Jt,{path:et.ADMIN_PRODUCTS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(iae,{})})})}),a.jsx(Jt,{path:et.ADMIN_SHIPPERS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(sae,{})})})}),a.jsx(Jt,{path:et.ADMIN_AUCTIONS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(dae,{})})})}),a.jsx(Jt,{path:et.ADMIN_AUCTIONS_BY_ID,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(bae,{})})})}),a.jsx(Jt,{path:et.ADMIN_AUCTIONS_BY_ID_ACTIVITY_HISTORY,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(wae,{})})})}),a.jsx(Jt,{path:et.ADMIN_AUCTIONS_BY_ID_BID_HISTORY,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(jae,{})})})}),a.jsx(Jt,{path:et.ADMIN_AUCTIONS_BY_ID_WINNER,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Sae,{})})})}),a.jsx(Jt,{path:et.ADMIN_AUCTIONS_BY_ID_REPORTS,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Tae,{})})})}),a.jsx(Jt,{path:"/admin/settings",element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(_ae,{})})})}),a.jsx(Jt,{path:"/admin/help",element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Rae,{})})})}),a.jsx(Jt,{path:et.ADMIN_WALLET,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Bae,{})})})}),a.jsx(Jt,{path:et.ADMIN_DISPUTES,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(zae,{})})})}),a.jsx(Jt,{path:et.ADMIN_POLICY,element:a.jsx(bn,{children:a.jsx(yn,{children:a.jsx(Hae,{})})})}),a.jsx(Jt,{path:et.ADMIN_LOGIN,element:e&&e.role==="admin"?a.jsx(Vv,{to:et.ADMIN_DASHBOARD,replace:!0}):a.jsx(x$,{})}),a.jsx(Jt,{path:"*",element:a.jsx(Vv,{to:et.ADMIN_LOGIN,replace:!0})})]})})})}const Fae=new d5({defaultOptions:{queries:{refetchOnWindowFocus:!0,refetchOnReconnect:!0,staleTime:30*1e3,gcTime:300*1e3}}});U6.createRoot(document.getElementById("root")).render(a.jsx(p.StrictMode,{children:a.jsx(f5,{client:Fae,children:a.jsx(L3,{children:a.jsx(qae,{})})})}));
