function $6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ux={exports:{}},bu={};var xE;function z6(){if(xE)return bu;xE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:u,ref:s!==void 0?s:null,props:o}}return bu.Fragment=t,bu.jsx=n,bu.jsxs=n,bu}var yE;function H6(){return yE||(yE=1,Ux.exports=z6()),Ux.exports}var a=H6(),$x={exports:{}},gt={};var vE;function q6(){if(vE)return gt;vE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function j(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function E(P,q,ee){this.props=P,this.context=q,this.refs=N,this.updater=ee||S}E.prototype.isReactComponent={},E.prototype.setState=function(P,q){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,q,"setState")},E.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function A(){}A.prototype=E.prototype;function T(P,q,ee){this.props=P,this.context=q,this.refs=N,this.updater=ee||S}var _=T.prototype=new A;_.constructor=T,w(_,E.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function R(){}var D={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function X(P,q,ee){var ue=ee.ref;return{$$typeof:e,type:P,key:q,ref:ue!==void 0?ue:null,props:ee}}function Y(P,q){return X(P.type,q,P.props)}function L(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function F(P){var q={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ee){return q[ee]})}var re=/\/+/g;function ye(P,q){return typeof P=="object"&&P!==null&&P.key!=null?F(""+P.key):q.toString(36)}function ve(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(R,R):(P.status="pending",P.then(function(q){P.status==="pending"&&(P.status="fulfilled",P.value=q)},function(q){P.status==="pending"&&(P.status="rejected",P.reason=q)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,q,ee,ue,we){var ae=typeof P;(ae==="undefined"||ae==="boolean")&&(P=null);var ne=!1;if(P===null)ne=!0;else switch(ae){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(P.$$typeof){case e:case t:ne=!0;break;case g:return ne=P._init,H(ne(P._payload),q,ee,ue,we)}}if(ne)return we=we(P),ne=ue===""?"."+ye(P,0):ue,O(we)?(ee="",ne!=null&&(ee=ne.replace(re,"$&/")+"/"),H(we,q,ee,"",function(M){return M})):we!=null&&(L(we)&&(we=Y(we,ee+(we.key==null||P&&P.key===we.key?"":(""+we.key).replace(re,"$&/")+"/")+ne)),q.push(we)),1;ne=0;var V=ue===""?".":ue+":";if(O(P))for(var U=0;U<P.length;U++)ue=P[U],ae=V+ye(ue,U),ne+=H(ue,q,ee,ae,we);else if(U=j(P),typeof U=="function")for(P=U.call(P),U=0;!(ue=P.next()).done;)ue=ue.value,ae=V+ye(ue,U++),ne+=H(ue,q,ee,ae,we);else if(ae==="object"){if(typeof P.then=="function")return H(ve(P),q,ee,ue,we);throw q=String(P),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ne}function I(P,q,ee){if(P==null)return P;var ue=[],we=0;return H(P,ue,"","",function(ae){return q.call(ee,ae,we++)}),ue}function K(P){if(P._status===-1){var q=P._result;q=q(),q.then(function(ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=ee)},function(ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=ee)}),P._status===-1&&(P._status=0,P._result=q)}if(P._status===1)return P._result.default;throw P._result}var de=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Se={map:I,forEach:function(P,q,ee){I(P,function(){q.apply(this,arguments)},ee)},count:function(P){var q=0;return I(P,function(){q++}),q},toArray:function(P){return I(P,function(q){return q})||[]},only:function(P){if(!L(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return gt.Activity=x,gt.Children=Se,gt.Component=E,gt.Fragment=n,gt.Profiler=s,gt.PureComponent=T,gt.StrictMode=r,gt.Suspense=f,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,gt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},gt.cache=function(P){return function(){return P.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(P,q,ee){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=w({},P.props),we=P.key;if(q!=null)for(ae in q.key!==void 0&&(we=""+q.key),q)!B.call(q,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&q.ref===void 0||(ue[ae]=q[ae]);var ae=arguments.length-2;if(ae===1)ue.children=ee;else if(1<ae){for(var ne=Array(ae),V=0;V<ae;V++)ne[V]=arguments[V+2];ue.children=ne}return X(P.type,we,ue)},gt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},gt.createElement=function(P,q,ee){var ue,we={},ae=null;if(q!=null)for(ue in q.key!==void 0&&(ae=""+q.key),q)B.call(q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=q[ue]);var ne=arguments.length-2;if(ne===1)we.children=ee;else if(1<ne){for(var V=Array(ne),U=0;U<ne;U++)V[U]=arguments[U+2];we.children=V}if(P&&P.defaultProps)for(ue in ne=P.defaultProps,ne)we[ue]===void 0&&(we[ue]=ne[ue]);return X(P,ae,we)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(P){return{$$typeof:d,render:P}},gt.isValidElement=L,gt.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:K}},gt.memo=function(P,q){return{$$typeof:m,type:P,compare:q===void 0?null:q}},gt.startTransition=function(P){var q=D.T,ee={};D.T=ee;try{var ue=P(),we=D.S;we!==null&&we(ee,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(R,de)}catch(ae){de(ae)}finally{q!==null&&ee.types!==null&&(q.types=ee.types),D.T=q}},gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},gt.use=function(P){return D.H.use(P)},gt.useActionState=function(P,q,ee){return D.H.useActionState(P,q,ee)},gt.useCallback=function(P,q){return D.H.useCallback(P,q)},gt.useContext=function(P){return D.H.useContext(P)},gt.useDebugValue=function(){},gt.useDeferredValue=function(P,q){return D.H.useDeferredValue(P,q)},gt.useEffect=function(P,q){return D.H.useEffect(P,q)},gt.useEffectEvent=function(P){return D.H.useEffectEvent(P)},gt.useId=function(){return D.H.useId()},gt.useImperativeHandle=function(P,q,ee){return D.H.useImperativeHandle(P,q,ee)},gt.useInsertionEffect=function(P,q){return D.H.useInsertionEffect(P,q)},gt.useLayoutEffect=function(P,q){return D.H.useLayoutEffect(P,q)},gt.useMemo=function(P,q){return D.H.useMemo(P,q)},gt.useOptimistic=function(P,q){return D.H.useOptimistic(P,q)},gt.useReducer=function(P,q,ee){return D.H.useReducer(P,q,ee)},gt.useRef=function(P){return D.H.useRef(P)},gt.useState=function(P){return D.H.useState(P)},gt.useSyncExternalStore=function(P,q,ee){return D.H.useSyncExternalStore(P,q,ee)},gt.useTransition=function(){return D.H.useTransition()},gt.version="19.2.0",gt}var bE;function dc(){return bE||(bE=1,$x.exports=q6()),$x.exports}var p=dc();const Ds=hi(p),tb=$6({__proto__:null,default:Ds},[p]);var zx={exports:{}},ju={},Hx={exports:{}},qx={};var jE;function F6(){return jE||(jE=1,(function(e){function t(H,I){var K=H.length;H.push(I);e:for(;0<K;){var de=K-1>>>1,Se=H[de];if(0<s(Se,I))H[de]=I,H[K]=Se,K=de;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var I=H[0],K=H.pop();if(K!==I){H[0]=K;e:for(var de=0,Se=H.length,P=Se>>>1;de<P;){var q=2*(de+1)-1,ee=H[q],ue=q+1,we=H[ue];if(0>s(ee,K))ue<Se&&0>s(we,ee)?(H[de]=we,H[ue]=K,de=ue):(H[de]=ee,H[q]=K,de=q);else if(ue<Se&&0>s(we,K))H[de]=we,H[ue]=K,de=ue;else break e}}return I}function s(H,I){var K=H.sortIndex-I.sortIndex;return K!==0?K:H.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,x=null,b=3,j=!1,S=!1,w=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _(H){for(var I=n(m);I!==null;){if(I.callback===null)r(m);else if(I.startTime<=H)r(m),I.sortIndex=I.expirationTime,t(f,I);else break;I=n(m)}}function O(H){if(w=!1,_(H),!S)if(n(f)!==null)S=!0,R||(R=!0,F());else{var I=n(m);I!==null&&ve(O,I.startTime-H)}}var R=!1,D=-1,B=5,X=-1;function Y(){return N?!0:!(e.unstable_now()-X<B)}function L(){if(N=!1,R){var H=e.unstable_now();X=H;var I=!0;try{e:{S=!1,w&&(w=!1,A(D),D=-1),j=!0;var K=b;try{t:{for(_(H),x=n(f);x!==null&&!(x.expirationTime>H&&Y());){var de=x.callback;if(typeof de=="function"){x.callback=null,b=x.priorityLevel;var Se=de(x.expirationTime<=H);if(H=e.unstable_now(),typeof Se=="function"){x.callback=Se,_(H),I=!0;break t}x===n(f)&&r(f),_(H)}else r(f);x=n(f)}if(x!==null)I=!0;else{var P=n(m);P!==null&&ve(O,P.startTime-H),I=!1}}break e}finally{x=null,b=K,j=!1}I=void 0}}finally{I?F():R=!1}}}var F;if(typeof T=="function")F=function(){T(L)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ye=re.port2;re.port1.onmessage=L,F=function(){ye.postMessage(null)}}else F=function(){E(L,0)};function ve(H,I){D=E(function(){H(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var K=b;b=I;try{return H()}finally{b=K}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=b;b=H;try{return I()}finally{b=K}},e.unstable_scheduleCallback=function(H,I,K){var de=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?de+K:de):K=de,H){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=K+Se,H={id:g++,callback:I,priorityLevel:H,startTime:K,expirationTime:Se,sortIndex:-1},K>de?(H.sortIndex=K,t(m,H),n(f)===null&&H===n(m)&&(w?(A(D),D=-1):w=!0,ve(O,K-de))):(H.sortIndex=Se,t(f,H),S||j||(S=!0,R||(R=!0,F()))),H},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(H){var I=b;return function(){var K=b;b=I;try{return H.apply(this,arguments)}finally{b=K}}}})(qx)),qx}var wE;function K6(){return wE||(wE=1,Hx.exports=F6()),Hx.exports}var Fx={exports:{}},hr={};var NE;function G6(){if(NE)return hr;NE=1;var e=dc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hr.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,g)},hr.flushSync=function(f){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=g,r.d.f()}},hr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},hr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},hr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:j}):g==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},hr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);r.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hr.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},hr.requestFormReset=function(f){r.d.r(f)},hr.unstable_batchedUpdates=function(f,m){return f(m)},hr.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},hr.useFormStatus=function(){return u.H.useHostTransitionStatus()},hr.version="19.2.0",hr}var SE;function I_(){if(SE)return Fx.exports;SE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fx.exports=G6(),Fx.exports}var EE;function V6(){if(EE)return ju;EE=1;var e=K6(),t=dc(),n=I_();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function u(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var c=i,h=l;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return f(y),i;if(v===h)return f(y),l;v=v.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=v;else{for(var C=!1,k=y.child;k;){if(k===c){C=!0,c=y,h=v;break}if(k===h){C=!0,h=y,c=v;break}k=k.sibling}if(!C){for(k=v.child;k;){if(k===c){C=!0,c=v,h=y;break}if(k===h){C=!0,h=v,c=y;break}k=k.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var re=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===re?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case T:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case _:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return l=i.displayName||null,l!==null?l:ye(i.type)||"Memo";case B:l=i._payload,i=i._init;try{return ye(i(l))}catch{}}return null}var ve=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},de=[],Se=-1;function P(i){return{current:i}}function q(i){0>Se||(i.current=de[Se],de[Se]=null,Se--)}function ee(i,l){Se++,de[Se]=i.current,i.current=l}var ue=P(null),we=P(null),ae=P(null),ne=P(null);function V(i,l){switch(ee(ae,l),ee(we,i),ee(ue,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?$S(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=$S(l),i=zS(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(ue),ee(ue,i)}function U(){q(ue),q(we),q(ae)}function M(i){i.memoizedState!==null&&ee(ne,i);var l=ue.current,c=zS(l,i.type);l!==c&&(ee(we,i),ee(ue,c))}function W(i){we.current===i&&(q(ue),q(we)),ne.current===i&&(q(ne),pu._currentValue=K)}var $,J;function G(i){if($===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||"",J=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+i+J}var z=!1;function Q(i,l){if(!i||z)return"";z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Ee){var be=Ee}Reflect.construct(i,[],ke)}else{try{ke.call()}catch(Ee){be=Ee}i.call(ke.prototype)}}else{try{throw Error()}catch(Ee){be=Ee}(ke=i())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Ee){if(Ee&&be&&typeof Ee.stack=="string")return[Ee.stack,be.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],k=v[1];if(C&&k){var Z=C.split(`
`),ge=k.split(`
`);for(y=h=0;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ge.length&&!ge[y].includes("DetermineComponentFrameRoot");)y++;if(h===Z.length||y===ge.length)for(h=Z.length-1,y=ge.length-1;1<=h&&0<=y&&Z[h]!==ge[y];)y--;for(;1<=h&&0<=y;h--,y--)if(Z[h]!==ge[y]){if(h!==1||y!==1)do if(h--,y--,0>y||Z[h]!==ge[y]){var Te=`
`+Z[h].replace(" at new "," at ");return i.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",i.displayName)),Te}while(1<=h&&0<=y);break}}}finally{z=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?G(c):""}function ie(i,l){switch(i.tag){case 26:case 27:case 5:return G(i.type);case 16:return G("Lazy");case 13:return i.child!==l&&l!==null?G("Suspense Fallback"):G("Suspense");case 19:return G("SuspenseList");case 0:case 15:return Q(i.type,!1);case 11:return Q(i.type.render,!1);case 1:return Q(i.type,!0);case 31:return G("Activity");default:return""}}function Ce(i){try{var l="",c=null;do l+=ie(i,c),c=i,i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ve=Object.prototype.hasOwnProperty,nt=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,mt=e.unstable_requestPaint,it=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,Oe=e.unstable_UserBlockingPriority,Ne=e.unstable_NormalPriority,We=e.unstable_LowPriority,ut=e.unstable_IdlePriority,ht=e.log,ft=e.unstable_setDisableYieldValue,vt=null,wt=null;function en(i){if(typeof ht=="function"&&ft(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(vt,i)}catch{}}var st=Math.clz32?Math.clz32:$e,Ae=Math.log,Le=Math.LN2;function $e(i){return i>>>=0,i===0?32:31-(Ae(i)/Le|0)|0}var bt=256,jt=262144,Nt=4194304;function Rr(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ua(i,l,c){var h=i.pendingLanes;if(h===0)return 0;var y=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var k=h&134217727;return k!==0?(h=k&~v,h!==0?y=Rr(h):(C&=k,C!==0?y=Rr(C):c||(c=k&~i,c!==0&&(y=Rr(c))))):(k=h&~v,k!==0?y=Rr(k):C!==0?y=Rr(C):c||(c=h&~i,c!==0&&(y=Rr(c)))),y===0?0:l!==0&&l!==y&&(l&v)===0&&(v=y&-y,c=l&-l,v>=c||v===32&&(c&4194048)!==0)?l:y}function Hr(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function eo(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function jr(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function Xa(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ss(i,l,c,h,y,v){var C=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var k=i.entanglements,Z=i.expirationTimes,ge=i.hiddenUpdates;for(c=C&~c;0<c;){var Te=31-st(c),ke=1<<Te;k[Te]=0,Z[Te]=-1;var be=ge[Te];if(be!==null)for(ge[Te]=null,Te=0;Te<be.length;Te++){var Ee=be[Te];Ee!==null&&(Ee.lane&=-536870913)}c&=~ke}h!==0&&Oc(i,h,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~l))}function Oc(i,l,c){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-st(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function Js(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var h=31-st(c),y=1<<h;y&l|i[h]&l&&(i[h]|=l),c&=~y}}function to(i,l){var c=l&-l;return c=(c&42)!==0?1:Qa(c),(c&(i.suspendedLanes|l))!==0?0:c}function Qa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function no(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function el(){var i=I.p;return i!==0?i:(i=window.event,i===void 0?32:uE(i.type))}function ro(i,l){var c=I.p;try{return I.p=i,l()}finally{I.p=c}}var he=Math.random().toString(36).slice(2),Ye="__reactFiber$"+he,Rt="__reactProps$"+he,qr="__reactContainer$"+he,ao="__reactEvents$"+he,Ud="__reactListeners$"+he,io="__reactHandles$"+he,tl="__reactResources$"+he,nl="__reactMarker$"+he;function kc(i){delete i[Ye],delete i[Rt],delete i[ao],delete i[Ud],delete i[io]}function fe(i){var l=i[Ye];if(l)return l;for(var c=i.parentNode;c;){if(l=c[qr]||c[Ye]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=WS(i);i!==null;){if(c=i[Ye])return c;i=WS(i)}return l}i=c,c=i.parentNode}return null}function Me(i){if(i=i[Ye]||i[qr]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Pe(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function tn(i){var l=i[tl];return l||(l=i[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(i){i[nl]=!0}var Tw=new Set,_w={};function rl(i,l){so(i,l),so(i+"Capture",l)}function so(i,l){for(_w[i]=l,i=0;i<l.length;i++)Tw.add(l[i])}var O4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rw={},Ow={};function k4(i){return Ve.call(Ow,i)?!0:Ve.call(Rw,i)?!1:O4.test(i)?Ow[i]=!0:(Rw[i]=!0,!1)}function $d(i,l,c){if(k4(l))if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+c)}}function zd(i,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+c)}}function fi(i,l,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(l,c,""+h)}}function da(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kw(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function D4(i,l,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,v.call(this,C)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function kg(i){if(!i._valueTracker){var l=kw(i)?"checked":"value";i._valueTracker=D4(i,l,""+i[l])}}function Dw(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return i&&(h=kw(i)?i.checked?"true":"false":i.value),i=h,i!==c?(l.setValue(i),!0):!1}function Hd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var M4=/[\n"\\]/g;function ha(i){return i.replace(M4,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Dg(i,l,c,h,y,v,C,k){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),l!=null?C==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+da(l)):i.value!==""+da(l)&&(i.value=""+da(l)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),l!=null?Mg(i,C,da(l)):c!=null?Mg(i,C,da(c)):h!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+da(k):i.removeAttribute("name")}function Mw(i,l,c,h,y,v,C,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),l!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||l!=null)){kg(i);return}c=c!=null?""+da(c):"",l=l!=null?""+da(l):c,k||l===i.value||(i.value=l),i.defaultValue=l}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),kg(i)}function Mg(i,l,c){l==="number"&&Hd(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function lo(i,l,c,h){if(i=i.options,l){l={};for(var y=0;y<c.length;y++)l["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=l.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&h&&(i[c].defaultSelected=!0)}else{for(c=""+da(c),l=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function Pw(i,l,c){if(l!=null&&(l=""+da(l),l!==i.value&&(i.value=l),c==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=c!=null?""+da(c):""}function Iw(i,l,c,h){if(l==null){if(h!=null){if(c!=null)throw Error(r(92));if(ve(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),l=c}c=da(l),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),kg(i)}function oo(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var P4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lw(i,l,c){var h=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,c):typeof c!="number"||c===0||P4.has(l)?l==="float"?i.cssFloat=c:i[l]=(""+c).trim():i[l]=c+"px"}function Bw(i,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in l)h=l[y],l.hasOwnProperty(y)&&c[y]!==h&&Lw(i,y,h)}else for(var v in l)l.hasOwnProperty(v)&&Lw(i,v,l[v])}function Pg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qd(i){return L4.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function mi(){}var Ig=null;function Lg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var co=null,uo=null;function Uw(i){var l=Me(i);if(l&&(i=l.stateNode)){var c=i[Rt]||null;e:switch(i=l.stateNode,l.type){case"input":if(Dg(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ha(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==i&&h.form===i.form){var y=h[Rt]||null;if(!y)throw Error(r(90));Dg(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<c.length;l++)h=c[l],h.form===i.form&&Dw(h)}break e;case"textarea":Pw(i,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&lo(i,!!c.multiple,l,!1)}}}var Bg=!1;function $w(i,l,c){if(Bg)return i(l,c);Bg=!0;try{var h=i(l);return h}finally{if(Bg=!1,(co!==null||uo!==null)&&(Rh(),co&&(l=co,i=uo,uo=co=null,Uw(l),i)))for(l=0;l<i.length;l++)Uw(i[l])}}function Dc(i,l){var c=i.stateNode;if(c===null)return null;var h=c[Rt]||null;if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=!1;if(gi)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Ug=!1}var ls=null,$g=null,Fd=null;function zw(){if(Fd)return Fd;var i,l=$g,c=l.length,h,y="value"in ls?ls.value:ls.textContent,v=y.length;for(i=0;i<c&&l[i]===y[i];i++);var C=c-i;for(h=1;h<=C&&l[c-h]===y[v-h];h++);return Fd=y.slice(i,1<h?1-h:void 0)}function Kd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Gd(){return!0}function Hw(){return!1}function Or(i){function l(c,h,y,v,C){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(c=i[k],this[k]=c?c(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Gd:Hw,this.isPropagationStopped=Hw,this}return x(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd}),l}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=Or(al),Pc=x({},al,{view:0,detail:0}),B4=Or(Pc),zg,Hg,Ic,Wd=x({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ic&&(Ic&&i.type==="mousemove"?(zg=i.screenX-Ic.screenX,Hg=i.screenY-Ic.screenY):Hg=zg=0,Ic=i),zg)},movementY:function(i){return"movementY"in i?i.movementY:Hg}}),qw=Or(Wd),U4=x({},Wd,{dataTransfer:0}),$4=Or(U4),z4=x({},Pc,{relatedTarget:0}),qg=Or(z4),H4=x({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),q4=Or(H4),F4=x({},al,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),K4=Or(F4),G4=x({},al,{data:0}),Fw=Or(G4),V4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X4(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Y4[i])?!!l[i]:!1}function Fg(){return X4}var Q4=x({},Pc,{key:function(i){if(i.key){var l=V4[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Kd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?W4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fg,charCode:function(i){return i.type==="keypress"?Kd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Kd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Z4=Or(Q4),J4=x({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=Or(J4),eI=x({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fg}),tI=Or(eI),nI=x({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),rI=Or(nI),aI=x({},Wd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),iI=Or(aI),sI=x({},al,{newState:0,oldState:0}),lI=Or(sI),oI=[9,13,27,32],Kg=gi&&"CompositionEvent"in window,Lc=null;gi&&"documentMode"in document&&(Lc=document.documentMode);var cI=gi&&"TextEvent"in window&&!Lc,Gw=gi&&(!Kg||Lc&&8<Lc&&11>=Lc),Vw=" ",Ww=!1;function Yw(i,l){switch(i){case"keyup":return oI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ho=!1;function uI(i,l){switch(i){case"compositionend":return Xw(l);case"keypress":return l.which!==32?null:(Ww=!0,Vw);case"textInput":return i=l.data,i===Vw&&Ww?null:i;default:return null}}function dI(i,l){if(ho)return i==="compositionend"||!Kg&&Yw(i,l)?(i=zw(),Fd=$g=ls=null,ho=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Gw&&l.locale!=="ko"?null:l.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qw(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!hI[i.type]:l==="textarea"}function Zw(i,l,c,h){co?uo?uo.push(h):uo=[h]:co=h,l=Lh(l,"onChange"),0<l.length&&(c=new Vd("onChange","change",null,c,h),i.push({event:c,listeners:l}))}var Bc=null,Uc=null;function fI(i){MS(i,0)}function Yd(i){var l=Pe(i);if(Dw(l))return i}function Jw(i,l){if(i==="change")return l}var eN=!1;if(gi){var Gg;if(gi){var Vg="oninput"in document;if(!Vg){var tN=document.createElement("div");tN.setAttribute("oninput","return;"),Vg=typeof tN.oninput=="function"}Gg=Vg}else Gg=!1;eN=Gg&&(!document.documentMode||9<document.documentMode)}function nN(){Bc&&(Bc.detachEvent("onpropertychange",rN),Uc=Bc=null)}function rN(i){if(i.propertyName==="value"&&Yd(Uc)){var l=[];Zw(l,Uc,i,Lg(i)),$w(fI,l)}}function mI(i,l,c){i==="focusin"?(nN(),Bc=l,Uc=c,Bc.attachEvent("onpropertychange",rN)):i==="focusout"&&nN()}function gI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yd(Uc)}function pI(i,l){if(i==="click")return Yd(l)}function xI(i,l){if(i==="input"||i==="change")return Yd(l)}function yI(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Fr=typeof Object.is=="function"?Object.is:yI;function $c(i,l){if(Fr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Ve.call(l,y)||!Fr(i[y],l[y]))return!1}return!0}function aN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iN(i,l){var c=aN(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=l&&h>=l)return{node:c,offset:l-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=aN(c)}}function sN(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?sN(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function lN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Hd(i.document);l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=Hd(i.document)}return l}function Wg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var vI=gi&&"documentMode"in document&&11>=document.documentMode,fo=null,Yg=null,zc=null,Xg=!1;function oN(i,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xg||fo==null||fo!==Hd(h)||(h=fo,"selectionStart"in h&&Wg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),zc&&$c(zc,h)||(zc=h,h=Lh(Yg,"onSelect"),0<h.length&&(l=new Vd("onSelect","select",null,l,c),i.push({event:l,listeners:h}),l.target=fo)))}function il(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var mo={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},Qg={},cN={};gi&&(cN=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function sl(i){if(Qg[i])return Qg[i];if(!mo[i])return i;var l=mo[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in cN)return Qg[i]=l[c];return i}var uN=sl("animationend"),dN=sl("animationiteration"),hN=sl("animationstart"),bI=sl("transitionrun"),jI=sl("transitionstart"),wI=sl("transitioncancel"),fN=sl("transitionend"),mN=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zg.push("scrollEnd");function Ba(i,l){mN.set(i,l),rl(l,[i])}var Xd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fa=[],go=0,Jg=0;function Qd(){for(var i=go,l=Jg=go=0;l<i;){var c=fa[l];fa[l++]=null;var h=fa[l];fa[l++]=null;var y=fa[l];fa[l++]=null;var v=fa[l];if(fa[l++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}v!==0&&gN(c,y,v)}}function Zd(i,l,c,h){fa[go++]=i,fa[go++]=l,fa[go++]=c,fa[go++]=h,Jg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function ep(i,l,c,h){return Zd(i,l,c,h),Jd(i)}function ll(i,l){return Zd(i,null,null,l),Jd(i)}function gN(i,l,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var y=!1,v=i.return;v!==null;)v.childLanes|=c,h=v.alternate,h!==null&&(h.childLanes|=c),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&l!==null&&(y=31-st(c),i=v.hiddenUpdates,h=i[y],h===null?i[y]=[l]:h.push(l),l.lane=c|536870912),v):null}function Jd(i){if(50<cu)throw cu=0,cx=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var po={};function NI(i,l,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(i,l,c,h){return new NI(i,l,c,h)}function tp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pi(i,l){var c=i.alternate;return c===null?(c=Kr(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function pN(i,l){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,l=c.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function eh(i,l,c,h,y,v){var C=0;if(h=i,typeof i=="function")tp(i)&&(C=1);else if(typeof i=="string")C=T6(i,c,ue.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case X:return i=Kr(31,c,l,y),i.elementType=X,i.lanes=v,i;case w:return ol(c.children,y,v,l);case N:C=8,y|=24;break;case E:return i=Kr(12,c,l,y|2),i.elementType=E,i.lanes=v,i;case O:return i=Kr(13,c,l,y),i.elementType=O,i.lanes=v,i;case R:return i=Kr(19,c,l,y),i.elementType=R,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:C=10;break e;case A:C=9;break e;case _:C=11;break e;case D:C=14;break e;case B:C=16,h=null;break e}C=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return l=Kr(C,c,l,y),l.elementType=i,l.type=h,l.lanes=v,l}function ol(i,l,c,h){return i=Kr(7,i,h,l),i.lanes=c,i}function np(i,l,c){return i=Kr(6,i,null,l),i.lanes=c,i}function xN(i){var l=Kr(18,null,null,0);return l.stateNode=i,l}function rp(i,l,c){return l=Kr(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var yN=new WeakMap;function ma(i,l){if(typeof i=="object"&&i!==null){var c=yN.get(i);return c!==void 0?c:(l={value:i,source:l,stack:Ce(l)},yN.set(i,l),l)}return{value:i,source:l,stack:Ce(l)}}var xo=[],yo=0,th=null,Hc=0,ga=[],pa=0,os=null,Za=1,Ja="";function xi(i,l){xo[yo++]=Hc,xo[yo++]=th,th=i,Hc=l}function vN(i,l,c){ga[pa++]=Za,ga[pa++]=Ja,ga[pa++]=os,os=i;var h=Za;i=Ja;var y=32-st(h)-1;h&=~(1<<y),c+=1;var v=32-st(l)+y;if(30<v){var C=y-y%5;v=(h&(1<<C)-1).toString(32),h>>=C,y-=C,Za=1<<32-st(l)+y|c<<y|h,Ja=v+i}else Za=1<<v|c<<y|h,Ja=i}function ap(i){i.return!==null&&(xi(i,1),vN(i,1,0))}function ip(i){for(;i===th;)th=xo[--yo],xo[yo]=null,Hc=xo[--yo],xo[yo]=null;for(;i===os;)os=ga[--pa],ga[pa]=null,Ja=ga[--pa],ga[pa]=null,Za=ga[--pa],ga[pa]=null}function bN(i,l){ga[pa++]=Za,ga[pa++]=Ja,ga[pa++]=os,Za=l.id,Ja=l.overflow,os=i}var rr=null,fn=null,Ot=!1,cs=null,xa=!1,sp=Error(r(519));function us(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qc(ma(l,i)),sp}function jN(i){var l=i.stateNode,c=i.type,h=i.memoizedProps;switch(l[Ye]=i,l[Rt]=h,c){case"dialog":At("cancel",l),At("close",l);break;case"iframe":case"object":case"embed":At("load",l);break;case"video":case"audio":for(c=0;c<du.length;c++)At(du[c],l);break;case"source":At("error",l);break;case"img":case"image":case"link":At("error",l),At("load",l);break;case"details":At("toggle",l);break;case"input":At("invalid",l),Mw(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":At("invalid",l);break;case"textarea":At("invalid",l),Iw(l,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||h.suppressHydrationWarning===!0||BS(l.textContent,c)?(h.popover!=null&&(At("beforetoggle",l),At("toggle",l)),h.onScroll!=null&&At("scroll",l),h.onScrollEnd!=null&&At("scrollend",l),h.onClick!=null&&(l.onclick=mi),l=!0):l=!1,l||us(i,!0)}function wN(i){for(rr=i.return;rr;)switch(rr.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:rr=rr.return}}function vo(i){if(i!==rr)return!1;if(!Ot)return wN(i),Ot=!0,!1;var l=i.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Sx(i.type,i.memoizedProps)),c=!c),c&&fn&&us(i),wN(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));fn=VS(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));fn=VS(i)}else l===27?(l=fn,Ss(i.type)?(i=_x,_x=null,fn=i):fn=l):fn=rr?va(i.stateNode.nextSibling):null;return!0}function cl(){fn=rr=null,Ot=!1}function lp(){var i=cs;return i!==null&&(Pr===null?Pr=i:Pr.push.apply(Pr,i),cs=null),i}function qc(i){cs===null?cs=[i]:cs.push(i)}var op=P(null),ul=null,yi=null;function ds(i,l,c){ee(op,l._currentValue),l._currentValue=c}function vi(i){i._currentValue=op.current,q(op)}function cp(i,l,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===c)break;i=i.return}}function up(i,l,c,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var C=y.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=y;for(var Z=0;Z<l.length;Z++)if(k.context===l[Z]){v.lanes|=c,k=v.alternate,k!==null&&(k.lanes|=c),cp(v.return,c,i),h||(C=null);break e}v=k.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,v=C.alternate,v!==null&&(v.lanes|=c),cp(C,c,i),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===i){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function bo(i,l,c,h){i=null;for(var y=l,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=y.type;Fr(y.pendingProps.value,C.value)||(i!==null?i.push(k):i=[k])}}else if(y===ne.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(pu):i=[pu])}y=y.return}i!==null&&up(l,i,c,h),l.flags|=262144}function nh(i){for(i=i.firstContext;i!==null;){if(!Fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){ul=i,yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ar(i){return NN(ul,i)}function rh(i,l){return ul===null&&dl(i),NN(i,l)}function NN(i,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},yi===null){if(i===null)throw Error(r(308));yi=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else yi=yi.next=l;return c}var SI=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(c){return c()})}},EI=e.unstable_scheduleCallback,CI=e.unstable_NormalPriority,Ln={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dp(){return{controller:new SI,data:new Map,refCount:0}}function Fc(i){i.refCount--,i.refCount===0&&EI(CI,function(){i.controller.abort()})}var Kc=null,hp=0,jo=0,wo=null;function AI(i,l){if(Kc===null){var c=Kc=[];hp=0,jo=gx(),wo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return hp++,l.then(SN,SN),l}function SN(){if(--hp===0&&Kc!==null){wo!==null&&(wo.status="fulfilled");var i=Kc;Kc=null,jo=0,wo=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function TI(i,l){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var y=0;y<c.length;y++)(0,c[y])(l)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var EN=H.S;H.S=function(i,l){oS=it(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&AI(i,l),EN!==null&&EN(i,l)};var hl=P(null);function fp(){var i=hl.current;return i!==null?i:rn.pooledCache}function ah(i,l){l===null?ee(hl,hl.current):ee(hl,l.pool)}function CN(){var i=fp();return i===null?null:{parent:Ln._currentValue,pool:i}}var No=Error(r(460)),mp=Error(r(474)),ih=Error(r(542)),sh={then:function(){}};function AN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function TN(i,l,c){switch(c=i[c],c===void 0?i.push(l):c!==l&&(l.then(mi,mi),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,RN(i),i;default:if(typeof l.status=="string")l.then(mi,mi);else{if(i=rn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=h}},function(h){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,RN(i),i}throw ml=l,No}}function fl(i){try{var l=i._init;return l(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ml=c,No):c}}var ml=null;function _N(){if(ml===null)throw Error(r(459));var i=ml;return ml=null,i}function RN(i){if(i===No||i===ih)throw Error(r(483))}var So=null,Gc=0;function lh(i){var l=Gc;return Gc+=1,So===null&&(So=[]),TN(So,i,l)}function Vc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function oh(i,l){throw l.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function ON(i){function l(le,te){if(i){var me=le.deletions;me===null?(le.deletions=[te],le.flags|=16):me.push(te)}}function c(le,te){if(!i)return null;for(;te!==null;)l(le,te),te=te.sibling;return null}function h(le){for(var te=new Map;le!==null;)le.key!==null?te.set(le.key,le):te.set(le.index,le),le=le.sibling;return te}function y(le,te){return le=pi(le,te),le.index=0,le.sibling=null,le}function v(le,te,me){return le.index=me,i?(me=le.alternate,me!==null?(me=me.index,me<te?(le.flags|=67108866,te):me):(le.flags|=67108866,te)):(le.flags|=1048576,te)}function C(le){return i&&le.alternate===null&&(le.flags|=67108866),le}function k(le,te,me,Re){return te===null||te.tag!==6?(te=np(me,le.mode,Re),te.return=le,te):(te=y(te,me),te.return=le,te)}function Z(le,te,me,Re){var rt=me.type;return rt===w?Te(le,te,me.props.children,Re,me.key):te!==null&&(te.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===B&&fl(rt)===te.type)?(te=y(te,me.props),Vc(te,me),te.return=le,te):(te=eh(me.type,me.key,me.props,null,le.mode,Re),Vc(te,me),te.return=le,te)}function ge(le,te,me,Re){return te===null||te.tag!==4||te.stateNode.containerInfo!==me.containerInfo||te.stateNode.implementation!==me.implementation?(te=rp(me,le.mode,Re),te.return=le,te):(te=y(te,me.children||[]),te.return=le,te)}function Te(le,te,me,Re,rt){return te===null||te.tag!==7?(te=ol(me,le.mode,Re,rt),te.return=le,te):(te=y(te,me),te.return=le,te)}function ke(le,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=np(""+te,le.mode,me),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return me=eh(te.type,te.key,te.props,null,le.mode,me),Vc(me,te),me.return=le,me;case S:return te=rp(te,le.mode,me),te.return=le,te;case B:return te=fl(te),ke(le,te,me)}if(ve(te)||F(te))return te=ol(te,le.mode,me,null),te.return=le,te;if(typeof te.then=="function")return ke(le,lh(te),me);if(te.$$typeof===T)return ke(le,rh(le,te),me);oh(le,te)}return null}function be(le,te,me,Re){var rt=te!==null?te.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return rt!==null?null:k(le,te,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case j:return me.key===rt?Z(le,te,me,Re):null;case S:return me.key===rt?ge(le,te,me,Re):null;case B:return me=fl(me),be(le,te,me,Re)}if(ve(me)||F(me))return rt!==null?null:Te(le,te,me,Re,null);if(typeof me.then=="function")return be(le,te,lh(me),Re);if(me.$$typeof===T)return be(le,te,rh(le,me),Re);oh(le,me)}return null}function Ee(le,te,me,Re,rt){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return le=le.get(me)||null,k(te,le,""+Re,rt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case j:return le=le.get(Re.key===null?me:Re.key)||null,Z(te,le,Re,rt);case S:return le=le.get(Re.key===null?me:Re.key)||null,ge(te,le,Re,rt);case B:return Re=fl(Re),Ee(le,te,me,Re,rt)}if(ve(Re)||F(Re))return le=le.get(me)||null,Te(te,le,Re,rt,null);if(typeof Re.then=="function")return Ee(le,te,me,lh(Re),rt);if(Re.$$typeof===T)return Ee(le,te,me,rh(te,Re),rt);oh(te,Re)}return null}function qe(le,te,me,Re){for(var rt=null,It=null,Qe=te,yt=te=0,_t=null;Qe!==null&&yt<me.length;yt++){Qe.index>yt?(_t=Qe,Qe=null):_t=Qe.sibling;var Lt=be(le,Qe,me[yt],Re);if(Lt===null){Qe===null&&(Qe=_t);break}i&&Qe&&Lt.alternate===null&&l(le,Qe),te=v(Lt,te,yt),It===null?rt=Lt:It.sibling=Lt,It=Lt,Qe=_t}if(yt===me.length)return c(le,Qe),Ot&&xi(le,yt),rt;if(Qe===null){for(;yt<me.length;yt++)Qe=ke(le,me[yt],Re),Qe!==null&&(te=v(Qe,te,yt),It===null?rt=Qe:It.sibling=Qe,It=Qe);return Ot&&xi(le,yt),rt}for(Qe=h(Qe);yt<me.length;yt++)_t=Ee(Qe,le,yt,me[yt],Re),_t!==null&&(i&&_t.alternate!==null&&Qe.delete(_t.key===null?yt:_t.key),te=v(_t,te,yt),It===null?rt=_t:It.sibling=_t,It=_t);return i&&Qe.forEach(function(_s){return l(le,_s)}),Ot&&xi(le,yt),rt}function ot(le,te,me,Re){if(me==null)throw Error(r(151));for(var rt=null,It=null,Qe=te,yt=te=0,_t=null,Lt=me.next();Qe!==null&&!Lt.done;yt++,Lt=me.next()){Qe.index>yt?(_t=Qe,Qe=null):_t=Qe.sibling;var _s=be(le,Qe,Lt.value,Re);if(_s===null){Qe===null&&(Qe=_t);break}i&&Qe&&_s.alternate===null&&l(le,Qe),te=v(_s,te,yt),It===null?rt=_s:It.sibling=_s,It=_s,Qe=_t}if(Lt.done)return c(le,Qe),Ot&&xi(le,yt),rt;if(Qe===null){for(;!Lt.done;yt++,Lt=me.next())Lt=ke(le,Lt.value,Re),Lt!==null&&(te=v(Lt,te,yt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return Ot&&xi(le,yt),rt}for(Qe=h(Qe);!Lt.done;yt++,Lt=me.next())Lt=Ee(Qe,le,yt,Lt.value,Re),Lt!==null&&(i&&Lt.alternate!==null&&Qe.delete(Lt.key===null?yt:Lt.key),te=v(Lt,te,yt),It===null?rt=Lt:It.sibling=Lt,It=Lt);return i&&Qe.forEach(function(U6){return l(le,U6)}),Ot&&xi(le,yt),rt}function Xt(le,te,me,Re){if(typeof me=="object"&&me!==null&&me.type===w&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case j:e:{for(var rt=me.key;te!==null;){if(te.key===rt){if(rt=me.type,rt===w){if(te.tag===7){c(le,te.sibling),Re=y(te,me.props.children),Re.return=le,le=Re;break e}}else if(te.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===B&&fl(rt)===te.type){c(le,te.sibling),Re=y(te,me.props),Vc(Re,me),Re.return=le,le=Re;break e}c(le,te);break}else l(le,te);te=te.sibling}me.type===w?(Re=ol(me.props.children,le.mode,Re,me.key),Re.return=le,le=Re):(Re=eh(me.type,me.key,me.props,null,le.mode,Re),Vc(Re,me),Re.return=le,le=Re)}return C(le);case S:e:{for(rt=me.key;te!==null;){if(te.key===rt)if(te.tag===4&&te.stateNode.containerInfo===me.containerInfo&&te.stateNode.implementation===me.implementation){c(le,te.sibling),Re=y(te,me.children||[]),Re.return=le,le=Re;break e}else{c(le,te);break}else l(le,te);te=te.sibling}Re=rp(me,le.mode,Re),Re.return=le,le=Re}return C(le);case B:return me=fl(me),Xt(le,te,me,Re)}if(ve(me))return qe(le,te,me,Re);if(F(me)){if(rt=F(me),typeof rt!="function")throw Error(r(150));return me=rt.call(me),ot(le,te,me,Re)}if(typeof me.then=="function")return Xt(le,te,lh(me),Re);if(me.$$typeof===T)return Xt(le,te,rh(le,me),Re);oh(le,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,te!==null&&te.tag===6?(c(le,te.sibling),Re=y(te,me),Re.return=le,le=Re):(c(le,te),Re=np(me,le.mode,Re),Re.return=le,le=Re),C(le)):c(le,te)}return function(le,te,me,Re){try{Gc=0;var rt=Xt(le,te,me,Re);return So=null,rt}catch(Qe){if(Qe===No||Qe===ih)throw Qe;var It=Kr(29,Qe,null,le.mode);return It.lanes=Re,It.return=le,It}finally{}}}var gl=ON(!0),kN=ON(!1),hs=!1;function gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ms(i,l,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ut&2)!==0){var y=h.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),h.pending=l,l=Jd(i),gN(i,null,c),l}return Zd(i,h,l,c),Jd(i)}function Wc(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,Js(i,c)}}function xp(i,l){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?y=v=l:v=v.next=l}else y=v=l;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}var yp=!1;function Yc(){if(yp){var i=wo;if(i!==null)throw i}}function Xc(i,l,c,h){yp=!1;var y=i.updateQueue;hs=!1;var v=y.firstBaseUpdate,C=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var Z=k,ge=Z.next;Z.next=null,C===null?v=ge:C.next=ge,C=Z;var Te=i.alternate;Te!==null&&(Te=Te.updateQueue,k=Te.lastBaseUpdate,k!==C&&(k===null?Te.firstBaseUpdate=ge:k.next=ge,Te.lastBaseUpdate=Z))}if(v!==null){var ke=y.baseState;C=0,Te=ge=Z=null,k=v;do{var be=k.lane&-536870913,Ee=be!==k.lane;if(Ee?(Tt&be)===be:(h&be)===be){be!==0&&be===jo&&(yp=!0),Te!==null&&(Te=Te.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var qe=i,ot=k;be=l;var Xt=c;switch(ot.tag){case 1:if(qe=ot.payload,typeof qe=="function"){ke=qe.call(Xt,ke,be);break e}ke=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ot.payload,be=typeof qe=="function"?qe.call(Xt,ke,be):qe,be==null)break e;ke=x({},ke,be);break e;case 2:hs=!0}}be=k.callback,be!==null&&(i.flags|=64,Ee&&(i.flags|=8192),Ee=y.callbacks,Ee===null?y.callbacks=[be]:Ee.push(be))}else Ee={lane:be,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Te===null?(ge=Te=Ee,Z=ke):Te=Te.next=Ee,C|=be;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;Ee=k,k=Ee.next,Ee.next=null,y.lastBaseUpdate=Ee,y.shared.pending=null}}while(!0);Te===null&&(Z=ke),y.baseState=Z,y.firstBaseUpdate=ge,y.lastBaseUpdate=Te,v===null&&(y.shared.lanes=0),vs|=C,i.lanes=C,i.memoizedState=ke}}function DN(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function MN(i,l){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)DN(c[i],l)}var Eo=P(null),ch=P(0);function PN(i,l){i=Ti,ee(ch,i),ee(Eo,l),Ti=i|l.baseLanes}function vp(){ee(ch,Ti),ee(Eo,Eo.current)}function bp(){Ti=ch.current,q(Eo),q(ch)}var Gr=P(null),ya=null;function gs(i){var l=i.alternate;ee(On,On.current&1),ee(Gr,i),ya===null&&(l===null||Eo.current!==null||l.memoizedState!==null)&&(ya=i)}function jp(i){ee(On,On.current),ee(Gr,i),ya===null&&(ya=i)}function IN(i){i.tag===22?(ee(On,On.current),ee(Gr,i),ya===null&&(ya=i)):ps()}function ps(){ee(On,On.current),ee(Gr,Gr.current)}function Vr(i){q(Gr),ya===i&&(ya=null),q(On)}var On=P(0);function uh(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ax(c)||Tx(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var bi=0,xt=null,Wt=null,Bn=null,dh=!1,Co=!1,pl=!1,hh=0,Qc=0,Ao=null,_I=0;function Tn(){throw Error(r(321))}function wp(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!Fr(i[c],l[c]))return!1;return!0}function Np(i,l,c,h,y,v){return bi=v,xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=i===null||i.memoizedState===null?v1:Bp,pl=!1,v=c(h,y),pl=!1,Co&&(v=BN(l,c,h,y)),LN(i),v}function LN(i){H.H=eu;var l=Wt!==null&&Wt.next!==null;if(bi=0,Bn=Wt=xt=null,dh=!1,Qc=0,Ao=null,l)throw Error(r(300));i===null||Un||(i=i.dependencies,i!==null&&nh(i)&&(Un=!0))}function BN(i,l,c,h){xt=i;var y=0;do{if(Co&&(Ao=null),Qc=0,Co=!1,25<=y)throw Error(r(301));if(y+=1,Bn=Wt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}H.H=b1,v=l(c,h)}while(Co);return v}function RI(){var i=H.H,l=i.useState()[0];return l=typeof l.then=="function"?Zc(l):l,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(xt.flags|=1024),l}function Sp(){var i=hh!==0;return hh=0,i}function Ep(i,l,c){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~c}function Cp(i){if(dh){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}dh=!1}bi=0,Bn=Wt=xt=null,Co=!1,Qc=hh=0,Ao=null}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?xt.memoizedState=Bn=i:Bn=Bn.next=i,Bn}function kn(){if(Wt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var l=Bn===null?xt.memoizedState:Bn.next;if(l!==null)Bn=l,Wt=i;else{if(i===null)throw xt.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Bn===null?xt.memoizedState=Bn=i:Bn=Bn.next=i}return Bn}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zc(i){var l=Qc;return Qc+=1,Ao===null&&(Ao=[]),i=TN(Ao,i,l),l=xt,(Bn===null?l.memoizedState:Bn.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?v1:Bp),i}function mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zc(i);if(i.$$typeof===T)return ar(i)}throw Error(r(438,String(i)))}function Ap(i){var l=null,c=xt.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var h=xt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=fh(),xt.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(i),h=0;h<i;h++)c[h]=Y;return l.index++,c}function ji(i,l){return typeof l=="function"?l(i):l}function gh(i){var l=kn();return Tp(l,Wt,i)}function Tp(i,l,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=i.baseQueue,v=h.pending;if(v!==null){if(y!==null){var C=y.next;y.next=v.next,v.next=C}l.baseQueue=y=v,h.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{l=y.next;var k=C=null,Z=null,ge=l,Te=!1;do{var ke=ge.lane&-536870913;if(ke!==ge.lane?(Tt&ke)===ke:(bi&ke)===ke){var be=ge.revertLane;if(be===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),ke===jo&&(Te=!0);else if((bi&be)===be){ge=ge.next,be===jo&&(Te=!0);continue}else ke={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Z===null?(k=Z=ke,C=v):Z=Z.next=ke,xt.lanes|=be,vs|=be;ke=ge.action,pl&&c(v,ke),v=ge.hasEagerState?ge.eagerState:c(v,ke)}else be={lane:ke,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Z===null?(k=Z=be,C=v):Z=Z.next=be,xt.lanes|=ke,vs|=ke;ge=ge.next}while(ge!==null&&ge!==l);if(Z===null?C=v:Z.next=k,!Fr(v,i.memoizedState)&&(Un=!0,Te&&(c=wo,c!==null)))throw c;i.memoizedState=v,i.baseState=C,i.baseQueue=Z,h.lastRenderedState=v}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function _p(i){var l=kn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,y=c.pending,v=l.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do v=i(v,C.action),C=C.next;while(C!==y);Fr(v,l.memoizedState)||(Un=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),c.lastRenderedState=v}return[v,h]}function UN(i,l,c){var h=xt,y=kn(),v=Ot;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=l();var C=!Fr((Wt||y).memoizedState,c);if(C&&(y.memoizedState=c,Un=!0),y=y.queue,kp(HN.bind(null,h,y,i),[i]),y.getSnapshot!==l||C||Bn!==null&&Bn.memoizedState.tag&1){if(h.flags|=2048,To(9,{destroy:void 0},zN.bind(null,h,y,c,l),null),rn===null)throw Error(r(349));v||(bi&127)!==0||$N(h,l,c)}return c}function $N(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=xt.updateQueue,l===null?(l=fh(),xt.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function zN(i,l,c,h){l.value=c,l.getSnapshot=h,qN(l)&&FN(i)}function HN(i,l,c){return c(function(){qN(l)&&FN(i)})}function qN(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!Fr(i,c)}catch{return!0}}function FN(i){var l=ll(i,2);l!==null&&Ir(l,i,2)}function Rp(i){var l=wr();if(typeof i=="function"){var c=i;if(i=c(),pl){en(!0);try{c()}finally{en(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:i},l}function KN(i,l,c,h){return i.baseState=c,Tp(i,Wt,typeof h=="function"?h:ji)}function OI(i,l,c,h,y){if(yh(i))throw Error(r(485));if(i=l.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};H.T!==null?c(!0):v.isTransition=!1,h(v),c=l.pending,c===null?(v.next=l.pending=v,GN(l,v)):(v.next=c.next,l.pending=c.next=v)}}function GN(i,l){var c=l.action,h=l.payload,y=i.state;if(l.isTransition){var v=H.T,C={};H.T=C;try{var k=c(y,h),Z=H.S;Z!==null&&Z(C,k),VN(i,l,k)}catch(ge){Op(i,l,ge)}finally{v!==null&&C.types!==null&&(v.types=C.types),H.T=v}}else try{v=c(y,h),VN(i,l,v)}catch(ge){Op(i,l,ge)}}function VN(i,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){WN(i,l,h)},function(h){return Op(i,l,h)}):WN(i,l,c)}function WN(i,l,c){l.status="fulfilled",l.value=c,YN(l),i.state=c,l=i.pending,l!==null&&(c=l.next,c===l?i.pending=null:(c=c.next,l.next=c,GN(i,c)))}function Op(i,l,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=c,YN(l),l=l.next;while(l!==h)}i.action=null}function YN(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function XN(i,l){return l}function QN(i,l){if(Ot){var c=rn.formState;if(c!==null){e:{var h=xt;if(Ot){if(fn){t:{for(var y=fn,v=xa;y.nodeType!==8;){if(!v){y=null;break t}if(y=va(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){fn=va(y.nextSibling),h=y.data==="F!";break e}}us(h)}h=!1}h&&(l=c[0])}}return c=wr(),c.memoizedState=c.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XN,lastRenderedState:l},c.queue=h,c=p1.bind(null,xt,h),h.dispatch=c,h=Rp(!1),v=Lp.bind(null,xt,!1,h.queue),h=wr(),y={state:l,dispatch:null,action:i,pending:null},h.queue=y,c=OI.bind(null,xt,y,v,c),y.dispatch=c,h.memoizedState=i,[l,c,!1]}function ZN(i){var l=kn();return JN(l,Wt,i)}function JN(i,l,c){if(l=Tp(i,l,XN)[0],i=gh(ji)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Zc(l)}catch(C){throw C===No?ih:C}else h=l;l=kn();var y=l.queue,v=y.dispatch;return c!==l.memoizedState&&(xt.flags|=2048,To(9,{destroy:void 0},kI.bind(null,y,c),null)),[h,v,i]}function kI(i,l){i.action=l}function e1(i){var l=kn(),c=Wt;if(c!==null)return JN(l,c,i);kn(),l=l.memoizedState,c=kn();var h=c.queue.dispatch;return c.memoizedState=i,[l,h,!1]}function To(i,l,c,h){return i={tag:i,create:c,deps:h,inst:l,next:null},l=xt.updateQueue,l===null&&(l=fh(),xt.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,l.lastEffect=i),i}function t1(){return kn().memoizedState}function ph(i,l,c,h){var y=wr();xt.flags|=i,y.memoizedState=To(1|l,{destroy:void 0},c,h===void 0?null:h)}function xh(i,l,c,h){var y=kn();h=h===void 0?null:h;var v=y.memoizedState.inst;Wt!==null&&h!==null&&wp(h,Wt.memoizedState.deps)?y.memoizedState=To(l,v,c,h):(xt.flags|=i,y.memoizedState=To(1|l,v,c,h))}function n1(i,l){ph(8390656,8,i,l)}function kp(i,l){xh(2048,8,i,l)}function DI(i){xt.flags|=4;var l=xt.updateQueue;if(l===null)l=fh(),xt.updateQueue=l,l.events=[i];else{var c=l.events;c===null?l.events=[i]:c.push(i)}}function r1(i){var l=kn().memoizedState;return DI({ref:l,nextImpl:i}),function(){if((Ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function a1(i,l){return xh(4,2,i,l)}function i1(i,l){return xh(4,4,i,l)}function s1(i,l){if(typeof l=="function"){i=i();var c=l(i);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function l1(i,l,c){c=c!=null?c.concat([i]):null,xh(4,4,s1.bind(null,l,i),c)}function Dp(){}function o1(i,l){var c=kn();l=l===void 0?null:l;var h=c.memoizedState;return l!==null&&wp(l,h[1])?h[0]:(c.memoizedState=[i,l],i)}function c1(i,l){var c=kn();l=l===void 0?null:l;var h=c.memoizedState;if(l!==null&&wp(l,h[1]))return h[0];if(h=i(),pl){en(!0);try{i()}finally{en(!1)}}return c.memoizedState=[h,l],h}function Mp(i,l,c){return c===void 0||(bi&1073741824)!==0&&(Tt&261930)===0?i.memoizedState=l:(i.memoizedState=c,i=uS(),xt.lanes|=i,vs|=i,c)}function u1(i,l,c,h){return Fr(c,l)?c:Eo.current!==null?(i=Mp(i,c,h),Fr(i,l)||(Un=!0),i):(bi&42)===0||(bi&1073741824)!==0&&(Tt&261930)===0?(Un=!0,i.memoizedState=c):(i=uS(),xt.lanes|=i,vs|=i,l)}function d1(i,l,c,h,y){var v=I.p;I.p=v!==0&&8>v?v:8;var C=H.T,k={};H.T=k,Lp(i,!1,l,c);try{var Z=y(),ge=H.S;if(ge!==null&&ge(k,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Te=TI(Z,h);Jc(i,l,Te,Xr(i))}else Jc(i,l,h,Xr(i))}catch(ke){Jc(i,l,{then:function(){},status:"rejected",reason:ke},Xr())}finally{I.p=v,C!==null&&k.types!==null&&(C.types=k.types),H.T=C}}function MI(){}function Pp(i,l,c,h){if(i.tag!==5)throw Error(r(476));var y=h1(i).queue;d1(i,y,l,K,c===null?MI:function(){return f1(i),c(h)})}function h1(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:K},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:c},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function f1(i){var l=h1(i);l.next===null&&(l=i.alternate.memoizedState),Jc(i,l.next.queue,{},Xr())}function Ip(){return ar(pu)}function m1(){return kn().memoizedState}function g1(){return kn().memoizedState}function PI(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var c=Xr();i=fs(c);var h=ms(l,i,c);h!==null&&(Ir(h,l,c),Wc(h,l,c)),l={cache:dp()},i.payload=l;return}l=l.return}}function II(i,l,c){var h=Xr();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yh(i)?x1(l,c):(c=ep(i,l,c,h),c!==null&&(Ir(c,i,h),y1(c,l,h)))}function p1(i,l,c){var h=Xr();Jc(i,l,c,h)}function Jc(i,l,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yh(i))x1(l,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var C=l.lastRenderedState,k=v(C,c);if(y.hasEagerState=!0,y.eagerState=k,Fr(k,C))return Zd(i,l,y,0),rn===null&&Qd(),!1}catch{}finally{}if(c=ep(i,l,y,h),c!==null)return Ir(c,i,h),y1(c,l,h),!0}return!1}function Lp(i,l,c,h){if(h={lane:2,revertLane:gx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},yh(i)){if(l)throw Error(r(479))}else l=ep(i,c,h,2),l!==null&&Ir(l,i,2)}function yh(i){var l=i.alternate;return i===xt||l!==null&&l===xt}function x1(i,l){Co=dh=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function y1(i,l,c){if((c&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,Js(i,c)}}var eu={readContext:ar,use:mh,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn};eu.useEffectEvent=Tn;var v1={readContext:ar,use:mh,useCallback:function(i,l){return wr().memoizedState=[i,l===void 0?null:l],i},useContext:ar,useEffect:n1,useImperativeHandle:function(i,l,c){c=c!=null?c.concat([i]):null,ph(4194308,4,s1.bind(null,l,i),c)},useLayoutEffect:function(i,l){return ph(4194308,4,i,l)},useInsertionEffect:function(i,l){ph(4,2,i,l)},useMemo:function(i,l){var c=wr();l=l===void 0?null:l;var h=i();if(pl){en(!0);try{i()}finally{en(!1)}}return c.memoizedState=[h,l],h},useReducer:function(i,l,c){var h=wr();if(c!==void 0){var y=c(l);if(pl){en(!0);try{c(l)}finally{en(!1)}}}else y=l;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=II.bind(null,xt,i),[h.memoizedState,i]},useRef:function(i){var l=wr();return i={current:i},l.memoizedState=i},useState:function(i){i=Rp(i);var l=i.queue,c=p1.bind(null,xt,l);return l.dispatch=c,[i.memoizedState,c]},useDebugValue:Dp,useDeferredValue:function(i,l){var c=wr();return Mp(c,i,l)},useTransition:function(){var i=Rp(!1);return i=d1.bind(null,xt,i.queue,!0,!1),wr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,c){var h=xt,y=wr();if(Ot){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),rn===null)throw Error(r(349));(Tt&127)!==0||$N(h,l,c)}y.memoizedState=c;var v={value:c,getSnapshot:l};return y.queue=v,n1(HN.bind(null,h,v,i),[i]),h.flags|=2048,To(9,{destroy:void 0},zN.bind(null,h,v,c,l),null),c},useId:function(){var i=wr(),l=rn.identifierPrefix;if(Ot){var c=Ja,h=Za;c=(h&~(1<<32-st(h)-1)).toString(32)+c,l="_"+l+"R_"+c,c=hh++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=_I++,l="_"+l+"r_"+c.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Ip,useFormState:QN,useActionState:QN,useOptimistic:function(i){var l=wr();l.memoizedState=l.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Lp.bind(null,xt,!0,c),c.dispatch=l,[i,l]},useMemoCache:Ap,useCacheRefresh:function(){return wr().memoizedState=PI.bind(null,xt)},useEffectEvent:function(i){var l=wr(),c={impl:i};return l.memoizedState=c,function(){if((Ut&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Bp={readContext:ar,use:mh,useCallback:o1,useContext:ar,useEffect:kp,useImperativeHandle:l1,useInsertionEffect:a1,useLayoutEffect:i1,useMemo:c1,useReducer:gh,useRef:t1,useState:function(){return gh(ji)},useDebugValue:Dp,useDeferredValue:function(i,l){var c=kn();return u1(c,Wt.memoizedState,i,l)},useTransition:function(){var i=gh(ji)[0],l=kn().memoizedState;return[typeof i=="boolean"?i:Zc(i),l]},useSyncExternalStore:UN,useId:m1,useHostTransitionStatus:Ip,useFormState:ZN,useActionState:ZN,useOptimistic:function(i,l){var c=kn();return KN(c,Wt,i,l)},useMemoCache:Ap,useCacheRefresh:g1};Bp.useEffectEvent=r1;var b1={readContext:ar,use:mh,useCallback:o1,useContext:ar,useEffect:kp,useImperativeHandle:l1,useInsertionEffect:a1,useLayoutEffect:i1,useMemo:c1,useReducer:_p,useRef:t1,useState:function(){return _p(ji)},useDebugValue:Dp,useDeferredValue:function(i,l){var c=kn();return Wt===null?Mp(c,i,l):u1(c,Wt.memoizedState,i,l)},useTransition:function(){var i=_p(ji)[0],l=kn().memoizedState;return[typeof i=="boolean"?i:Zc(i),l]},useSyncExternalStore:UN,useId:m1,useHostTransitionStatus:Ip,useFormState:e1,useActionState:e1,useOptimistic:function(i,l){var c=kn();return Wt!==null?KN(c,Wt,i,l):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Ap,useCacheRefresh:g1};b1.useEffectEvent=r1;function Up(i,l,c,h){l=i.memoizedState,c=c(h,l),c=c==null?l:x({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var $p={enqueueSetState:function(i,l,c){i=i._reactInternals;var h=Xr(),y=fs(h);y.payload=l,c!=null&&(y.callback=c),l=ms(i,y,h),l!==null&&(Ir(l,i,h),Wc(l,i,h))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var h=Xr(),y=fs(h);y.tag=1,y.payload=l,c!=null&&(y.callback=c),l=ms(i,y,h),l!==null&&(Ir(l,i,h),Wc(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=Xr(),h=fs(c);h.tag=2,l!=null&&(h.callback=l),l=ms(i,h,c),l!==null&&(Ir(l,i,c),Wc(l,i,c))}};function j1(i,l,c,h,y,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):l.prototype&&l.prototype.isPureReactComponent?!$c(c,h)||!$c(y,v):!0}function w1(i,l,c,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==i&&$p.enqueueReplaceState(l,l.state,null)}function xl(i,l){var c=l;if("ref"in l){c={};for(var h in l)h!=="ref"&&(c[h]=l[h])}if(i=i.defaultProps){c===l&&(c=x({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}function N1(i){Xd(i)}function S1(i){console.error(i)}function E1(i){Xd(i)}function vh(i,l){try{var c=i.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function C1(i,l,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function zp(i,l,c){return c=fs(c),c.tag=3,c.payload={element:null},c.callback=function(){vh(i,l)},c}function A1(i){return i=fs(i),i.tag=3,i}function T1(i,l,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;i.payload=function(){return y(v)},i.callback=function(){C1(l,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){C1(l,c,h),typeof y!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function LI(i,l,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=c.alternate,l!==null&&bo(l,c,y,!0),c=Gr.current,c!==null){switch(c.tag){case 31:case 13:return ya===null?Oh():c.alternate===null&&_n===0&&(_n=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===sh?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([h]):l.add(h),hx(i,h,y)),!1;case 22:return c.flags|=65536,h===sh?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([h]):c.add(h)),hx(i,h,y)),!1}throw Error(r(435,c.tag))}return hx(i,h,y),Oh(),!1}if(Ot)return l=Gr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,h!==sp&&(i=Error(r(422),{cause:h}),qc(ma(i,c)))):(h!==sp&&(l=Error(r(423),{cause:h}),qc(ma(l,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=ma(h,c),y=zp(i.stateNode,h,y),xp(i,y),_n!==4&&(_n=2)),!1;var v=Error(r(520),{cause:h});if(v=ma(v,c),ou===null?ou=[v]:ou.push(v),_n!==4&&(_n=2),l===null)return!0;h=ma(h,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=zp(c.stateNode,h,i),xp(c,i),!1;case 1:if(l=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bs===null||!bs.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=A1(y),T1(y,i,c,h),xp(c,y),!1}c=c.return}while(c!==null);return!1}var Hp=Error(r(461)),Un=!1;function ir(i,l,c,h){l.child=i===null?kN(l,null,c,h):gl(l,i.child,c,h)}function _1(i,l,c,h,y){c=c.render;var v=l.ref;if("ref"in h){var C={};for(var k in h)k!=="ref"&&(C[k]=h[k])}else C=h;return dl(l),h=Np(i,l,c,C,v,y),k=Sp(),i!==null&&!Un?(Ep(i,l,y),wi(i,l,y)):(Ot&&k&&ap(l),l.flags|=1,ir(i,l,h,y),l.child)}function R1(i,l,c,h,y){if(i===null){var v=c.type;return typeof v=="function"&&!tp(v)&&v.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=v,O1(i,l,v,h,y)):(i=eh(c.type,null,h,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(v=i.child,!Xp(i,y)){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:$c,c(C,h)&&i.ref===l.ref)return wi(i,l,y)}return l.flags|=1,i=pi(v,h),i.ref=l.ref,i.return=l,l.child=i}function O1(i,l,c,h,y){if(i!==null){var v=i.memoizedProps;if($c(v,h)&&i.ref===l.ref)if(Un=!1,l.pendingProps=h=v,Xp(i,y))(i.flags&131072)!==0&&(Un=!0);else return l.lanes=i.lanes,wi(i,l,y)}return qp(i,l,c,h,y)}function k1(i,l,c,h){var y=h.children,v=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,i!==null){for(h=l.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,l.child=null;return D1(i,l,v,c,h)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&ah(l,v!==null?v.cachePool:null),v!==null?PN(l,v):vp(),IN(l);else return h=l.lanes=536870912,D1(i,l,v!==null?v.baseLanes|c:c,c,h)}else v!==null?(ah(l,v.cachePool),PN(l,v),ps(),l.memoizedState=null):(i!==null&&ah(l,null),vp(),ps());return ir(i,l,y,c),l.child}function tu(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function D1(i,l,c,h,y){var v=fp();return v=v===null?null:{parent:Ln._currentValue,pool:v},l.memoizedState={baseLanes:c,cachePool:v},i!==null&&ah(l,null),vp(),IN(l),i!==null&&bo(i,l,h,!0),l.childLanes=y,null}function bh(i,l){return l=wh({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function M1(i,l,c){return gl(l,i.child,null,c),i=bh(l,l.pendingProps),i.flags|=2,Vr(l),l.memoizedState=null,i}function BI(i,l,c){var h=l.pendingProps,y=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Ot){if(h.mode==="hidden")return i=bh(l,h),l.lanes=536870912,tu(null,i);if(jp(l),(i=fn)?(i=GS(i,xa),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:os!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},c=xN(i),c.return=l,l.child=c,rr=l,fn=null)):i=null,i===null)throw us(l);return l.lanes=536870912,null}return bh(l,h)}var v=i.memoizedState;if(v!==null){var C=v.dehydrated;if(jp(l),y)if(l.flags&256)l.flags&=-257,l=M1(i,l,c);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(Un||bo(i,l,c,!1),y=(c&i.childLanes)!==0,Un||y){if(h=rn,h!==null&&(C=to(h,c),C!==0&&C!==v.retryLane))throw v.retryLane=C,ll(i,C),Ir(h,i,C),Hp;Oh(),l=M1(i,l,c)}else i=v.treeContext,fn=va(C.nextSibling),rr=l,Ot=!0,cs=null,xa=!1,i!==null&&bN(l,i),l=bh(l,h),l.flags|=4096;return l}return i=pi(i.child,{mode:h.mode,children:h.children}),i.ref=l.ref,l.child=i,i.return=l,i}function jh(i,l){var c=l.ref;if(c===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(l.flags|=4194816)}}function qp(i,l,c,h,y){return dl(l),c=Np(i,l,c,h,void 0,y),h=Sp(),i!==null&&!Un?(Ep(i,l,y),wi(i,l,y)):(Ot&&h&&ap(l),l.flags|=1,ir(i,l,c,y),l.child)}function P1(i,l,c,h,y,v){return dl(l),l.updateQueue=null,c=BN(l,h,c,y),LN(i),h=Sp(),i!==null&&!Un?(Ep(i,l,v),wi(i,l,v)):(Ot&&h&&ap(l),l.flags|=1,ir(i,l,c,v),l.child)}function I1(i,l,c,h,y){if(dl(l),l.stateNode===null){var v=po,C=c.contextType;typeof C=="object"&&C!==null&&(v=ar(C)),v=new c(h,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=$p,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=h,v.state=l.memoizedState,v.refs={},gp(l),C=c.contextType,v.context=typeof C=="object"&&C!==null?ar(C):po,v.state=l.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Up(l,c,C,h),v.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&$p.enqueueReplaceState(v,v.state,null),Xc(l,h,v,y),Yc(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){v=l.stateNode;var k=l.memoizedProps,Z=xl(c,k);v.props=Z;var ge=v.context,Te=c.contextType;C=po,typeof Te=="object"&&Te!==null&&(C=ar(Te));var ke=c.getDerivedStateFromProps;Te=typeof ke=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||ge!==C)&&w1(l,v,h,C),hs=!1;var be=l.memoizedState;v.state=be,Xc(l,h,v,y),Yc(),ge=l.memoizedState,k||be!==ge||hs?(typeof ke=="function"&&(Up(l,c,ke,h),ge=l.memoizedState),(Z=hs||j1(l,c,Z,h,be,ge,C))?(Te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=ge),v.props=h,v.state=ge,v.context=C,h=Z):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{v=l.stateNode,pp(i,l),C=l.memoizedProps,Te=xl(c,C),v.props=Te,ke=l.pendingProps,be=v.context,ge=c.contextType,Z=po,typeof ge=="object"&&ge!==null&&(Z=ar(ge)),k=c.getDerivedStateFromProps,(ge=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ke||be!==Z)&&w1(l,v,h,Z),hs=!1,be=l.memoizedState,v.state=be,Xc(l,h,v,y),Yc();var Ee=l.memoizedState;C!==ke||be!==Ee||hs||i!==null&&i.dependencies!==null&&nh(i.dependencies)?(typeof k=="function"&&(Up(l,c,k,h),Ee=l.memoizedState),(Te=hs||j1(l,c,Te,h,be,Ee,Z)||i!==null&&i.dependencies!==null&&nh(i.dependencies))?(ge||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,Ee,Z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,Ee,Z)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=Ee),v.props=h,v.state=Ee,v.context=Z,h=Te):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),h=!1)}return v=h,jh(i,l),h=(l.flags&128)!==0,v||h?(v=l.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,i!==null&&h?(l.child=gl(l,i.child,null,y),l.child=gl(l,null,c,y)):ir(i,l,c,y),l.memoizedState=v.state,i=l.child):i=wi(i,l,y),i}function L1(i,l,c,h){return cl(),l.flags|=256,ir(i,l,c,h),l.child}var Fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kp(i){return{baseLanes:i,cachePool:CN()}}function Gp(i,l,c){return i=i!==null?i.childLanes&~c:0,l&&(i|=Yr),i}function B1(i,l,c){var h=l.pendingProps,y=!1,v=(l.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),C&&(y=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,i===null){if(Ot){if(y?gs(l):ps(),(i=fn)?(i=GS(i,xa),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:os!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},c=xN(i),c.return=l,l.child=c,rr=l,fn=null)):i=null,i===null)throw us(l);return Tx(i)?l.lanes=32:l.lanes=536870912,null}var k=h.children;return h=h.fallback,y?(ps(),y=l.mode,k=wh({mode:"hidden",children:k},y),h=ol(h,y,c,null),k.return=l,h.return=l,k.sibling=h,l.child=k,h=l.child,h.memoizedState=Kp(c),h.childLanes=Gp(i,C,c),l.memoizedState=Fp,tu(null,h)):(gs(l),Vp(l,k))}var Z=i.memoizedState;if(Z!==null&&(k=Z.dehydrated,k!==null)){if(v)l.flags&256?(gs(l),l.flags&=-257,l=Wp(i,l,c)):l.memoizedState!==null?(ps(),l.child=i.child,l.flags|=128,l=null):(ps(),k=h.fallback,y=l.mode,h=wh({mode:"visible",children:h.children},y),k=ol(k,y,c,null),k.flags|=2,h.return=l,k.return=l,h.sibling=k,l.child=h,gl(l,i.child,null,c),h=l.child,h.memoizedState=Kp(c),h.childLanes=Gp(i,C,c),l.memoizedState=Fp,l=tu(null,h));else if(gs(l),Tx(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var ge=C.dgst;C=ge,h=Error(r(419)),h.stack="",h.digest=C,qc({value:h,source:null,stack:null}),l=Wp(i,l,c)}else if(Un||bo(i,l,c,!1),C=(c&i.childLanes)!==0,Un||C){if(C=rn,C!==null&&(h=to(C,c),h!==0&&h!==Z.retryLane))throw Z.retryLane=h,ll(i,h),Ir(C,i,h),Hp;Ax(k)||Oh(),l=Wp(i,l,c)}else Ax(k)?(l.flags|=192,l.child=i.child,l=null):(i=Z.treeContext,fn=va(k.nextSibling),rr=l,Ot=!0,cs=null,xa=!1,i!==null&&bN(l,i),l=Vp(l,h.children),l.flags|=4096);return l}return y?(ps(),k=h.fallback,y=l.mode,Z=i.child,ge=Z.sibling,h=pi(Z,{mode:"hidden",children:h.children}),h.subtreeFlags=Z.subtreeFlags&65011712,ge!==null?k=pi(ge,k):(k=ol(k,y,c,null),k.flags|=2),k.return=l,h.return=l,h.sibling=k,l.child=h,tu(null,h),h=l.child,k=i.child.memoizedState,k===null?k=Kp(c):(y=k.cachePool,y!==null?(Z=Ln._currentValue,y=y.parent!==Z?{parent:Z,pool:Z}:y):y=CN(),k={baseLanes:k.baseLanes|c,cachePool:y}),h.memoizedState=k,h.childLanes=Gp(i,C,c),l.memoizedState=Fp,tu(i.child,h)):(gs(l),c=i.child,i=c.sibling,c=pi(c,{mode:"visible",children:h.children}),c.return=l,c.sibling=null,i!==null&&(C=l.deletions,C===null?(l.deletions=[i],l.flags|=16):C.push(i)),l.child=c,l.memoizedState=null,c)}function Vp(i,l){return l=wh({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function wh(i,l){return i=Kr(22,i,null,l),i.lanes=0,i}function Wp(i,l,c){return gl(l,i.child,null,c),i=Vp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function U1(i,l,c){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),cp(i.return,l,c)}function Yp(i,l,c,h,y,v){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:v}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=y,C.treeForkCount=v)}function $1(i,l,c){var h=l.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var C=On.current,k=(C&2)!==0;if(k?(C=C&1|2,l.flags|=128):C&=1,ee(On,C),ir(i,l,h,c),h=Ot?Hc:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U1(i,c,l);else if(i.tag===19)U1(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(c=l.child,y=null;c!==null;)i=c.alternate,i!==null&&uh(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=l.child,l.child=null):(y=c.sibling,c.sibling=null),Yp(l,!1,y,c,v,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&uh(i)===null){l.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Yp(l,!0,c,null,v,h);break;case"together":Yp(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function wi(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),vs|=l.lanes,(c&l.childLanes)===0)if(i!==null){if(bo(i,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,c=pi(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=pi(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function Xp(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&nh(i)))}function UI(i,l,c){switch(l.tag){case 3:V(l,l.stateNode.containerInfo),ds(l,Ln,i.memoizedState.cache),cl();break;case 27:case 5:M(l);break;case 4:V(l,l.stateNode.containerInfo);break;case 10:ds(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,jp(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(gs(l),l.flags|=128,null):(c&l.child.childLanes)!==0?B1(i,l,c):(gs(l),i=wi(i,l,c),i!==null?i.sibling:null);gs(l);break;case 19:var y=(i.flags&128)!==0;if(h=(c&l.childLanes)!==0,h||(bo(i,l,c,!1),h=(c&l.childLanes)!==0),y){if(h)return $1(i,l,c);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ee(On,On.current),h)break;return null;case 22:return l.lanes=0,k1(i,l,c,l.pendingProps);case 24:ds(l,Ln,i.memoizedState.cache)}return wi(i,l,c)}function z1(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps)Un=!0;else{if(!Xp(i,c)&&(l.flags&128)===0)return Un=!1,UI(i,l,c);Un=(i.flags&131072)!==0}else Un=!1,Ot&&(l.flags&1048576)!==0&&vN(l,Hc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(i=fl(l.elementType),l.type=i,typeof i=="function")tp(i)?(h=xl(i,h),l.tag=1,l=I1(null,l,i,h,c)):(l.tag=0,l=qp(null,l,i,h,c));else{if(i!=null){var y=i.$$typeof;if(y===_){l.tag=11,l=_1(null,l,i,h,c);break e}else if(y===D){l.tag=14,l=R1(null,l,i,h,c);break e}}throw l=ye(i)||i,Error(r(306,l,""))}}return l;case 0:return qp(i,l,l.type,l.pendingProps,c);case 1:return h=l.type,y=xl(h,l.pendingProps),I1(i,l,h,y,c);case 3:e:{if(V(l,l.stateNode.containerInfo),i===null)throw Error(r(387));h=l.pendingProps;var v=l.memoizedState;y=v.element,pp(i,l),Xc(l,h,null,c);var C=l.memoizedState;if(h=C.cache,ds(l,Ln,h),h!==v.cache&&up(l,[Ln],c,!0),Yc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=L1(i,l,h,c);break e}else if(h!==y){y=ma(Error(r(424)),l),qc(y),l=L1(i,l,h,c);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fn=va(i.firstChild),rr=l,Ot=!0,cs=null,xa=!0,c=kN(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cl(),h===y){l=wi(i,l,c);break e}ir(i,l,h,c)}l=l.child}return l;case 26:return jh(i,l),i===null?(c=ZS(l.type,null,l.pendingProps,null))?l.memoizedState=c:Ot||(c=l.type,i=l.pendingProps,h=Bh(ae.current).createElement(c),h[Ye]=l,h[Rt]=i,sr(h,c,i),nn(h),l.stateNode=h):l.memoizedState=ZS(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return M(l),i===null&&Ot&&(h=l.stateNode=YS(l.type,l.pendingProps,ae.current),rr=l,xa=!0,y=fn,Ss(l.type)?(_x=y,fn=va(h.firstChild)):fn=y),ir(i,l,l.pendingProps.children,c),jh(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Ot&&((y=h=fn)&&(h=g6(h,l.type,l.pendingProps,xa),h!==null?(l.stateNode=h,rr=l,fn=va(h.firstChild),xa=!1,y=!0):y=!1),y||us(l)),M(l),y=l.type,v=l.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,Sx(y,v)?h=null:C!==null&&Sx(y,C)&&(l.flags|=32),l.memoizedState!==null&&(y=Np(i,l,RI,null,null,c),pu._currentValue=y),jh(i,l),ir(i,l,h,c),l.child;case 6:return i===null&&Ot&&((i=c=fn)&&(c=p6(c,l.pendingProps,xa),c!==null?(l.stateNode=c,rr=l,fn=null,i=!0):i=!1),i||us(l)),null;case 13:return B1(i,l,c);case 4:return V(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=gl(l,null,h,c):ir(i,l,h,c),l.child;case 11:return _1(i,l,l.type,l.pendingProps,c);case 7:return ir(i,l,l.pendingProps,c),l.child;case 8:return ir(i,l,l.pendingProps.children,c),l.child;case 12:return ir(i,l,l.pendingProps.children,c),l.child;case 10:return h=l.pendingProps,ds(l,l.type,h.value),ir(i,l,h.children,c),l.child;case 9:return y=l.type._context,h=l.pendingProps.children,dl(l),y=ar(y),h=h(y),l.flags|=1,ir(i,l,h,c),l.child;case 14:return R1(i,l,l.type,l.pendingProps,c);case 15:return O1(i,l,l.type,l.pendingProps,c);case 19:return $1(i,l,c);case 31:return BI(i,l,c);case 22:return k1(i,l,c,l.pendingProps);case 24:return dl(l),h=ar(Ln),i===null?(y=fp(),y===null&&(y=rn,v=dp(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),l.memoizedState={parent:h,cache:y},gp(l),ds(l,Ln,y)):((i.lanes&c)!==0&&(pp(i,l),Xc(l,null,null,c),Yc()),y=i.memoizedState,v=l.memoizedState,y.parent!==h?(y={parent:h,cache:h},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),ds(l,Ln,h)):(h=v.cache,ds(l,Ln,h),h!==y.cache&&up(l,[Ln],c,!0))),ir(i,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ni(i){i.flags|=4}function Qp(i,l,c,h,y){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(mS())i.flags|=8192;else throw ml=sh,mp}else i.flags&=-16777217}function H1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rE(l))if(mS())i.flags|=8192;else throw ml=sh,mp}function Nh(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Zs():536870912,i.lanes|=l,ko|=l)}function nu(i,l){if(!Ot)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function mn(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(l)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=c,l}function $I(i,l,c){var h=l.pendingProps;switch(ip(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(l),null;case 1:return mn(l),null;case 3:return c=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),vi(Ln),U(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(vo(l)?Ni(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,lp())),mn(l),null;case 26:var y=l.type,v=l.memoizedState;return i===null?(Ni(l),v!==null?(mn(l),H1(l,v)):(mn(l),Qp(l,y,null,h,c))):v?v!==i.memoizedState?(Ni(l),mn(l),H1(l,v)):(mn(l),l.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ni(l),mn(l),Qp(l,y,i,h,c)),null;case 27:if(W(l),c=ae.current,y=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Ni(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return mn(l),null}i=ue.current,vo(l)?jN(l):(i=YS(y,h,c),l.stateNode=i,Ni(l))}return mn(l),null;case 5:if(W(l),y=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Ni(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return mn(l),null}if(v=ue.current,vo(l))jN(l);else{var C=Bh(ae.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?C.createElement(y,{is:h.is}):C.createElement(y)}}v[Ye]=l,v[Rt]=h;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=v;e:switch(sr(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ni(l)}}return mn(l),Qp(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,c),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&Ni(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(i=ae.current,vo(l)){if(i=l.stateNode,c=l.memoizedProps,h=null,y=rr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Ye]=l,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||BS(i.nodeValue,c)),i||us(l,!0)}else i=Bh(i).createTextNode(h),i[Ye]=l,l.stateNode=i}return mn(l),null;case 31:if(c=l.memoizedState,i===null||i.memoizedState!==null){if(h=vo(l),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ye]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),i=!1}else c=lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return l.flags&256?(Vr(l),l):(Vr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return mn(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=vo(l),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Ye]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),y=!1}else y=lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Vr(l),l):(Vr(l),null)}return Vr(l),(l.flags&128)!==0?(l.lanes=c,l):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=l.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),c!==i&&c&&(l.child.flags|=8192),Nh(l,l.updateQueue),mn(l),null);case 4:return U(),i===null&&vx(l.stateNode.containerInfo),mn(l),null;case 10:return vi(l.type),mn(l),null;case 19:if(q(On),h=l.memoizedState,h===null)return mn(l),null;if(y=(l.flags&128)!==0,v=h.rendering,v===null)if(y)nu(h,!1);else{if(_n!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(v=uh(i),v!==null){for(l.flags|=128,nu(h,!1),i=v.updateQueue,l.updateQueue=i,Nh(l,i),l.subtreeFlags=0,i=c,c=l.child;c!==null;)pN(c,i),c=c.sibling;return ee(On,On.current&1|2),Ot&&xi(l,h.treeForkCount),l.child}i=i.sibling}h.tail!==null&&it()>Th&&(l.flags|=128,y=!0,nu(h,!1),l.lanes=4194304)}else{if(!y)if(i=uh(v),i!==null){if(l.flags|=128,y=!0,i=i.updateQueue,l.updateQueue=i,Nh(l,i),nu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Ot)return mn(l),null}else 2*it()-h.renderingStartTime>Th&&c!==536870912&&(l.flags|=128,y=!0,nu(h,!1),l.lanes=4194304);h.isBackwards?(v.sibling=l.child,l.child=v):(i=h.last,i!==null?i.sibling=v:l.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=it(),i.sibling=null,c=On.current,ee(On,y?c&1|2:c&1),Ot&&xi(l,h.treeForkCount),i):(mn(l),null);case 22:case 23:return Vr(l),bp(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(c&536870912)!==0&&(l.flags&128)===0&&(mn(l),l.subtreeFlags&6&&(l.flags|=8192)):mn(l),c=l.updateQueue,c!==null&&Nh(l,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048),i!==null&&q(hl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),vi(Ln),mn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function zI(i,l){switch(ip(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return vi(Ln),U(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return W(l),null;case 31:if(l.memoizedState!==null){if(Vr(l),l.alternate===null)throw Error(r(340));cl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Vr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));cl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return q(On),null;case 4:return U(),null;case 10:return vi(l.type),null;case 22:case 23:return Vr(l),bp(),i!==null&&q(hl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return vi(Ln),null;case 25:return null;default:return null}}function q1(i,l){switch(ip(l),l.tag){case 3:vi(Ln),U();break;case 26:case 27:case 5:W(l);break;case 4:U();break;case 31:l.memoizedState!==null&&Vr(l);break;case 13:Vr(l);break;case 19:q(On);break;case 10:vi(l.type);break;case 22:case 23:Vr(l),bp(),i!==null&&q(hl);break;case 24:vi(Ln)}}function ru(i,l){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&i)===i){h=void 0;var v=c.create,C=c.inst;h=v(),C.destroy=h}c=c.next}while(c!==y)}}catch(k){qt(l,l.return,k)}}function xs(i,l,c){try{var h=l.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&i)===i){var C=h.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,y=l;var Z=c,ge=k;try{ge()}catch(Te){qt(y,Z,Te)}}}h=h.next}while(h!==v)}}catch(Te){qt(l,l.return,Te)}}function F1(i){var l=i.updateQueue;if(l!==null){var c=i.stateNode;try{MN(l,c)}catch(h){qt(i,i.return,h)}}}function K1(i,l,c){c.props=xl(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){qt(i,l,h)}}function au(i,l){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(y){qt(i,l,y)}}function ei(i,l){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){qt(i,l,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){qt(i,l,y)}else c.current=null}function G1(i){var l=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){qt(i,i.return,y)}}function Zp(i,l,c){try{var h=i.stateNode;c6(h,i.type,c,l),h[Rt]=l}catch(y){qt(i,i.return,y)}}function V1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ss(i.type)||i.tag===4}function Jp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||V1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ss(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ex(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(i),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=mi));else if(h!==4&&(h===27&&Ss(i.type)&&(c=i.stateNode,l=null),i=i.child,i!==null))for(ex(i,l,c),i=i.sibling;i!==null;)ex(i,l,c),i=i.sibling}function Sh(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(h!==4&&(h===27&&Ss(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Sh(i,l,c),i=i.sibling;i!==null;)Sh(i,l,c),i=i.sibling}function W1(i){var l=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);sr(l,h,c),l[Ye]=i,l[Rt]=c}catch(v){qt(i,i.return,v)}}var Si=!1,$n=!1,tx=!1,Y1=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function HI(i,l){if(i=i.containerInfo,wx=Kh,i=lN(i),Wg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var C=0,k=-1,Z=-1,ge=0,Te=0,ke=i,be=null;t:for(;;){for(var Ee;ke!==c||y!==0&&ke.nodeType!==3||(k=C+y),ke!==v||h!==0&&ke.nodeType!==3||(Z=C+h),ke.nodeType===3&&(C+=ke.nodeValue.length),(Ee=ke.firstChild)!==null;)be=ke,ke=Ee;for(;;){if(ke===i)break t;if(be===c&&++ge===y&&(k=C),be===v&&++Te===h&&(Z=C),(Ee=ke.nextSibling)!==null)break;ke=be,be=ke.parentNode}ke=Ee}c=k===-1||Z===-1?null:{start:k,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nx={focusedElem:i,selectionRange:c},Kh=!1,Zn=l;Zn!==null;)if(l=Zn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Zn=i;else for(;Zn!==null;){switch(l=Zn,v=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)y=i[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,c=l,y=v.memoizedProps,v=v.memoizedState,h=c.stateNode;try{var qe=xl(c.type,y);i=h.getSnapshotBeforeUpdate(qe,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(ot){qt(c,c.return,ot)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,c=i.nodeType,c===9)Cx(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Zn=i;break}Zn=l.return}}function X1(i,l,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ci(i,c),h&4&&ru(5,c);break;case 1:if(Ci(i,c),h&4)if(i=c.stateNode,l===null)try{i.componentDidMount()}catch(C){qt(c,c.return,C)}else{var y=xl(c.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(y,l,i.__reactInternalSnapshotBeforeUpdate)}catch(C){qt(c,c.return,C)}}h&64&&F1(c),h&512&&au(c,c.return);break;case 3:if(Ci(i,c),h&64&&(i=c.updateQueue,i!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{MN(i,l)}catch(C){qt(c,c.return,C)}}break;case 27:l===null&&h&4&&W1(c);case 26:case 5:Ci(i,c),l===null&&h&4&&G1(c),h&512&&au(c,c.return);break;case 12:Ci(i,c);break;case 31:Ci(i,c),h&4&&J1(i,c);break;case 13:Ci(i,c),h&4&&eS(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=QI.bind(null,c),x6(i,c))));break;case 22:if(h=c.memoizedState!==null||Si,!h){l=l!==null&&l.memoizedState!==null||$n,y=Si;var v=$n;Si=h,($n=l)&&!v?Ai(i,c,(c.subtreeFlags&8772)!==0):Ci(i,c),Si=y,$n=v}break;case 30:break;default:Ci(i,c)}}function Q1(i){var l=i.alternate;l!==null&&(i.alternate=null,Q1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&kc(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pn=null,kr=!1;function Ei(i,l,c){for(c=c.child;c!==null;)Z1(i,l,c),c=c.sibling}function Z1(i,l,c){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(vt,c)}catch{}switch(c.tag){case 26:$n||ei(c,l),Ei(i,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:$n||ei(c,l);var h=pn,y=kr;Ss(c.type)&&(pn=c.stateNode,kr=!1),Ei(i,l,c),fu(c.stateNode),pn=h,kr=y;break;case 5:$n||ei(c,l);case 6:if(h=pn,y=kr,pn=null,Ei(i,l,c),pn=h,kr=y,pn!==null)if(kr)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(c.stateNode)}catch(v){qt(c,l,v)}else try{pn.removeChild(c.stateNode)}catch(v){qt(c,l,v)}break;case 18:pn!==null&&(kr?(i=pn,FS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),$o(i)):FS(pn,c.stateNode));break;case 4:h=pn,y=kr,pn=c.stateNode.containerInfo,kr=!0,Ei(i,l,c),pn=h,kr=y;break;case 0:case 11:case 14:case 15:xs(2,c,l),$n||xs(4,c,l),Ei(i,l,c);break;case 1:$n||(ei(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"&&K1(c,l,h)),Ei(i,l,c);break;case 21:Ei(i,l,c);break;case 22:$n=(h=$n)||c.memoizedState!==null,Ei(i,l,c),$n=h;break;default:Ei(i,l,c)}}function J1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{$o(i)}catch(c){qt(l,l.return,c)}}}function eS(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$o(i)}catch(c){qt(l,l.return,c)}}function qI(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Y1),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Y1),l;default:throw Error(r(435,i.tag))}}function Eh(i,l){var c=qI(i);l.forEach(function(h){if(!c.has(h)){c.add(h);var y=ZI.bind(null,i,h);h.then(y,y)}})}function Dr(i,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],v=i,C=l,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(Ss(k.type)){pn=k.stateNode,kr=!1;break e}break;case 5:pn=k.stateNode,kr=!1;break e;case 3:case 4:pn=k.stateNode.containerInfo,kr=!0;break e}k=k.return}if(pn===null)throw Error(r(160));Z1(v,C,y),pn=null,kr=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)tS(l,i),l=l.sibling}var Ua=null;function tS(i,l){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dr(l,i),Mr(i),h&4&&(xs(3,i,i.return),ru(3,i),xs(5,i,i.return));break;case 1:Dr(l,i),Mr(i),h&512&&($n||c===null||ei(c,c.return)),h&64&&Si&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Ua;if(Dr(l,i),Mr(i),h&512&&($n||c===null||ei(c,c.return)),h&4){var v=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[nl]||v[Ye]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),sr(v,h,c),v[Ye]=i,nn(v),h=v;break e;case"link":var C=tE("link","href",y).get(h+(c.href||""));if(C){for(var k=0;k<C.length;k++)if(v=C[k],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(k,1);break t}}v=y.createElement(h),sr(v,h,c),y.head.appendChild(v);break;case"meta":if(C=tE("meta","content",y).get(h+(c.content||""))){for(k=0;k<C.length;k++)if(v=C[k],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(k,1);break t}}v=y.createElement(h),sr(v,h,c),y.head.appendChild(v);break;default:throw Error(r(468,h))}v[Ye]=i,nn(v),h=v}i.stateNode=h}else nE(y,i.type,i.stateNode);else i.stateNode=eE(y,h,i.memoizedProps);else v!==h?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,h===null?nE(y,i.type,i.stateNode):eE(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Zp(i,i.memoizedProps,c.memoizedProps)}break;case 27:Dr(l,i),Mr(i),h&512&&($n||c===null||ei(c,c.return)),c!==null&&h&4&&Zp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Dr(l,i),Mr(i),h&512&&($n||c===null||ei(c,c.return)),i.flags&32){y=i.stateNode;try{oo(y,"")}catch(qe){qt(i,i.return,qe)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Zp(i,y,c!==null?c.memoizedProps:y)),h&1024&&(tx=!0);break;case 6:if(Dr(l,i),Mr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(qe){qt(i,i.return,qe)}}break;case 3:if(zh=null,y=Ua,Ua=Uh(l.containerInfo),Dr(l,i),Ua=y,Mr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{$o(l.containerInfo)}catch(qe){qt(i,i.return,qe)}tx&&(tx=!1,nS(i));break;case 4:h=Ua,Ua=Uh(i.stateNode.containerInfo),Dr(l,i),Mr(i),Ua=h;break;case 12:Dr(l,i),Mr(i);break;case 31:Dr(l,i),Mr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Eh(i,h)));break;case 13:Dr(l,i),Mr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ah=it()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Eh(i,h)));break;case 22:y=i.memoizedState!==null;var Z=c!==null&&c.memoizedState!==null,ge=Si,Te=$n;if(Si=ge||y,$n=Te||Z,Dr(l,i),$n=Te,Si=ge,Mr(i),h&8192)e:for(l=i.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(c===null||Z||Si||$n||yl(i)),c=null,l=i;;){if(l.tag===5||l.tag===26){if(c===null){Z=c=l;try{if(v=Z.stateNode,y)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=Z.stateNode;var ke=Z.memoizedProps.style,be=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;k.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(qe){qt(Z,Z.return,qe)}}}else if(l.tag===6){if(c===null){Z=l;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(qe){qt(Z,Z.return,qe)}}}else if(l.tag===18){if(c===null){Z=l;try{var Ee=Z.stateNode;y?KS(Ee,!0):KS(Z.stateNode,!1)}catch(qe){qt(Z,Z.return,qe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Eh(i,c))));break;case 19:Dr(l,i),Mr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Eh(i,h)));break;case 30:break;case 21:break;default:Dr(l,i),Mr(i)}}function Mr(i){var l=i.flags;if(l&2){try{for(var c,h=i.return;h!==null;){if(V1(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,v=Jp(i);Sh(i,v,y);break;case 5:var C=c.stateNode;c.flags&32&&(oo(C,""),c.flags&=-33);var k=Jp(i);Sh(i,k,C);break;case 3:case 4:var Z=c.stateNode.containerInfo,ge=Jp(i);ex(i,ge,Z);break;default:throw Error(r(161))}}catch(Te){qt(i,i.return,Te)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function nS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;nS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ci(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)X1(i,l.alternate,l),l=l.sibling}function yl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:xs(4,l,l.return),yl(l);break;case 1:ei(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&K1(l,l.return,c),yl(l);break;case 27:fu(l.stateNode);case 26:case 5:ei(l,l.return),yl(l);break;case 22:l.memoizedState===null&&yl(l);break;case 30:yl(l);break;default:yl(l)}i=i.sibling}}function Ai(i,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,y=i,v=l,C=v.flags;switch(v.tag){case 0:case 11:case 15:Ai(y,v,c),ru(4,v);break;case 1:if(Ai(y,v,c),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ge){qt(h,h.return,ge)}if(h=v,y=h.updateQueue,y!==null){var k=h.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)DN(Z[y],k)}catch(ge){qt(h,h.return,ge)}}c&&C&64&&F1(v),au(v,v.return);break;case 27:W1(v);case 26:case 5:Ai(y,v,c),c&&h===null&&C&4&&G1(v),au(v,v.return);break;case 12:Ai(y,v,c);break;case 31:Ai(y,v,c),c&&C&4&&J1(y,v);break;case 13:Ai(y,v,c),c&&C&4&&eS(y,v);break;case 22:v.memoizedState===null&&Ai(y,v,c),au(v,v.return);break;case 30:break;default:Ai(y,v,c)}l=l.sibling}}function nx(i,l){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Fc(c))}function rx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Fc(i))}function $a(i,l,c,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rS(i,l,c,h),l=l.sibling}function rS(i,l,c,h){var y=l.flags;switch(l.tag){case 0:case 11:case 15:$a(i,l,c,h),y&2048&&ru(9,l);break;case 1:$a(i,l,c,h);break;case 3:$a(i,l,c,h),y&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Fc(i)));break;case 12:if(y&2048){$a(i,l,c,h),i=l.stateNode;try{var v=l.memoizedProps,C=v.id,k=v.onPostCommit;typeof k=="function"&&k(C,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){qt(l,l.return,Z)}}else $a(i,l,c,h);break;case 31:$a(i,l,c,h);break;case 13:$a(i,l,c,h);break;case 23:break;case 22:v=l.stateNode,C=l.alternate,l.memoizedState!==null?v._visibility&2?$a(i,l,c,h):iu(i,l):v._visibility&2?$a(i,l,c,h):(v._visibility|=2,_o(i,l,c,h,(l.subtreeFlags&10256)!==0||!1)),y&2048&&nx(C,l);break;case 24:$a(i,l,c,h),y&2048&&rx(l.alternate,l);break;default:$a(i,l,c,h)}}function _o(i,l,c,h,y){for(y=y&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var v=i,C=l,k=c,Z=h,ge=C.flags;switch(C.tag){case 0:case 11:case 15:_o(v,C,k,Z,y),ru(8,C);break;case 23:break;case 22:var Te=C.stateNode;C.memoizedState!==null?Te._visibility&2?_o(v,C,k,Z,y):iu(v,C):(Te._visibility|=2,_o(v,C,k,Z,y)),y&&ge&2048&&nx(C.alternate,C);break;case 24:_o(v,C,k,Z,y),y&&ge&2048&&rx(C.alternate,C);break;default:_o(v,C,k,Z,y)}l=l.sibling}}function iu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=i,h=l,y=h.flags;switch(h.tag){case 22:iu(c,h),y&2048&&nx(h.alternate,h);break;case 24:iu(c,h),y&2048&&rx(h.alternate,h);break;default:iu(c,h)}l=l.sibling}}var su=8192;function Ro(i,l,c){if(i.subtreeFlags&su)for(i=i.child;i!==null;)aS(i,l,c),i=i.sibling}function aS(i,l,c){switch(i.tag){case 26:Ro(i,l,c),i.flags&su&&i.memoizedState!==null&&_6(c,Ua,i.memoizedState,i.memoizedProps);break;case 5:Ro(i,l,c);break;case 3:case 4:var h=Ua;Ua=Uh(i.stateNode.containerInfo),Ro(i,l,c),Ua=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=su,su=16777216,Ro(i,l,c),su=h):Ro(i,l,c));break;default:Ro(i,l,c)}}function iS(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function lu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Zn=h,lS(h,i)}iS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sS(i),i=i.sibling}function sS(i){switch(i.tag){case 0:case 11:case 15:lu(i),i.flags&2048&&xs(9,i,i.return);break;case 3:lu(i);break;case 12:lu(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Ch(i)):lu(i);break;default:lu(i)}}function Ch(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Zn=h,lS(h,i)}iS(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:xs(8,l,l.return),Ch(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Ch(l));break;default:Ch(l)}i=i.sibling}}function lS(i,l){for(;Zn!==null;){var c=Zn;switch(c.tag){case 0:case 11:case 15:xs(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Fc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Zn=h;else e:for(c=i;Zn!==null;){h=Zn;var y=h.sibling,v=h.return;if(Q1(h),h===c){Zn=null;break e}if(y!==null){y.return=v,Zn=y;break e}Zn=v}}}var FI={getCacheForType:function(i){var l=ar(Ln),c=l.data.get(i);return c===void 0&&(c=i(),l.data.set(i,c)),c},cacheSignal:function(){return ar(Ln).controller.signal}},KI=typeof WeakMap=="function"?WeakMap:Map,Ut=0,rn=null,Ct=null,Tt=0,Ht=0,Wr=null,ys=!1,Oo=!1,ax=!1,Ti=0,_n=0,vs=0,vl=0,ix=0,Yr=0,ko=0,ou=null,Pr=null,sx=!1,Ah=0,oS=0,Th=1/0,_h=null,bs=null,Fn=0,js=null,Do=null,_i=0,lx=0,ox=null,cS=null,cu=0,cx=null;function Xr(){return(Ut&2)!==0&&Tt!==0?Tt&-Tt:H.T!==null?gx():el()}function uS(){if(Yr===0)if((Tt&536870912)===0||Ot){var i=jt;jt<<=1,(jt&3932160)===0&&(jt=262144),Yr=i}else Yr=536870912;return i=Gr.current,i!==null&&(i.flags|=32),Yr}function Ir(i,l,c){(i===rn&&(Ht===2||Ht===9)||i.cancelPendingCommit!==null)&&(Mo(i,0),ws(i,Tt,Yr,!1)),Xa(i,c),((Ut&2)===0||i!==rn)&&(i===rn&&((Ut&2)===0&&(vl|=c),_n===4&&ws(i,Tt,Yr,!1)),ti(i))}function dS(i,l,c){if((Ut&6)!==0)throw Error(r(327));var h=!c&&(l&127)===0&&(l&i.expiredLanes)===0||Hr(i,l),y=h?WI(i,l):dx(i,l,!0),v=h;do{if(y===0){Oo&&!h&&ws(i,l,0,!1);break}else{if(c=i.current.alternate,v&&!GI(c)){y=dx(i,l,!1),v=!1;continue}if(y===2){if(v=l,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var k=i;y=ou;var Z=k.current.memoizedState.isDehydrated;if(Z&&(Mo(k,C).flags|=256),C=dx(k,C,!1),C!==2){if(ax&&!Z){k.errorRecoveryDisabledLanes|=v,vl|=v,y=4;break e}v=Pr,Pr=y,v!==null&&(Pr===null?Pr=v:Pr.push.apply(Pr,v))}y=C}if(v=!1,y!==2)continue}}if(y===1){Mo(i,0),ws(i,l,0,!0);break}e:{switch(h=i,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ws(h,l,Yr,!ys);break e;case 2:Pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=Ah+300-it(),10<y)){if(ws(h,l,Yr,!ys),ua(h,0,!0)!==0)break e;_i=l,h.timeoutHandle=HS(hS.bind(null,h,c,Pr,_h,sx,l,Yr,vl,ko,ys,v,"Throttled",-0,0),y);break e}hS(h,c,Pr,_h,sx,l,Yr,vl,ko,ys,v,null,-0,0)}}break}while(!0);ti(i)}function hS(i,l,c,h,y,v,C,k,Z,ge,Te,ke,be,Ee){if(i.timeoutHandle=-1,ke=l.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},aS(l,v,ke);var qe=(v&62914560)===v?Ah-it():(v&4194048)===v?oS-it():0;if(qe=R6(ke,qe),qe!==null){_i=v,i.cancelPendingCommit=qe(bS.bind(null,i,l,v,c,h,y,C,k,Z,Te,ke,null,be,Ee)),ws(i,v,C,!ge);return}}bS(i,l,v,c,h,y,C,k,Z)}function GI(i){for(var l=i;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],v=y.getSnapshot;y=y.value;try{if(!Fr(v(),y))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ws(i,l,c,h){l&=~ix,l&=~vl,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var y=l;0<y;){var v=31-st(y),C=1<<v;h[v]=-1,y&=~C}c!==0&&Oc(i,c,l)}function Rh(){return(Ut&6)===0?(uu(0),!1):!0}function ux(){if(Ct!==null){if(Ht===0)var i=Ct.return;else i=Ct,yi=ul=null,Cp(i),So=null,Gc=0,i=Ct;for(;i!==null;)q1(i.alternate,i),i=i.return;Ct=null}}function Mo(i,l){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,h6(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),_i=0,ux(),rn=i,Ct=c=pi(i.current,null),Tt=l,Ht=0,Wr=null,ys=!1,Oo=Hr(i,l),ax=!1,ko=Yr=ix=vl=vs=_n=0,Pr=ou=null,sx=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var y=31-st(h),v=1<<y;l|=i[y],h&=~v}return Ti=l,Qd(),c}function fS(i,l){xt=null,H.H=eu,l===No||l===ih?(l=_N(),Ht=3):l===mp?(l=_N(),Ht=4):Ht=l===Hp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Wr=l,Ct===null&&(_n=1,vh(i,ma(l,i.current)))}function mS(){var i=Gr.current;return i===null?!0:(Tt&4194048)===Tt?ya===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?i===ya:!1}function gS(){var i=H.H;return H.H=eu,i===null?eu:i}function pS(){var i=H.A;return H.A=FI,i}function Oh(){_n=4,ys||(Tt&4194048)!==Tt&&Gr.current!==null||(Oo=!0),(vs&134217727)===0&&(vl&134217727)===0||rn===null||ws(rn,Tt,Yr,!1)}function dx(i,l,c){var h=Ut;Ut|=2;var y=gS(),v=pS();(rn!==i||Tt!==l)&&(_h=null,Mo(i,l)),l=!1;var C=_n;e:do try{if(Ht!==0&&Ct!==null){var k=Ct,Z=Wr;switch(Ht){case 8:ux(),C=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(l=!0);var ge=Ht;if(Ht=0,Wr=null,Po(i,k,Z,ge),c&&Oo){C=0;break e}break;default:ge=Ht,Ht=0,Wr=null,Po(i,k,Z,ge)}}VI(),C=_n;break}catch(Te){fS(i,Te)}while(!0);return l&&i.shellSuspendCounter++,yi=ul=null,Ut=h,H.H=y,H.A=v,Ct===null&&(rn=null,Tt=0,Qd()),C}function VI(){for(;Ct!==null;)xS(Ct)}function WI(i,l){var c=Ut;Ut|=2;var h=gS(),y=pS();rn!==i||Tt!==l?(_h=null,Th=it()+500,Mo(i,l)):Oo=Hr(i,l);e:do try{if(Ht!==0&&Ct!==null){l=Ct;var v=Wr;t:switch(Ht){case 1:Ht=0,Wr=null,Po(i,l,v,1);break;case 2:case 9:if(AN(v)){Ht=0,Wr=null,yS(l);break}l=function(){Ht!==2&&Ht!==9||rn!==i||(Ht=7),ti(i)},v.then(l,l);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:AN(v)?(Ht=0,Wr=null,yS(l)):(Ht=0,Wr=null,Po(i,l,v,7));break;case 5:var C=null;switch(Ct.tag){case 26:C=Ct.memoizedState;case 5:case 27:var k=Ct;if(C?rE(C):k.stateNode.complete){Ht=0,Wr=null;var Z=k.sibling;if(Z!==null)Ct=Z;else{var ge=k.return;ge!==null?(Ct=ge,kh(ge)):Ct=null}break t}}Ht=0,Wr=null,Po(i,l,v,5);break;case 6:Ht=0,Wr=null,Po(i,l,v,6);break;case 8:ux(),_n=6;break e;default:throw Error(r(462))}}YI();break}catch(Te){fS(i,Te)}while(!0);return yi=ul=null,H.H=h,H.A=y,Ut=c,Ct!==null?0:(rn=null,Tt=0,Qd(),_n)}function YI(){for(;Ct!==null&&!Ze();)xS(Ct)}function xS(i){var l=z1(i.alternate,i,Ti);i.memoizedProps=i.pendingProps,l===null?kh(i):Ct=l}function yS(i){var l=i,c=l.alternate;switch(l.tag){case 15:case 0:l=P1(c,l,l.pendingProps,l.type,void 0,Tt);break;case 11:l=P1(c,l,l.pendingProps,l.type.render,l.ref,Tt);break;case 5:Cp(l);default:q1(c,l),l=Ct=pN(l,Ti),l=z1(c,l,Ti)}i.memoizedProps=i.pendingProps,l===null?kh(i):Ct=l}function Po(i,l,c,h){yi=ul=null,Cp(l),So=null,Gc=0;var y=l.return;try{if(LI(i,y,l,c,Tt)){_n=1,vh(i,ma(c,i.current)),Ct=null;return}}catch(v){if(y!==null)throw Ct=y,v;_n=1,vh(i,ma(c,i.current)),Ct=null;return}l.flags&32768?(Ot||h===1?i=!0:Oo||(Tt&536870912)!==0?i=!1:(ys=i=!0,(h===2||h===9||h===3||h===6)&&(h=Gr.current,h!==null&&h.tag===13&&(h.flags|=16384))),vS(l,i)):kh(l)}function kh(i){var l=i;do{if((l.flags&32768)!==0){vS(l,ys);return}i=l.return;var c=$I(l.alternate,l,Ti);if(c!==null){Ct=c;return}if(l=l.sibling,l!==null){Ct=l;return}Ct=l=i}while(l!==null);_n===0&&(_n=5)}function vS(i,l){do{var c=zI(i.alternate,i);if(c!==null){c.flags&=32767,Ct=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(i=i.sibling,i!==null)){Ct=i;return}Ct=i=c}while(i!==null);_n=6,Ct=null}function bS(i,l,c,h,y,v,C,k,Z){i.cancelPendingCommit=null;do Dh();while(Fn!==0);if((Ut&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(v=l.lanes|l.childLanes,v|=Jg,ss(i,c,v,C,k,Z),i===rn&&(Ct=rn=null,Tt=0),Do=l,js=i,_i=c,lx=v,ox=y,cS=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JI(Ne,function(){return ES(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,y=I.p,I.p=2,C=Ut,Ut|=4;try{HI(i,l,c)}finally{Ut=C,I.p=y,H.T=h}}Fn=1,jS(),wS(),NS()}}function jS(){if(Fn===1){Fn=0;var i=js,l=Do,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var h=I.p;I.p=2;var y=Ut;Ut|=4;try{tS(l,i);var v=Nx,C=lN(i.containerInfo),k=v.focusedElem,Z=v.selectionRange;if(C!==k&&k&&k.ownerDocument&&sN(k.ownerDocument.documentElement,k)){if(Z!==null&&Wg(k)){var ge=Z.start,Te=Z.end;if(Te===void 0&&(Te=ge),"selectionStart"in k)k.selectionStart=ge,k.selectionEnd=Math.min(Te,k.value.length);else{var ke=k.ownerDocument||document,be=ke&&ke.defaultView||window;if(be.getSelection){var Ee=be.getSelection(),qe=k.textContent.length,ot=Math.min(Z.start,qe),Xt=Z.end===void 0?ot:Math.min(Z.end,qe);!Ee.extend&&ot>Xt&&(C=Xt,Xt=ot,ot=C);var le=iN(k,ot),te=iN(k,Xt);if(le&&te&&(Ee.rangeCount!==1||Ee.anchorNode!==le.node||Ee.anchorOffset!==le.offset||Ee.focusNode!==te.node||Ee.focusOffset!==te.offset)){var me=ke.createRange();me.setStart(le.node,le.offset),Ee.removeAllRanges(),ot>Xt?(Ee.addRange(me),Ee.extend(te.node,te.offset)):(me.setEnd(te.node,te.offset),Ee.addRange(me))}}}}for(ke=[],Ee=k;Ee=Ee.parentNode;)Ee.nodeType===1&&ke.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ke.length;k++){var Re=ke[k];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Kh=!!wx,Nx=wx=null}finally{Ut=y,I.p=h,H.T=c}}i.current=l,Fn=2}}function wS(){if(Fn===2){Fn=0;var i=js,l=Do,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var h=I.p;I.p=2;var y=Ut;Ut|=4;try{X1(i,l.alternate,l)}finally{Ut=y,I.p=h,H.T=c}}Fn=3}}function NS(){if(Fn===4||Fn===3){Fn=0,mt();var i=js,l=Do,c=_i,h=cS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Fn=5:(Fn=0,Do=js=null,SS(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(bs=null),no(c),l=l.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(vt,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=H.T,y=I.p,I.p=2,H.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var k=h[C];v(k.value,{componentStack:k.stack})}}finally{H.T=l,I.p=y}}(_i&3)!==0&&Dh(),ti(i),y=i.pendingLanes,(c&261930)!==0&&(y&42)!==0?i===cx?cu++:(cu=0,cx=i):cu=0,uu(0)}}function SS(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Fc(l)))}function Dh(){return jS(),wS(),NS(),ES()}function ES(){if(Fn!==5)return!1;var i=js,l=lx;lx=0;var c=no(_i),h=H.T,y=I.p;try{I.p=32>c?32:c,H.T=null,c=ox,ox=null;var v=js,C=_i;if(Fn=0,Do=js=null,_i=0,(Ut&6)!==0)throw Error(r(331));var k=Ut;if(Ut|=4,sS(v.current),rS(v,v.current,C,c),Ut=k,uu(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(vt,v)}catch{}return!0}finally{I.p=y,H.T=h,SS(i,l)}}function CS(i,l,c){l=ma(c,l),l=zp(i.stateNode,l,2),i=ms(i,l,2),i!==null&&(Xa(i,2),ti(i))}function qt(i,l,c){if(i.tag===3)CS(i,i,c);else for(;l!==null;){if(l.tag===3){CS(l,i,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bs===null||!bs.has(h))){i=ma(c,i),c=A1(2),h=ms(l,c,2),h!==null&&(T1(c,h,l,i),Xa(h,2),ti(h));break}}l=l.return}}function hx(i,l,c){var h=i.pingCache;if(h===null){h=i.pingCache=new KI;var y=new Set;h.set(l,y)}else y=h.get(l),y===void 0&&(y=new Set,h.set(l,y));y.has(c)||(ax=!0,y.add(c),i=XI.bind(null,i,l,c),l.then(i,i))}function XI(i,l,c){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,rn===i&&(Tt&c)===c&&(_n===4||_n===3&&(Tt&62914560)===Tt&&300>it()-Ah?(Ut&2)===0&&Mo(i,0):ix|=c,ko===Tt&&(ko=0)),ti(i)}function AS(i,l){l===0&&(l=Zs()),i=ll(i,l),i!==null&&(Xa(i,l),ti(i))}function QI(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),AS(i,c)}function ZI(i,l){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),AS(i,c)}function JI(i,l){return nt(i,l)}var Mh=null,Io=null,fx=!1,Ph=!1,mx=!1,Ns=0;function ti(i){i!==Io&&i.next===null&&(Io===null?Mh=Io=i:Io=Io.next=i),Ph=!0,fx||(fx=!0,t6())}function uu(i,l){if(!mx&&Ph){mx=!0;do for(var c=!1,h=Mh;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var C=h.suspendedLanes,k=h.pingedLanes;v=(1<<31-st(42|i)+1)-1,v&=y&~(C&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,OS(h,v))}else v=Tt,v=ua(h,h===rn?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Hr(h,v)||(c=!0,OS(h,v));h=h.next}while(c);mx=!1}}function e6(){TS()}function TS(){Ph=fx=!1;var i=0;Ns!==0&&d6()&&(i=Ns);for(var l=it(),c=null,h=Mh;h!==null;){var y=h.next,v=_S(h,l);v===0?(h.next=null,c===null?Mh=y:c.next=y,y===null&&(Io=c)):(c=h,(i!==0||(v&3)!==0)&&(Ph=!0)),h=y}Fn!==0&&Fn!==5||uu(i),Ns!==0&&(Ns=0)}function _S(i,l){for(var c=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-st(v),k=1<<C,Z=y[C];Z===-1?((k&c)===0||(k&h)!==0)&&(y[C]=eo(k,l)):Z<=l&&(i.expiredLanes|=k),v&=~k}if(l=rn,c=Tt,c=ua(i,i===l?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===l&&(Ht===2||Ht===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ze(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Hr(i,c)){if(l=c&-c,l===i.callbackPriority)return l;switch(h!==null&&ze(h),no(c)){case 2:case 8:c=Oe;break;case 32:c=Ne;break;case 268435456:c=ut;break;default:c=Ne}return h=RS.bind(null,i),c=nt(c,h),i.callbackPriority=l,i.callbackNode=c,l}return h!==null&&h!==null&&ze(h),i.callbackPriority=2,i.callbackNode=null,2}function RS(i,l){if(Fn!==0&&Fn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Dh()&&i.callbackNode!==c)return null;var h=Tt;return h=ua(i,i===rn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(dS(i,h,l),_S(i,it()),i.callbackNode!=null&&i.callbackNode===c?RS.bind(null,i):null)}function OS(i,l){if(Dh())return null;dS(i,l,!0)}function t6(){f6(function(){(Ut&6)!==0?nt(ce,e6):TS()})}function gx(){if(Ns===0){var i=jo;i===0&&(i=bt,bt<<=1,(bt&261888)===0&&(bt=256)),Ns=i}return Ns}function kS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qd(""+i)}function DS(i,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,i.id&&c.setAttribute("form",i.id),l.parentNode.insertBefore(c,l),i=new FormData(i),c.parentNode.removeChild(c),i}function n6(i,l,c,h,y){if(l==="submit"&&c&&c.stateNode===y){var v=kS((y[Rt]||null).action),C=h.submitter;C&&(l=(l=C[Rt]||null)?kS(l.formAction):C.getAttribute("formAction"),l!==null&&(v=l,C=null));var k=new Vd("action","action",null,h,y);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ns!==0){var Z=C?DS(y,C):new FormData(y);Pp(c,{pending:!0,data:Z,method:y.method,action:v},null,Z)}}else typeof v=="function"&&(k.preventDefault(),Z=C?DS(y,C):new FormData(y),Pp(c,{pending:!0,data:Z,method:y.method,action:v},v,Z))},currentTarget:y}]})}}for(var px=0;px<Zg.length;px++){var xx=Zg[px],r6=xx.toLowerCase(),a6=xx[0].toUpperCase()+xx.slice(1);Ba(r6,"on"+a6)}Ba(uN,"onAnimationEnd"),Ba(dN,"onAnimationIteration"),Ba(hN,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(bI,"onTransitionRun"),Ba(jI,"onTransitionStart"),Ba(wI,"onTransitionCancel"),Ba(fN,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function MS(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],y=h.event;h=h.listeners;e:{var v=void 0;if(l)for(var C=h.length-1;0<=C;C--){var k=h[C],Z=k.instance,ge=k.currentTarget;if(k=k.listener,Z!==v&&y.isPropagationStopped())break e;v=k,y.currentTarget=ge;try{v(y)}catch(Te){Xd(Te)}y.currentTarget=null,v=Z}else for(C=0;C<h.length;C++){if(k=h[C],Z=k.instance,ge=k.currentTarget,k=k.listener,Z!==v&&y.isPropagationStopped())break e;v=k,y.currentTarget=ge;try{v(y)}catch(Te){Xd(Te)}y.currentTarget=null,v=Z}}}}function At(i,l){var c=l[ao];c===void 0&&(c=l[ao]=new Set);var h=i+"__bubble";c.has(h)||(PS(l,i,2,!1),c.add(h))}function yx(i,l,c){var h=0;l&&(h|=4),PS(c,i,h,l)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function vx(i){if(!i[Ih]){i[Ih]=!0,Tw.forEach(function(c){c!=="selectionchange"&&(i6.has(c)||yx(c,!1,i),yx(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Ih]||(l[Ih]=!0,yx("selectionchange",!1,l))}}function PS(i,l,c,h){switch(uE(l)){case 2:var y=D6;break;case 8:y=M6;break;default:y=Mx}c=y.bind(null,l,c,i),y=void 0,!Ug||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(l,c,{capture:!0,passive:y}):i.addEventListener(l,c,!0):y!==void 0?i.addEventListener(l,c,{passive:y}):i.addEventListener(l,c,!1)}function bx(i,l,c,h,y){var v=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var k=h.stateNode.containerInfo;if(k===y)break;if(C===4)for(C=h.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;k!==null;){if(C=fe(k),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){h=v=C;continue e}k=k.parentNode}}h=h.return}$w(function(){var ge=v,Te=Lg(c),ke=[];e:{var be=mN.get(i);if(be!==void 0){var Ee=Vd,qe=i;switch(i){case"keypress":if(Kd(c)===0)break e;case"keydown":case"keyup":Ee=Z4;break;case"focusin":qe="focus",Ee=qg;break;case"focusout":qe="blur",Ee=qg;break;case"beforeblur":case"afterblur":Ee=qg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=$4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=tI;break;case uN:case dN:case hN:Ee=q4;break;case fN:Ee=rI;break;case"scroll":case"scrollend":Ee=B4;break;case"wheel":Ee=iI;break;case"copy":case"cut":case"paste":Ee=K4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Kw;break;case"toggle":case"beforetoggle":Ee=lI}var ot=(l&4)!==0,Xt=!ot&&(i==="scroll"||i==="scrollend"),le=ot?be!==null?be+"Capture":null:be;ot=[];for(var te=ge,me;te!==null;){var Re=te;if(me=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||me===null||le===null||(Re=Dc(te,le),Re!=null&&ot.push(hu(te,Re,me))),Xt)break;te=te.return}0<ot.length&&(be=new Ee(be,qe,null,c,Te),ke.push({event:be,listeners:ot}))}}if((l&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",be&&c!==Ig&&(qe=c.relatedTarget||c.fromElement)&&(fe(qe)||qe[qr]))break e;if((Ee||be)&&(be=Te.window===Te?Te:(be=Te.ownerDocument)?be.defaultView||be.parentWindow:window,Ee?(qe=c.relatedTarget||c.toElement,Ee=ge,qe=qe?fe(qe):null,qe!==null&&(Xt=o(qe),ot=qe.tag,qe!==Xt||ot!==5&&ot!==27&&ot!==6)&&(qe=null)):(Ee=null,qe=ge),Ee!==qe)){if(ot=qw,Re="onMouseLeave",le="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(ot=Kw,Re="onPointerLeave",le="onPointerEnter",te="pointer"),Xt=Ee==null?be:Pe(Ee),me=qe==null?be:Pe(qe),be=new ot(Re,te+"leave",Ee,c,Te),be.target=Xt,be.relatedTarget=me,Re=null,fe(Te)===ge&&(ot=new ot(le,te+"enter",qe,c,Te),ot.target=me,ot.relatedTarget=Xt,Re=ot),Xt=Re,Ee&&qe)t:{for(ot=s6,le=Ee,te=qe,me=0,Re=le;Re;Re=ot(Re))me++;Re=0;for(var rt=te;rt;rt=ot(rt))Re++;for(;0<me-Re;)le=ot(le),me--;for(;0<Re-me;)te=ot(te),Re--;for(;me--;){if(le===te||te!==null&&le===te.alternate){ot=le;break t}le=ot(le),te=ot(te)}ot=null}else ot=null;Ee!==null&&IS(ke,be,Ee,ot,!1),qe!==null&&Xt!==null&&IS(ke,Xt,qe,ot,!0)}}e:{if(be=ge?Pe(ge):window,Ee=be.nodeName&&be.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&be.type==="file")var It=Jw;else if(Qw(be))if(eN)It=xI;else{It=gI;var Qe=mI}else Ee=be.nodeName,!Ee||Ee.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ge&&Pg(ge.elementType)&&(It=Jw):It=pI;if(It&&(It=It(i,ge))){Zw(ke,It,c,Te);break e}Qe&&Qe(i,be,ge),i==="focusout"&&ge&&be.type==="number"&&ge.memoizedProps.value!=null&&Mg(be,"number",be.value)}switch(Qe=ge?Pe(ge):window,i){case"focusin":(Qw(Qe)||Qe.contentEditable==="true")&&(fo=Qe,Yg=ge,zc=null);break;case"focusout":zc=Yg=fo=null;break;case"mousedown":Xg=!0;break;case"contextmenu":case"mouseup":case"dragend":Xg=!1,oN(ke,c,Te);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":oN(ke,c,Te)}var yt;if(Kg)e:{switch(i){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ho?Yw(i,c)&&(_t="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(_t="onCompositionStart");_t&&(Gw&&c.locale!=="ko"&&(ho||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ho&&(yt=zw()):(ls=Te,$g="value"in ls?ls.value:ls.textContent,ho=!0)),Qe=Lh(ge,_t),0<Qe.length&&(_t=new Fw(_t,i,null,c,Te),ke.push({event:_t,listeners:Qe}),yt?_t.data=yt:(yt=Xw(c),yt!==null&&(_t.data=yt)))),(yt=cI?uI(i,c):dI(i,c))&&(_t=Lh(ge,"onBeforeInput"),0<_t.length&&(Qe=new Fw("onBeforeInput","beforeinput",null,c,Te),ke.push({event:Qe,listeners:_t}),Qe.data=yt)),n6(ke,i,ge,c,Te)}MS(ke,l)})}function hu(i,l,c){return{instance:i,listener:l,currentTarget:c}}function Lh(i,l){for(var c=l+"Capture",h=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Dc(i,c),y!=null&&h.unshift(hu(i,y,v)),y=Dc(i,l),y!=null&&h.push(hu(i,y,v))),i.tag===3)return h;i=i.return}return[]}function s6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function IS(i,l,c,h,y){for(var v=l._reactName,C=[];c!==null&&c!==h;){var k=c,Z=k.alternate,ge=k.stateNode;if(k=k.tag,Z!==null&&Z===h)break;k!==5&&k!==26&&k!==27||ge===null||(Z=ge,y?(ge=Dc(c,v),ge!=null&&C.unshift(hu(c,ge,Z))):y||(ge=Dc(c,v),ge!=null&&C.push(hu(c,ge,Z)))),c=c.return}C.length!==0&&i.push({event:l,listeners:C})}var l6=/\r\n?/g,o6=/\u0000|\uFFFD/g;function LS(i){return(typeof i=="string"?i:""+i).replace(l6,`
`).replace(o6,"")}function BS(i,l){return l=LS(l),LS(i)===l}function Yt(i,l,c,h,y,v){switch(c){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||oo(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&oo(i,""+h);break;case"className":zd(i,"class",h);break;case"tabIndex":zd(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":zd(i,c,h);break;case"style":Bw(i,h,v);break;case"data":if(l!=="object"){zd(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=qd(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(l!=="input"&&Yt(i,l,"name",y.name,y,null),Yt(i,l,"formEncType",y.formEncType,y,null),Yt(i,l,"formMethod",y.formMethod,y,null),Yt(i,l,"formTarget",y.formTarget,y,null)):(Yt(i,l,"encType",y.encType,y,null),Yt(i,l,"method",y.method,y,null),Yt(i,l,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=qd(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=mi);break;case"onScroll":h!=null&&At("scroll",i);break;case"onScrollEnd":h!=null&&At("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=qd(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":At("beforetoggle",i),At("toggle",i),$d(i,"popover",h);break;case"xlinkActuate":fi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":fi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":fi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":fi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":fi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":fi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":fi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":fi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":fi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$d(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=I4.get(c)||c,$d(i,c,h))}}function jx(i,l,c,h,y,v){switch(c){case"style":Bw(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?oo(i,h):(typeof h=="number"||typeof h=="bigint")&&oo(i,""+h);break;case"onScroll":h!=null&&At("scroll",i);break;case"onScrollEnd":h!=null&&At("scrollend",i);break;case"onClick":h!=null&&(i.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_w.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),l=c.slice(2,y?c.length-7:void 0),v=i[Rt]||null,v=v!=null?v[c]:null,typeof v=="function"&&i.removeEventListener(l,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(l,h,y);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):$d(i,c,h)}}}function sr(i,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",i),At("load",i);var h=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var C=c[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Yt(i,l,v,C,c,null)}}y&&Yt(i,l,"srcSet",c.srcSet,c,null),h&&Yt(i,l,"src",c.src,c,null);return;case"input":At("invalid",i);var k=v=C=y=null,Z=null,ge=null;for(h in c)if(c.hasOwnProperty(h)){var Te=c[h];if(Te!=null)switch(h){case"name":y=Te;break;case"type":C=Te;break;case"checked":Z=Te;break;case"defaultChecked":ge=Te;break;case"value":v=Te;break;case"defaultValue":k=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,l));break;default:Yt(i,l,h,Te,c,null)}}Mw(i,v,k,Z,ge,C,y,!1);return;case"select":At("invalid",i),h=C=v=null;for(y in c)if(c.hasOwnProperty(y)&&(k=c[y],k!=null))switch(y){case"value":v=k;break;case"defaultValue":C=k;break;case"multiple":h=k;default:Yt(i,l,y,k,c,null)}l=v,c=C,i.multiple=!!h,l!=null?lo(i,!!h,l,!1):c!=null&&lo(i,!!h,c,!0);return;case"textarea":At("invalid",i),v=y=h=null;for(C in c)if(c.hasOwnProperty(C)&&(k=c[C],k!=null))switch(C){case"value":h=k;break;case"defaultValue":y=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Yt(i,l,C,k,c,null)}Iw(i,h,y,v);return;case"option":for(Z in c)if(c.hasOwnProperty(Z)&&(h=c[Z],h!=null))switch(Z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Yt(i,l,Z,h,c,null)}return;case"dialog":At("beforetoggle",i),At("toggle",i),At("cancel",i),At("close",i);break;case"iframe":case"object":At("load",i);break;case"video":case"audio":for(h=0;h<du.length;h++)At(du[h],i);break;case"image":At("error",i),At("load",i);break;case"details":At("toggle",i);break;case"embed":case"source":case"link":At("error",i),At("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in c)if(c.hasOwnProperty(ge)&&(h=c[ge],h!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Yt(i,l,ge,h,c,null)}return;default:if(Pg(l)){for(Te in c)c.hasOwnProperty(Te)&&(h=c[Te],h!==void 0&&jx(i,l,Te,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&Yt(i,l,k,h,c,null))}function c6(i,l,c,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,C=null,k=null,Z=null,ge=null,Te=null;for(Ee in c){var ke=c[Ee];if(c.hasOwnProperty(Ee)&&ke!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":Z=ke;default:h.hasOwnProperty(Ee)||Yt(i,l,Ee,null,h,ke)}}for(var be in h){var Ee=h[be];if(ke=c[be],h.hasOwnProperty(be)&&(Ee!=null||ke!=null))switch(be){case"type":v=Ee;break;case"name":y=Ee;break;case"checked":ge=Ee;break;case"defaultChecked":Te=Ee;break;case"value":C=Ee;break;case"defaultValue":k=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Ee!==ke&&Yt(i,l,be,Ee,h,ke)}}Dg(i,C,k,Z,ge,Te,v,y);return;case"select":Ee=C=k=be=null;for(v in c)if(Z=c[v],c.hasOwnProperty(v)&&Z!=null)switch(v){case"value":break;case"multiple":Ee=Z;default:h.hasOwnProperty(v)||Yt(i,l,v,null,h,Z)}for(y in h)if(v=h[y],Z=c[y],h.hasOwnProperty(y)&&(v!=null||Z!=null))switch(y){case"value":be=v;break;case"defaultValue":k=v;break;case"multiple":C=v;default:v!==Z&&Yt(i,l,y,v,h,Z)}l=k,c=C,h=Ee,be!=null?lo(i,!!c,be,!1):!!h!=!!c&&(l!=null?lo(i,!!c,l,!0):lo(i,!!c,c?[]:"",!1));return;case"textarea":Ee=be=null;for(k in c)if(y=c[k],c.hasOwnProperty(k)&&y!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Yt(i,l,k,null,h,y)}for(C in h)if(y=h[C],v=c[C],h.hasOwnProperty(C)&&(y!=null||v!=null))switch(C){case"value":be=y;break;case"defaultValue":Ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&Yt(i,l,C,y,h,v)}Pw(i,be,Ee);return;case"option":for(var qe in c)if(be=c[qe],c.hasOwnProperty(qe)&&be!=null&&!h.hasOwnProperty(qe))switch(qe){case"selected":i.selected=!1;break;default:Yt(i,l,qe,null,h,be)}for(Z in h)if(be=h[Z],Ee=c[Z],h.hasOwnProperty(Z)&&be!==Ee&&(be!=null||Ee!=null))switch(Z){case"selected":i.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Yt(i,l,Z,be,h,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in c)be=c[ot],c.hasOwnProperty(ot)&&be!=null&&!h.hasOwnProperty(ot)&&Yt(i,l,ot,null,h,be);for(ge in h)if(be=h[ge],Ee=c[ge],h.hasOwnProperty(ge)&&be!==Ee&&(be!=null||Ee!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:Yt(i,l,ge,be,h,Ee)}return;default:if(Pg(l)){for(var Xt in c)be=c[Xt],c.hasOwnProperty(Xt)&&be!==void 0&&!h.hasOwnProperty(Xt)&&jx(i,l,Xt,void 0,h,be);for(Te in h)be=h[Te],Ee=c[Te],!h.hasOwnProperty(Te)||be===Ee||be===void 0&&Ee===void 0||jx(i,l,Te,be,h,Ee);return}}for(var le in c)be=c[le],c.hasOwnProperty(le)&&be!=null&&!h.hasOwnProperty(le)&&Yt(i,l,le,null,h,be);for(ke in h)be=h[ke],Ee=c[ke],!h.hasOwnProperty(ke)||be===Ee||be==null&&Ee==null||Yt(i,l,ke,be,h,Ee)}function US(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],v=y.transferSize,C=y.initiatorType,k=y.duration;if(v&&k&&US(C)){for(C=0,k=y.responseEnd,h+=1;h<c.length;h++){var Z=c[h],ge=Z.startTime;if(ge>k)break;var Te=Z.transferSize,ke=Z.initiatorType;Te&&US(ke)&&(Z=Z.responseEnd,C+=Te*(Z<k?1:(k-ge)/(Z-ge)))}if(--h,l+=8*(v+C)/(y.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wx=null,Nx=null;function Bh(i){return i.nodeType===9?i:i.ownerDocument}function $S(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zS(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Sx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ex=null;function d6(){var i=window.event;return i&&i.type==="popstate"?i===Ex?!1:(Ex=i,!0):(Ex=null,!1)}var HS=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,f6=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(i){return qS.resolve(null).then(i).catch(m6)}:HS;function m6(i){setTimeout(function(){throw i})}function Ss(i){return i==="head"}function FS(i,l){var c=l,h=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(y),$o(l);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")fu(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,fu(c);for(var v=c.firstChild;v;){var C=v.nextSibling,k=v.nodeName;v[nl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=C}}else c==="body"&&fu(i.ownerDocument.body);c=y}while(c);$o(l)}function KS(i,l){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function Cx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Cx(c),kc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function g6(i,l,c,h){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[nl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=va(i.nextSibling),i===null)break}return null}function p6(i,l,c){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=va(i.nextSibling),i===null))return null;return i}function GS(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=va(i.nextSibling),i===null))return null;return i}function Ax(i){return i.data==="$?"||i.data==="$~"}function Tx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function x6(i,l){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||c.readyState!=="loading")l();else{var h=function(){l(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function va(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var _x=null;function VS(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(l===0)return va(i.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}i=i.nextSibling}return null}function WS(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return i;l--}else c!=="/$"&&c!=="/&"||l++}i=i.previousSibling}return null}function YS(i,l,c){switch(l=Bh(c),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fu(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);kc(i)}var ba=new Map,XS=new Set;function Uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ri=I.d;I.d={f:y6,r:v6,D:b6,C:j6,L:w6,m:N6,X:E6,S:S6,M:C6};function y6(){var i=Ri.f(),l=Rh();return i||l}function v6(i){var l=Me(i);l!==null&&l.tag===5&&l.type==="form"?f1(l):Ri.r(i)}var Lo=typeof document>"u"?null:document;function QS(i,l,c){var h=Lo;if(h&&typeof l=="string"&&l){var y=ha(l);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),XS.has(y)||(XS.add(y),i={rel:i,crossOrigin:c,href:l},h.querySelector(y)===null&&(l=h.createElement("link"),sr(l,"link",i),nn(l),h.head.appendChild(l)))}}function b6(i){Ri.D(i),QS("dns-prefetch",i,null)}function j6(i,l){Ri.C(i,l),QS("preconnect",i,l)}function w6(i,l,c){Ri.L(i,l,c);var h=Lo;if(h&&i&&l){var y='link[rel="preload"][as="'+ha(l)+'"]';l==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+ha(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+ha(c.imageSizes)+'"]')):y+='[href="'+ha(i)+'"]';var v=y;switch(l){case"style":v=Bo(i);break;case"script":v=Uo(i)}ba.has(v)||(i=x({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:i,as:l},c),ba.set(v,i),h.querySelector(y)!==null||l==="style"&&h.querySelector(mu(v))||l==="script"&&h.querySelector(gu(v))||(l=h.createElement("link"),sr(l,"link",i),nn(l),h.head.appendChild(l)))}}function N6(i,l){Ri.m(i,l);var c=Lo;if(c&&i){var h=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+ha(h)+'"][href="'+ha(i)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Uo(i)}if(!ba.has(v)&&(i=x({rel:"modulepreload",href:i},l),ba.set(v,i),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(gu(v)))return}h=c.createElement("link"),sr(h,"link",i),nn(h),c.head.appendChild(h)}}}function S6(i,l,c){Ri.S(i,l,c);var h=Lo;if(h&&i){var y=tn(h).hoistableStyles,v=Bo(i);l=l||"default";var C=y.get(v);if(!C){var k={loading:0,preload:null};if(C=h.querySelector(mu(v)))k.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":l},c),(c=ba.get(v))&&Rx(i,c);var Z=C=h.createElement("link");nn(Z),sr(Z,"link",i),Z._p=new Promise(function(ge,Te){Z.onload=ge,Z.onerror=Te}),Z.addEventListener("load",function(){k.loading|=1}),Z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,$h(C,l,h)}C={type:"stylesheet",instance:C,count:1,state:k},y.set(v,C)}}}function E6(i,l){Ri.X(i,l);var c=Lo;if(c&&i){var h=tn(c).hoistableScripts,y=Uo(i),v=h.get(y);v||(v=c.querySelector(gu(y)),v||(i=x({src:i,async:!0},l),(l=ba.get(y))&&Ox(i,l),v=c.createElement("script"),nn(v),sr(v,"link",i),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function C6(i,l){Ri.M(i,l);var c=Lo;if(c&&i){var h=tn(c).hoistableScripts,y=Uo(i),v=h.get(y);v||(v=c.querySelector(gu(y)),v||(i=x({src:i,async:!0,type:"module"},l),(l=ba.get(y))&&Ox(i,l),v=c.createElement("script"),nn(v),sr(v,"link",i),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function ZS(i,l,c,h){var y=(y=ae.current)?Uh(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Bo(c.href),c=tn(y).hoistableStyles,h=c.get(l),h||(h={type:"style",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Bo(c.href);var v=tn(y).hoistableStyles,C=v.get(i);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=y.querySelector(mu(i)))&&!v._p&&(C.instance=v,C.state.loading=5),ba.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ba.set(i,c),v||A6(y,i,c,C.state))),l&&h===null)throw Error(r(528,""));return C}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Uo(c),c=tn(y).hoistableScripts,h=c.get(l),h||(h={type:"script",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Bo(i){return'href="'+ha(i)+'"'}function mu(i){return'link[rel="stylesheet"]['+i+"]"}function JS(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function A6(i,l,c,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),sr(l,"link",c),nn(l),i.head.appendChild(l))}function Uo(i){return'[src="'+ha(i)+'"]'}function gu(i){return"script[async]"+i}function eE(i,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+ha(c.href)+'"]');if(h)return l.instance=h,nn(h),h;var y=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),nn(h),sr(h,"style",y),$h(h,c.precedence,i),l.instance=h;case"stylesheet":y=Bo(c.href);var v=i.querySelector(mu(y));if(v)return l.state.loading|=4,l.instance=v,nn(v),v;h=JS(c),(y=ba.get(y))&&Rx(h,y),v=(i.ownerDocument||i).createElement("link"),nn(v);var C=v;return C._p=new Promise(function(k,Z){C.onload=k,C.onerror=Z}),sr(v,"link",h),l.state.loading|=4,$h(v,c.precedence,i),l.instance=v;case"script":return v=Uo(c.src),(y=i.querySelector(gu(v)))?(l.instance=y,nn(y),y):(h=c,(y=ba.get(v))&&(h=x({},c),Ox(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),nn(y),sr(y,"link",h),i.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,$h(h,c.precedence,i));return l.instance}function $h(i,l,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,C=0;C<h.length;C++){var k=h[C];if(k.dataset.precedence===l)v=k;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(i,l.firstChild))}function Rx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Ox(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var zh=null;function tE(i,l,c){if(zh===null){var h=new Map,y=zh=new Map;y.set(c,h)}else y=zh,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var v=c[y];if(!(v[nl]||v[Ye]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(l)||"";C=i+C;var k=h.get(C);k?k.push(v):h.set(C,[v])}}return h}function nE(i,l,c){i=i.ownerDocument||i,i.head.insertBefore(c,l==="title"?i.querySelector("head > title"):null)}function T6(i,l,c){if(c===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function rE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _6(i,l,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Bo(h.href),v=l.querySelector(mu(y));if(v){l=v._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Hh.bind(i),l.then(i,i)),c.state.loading|=4,c.instance=v,nn(v);return}v=l.ownerDocument||l,h=JS(h),(y=ba.get(y))&&Rx(h,y),v=v.createElement("link"),nn(v);var C=v;C._p=new Promise(function(k,Z){C.onload=k,C.onerror=Z}),sr(v,"link",h),c.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Hh.bind(i),l.addEventListener("load",c),l.addEventListener("error",c))}}var kx=0;function R6(i,l){return i.stylesheets&&i.count===0&&Fh(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+l);0<i.imgBytes&&kx===0&&(kx=62500*u6());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>kx?50:800)+l);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qh=null;function Fh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qh=new Map,l.forEach(O6,i),qh=null,Hh.call(i))}function O6(i,l){if(!(l.state.loading&4)){var c=qh.get(i);if(c)var h=c.get(null);else{c=new Map,qh.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var C=y[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}y=l.instance,C=y.getAttribute("data-precedence"),v=c.get(C)||h,v===h&&c.set(null,y),c.set(C,y),this.count++,h=Hh.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),l.state.loading|=4}}var pu={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function k6(i,l,c,h,y,v,C,k,Z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function aE(i,l,c,h,y,v,C,k,Z,ge,Te,ke){return i=new k6(i,l,c,C,Z,ge,Te,ke,k),l=1,v===!0&&(l|=24),v=Kr(3,null,null,l),i.current=v,v.stateNode=i,l=dp(),l.refCount++,i.pooledCache=l,l.refCount++,v.memoizedState={element:h,isDehydrated:c,cache:l},gp(v),i}function iE(i){return i?(i=po,i):po}function sE(i,l,c,h,y,v){y=iE(y),h.context===null?h.context=y:h.pendingContext=y,h=fs(l),h.payload={element:c},v=v===void 0?null:v,v!==null&&(h.callback=v),c=ms(i,h,l),c!==null&&(Ir(c,i,l),Wc(c,i,l))}function lE(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function Dx(i,l){lE(i,l),(i=i.alternate)&&lE(i,l)}function oE(i){if(i.tag===13||i.tag===31){var l=ll(i,67108864);l!==null&&Ir(l,i,67108864),Dx(i,67108864)}}function cE(i){if(i.tag===13||i.tag===31){var l=Xr();l=Qa(l);var c=ll(i,l);c!==null&&Ir(c,i,l),Dx(i,l)}}var Kh=!0;function D6(i,l,c,h){var y=H.T;H.T=null;var v=I.p;try{I.p=2,Mx(i,l,c,h)}finally{I.p=v,H.T=y}}function M6(i,l,c,h){var y=H.T;H.T=null;var v=I.p;try{I.p=8,Mx(i,l,c,h)}finally{I.p=v,H.T=y}}function Mx(i,l,c,h){if(Kh){var y=Px(h);if(y===null)bx(i,l,h,Gh,c),dE(i,h);else if(I6(y,i,l,c,h))h.stopPropagation();else if(dE(i,h),l&4&&-1<P6.indexOf(i)){for(;y!==null;){var v=Me(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=Rr(v.pendingLanes);if(C!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var Z=1<<31-st(C);k.entanglements[1]|=Z,C&=~Z}ti(v),(Ut&6)===0&&(Th=it()+500,uu(0))}}break;case 31:case 13:k=ll(v,2),k!==null&&Ir(k,v,2),Rh(),Dx(v,2)}if(v=Px(h),v===null&&bx(i,l,h,Gh,c),v===y)break;y=v}y!==null&&h.stopPropagation()}else bx(i,l,h,null,c)}}function Px(i){return i=Lg(i),Ix(i)}var Gh=null;function Ix(i){if(Gh=null,i=fe(i),i!==null){var l=o(i);if(l===null)i=null;else{var c=l.tag;if(c===13){if(i=u(l),i!==null)return i;i=null}else if(c===31){if(i=d(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Gh=i,null}function uE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case ce:return 2;case Oe:return 8;case Ne:case We:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Lx=!1,Es=null,Cs=null,As=null,xu=new Map,yu=new Map,Ts=[],P6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(i,l){switch(i){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":xu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(l.pointerId)}}function vu(i,l,c,h,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},l!==null&&(l=Me(l),l!==null&&oE(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function I6(i,l,c,h,y){switch(l){case"focusin":return Es=vu(Es,i,l,c,h,y),!0;case"dragenter":return Cs=vu(Cs,i,l,c,h,y),!0;case"mouseover":return As=vu(As,i,l,c,h,y),!0;case"pointerover":var v=y.pointerId;return xu.set(v,vu(xu.get(v)||null,i,l,c,h,y)),!0;case"gotpointercapture":return v=y.pointerId,yu.set(v,vu(yu.get(v)||null,i,l,c,h,y)),!0}return!1}function hE(i){var l=fe(i.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){i.blockedOn=l,ro(i.priority,function(){cE(c)});return}}else if(l===31){if(l=d(c),l!==null){i.blockedOn=l,ro(i.priority,function(){cE(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=Px(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Ig=h,c.target.dispatchEvent(h),Ig=null}else return l=Me(c),l!==null&&oE(l),i.blockedOn=c,!1;l.shift()}return!0}function fE(i,l,c){Vh(i)&&c.delete(l)}function L6(){Lx=!1,Es!==null&&Vh(Es)&&(Es=null),Cs!==null&&Vh(Cs)&&(Cs=null),As!==null&&Vh(As)&&(As=null),xu.forEach(fE),yu.forEach(fE)}function Wh(i,l){i.blockedOn===l&&(i.blockedOn=null,Lx||(Lx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,L6)))}var Yh=null;function mE(i){Yh!==i&&(Yh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yh===i&&(Yh=null);for(var l=0;l<i.length;l+=3){var c=i[l],h=i[l+1],y=i[l+2];if(typeof h!="function"){if(Ix(h||c)===null)continue;break}var v=Me(c);v!==null&&(i.splice(l,3),l-=3,Pp(v,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function $o(i){function l(Z){return Wh(Z,i)}Es!==null&&Wh(Es,i),Cs!==null&&Wh(Cs,i),As!==null&&Wh(As,i),xu.forEach(l),yu.forEach(l);for(var c=0;c<Ts.length;c++){var h=Ts[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ts.length&&(c=Ts[0],c.blockedOn===null);)hE(c),c.blockedOn===null&&Ts.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],v=c[h+1],C=y[Rt]||null;if(typeof v=="function")C||mE(c);else if(C){var k=null;if(v&&v.hasAttribute("formAction")){if(y=v,C=v[Rt]||null)k=C.formAction;else if(Ix(y)!==null)continue}else k=C.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),mE(c)}}}function gE(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function l(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),y!==null&&(y(),y=null)}}}function Bx(i){this._internalRoot=i}Xh.prototype.render=Bx.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,h=Xr();sE(c,h,i,l,null,null)},Xh.prototype.unmount=Bx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;sE(i.current,2,null,i,null,null),Rh(),l[qr]=null}};function Xh(i){this._internalRoot=i}Xh.prototype.unstable_scheduleHydration=function(i){if(i){var l=el();i={blockedOn:null,target:i,priority:l};for(var c=0;c<Ts.length&&l!==0&&l<Ts[c].priority;c++);Ts.splice(c,0,i),c===0&&hE(i)}};var pE=t.version;if(pE!=="19.2.0")throw Error(r(527,pE,"19.2.0"));I.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var B6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{vt=Qh.inject(B6),wt=Qh}catch{}}return ju.createRoot=function(i,l){if(!s(i))throw Error(r(299));var c=!1,h="",y=N1,v=S1,C=E1;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=aE(i,1,!1,null,null,c,h,null,y,v,C,gE),i[qr]=l.current,vx(i),new Bx(l)},ju.hydrateRoot=function(i,l,c){if(!s(i))throw Error(r(299));var h=!1,y="",v=N1,C=S1,k=E1,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(Z=c.formState)),l=aE(i,1,!0,l,c??null,h,y,Z,v,C,k,gE),l.context=iE(null),c=l.current,h=Xr(),h=Qa(h),y=fs(h),y.callback=null,ms(c,y,h),c=h,l.current.lanes=c,Xa(l,c),ti(l),i[qr]=l.current,vx(i),new Xh(l)},ju.version="19.2.0",ju}var CE;function W6(){if(CE)return zx.exports;CE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zx.exports=V6(),zx.exports}var Y6=W6(),Mm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},X6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Q6=class{#e=X6;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Fy=new Q6;function Z6(e){setTimeout(e,0)}var Pm=typeof window>"u"||"Deno"in globalThis;function Ha(){}function J6(e,t){return typeof e=="function"?e(t):e}function e5(e){return typeof e=="number"&&e>=0&&e!==1/0}function t5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ky(e,t){return typeof e=="function"?e(t):e}function n5(e,t){return typeof e=="function"?e(t):e}function AE(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:u,stale:d}=e;if(u){if(r){if(t.queryHash!==nb(u,t.options))return!1}else if(!Uu(t.queryKey,u))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||o&&!o(t))}function TE(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Bu(t.options.mutationKey)!==Bu(o))return!1}else if(!Uu(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function nb(e,t){return(t?.queryKeyHashFn||Bu)(e)}function Bu(e){return JSON.stringify(e,(t,n)=>Gy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Uu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Uu(e[n],t[n])):!1}var r5=Object.prototype.hasOwnProperty;function L_(e,t){if(e===t)return e;const n=_E(e)&&_E(t);if(!n&&!(Gy(e)&&Gy(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),u=o.length,d=n?new Array(u):{};let f=0;for(let m=0;m<u;m++){const g=n?m:o[m],x=e[g],b=t[g];if(x===b){d[g]=x,(n?m<s:r5.call(e,g))&&f++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[g]=b;continue}const j=L_(x,b);d[g]=j,j===x&&f++}return s===u&&f===s?e:d}function _E(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gy(e){if(!RE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!RE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function RE(e){return Object.prototype.toString.call(e)==="[object Object]"}function a5(e){return new Promise(t=>{Fy.setTimeout(t,e)})}function i5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L_(e,t):t}function s5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function l5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rb=Symbol();function B_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===rb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var o5=class extends Mm{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Pm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},U_=new o5;function c5(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var u5=Z6;function d5(){let e=[],t=0,n=d=>{d()},r=d=>{d()},s=u5;const o=d=>{t?e.push(d):s(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&s(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var Nr=d5(),h5=class extends Mm{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Pm&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},$f=new h5;function f5(e){return Math.min(1e3*2**e,3e4)}function $_(e){return(e??"online")==="online"?$f.isOnline():!0}var Vy=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function z_(e){let t=!1,n=0,r;const s=c5(),o=()=>s.status!=="pending",u=w=>{if(!o()){const N=new Vy(w);b(N),e.onCancel?.(N)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>U_.isFocused()&&(e.networkMode==="always"||$f.isOnline())&&e.canRun(),g=()=>$_(e.networkMode)&&e.canRun(),x=w=>{o()||(r?.(),s.resolve(w))},b=w=>{o()||(r?.(),s.reject(w))},j=()=>new Promise(w=>{r=N=>{(o()||m())&&w(N)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),S=()=>{if(o())return;let w;const N=n===0?e.initialPromise:void 0;try{w=N??e.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(x).catch(E=>{if(o())return;const A=e.retry??(Pm?0:3),T=e.retryDelay??f5,_=typeof T=="function"?T(n,E):T,O=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,E);if(t||!O){b(E);return}n++,e.onFail?.(n,E),a5(_).then(()=>m()?void 0:j()).then(()=>{t?b(E):S()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(r?.(),s),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?S():j().then(S),s)}}var H_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e5(this.gcTime)&&(this.#e=Fy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pm?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Fy.clearTimeout(this.#e),this.#e=void 0)}},m5=class extends H_{#e;#t;#n;#a;#r;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=kE(this.options);t.data!==void 0&&(this.setState(OE(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=i5(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Ha).catch(Ha):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>n5(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ky(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!t5(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},s=()=>{const d=B_(this.options,t),m=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return r(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=z_({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof Vy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#i({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Vy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...g5(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...OE(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Nr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function g5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function kE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function DE(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=B_(t.options,t.fetchOptions),j=async(S,w,N)=>{if(g)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const A=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return x(R),R})(),T=await b(A),{maxPages:_}=t.options,O=N?l5:s5;return{pages:O(S.pages,T,_),pageParams:O(S.pageParams,w,_)}};if(s&&o.length){const S=s==="backward",w=S?p5:ME,N={pages:o,pageParams:u},E=w(r,N);d=await j(N,E,S)}else{const S=e??o.length;do{const w=f===0?u[0]??r.initialPageParam:ME(r,d);if(f>0&&w==null)break;d=await j(d,w),f++}while(f<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function ME(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function p5(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var x5=class extends H_{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||y5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=z_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#r({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#a.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const u=await this.options.onMutate?.(e,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Nr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function y5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var v5=class extends Mm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new x5({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Zh(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Zh(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Zh(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Zh(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Nr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>TE(t,n))}findAll(e={}){return this.getAll().filter(t=>TE(e,t))}notify(e){Nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ha))))}};function Zh(e){return e.options.scope?.id}var b5=class extends Mm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??nb(r,t);let o=this.get(s);return o||(o=new m5({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>AE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>AE(e,n)):t}notify(e){Nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},j5=class{#e;#t;#n;#a;#r;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new b5,this.#t=e.mutationCache||new v5,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=U_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=$f.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ky(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,u=J6(t,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Nr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Nr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Nr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Nr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ha).catch(Ha)}invalidateQueries(e,t={}){return Nr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Nr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ha)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ha)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ky(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ha).catch(Ha)}fetchInfiniteQuery(e){return e.behavior=DE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ha).catch(Ha)}ensureInfiniteQueryData(e){return e.behavior=DE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $f.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Bu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(r=>{Uu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Bu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Uu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rb&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},w5=p.createContext(void 0),N5=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(w5.Provider,{value:e,children:t}));var PE="popstate";function S5(e={}){function t(r,s){let{pathname:o,search:u,hash:d}=r.location;return Wy("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$u(s)}return C5(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ka(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E5(){return Math.random().toString(36).substring(2,10)}function IE(e,t){return{usr:e.state,key:e.key,idx:t}}function Wy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hc(t):t,state:n,key:t&&t.key||r||E5()}}function $u({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C5(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let N=g(),E=N==null?null:N-m;m=N,f&&f({action:d,location:w.location,delta:E})}function b(N,E){d="PUSH";let A=Wy(w.location,N,E);m=g()+1;let T=IE(A,m),_=w.createHref(A);try{u.pushState(T,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(_)}o&&f&&f({action:d,location:w.location,delta:1})}function j(N,E){d="REPLACE";let A=Wy(w.location,N,E);m=g();let T=IE(A,m),_=w.createHref(A);u.replaceState(T,"",_),o&&f&&f({action:d,location:w.location,delta:0})}function S(N){return A5(N)}let w={get action(){return d},get location(){return e(s,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(PE,x),f=N,()=>{s.removeEventListener(PE,x),f=null}},createHref(N){return t(s,N)},createURL:S,encodeLocation(N){let E=S(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:j,go(N){return u.go(N)}};return w}function A5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:$u(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function q_(e,t,n="/"){return T5(e,t,n,!1)}function T5(e,t,n,r){let s=typeof t=="string"?hc(t):t,o=Ki(s.pathname||"/",n);if(o==null)return null;let u=F_(e);_5(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=$5(o);d=B5(u[f],m,r)}return d}function F_(e,t=[],n=[],r="",s=!1){let o=(u,d,f=s,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;wn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=$i([r,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(wn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),F_(u.children,t,b,x,f)),!(u.path==null&&!u.index)&&t.push({path:x,score:I5(x,u.index),routesMeta:b})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of K_(u.path))o(u,d,!0,f)}),t}function K_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=K_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function _5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:L5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var R5=/^:[\w-]+$/,O5=3,k5=2,D5=1,M5=10,P5=-2,LE=e=>e==="*";function I5(e,t){let n=e.split("/"),r=n.length;return n.some(LE)&&(r+=P5),t&&(r+=k5),n.filter(s=>!LE(s)).reduce((s,o)=>s+(R5.test(o)?O5:o===""?D5:M5),r)}function L5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function B5(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=zf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=zf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:$i([o,x.pathname]),pathnameBase:F5($i([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=$i([o,x.pathnameBase]))}return u}function zf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let S=d[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const j=d[b];return x&&!j?m[g]=void 0:m[g]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function U5(e,t=!1,n=!0){ka(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function $5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ka(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function z5(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?hc(e):e;return{pathname:n?n.startsWith("/")?n:H5(n,t):t,search:K5(r),hash:G5(s)}}function H5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ab(e){let t=q5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ib(e,t,n,r=!1){let s;typeof e=="string"?s=hc(e):(s={...e},wn(!s.pathname||!s.pathname.includes("?"),Kx("?","pathname","search",s)),wn(!s.pathname||!s.pathname.includes("#"),Kx("#","pathname","hash",s)),wn(!s.search||!s.search.includes("#"),Kx("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}d=x>=0?t[x]:"/"}let f=z5(s,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var $i=e=>e.join("/").replace(/\/\/+/g,"/"),F5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G_=["POST","PUT","PATCH","DELETE"];new Set(G_);var W5=["GET",...G_];new Set(W5);var fc=p.createContext(null);fc.displayName="DataRouter";var Im=p.createContext(null);Im.displayName="DataRouterState";p.createContext(!1);var V_=p.createContext({isTransitioning:!1});V_.displayName="ViewTransition";var Y5=p.createContext(new Map);Y5.displayName="Fetchers";var X5=p.createContext(null);X5.displayName="Await";var Ga=p.createContext(null);Ga.displayName="Navigation";var ld=p.createContext(null);ld.displayName="Location";var Va=p.createContext({outlet:null,matches:[],isDataRoute:!1});Va.displayName="Route";var sb=p.createContext(null);sb.displayName="RouteError";function Q5(e,{relative:t}={}){wn(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Ga),{hash:s,pathname:o,search:u}=od(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:$i([n,o])),r.createHref({pathname:d,search:u,hash:s})}function mc(){return p.useContext(ld)!=null}function zr(){return wn(mc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(ld).location}var W_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y_(e){p.useContext(Ga).static||p.useLayoutEffect(e)}function br(){let{isDataRoute:e}=p.useContext(Va);return e?u3():Z5()}function Z5(){wn(mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(fc),{basename:t,navigator:n}=p.useContext(Ga),{matches:r}=p.useContext(Va),{pathname:s}=zr(),o=JSON.stringify(ab(r)),u=p.useRef(!1);return Y_(()=>{u.current=!0}),p.useCallback((f,m={})=>{if(ka(u.current,W_),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=ib(f,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:$i([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,s,e])}p.createContext(null);function gc(){let{matches:e}=p.useContext(Va),t=e[e.length-1];return t?t.params:{}}function od(e,{relative:t}={}){let{matches:n}=p.useContext(Va),{pathname:r}=zr(),s=JSON.stringify(ab(n));return p.useMemo(()=>ib(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function J5(e,t){return X_(e,t)}function X_(e,t,n,r,s){wn(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=p.useContext(Ga),{matches:u}=p.useContext(Va),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let A=x&&x.path||"";Q_(m,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=zr(),j;if(t){let A=typeof t=="string"?hc(t):t;wn(g==="/"||A.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),j=A}else j=b;let S=j.pathname||"/",w=S;if(g!=="/"){let A=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=q_(e,{pathname:w});ka(x||N!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ka(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=a3(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:$i([g,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:$i([g,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),u,n,r,s);return t&&E?p.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},E):E}function e3(){let e=c3(),t=V5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,u)}var t3=p.createElement(e3,null),n3=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Va.Provider,{value:this.props.routeContext},p.createElement(sb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r3({routeContext:e,match:t,children:n}){let r=p.useContext(fc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Va.Provider,{value:e},n)}function a3(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);wn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,j=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||j){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let b,j=!1,S=null,w=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||t3,d&&(f<0&&x===0?(Q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):f===x&&(j=!0,w=g.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,x+1)),E=()=>{let A;return b?A=S:j?A=w:g.route.Component?A=p.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=m,p.createElement(r3,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?p.createElement(n3,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):E()},null)}function lb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i3(e){let t=p.useContext(fc);return wn(t,lb(e)),t}function s3(e){let t=p.useContext(Im);return wn(t,lb(e)),t}function l3(e){let t=p.useContext(Va);return wn(t,lb(e)),t}function ob(e){let t=l3(e),n=t.matches[t.matches.length-1];return wn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function o3(){return ob("useRouteId")}function c3(){let e=p.useContext(sb),t=s3("useRouteError"),n=ob("useRouteError");return e!==void 0?e:t.errors?.[n]}function u3(){let{router:e}=i3("useNavigate"),t=ob("useNavigate"),n=p.useRef(!1);return Y_(()=>{n.current=!0}),p.useCallback(async(s,o={})=>{ka(n.current,W_),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var BE={};function Q_(e,t,n){!t&&!BE[e]&&(BE[e]=!0,ka(!1,n))}p.memo(d3);function d3({routes:e,future:t,state:n,unstable_onError:r}){return X_(e,void 0,n,r,t)}function Yy({to:e,replace:t,state:n,relative:r}){wn(mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Ga);ka(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=p.useContext(Va),{pathname:u}=zr(),d=br(),f=ib(e,ab(o),u,r==="path"),m=JSON.stringify(f);return p.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function an(e){wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){wn(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=hc(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=n,j=p.useMemo(()=>{let S=Ki(f,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:x,key:b},navigationType:r}},[u,f,m,g,x,b,r]);return ka(j!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:p.createElement(Ga.Provider,{value:d},p.createElement(ld.Provider,{children:t,value:j}))}function f3({children:e,location:t}){return J5(Xy(e),t)}function Xy(e,t=[]){let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Xy(r.props.children,o));return}wn(r.type===an,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Xy(r.props.children,o)),n.push(u)}),n}var Rf="get",Of="application/x-www-form-urlencoded";function Lm(e){return e!=null&&typeof e.tagName=="string"}function m3(e){return Lm(e)&&e.tagName.toLowerCase()==="button"}function g3(e){return Lm(e)&&e.tagName.toLowerCase()==="form"}function p3(e){return Lm(e)&&e.tagName.toLowerCase()==="input"}function x3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y3(e,t){return e.button===0&&(!t||t==="_self")&&!x3(e)}function Qy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function v3(e,t){let n=Qy(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Jh=null;function b3(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var j3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gx(e){return e!=null&&!j3.has(e)?(ka(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):e}function w3(e,t){let n,r,s,o,u;if(g3(e)){let d=e.getAttribute("action");r=d?Ki(d,t):null,n=e.getAttribute("method")||Rf,s=Gx(e.getAttribute("enctype"))||Of,o=new FormData(e)}else if(m3(e)||p3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ki(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Rf,s=Gx(e.getAttribute("formenctype"))||Gx(d.getAttribute("enctype"))||Of,o=new FormData(d,e),!b3()){let{name:m,type:g,value:x}=e;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,x)}}else{if(Lm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,r=null,s=Of,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N3(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ki(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function S3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function C3(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await S3(o,n);return u.links?u.links():[]}return[]}));return R3(r.flat(1).filter(E3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function UE(e,t,n,r,s,o){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,m)=>u(f,m)||d(f,m)):o==="data"?t.filter((f,m)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function A3(e,t,{includeHydrateFallback:n}={}){return T3(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function T3(e){return[...new Set(e)]}function _3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function R3(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(_3(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function Z_(){let e=p.useContext(fc);return cb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function O3(){let e=p.useContext(Im);return cb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ub=p.createContext(void 0);ub.displayName="FrameworkContext";function J_(){let e=p.useContext(ub);return cb(e,"You must render this element inside a <HydratedRouter> element"),e}function k3(e,t){let n=p.useContext(ub),[r,s]=p.useState(!1),[o,u]=p.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,b=p.useRef(null);p.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=E=>{E.forEach(A=>{u(A.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),p.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let j=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:wu(d,j),onBlur:wu(f,S),onMouseEnter:wu(m,j),onMouseLeave:wu(g,S),onTouchStart:wu(x,j)}]:[!1,b,{}]}function wu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function D3({page:e,...t}){let{router:n}=Z_(),r=p.useMemo(()=>q_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(P3,{page:e,matches:r,...t}):null}function M3(e){let{manifest:t,routeModules:n}=J_(),[r,s]=p.useState([]);return p.useEffect(()=>{let o=!1;return C3(e,t,n).then(u=>{o||s(u)}),()=>{o=!0}},[e,t,n]),r}function P3({page:e,matches:t,...n}){let r=zr(),{manifest:s,routeModules:o}=J_(),{basename:u}=Z_(),{loaderData:d,matches:f}=O3(),m=p.useMemo(()=>UE(e,t,f,s,r,"data"),[e,t,f,s,r]),g=p.useMemo(()=>UE(e,t,f,s,r,"assets"),[e,t,f,s,r]),x=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(t.forEach(E=>{let A=s.routes[E.route.id];!A||!A.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in d&&o[E.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:S.add(E.route.id))}),S.size===0)return[];let N=N3(e,u,"data");return w&&S.size>0&&N.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[u,d,r,s,m,t,e,o]),b=p.useMemo(()=>A3(g,s),[g,s]),j=M3(g);return p.createElement(p.Fragment,null,x.map(S=>p.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>p.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),j.map(({key:S,link:w})=>p.createElement("link",{key:S,nonce:n.nonce,...w})))}function I3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var eR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eR&&(window.__reactRouterVersion="7.9.5")}catch{}function L3({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=S5({window:n,v5Compat:!0}));let s=r.current,[o,u]=p.useState({action:s.action,location:s.location}),d=p.useCallback(f=>{p.startTransition(()=>u(f))},[u]);return p.useLayoutEffect(()=>s.listen(d),[s,d]),p.createElement(h3,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var tR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nR=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x,...b},j){let{basename:S}=p.useContext(Ga),w=typeof m=="string"&&tR.test(m),N,E=!1;if(typeof m=="string"&&w&&(N=m,eR))try{let X=new URL(window.location.href),Y=m.startsWith("//")?new URL(X.protocol+m):new URL(m),L=Ki(Y.pathname,S);Y.origin===X.origin&&L!=null?m=L+Y.search+Y.hash:E=!0}catch{ka(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Q5(m,{relative:s}),[T,_,O]=k3(r,b),R=$3(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:x});function D(X){t&&t(X),X.defaultPrevented||R(X)}let B=p.createElement("a",{...b,...O,href:N||A,onClick:E||o?t:D,ref:I3(j,_),target:f,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?p.createElement(p.Fragment,null,B,p.createElement(D3,{page:A})):B});nR.displayName="Link";var rR=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...m},g){let x=od(u,{relative:m.relative}),b=zr(),j=p.useContext(Im),{navigator:S,basename:w}=p.useContext(Ga),N=j!=null&&K3(x)&&d===!0,E=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,A=b.pathname,T=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(A=A.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&w&&(T=Ki(T,w)||T);const _=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=A===E||!s&&A.startsWith(E)&&A.charAt(_)==="/",R=T!=null&&(T===E||!s&&T.startsWith(E)&&T.charAt(E.length)==="/"),D={isActive:O,isPending:R,isTransitioning:N},B=O?t:void 0,X;typeof r=="function"?X=r(D):X=[r,O?"active":null,R?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(D):o;return p.createElement(nR,{...m,"aria-current":B,className:X,ref:g,style:Y,to:u,viewTransition:d},typeof f=="function"?f(D):f)});rR.displayName="NavLink";var B3=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:u=Rf,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...b},j)=>{let S=q3(),w=F3(d,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&tR.test(d),A=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let _=T.nativeEvent.submitter,O=_?.getAttribute("formmethod")||u;S(_||T.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return p.createElement("form",{ref:j,method:N,action:w,onSubmit:r?f:A,...b,"data-discover":!E&&e==="render"?"true":void 0})});B3.displayName="Form";function U3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(e){let t=p.useContext(fc);return wn(t,U3(e)),t}function $3(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=br(),f=zr(),m=od(e,{relative:o});return p.useCallback(g=>{if(y3(g,t)){g.preventDefault();let x=n!==void 0?n:$u(f)===$u(m);d(e,{replace:x,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,m,n,r,t,e,s,o,u])}function iR(e){ka(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(Qy(e)),n=p.useRef(!1),r=zr(),s=p.useMemo(()=>v3(r.search,n.current?null:t.current),[r.search]),o=br(),u=p.useCallback((d,f)=>{const m=Qy(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,o("?"+m,f)},[o,s]);return[s,u]}var z3=0,H3=()=>`__${String(++z3)}__`;function q3(){let{router:e}=aR("useSubmit"),{basename:t}=p.useContext(Ga),n=o3();return p.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:m}=w3(r,t);if(s.navigate===!1){let g=s.fetcherKey||H3();await e.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function F3(e,{relative:t}={}){let{basename:n}=p.useContext(Ga),r=p.useContext(Va);wn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...od(e||".",{relative:t})},u=zr();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$i([n,o.pathname])),$u(o)}function K3(e,{relative:t}={}){let n=p.useContext(V_);wn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aR("useViewTransitionState"),s=od(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zf(s.pathname,u)!=null||zf(s.pathname,o)!=null}var Bm=I_();const G3=hi(Bm),sR=p.createContext(void 0);function V3({children:e}){const[t,n]=p.useState({user:null,token:null}),[r,s]=p.useState(!0);p.useEffect(()=>{const u=()=>{try{const f=localStorage.getItem("authToken"),m=localStorage.getItem("currentUser"),g=m?JSON.parse(m):null;n({user:g,token:f})}catch{n({user:null,token:null})}finally{s(!1)}};u();const d=f=>{(!f.key||["authToken","currentUser"].includes(f.key))&&u()};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]);const o=p.useMemo(()=>({...t,loading:r,setAuth:n,signOut:()=>n({user:null,token:null})}),[t,r]);return a.jsx(sR.Provider,{value:o,children:e})}function Ks(){const e=p.useContext(sR);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const W3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),$E=e=>{const t=Y3(e);return t.charAt(0).toUpperCase()+t.slice(1)},lR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),X3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Q3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...d},f)=>p.createElement("svg",{ref:f,...Q3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:lR("lucide",s),...!o&&!X3(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>p.createElement(m,g)),...Array.isArray(o)?o:[o]]));const Fe=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(Z3,{ref:o,iconNode:t,className:lR(`lucide-${W3($E(e))}`,`lucide-${e}`,r),...s}));return n.displayName=$E(e),n};const J3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pc=Fe("arrow-left",J3);const eL=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tL=Fe("arrow-up-right",eL);const nL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Da=Fe("award",nL);const rL=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zi=Fe("ban",rL);const aL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],iL=Fe("banknote",aL);const sL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zE=Fe("bell",sL);const lL=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],oL=Fe("building-2",lL);const cL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Il=Fe("calendar",cL);const uL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oR=Fe("chart-column",uL);const dL=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],hL=Fe("check-check",dL);const fL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cR=Fe("check",fL);const mL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Um=Fe("chevron-down",mL);const gL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uR=Fe("chevron-left",gL);const pL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dR=Fe("chevron-right",pL);const xL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yL=Fe("circle-alert",xL);const vL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hR=Fe("circle-check-big",vL);const bL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ra=Fe("circle-check",bL);const jL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Ll=Fe("circle-pause",jL);const wL=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bl=Fe("circle-play",wL);const NL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],li=Fe("circle-x",NL);const SL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zu=Fe("clock",SL);const EL=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fR=Fe("dollar-sign",EL);const CL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AL=Fe("eye-off",CL);const TL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xr=Fe("eye",TL);const _L=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hi=Fe("file-text",_L);const RL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mR=Fe("file-warning",RL);const OL=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],kL=Fe("flame",OL);const DL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cd=Fe("funnel",DL);const ML=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],db=Fe("gavel",ML);const PL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kf=Fe("image",PL);const IL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],LL=Fe("info",IL);const BL=[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]],gR=Fe("land-plot",BL);const UL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$L=Fe("layout-dashboard",UL);const zL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pn=Fe("loader-circle",zL);const HL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qL=Fe("log-out",HL);const FL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hb=Fe("mail",FL);const KL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pu=Fe("map-pin",KL);const GL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],VL=Fe("menu",GL);const WL=[["path",{d:"M5 12h14",key:"1ays0h"}]],YL=Fe("minus",WL);const XL=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],QL=Fe("package-2",XL);const ZL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Df=Fe("package",ZL);const JL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pR=Fe("phone",JL);const eB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],tB=Fe("play",eB);const nB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],HE=Fe("plus",nB);const rB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oa=Fe("refresh-cw",rB);const aB=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],xR=Fe("scissors",aB);const iB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ia=Fe("search",iB);const sB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Zy=Fe("shield-alert",sB);const lB=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],yR=Fe("shopping-bag",lB);const oB=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hu=Fe("sprout",oB);const cB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qu=Fe("square-pen",cB);const uB=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],vR=Fe("tags",uB);const dB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jy=Fe("trash-2",dB);const hB=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],fB=Fe("tree-pine",hB);const mB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],gB=Fe("trending-down",mB);const pB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Us=Fe("trending-up",pB);const xB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$m=Fe("triangle-alert",xB);const yB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],qE=Fe("trophy",yB);const vB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],bB=Fe("truck",vB);const jB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xc=Fe("user",jB);const wB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fu=Fe("users",wB);const NB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Hf=Fe("wallet",NB);const SB=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],EB=Fe("wheat",SB);const CB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=Fe("x",CB);const AB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],TB=Fe("zap",AB),_B="modulepreload",RB=function(e){return"/"+e},FE={},OB=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=m(n.map(g=>{if(g=RB(g),g in FE)return;FE[g]=!0;const x=g.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const j=document.createElement("link");if(j.rel=x?"stylesheet":_B,x||(j.as="script"),j.crossOrigin="",j.href=g,f&&j.setAttribute("nonce",f),document.head.appendChild(j),x)return new Promise((S,w)=>{j.addEventListener("load",S),j.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return s.then(d=>{for(const f of d||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})},fb={LOGIN_SUCCESS:"ng nhp thnh cng",REGISTER_SUCCESS:"ng k thnh cng",LOGOUT_SUCCESS:"ng xut thnh cng",UPDATE_SUCCESS:"Cp nht thnh cng",DELETE_SUCCESS:"Xa thnh cng",CREATE_SUCCESS:"To mi thnh cng",WELCOME_PREFIX:"Cho mng"},kB=e=>`${fb.WELCOME_PREFIX} ${e}!`,kt={LOGIN_FAILED:"Email hoc mt khu khng ng",LOGIN_FAILED_TITLE:"ng nhp tht bi",REGISTER_FAILED:"ng k tht bi",NETWORK_ERROR:"Li kt ni mng",UNAUTHORIZED:"Bn khng c quyn truy cp",VALIDATION_ERROR:"D liu khng hp l",VALIDATION_ERROR_TITLE:"Li xc thc",VALIDATION_ERROR_DESCRIPTION:"Vui lng kim tra li thng tin ng nhp",SERVER_ERROR:"Li my ch",NOT_ADMIN:"Bn khng c quyn truy cp qun tr!",NOT_ADMIN_DETAIL:"Bn khng c quyn truy cp trang qun tr  ch dnh cho Qun tr vin!",NOT_ADMIN_TITLE:"Khng c quyn truy cp",CANNOT_VALIDATE_ADMIN:"Khng th xc thc quyn truy cp ti khon Qun tr vin!",CANNOT_VALIDATE_ADMIN_TITLE:"Li xc thc",AUTH_FAILED:"Email hoc mt khu khng ng",AUTH_FAILED_TITLE:"Xc thc tht bi",CONNECTION_ERROR_TITLE:"Li kt ni",LOGOUT_FAILED:"ng xut khng thnh cng, vui lng th li.",LOGOUT_FAILED_TITLE:"ng xut tht bi",EMAIL_REQUIRED:"Email khng c  trng",EMAIL_MUST_CONTAIN_AT:"Email phi cha k t @",EMAIL_INVALID_FORMAT:"Email khng ng nh dng (v d: example@domain.com)",PASSWORD_REQUIRED:"Mt khu khng c  trng",PASSWORD_MIN_LENGTH:"Mt khu phi c t nht 6 k t",PASSWORD_SPECIAL_CHAR:"Mt khu phi cha t nht 1 k t c bit",PASSWORD_INCORRECT:"Mt khu khng ng",USER_NOT_EXIST:"Ngi dng khng tn ti",EMAIL_NOT_EXIST:"Email khng tn ti"},DB=e=>{if(!e)return kt.LOGIN_FAILED;const t=e.toLowerCase().trim();if(t.includes("password")&&(t.includes("incorrect")||t.includes("not correct")||t.includes("wrong")||t.includes("invalid")||t.includes("is not correct")))return kt.PASSWORD_INCORRECT;if(t.includes("not exist")||t.includes("does not exist")||t.includes("not found")||t.includes("doesn't exist")){if(t.includes("email")||t.includes("user with"))return kt.EMAIL_NOT_EXIST;if(t.includes("user"))return kt.USER_NOT_EXIST}return t.includes("user with")&&t.includes("is not exist")?kt.EMAIL_NOT_EXIST:t.includes("user")&&(t.includes("not exist")||t.includes("not found"))||t.startsWith("user")&&t.includes("not")?kt.USER_NOT_EXIST:t.includes("email")&&(t.includes("not exist")||t.includes("not found"))?kt.EMAIL_NOT_EXIST:e},zo={EMAIL_LABEL:"Email qun tr",EMAIL_PLACEHOLDER:"example@domain.com",EMAIL_DESCRIPTION:"Email phi cha @",PASSWORD_LABEL:"Mt khu",PASSWORD_PLACEHOLDER:"Ti thiu 6 k t v 1 k t c bit",PASSWORD_DESCRIPTION:"Mt khu phi c t nht 6 k t v cha t nht 1 k t c bit"},se={SUCCESS:"Thnh cng",ERROR:"C li xy ra",INFO:"Thng bo"},ta={FETCH_SUCCESS:"Ti danh sch bo co thnh cng.",FETCH_ERROR:"Khng th ti danh sch bo co. Vui lng th li.",UPDATE_SUCCESS:"Cp nht trng thi bo co thnh cng.",UPDATE_ERROR:"Khng th cp nht trng thi bo co. Vui lng th li.",STATUS_PENDING:"ang ch duyt",STATUS_IN_REVIEW:"ang xem phin",STATUS_RESOLVED:" x l",STATUS_ACTION_TAKEN:" thc thi",STATUS_REJECTED:"T chi"},Aa={Pending:ta.STATUS_PENDING,InReview:ta.STATUS_IN_REVIEW,Resolved:ta.STATUS_RESOLVED,ActionTaken:ta.STATUS_ACTION_TAKEN,Rejected:ta.STATUS_REJECTED},Vx={FETCH_SUCCESS:"Ti danh sch ngi dng thnh cng.",FETCH_ERROR:"Khng th ti danh sch ngi dng. Vui lng th li.",BLOCK_PLACEHOLDER:"Tm thi ch i trng thi hin th, chc nng kha ti khon s sm hon tt."},Oi={FETCH_SUCCESS:"Ti danh sch ti khon thnh cng.",FETCH_ERROR:"Khng th ti danh sch ti khon. Vui lng th li.",APPROVE_SUCCESS:"Duyt ti khon thnh cng.",APPROVE_ERROR:"Khng th duyt ti khon. Vui lng th li.",REJECT_SUCCESS:"T chi ti khon thnh cng.",REJECT_ERROR:"Khng th t chi ti khon. Vui lng th li.",STATUS_UPDATE_SUCCESS:"Cp nht trng thi ti khon thnh cng.",STATUS_UPDATE_ERROR:"Khng th cp nht trng thi ti khon. Vui lng th li."},ki={FETCH_SUCCESS:"Ti danh sch chng ch thnh cng.",FETCH_ERROR:"Khng th ti danh sch chng ch. Vui lng th li.",APPROVE_SUCCESS:"Duyt chng ch thnh cng.",APPROVE_ERROR:"Khng th duyt chng ch. Vui lng th li.",REJECT_SUCCESS:"T chi chng ch thnh cng.",REJECT_ERROR:"Khng th t chi chng ch. Vui lng th li."},Cl={FETCH_SUCCESS:"Ti danh sch nng tri thnh cng.",FETCH_ERROR:"Khng th ti danh sch nng tri. Vui lng th li.",CROP_COUNT_ERROR:"Khng th ti s lng l trng cho mt s nng tri."},ef={FETCH_SUCCESS:"Ti danh sch v trng thnh cng.",FETCH_ERROR:"Khng th ti danh sch v trng. Vui lng th li.",FARM_FETCH_ERROR:"Khng th ti danh sch nng tri  lc.",NO_FARM_SELECTED:"Cha c nng tri  ti d liu v trng.",PARTIAL_ERROR:"Khng th ti d liu v trng cho mt s nng tri."},Wx={FETCH_SUCCESS:"Ti danh sch thu hoch thnh cng.",FETCH_ERROR:"Khng th ti danh sch thu hoch. Vui lng th li."},Et={FETCH_SUCCESS:"Ti danh sch phin u gi thnh cng.",FETCH_ERROR:"Khng th ti danh sch phin u gi. Vui lng th li.",STATUS_UPDATE_SUCCESS:"Cp nht trng thi phin u gi thnh cng.",STATUS_UPDATE_ERROR:"Khng th cp nht trng thi phin u gi.",PAUSE_SUCCESS:"Tm dng phin u gi thnh cng.",PAUSE_ERROR:"Khng th tm dng phin u gi.",RESUME_SUCCESS:"Tip tc phin u gi thnh cng.",RESUME_ERROR:"Khng th tip tc phin u gi."},ja={FETCH_SUCCESS:"Ti danh sch loi mng cu thnh cng.",FETCH_ERROR:"Khng th ti danh sch loi mng cu. Vui lng th li.",CREATE_SUCCESS:"Thm loi mng cu mi thnh cng.",CREATE_ERROR:"Khng th to loi mng cu. Vui lng th li.",UPDATE_SUCCESS:"Cp nht loi mng cu thnh cng.",UPDATE_ERROR:"Khng th cp nht loi mng cu. Vui lng th li.",DELETE_SUCCESS:"Xa loi mng cu thnh cng.",DELETE_ERROR:"Khng th xa loi mng cu. Vui lng th li."},zm="https://gateway.a-379.store",Ie={auth:{login:"/api/auth/login",register:"/api/auth/register",me:"/api/auth/me",refresh:"/api/auth/refresh"},role:{list:"/api/role",create:"/api/role",update:e=>`/api/role/${e}`,delete:e=>`/api/role/${e}`,detail:e=>`/api/role/${e}`},roleClaim:{list:"/api/roleclaim",create:"/api/roleclaim",update:e=>`/api/roleclaim/${e}`,delete:e=>`/api/roleclaim/${e}`,detail:e=>`/api/roleclaim/${e}`},users:{list:"/api/users",detail:e=>`/api/users/${e}`,updateStatus:e=>`/api/users/${e}/status`},orders:{list:"/orders"},products:{list:"/products"},approval:{pending:"/approval/pending",approved:"/approval/approved",rejected:"/approval/rejected",approve:"/approval/approve",reject:"/approval/reject",detail:e=>`/approval/${e}`},farm:{list:"/api/farm-service/farm",delete:e=>`/api/farm-service/farm/${encodeURIComponent(e)}`,cropByFarm:e=>`/api/farm-service/farm/${encodeURIComponent(e)}/crop`,custardAppleType:{list:"/api/farm-service/custardappletype",create:"/api/farm-service/custardappletype",detail:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`,update:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`,delete:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`},harvest:{list:"/api/farm-service/harvest",detail:e=>`/api/farm-service/harvest/${encodeURIComponent(e)}`,byCrop:e=>`/api/farm-service/crop/${encodeURIComponent(e)}/harvest`,currentByCrop:e=>`/api/farm-service/crop/${encodeURIComponent(e)}/currentharvest`,images:e=>`/api/farm-service/harvestimage/harvest/${encodeURIComponent(e)}/images`,gradeDetail:{list:"/api/farm-service/harvestgradedetail",detail:e=>`/api/farm-service/harvestgradedetail/${encodeURIComponent(e)}`,byHarvest:e=>`/api/farm-service/harvest/${encodeURIComponent(e)}/gradedetail`}}},auction:{englishAuction:{list:"/api/auction-service/englishauction",detail:e=>`/api/auction-service/englishauction/${e}`,harvestsBySession:e=>`/api/auction-service/auctionsession/${e}/harvest`,pause:"/api/auction-service/englishauction/pause",resume:"/api/auction-service/englishauction/resume"},bid:{byAuction:e=>`/api/auction-service/bid/auction/${encodeURIComponent(e)}`},bidLog:{byAuction:e=>`/api/auction-service/bidlog/auction/${encodeURIComponent(e)}`},auctionLog:{byAuction:e=>`/api/auction-service/auctionlog/auction/${e}`,byType:e=>`/api/auction-service/auctionlog/type/${e}`},auctionExtend:{list:"/api/auction-service/auctionextend",byAuction:e=>`/api/auction-service/auctionextend/auction/${encodeURIComponent(e)}`},auctionPause:{byAuction:e=>`/api/auction-service/auctionpause/auction/${encodeURIComponent(e)}`}},buyRequest:{list:"/api/auction-service/buyrequest",detail:e=>`/api/auction-service/buyrequest/${encodeURIComponent(e)}`},report:{list:"/api/auction-service/report",detail:e=>`/api/auction-service/report/${encodeURIComponent(e)}`,byAuction:e=>`/api/auction-service/report/auction/${e}`},post:{list:"/api/post-service/post",detail:e=>`/api/post-service/post/${encodeURIComponent(e)}`,updateStatus:e=>`/api/post-service/post/${encodeURIComponent(e)}/status`},wallet:{list:"/api/payment-service/wallet",system:"/api/payment-service/wallet/system",detail:e=>`/api/payment-service/wallet/${e}`,byUser:e=>`/api/payment-service/wallet/user/${e}`},ledger:{list:"/api/payment-service/ledger",byWallet:e=>`/api/payment-service/ledger/wallet/${e}`,byTransaction:e=>`/api/payment-service/ledger/transaction/${e}`,create:"/api/payment-service/ledger"},transaction:{list:"/api/payment-service/transaction",detail:e=>`/api/payment-service/transaction/${e}`,byWallet:e=>`/api/payment-service/transaction/wallet/${e}`},withdrawRequest:{list:"/api/payment-service/withdrawrequest",detail:e=>`/api/payment-service/withdrawrequest/${e}`,byUser:e=>`/api/payment-service/withdrawrequest/user/${e}`,myRequests:"/api/payment-service/withdrawrequest/my-requests",create:"/api/payment-service/withdrawrequest",approve:e=>`/api/payment-service/withdrawrequest/${e}/approve`,reject:e=>`/api/payment-service/withdrawrequest/${e}/reject`,complete:e=>`/api/payment-service/withdrawrequest/${e}/complete`},userBankAccount:{detail:e=>`/api/payment-service/userbankaccount/${e}`},bank:{list:"/api/payment-service/bank"},certification:{pending:"/api/certification/pending",detail:e=>`/api/certification/${e}`,approve:e=>`/api/certification/${e}/approve`,byUser:e=>`/api/certification/user/${e}`},statistics:{systemProfit:"/api/payment-service/statistics/system-profit",systemProfitCurrentMonth:"/api/payment-service/statistics/system-profit/current-month",systemProfitCurrentYear:"/api/payment-service/statistics/system-profit/current-year"},dispute:{list:"/api/payment-service/dispute",pending:"/api/payment-service/dispute/pending",detail:e=>`/api/payment-service/dispute/${e}`,updateStatus:e=>`/api/payment-service/dispute/${e}/status`,createResolve:"/api/payment-service/dispute/resolve",resolveByDisputeId:e=>`/api/payment-service/dispute/resolve/dispute/${e}`,resolveByEscrowId:e=>`/api/payment-service/dispute/resolve/escrow/${e}`},escrow:{detail:e=>`/api/payment-service/escrow/${e}`,byAuction:e=>`/api/payment-service/escrow/auction/${e}`,byBuyRequest:e=>`/api/payment-service/escrow/buyrequest/${e}`},notification:{byUserId:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}`,unreadCountByUserId:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}/unread-count`,markAsRead:e=>`/api/messaging-service/Notifications/${encodeURIComponent(e)}/read`,markAllAsRead:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}/read-all`},policy:{categories:{list:"/api/policy/categories",detail:e=>`/api/policy/categories/${e}`,create:"/api/policy/categories",update:e=>`/api/policy/categories/${e}`,delete:e=>`/api/policy/categories/${e}`,items:e=>`/api/policy/categories/${e}/items`},items:{list:"/api/policy/items",detail:e=>`/api/policy/items/${e}`,create:"/api/policy/items",update:e=>`/api/policy/items/${e}`,delete:e=>`/api/policy/items/${e}`}}};class MB{cache=new Map;pendingRequests=new Map;defaultTTL=300*1e3;maxCacheSize=100;cleanupInterval=null;CLEANUP_INTERVAL=60*1e3;PENDING_TIMEOUT=30*1e3;constructor(){typeof window<"u"&&this.startCleanup()}startCleanup(){this.cleanupInterval||(this.cleanupInterval=window.setInterval(()=>{this.removeExpired(),this.cleanupPending()},this.CLEANUP_INTERVAL))}removeExpired(){const t=Date.now(),n=[];for(const[r,s]of this.cache.entries())s.expiresAt<t&&n.push(r);n.forEach(r=>this.cache.delete(r))}cleanupPending(){const t=Date.now(),n=[];for(const[r,s]of this.pendingRequests.entries())t-s.timestamp>this.PENDING_TIMEOUT&&n.push(r);n.forEach(r=>this.pendingRequests.delete(r))}evictOldest(){if(this.cache.size<this.maxCacheSize)return;let t=null,n=1/0;for(const[r,s]of this.cache.entries())s.timestamp<n&&(n=s.timestamp,t=r);t&&this.cache.delete(t)}generateKey(t,n,r){const s=r?JSON.stringify(r):"";return`${n}:${t}:${s}`}get(t){const n=this.cache.get(t);if(!n)return null;const r=Date.now();return n.expiresAt<r?(this.cache.delete(t),null):n.data}set(t,n,r=this.defaultTTL){this.evictOldest();const s=Date.now();this.cache.set(t,{data:n,timestamp:s,expiresAt:s+r})}getPending(t){const n=this.pendingRequests.get(t);return n?Date.now()-n.timestamp>this.PENDING_TIMEOUT?(this.pendingRequests.delete(t),null):n.promise:null}setPending(t,n){this.pendingRequests.set(t,{promise:n,timestamp:Date.now()}),n.finally(()=>{this.pendingRequests.delete(t)})}invalidate(t){if(!t){this.cache.clear();return}const n=[];for(const r of this.cache.keys())r.includes(t)&&n.push(r);n.forEach(r=>this.cache.delete(r))}clear(){this.cache.clear(),this.pendingRequests.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null),this.clear()}getStats(){return{cacheSize:this.cache.size,pendingSize:this.pendingRequests.size,maxCacheSize:this.maxCacheSize}}}const ni=new MB;let ud=class{baseURL;defaultTimeout=3e4;defaultRetries=2;defaultRetryDelay=1e3;isRefreshing=!1;refreshPromise=null;constructor(t){this.baseURL=t}async refreshTokenIfNeeded(){if(this.isRefreshing&&this.refreshPromise)return this.refreshPromise;this.isRefreshing=!0,this.refreshPromise=this.performRefresh();try{return await this.refreshPromise}finally{this.isRefreshing=!1,this.refreshPromise=null}}async performRefresh(){try{const{adminAuthService:t}=await OB(async()=>{const{adminAuthService:n}=await Promise.resolve().then(()=>PB);return{adminAuthService:n}},[]);return await t.refreshToken()}catch(t){return console.error("Error in performRefresh:",t),null}}buildUrl(t,n){const r=new URL(`${this.baseURL}${t}`);return n&&Object.entries(n).forEach(([s,o])=>{o!=null&&r.searchParams.append(s,String(o))}),r.toString()}async fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r);try{const u=await fetch(t,{...n,signal:s.signal});return clearTimeout(o),u}catch(u){throw clearTimeout(o),u instanceof Error&&u.name==="AbortError"?{message:"Request timeout",status:408,errors:["The request took too long to complete"]}:u}}async sleep(t){return new Promise(n=>setTimeout(n,t))}isRetryableError(t){return t===0||t===408||t===429||t>=500}parseErrorResponse(t,n){const r=t;if(r.errors&&typeof r.errors=="object"&&!Array.isArray(r.errors)){const s=r,o=[];return s.errors&&Object.entries(s.errors).forEach(([u,d])=>{o.push(...d.map(f=>`${u}: ${f}`))}),{message:s.title||"Validation error",status:n,errors:o}}return{message:r.message||"API request failed",status:n,errors:Array.isArray(r.errors)?r.errors:[]}}async request(t,n={}){const{method:r="GET",headers:s={},body:o,timeout:u=this.defaultTimeout,retries:d=this.defaultRetries,retryDelay:f=this.defaultRetryDelay,params:m}=n,g=this.buildUrl(t,m),x=localStorage.getItem("authToken"),b={"Content-Type":"application/json",...s,...x&&{Authorization:`Bearer ${x}`}},j={method:r,headers:b};o!==void 0&&(o instanceof FormData?(delete j.headers["Content-Type"],j.body=o):j.body=JSON.stringify(o));let S=null,w=!1;for(let N=0;N<=d;N++)try{const E=await this.fetchWithTimeout(g,j,u);let A;const T=E.headers.get("content-type");try{T&&T.includes("application/json")?A=await E.json():A={isSuccess:E.ok,statusCode:E.status,message:E.ok?"Success":"Request failed",data:void 0}}catch{A={isSuccess:E.ok,statusCode:E.status,message:E.ok?"Success":"Request failed",data:void 0}}if(!E.ok){if(E.status===401&&!w){w=!0;const O=await this.refreshTokenIfNeeded();if(O){b.Authorization=`Bearer ${O}`,j.headers=b;continue}try{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),typeof window<"u"&&window.location.replace("/auth/login")}catch{}}const _=this.parseErrorResponse(A,E.status);if(this.isRetryableError(E.status)&&N<d){S=_,await this.sleep(f*Math.pow(2,N));continue}throw _}if(A.isSuccess!==void 0){if(!A.isSuccess)throw this.parseErrorResponse(A,E.status);return A}return{isSuccess:!0,statusCode:E.status,message:"Success",data:A}}catch(E){if(E&&typeof E=="object"&&"status"in E){const T=E;if(T.status===401&&!w){w=!0;const _=await this.refreshTokenIfNeeded();if(_){b.Authorization=`Bearer ${_}`,j.headers=b;continue}try{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),typeof window<"u"&&window.location.replace("/auth/login")}catch{}}if(this.isRetryableError(T.status)&&N<d){S=T,await this.sleep(f*Math.pow(2,N));continue}throw T}const A={message:E instanceof Error?E.message:"Network error occurred",status:0,errors:["Unable to connect to server"]};if(N<d){S=A,await this.sleep(f*Math.pow(2,N));continue}throw A}throw S||{message:"Request failed after multiple attempts",status:0,errors:["Maximum retry attempts exceeded"]}}async get(t,n={}){const{cache:r=!0,cacheTTL:s,params:o}=n;if(r){const u=o?JSON.stringify(o,Object.keys(o).sort()):"",d=ni.generateKey(`${t}${u}`,"GET"),f=ni.get(d);if(f)return f;const m=ni.getPending(d);if(m)return m;const g=this.request(t,{method:"GET",params:o});ni.setPending(d,g);try{const x=await g;return ni.set(d,x,s),x}catch(x){throw x}}return this.request(t,{method:"GET",params:o})}async post(t,n,r={}){const s=await this.request(t,{method:"POST",body:n});return r.invalidateCache&&ni.invalidate(r.invalidateCache),s}async put(t,n,r={}){const{invalidateCache:s,params:o}=r,u=await this.request(t,{method:"PUT",body:n,params:o});return s&&ni.invalidate(s),u}async patch(t,n,r={}){const s=await this.request(t,{method:"PATCH",body:n});return r.invalidateCache&&ni.invalidate(r.invalidateCache),s}async delete(t,n={}){const r=await this.request(t,{method:"DELETE"});return n.invalidateCache&&ni.invalidate(n.invalidateCache),r}clearCache(t){ni.invalidate(t)}};const ct=new ud(zm);class bR{async login(t){try{const n=await ct.post(Ie.auth.login,{email:t.email,password:t.password});if(n.isSuccess&&n.data){localStorage.setItem("authToken",n.data.token.accessToken),localStorage.setItem("refreshToken",n.data.token.refreshToken),localStorage.setItem("currentUser",JSON.stringify(n.data.user));const s=this.transformApiUserToAppUser(n.data.user);try{const o=n.data.token.accessToken.split(".")[1];if(JSON.parse(atob(o)).role!=="admin")throw this.clearLocalStorage(),new Error(kt.NOT_ADMIN_DETAIL)}catch{throw this.clearLocalStorage(),new Error(kt.CANNOT_VALIDATE_ADMIN)}return{user:s,token:n.data.token.accessToken}}let r=kt.LOGIN_FAILED;throw n.errors&&n.errors.length>0?r=n.errors.map(o=>this.translateError(o)).join(". "):n.message&&(r=this.translateError(n.message)),new Error(r)}catch(n){if(n&&typeof n=="object"&&"status"in n){const r=n;let s=kt.LOGIN_FAILED;throw r.errors&&r.errors.length>0?s=r.errors.map(u=>this.translateError(u)).join(". "):r.message&&(s=this.translateError(r.message)),new Error(s)}if(n instanceof Error){const r=this.translateError(n.message);throw new Error(r)}throw new Error(kt.LOGIN_FAILED)}}async refreshToken(){try{const t=localStorage.getItem("refreshToken");if(!t)return this.clearLocalStorage(),null;const n=await ct.post(Ie.auth.refresh,{refreshToken:t});return n.isSuccess&&n.data?(localStorage.setItem("authToken",n.data.accessToken),localStorage.setItem("refreshToken",n.data.refreshToken),n.data.accessToken):(this.clearLocalStorage(),null)}catch(t){return console.error("Error refreshing token:",t),this.clearLocalStorage(),null}}isAdmin(t){return t?.role==="admin"}isCurrentUserAdmin(){return this.isAdmin(this.getStoredUser())}async logout(){this.clearLocalStorage()}getCurrentAdmin(){const t=this.getStoredUser();return this.isAdmin(t)?t:null}getStoredUser(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);return this.transformApiUserToAppUser(n)}catch{this.clearLocalStorage()}return null}transformApiUserToAppUser(t){return{id:t.id,name:`${t.firstName} ${t.lastName}`.trim(),email:t.email,phone:t.phoneNumber??void 0,role:"admin",address:{provinceId:"",provinceName:t.province,districtId:"",districtName:t.communes,detailAddress:t.address},createdAt:new Date(t.createdAt)}}clearLocalStorage(){localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser")}translateError(t){return DB(t)}}const Ku=new bR,PB=Object.freeze(Object.defineProperty({__proto__:null,AdminAuthService:bR,adminAuthService:Ku},Symbol.toStringTag,{value:"Module"})),et={HOME:"/",ADMIN_LOGIN:"/auth/login",ADMIN_DASHBOARD:"/admin",ADMIN_USERS:"/admin/users",ADMIN_APPROVAL:"/admin/approval",ADMIN_FARMS:"/admin/farms",ADMIN_FARM_PROFILE:"/admin/farms/:farmId/profile",ADMIN_CROPS:"/admin/crops",ADMIN_CATEGORIES:"/admin/categories",ADMIN_HARVESTS:"/admin/harvests",ADMIN_AUCTIONS:"/admin/auctions",ADMIN_AUCTIONS_BY_ID:"/admin/auctions/:id",ADMIN_AUCTIONS_BY_ID_ACTIVITY_HISTORY:"/admin/auctions/:id/activity-history",ADMIN_AUCTIONS_BY_ID_BID_HISTORY:"/admin/auctions/:id/bid-history",ADMIN_AUCTIONS_BY_ID_WINNER:"/admin/auctions/:id/winner",ADMIN_AUCTIONS_BY_ID_REPORTS:"/admin/auctions/:id/reports",ADMIN_ORDERS:"/admin/orders",ADMIN_REPORTS:"/admin/reports",ADMIN_PRODUCTS:"/admin/products",ADMIN_SHIPPERS:"/admin/shippers",ADMIN_WALLET:"/admin/wallet",ADMIN_DISPUTES:"/admin/disputes",ADMIN_BUY_REQUESTS:"/admin/buy-requests",ADMIN_POLICY:"/admin/policy",FARMER_DASHBOARD:"/farmer/dashboard",FARMER_FARMS:"/farmer/farms",FARMER_CROPS:"/farmer/crops",FARMER_AUCTIONS:"/farmer/auctions",FARMER_AUCTIONS_CREATE:"/farmer/auctions/create",FARMER_INCOME:"/farmer/income",FARMER_CONTRACTS:"/farmer/contracts",WHOLESALER_DASHBOARD:"/wholesaler/dashboard"};function IB(){const[e,t]=p.useState([]),n=p.useCallback(({title:s,description:o,variant:u="default"})=>{const d=Math.random().toString(36).substr(2,9),f={id:d,title:s,description:o,variant:u};t(m=>[...m,f]),setTimeout(()=>{t(m=>m.filter(g=>g.id!==d))},5e3),u==="destructive"?console.error(`${s}: ${o}`):console.log(`${s}: ${o}`)},[]),r=p.useCallback(s=>{t(o=>o.filter(u=>u.id!==s))},[]);return{toast:n,dismiss:r,toasts:e}}function jR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=jR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=jR(e))&&(r&&(r+=" "),r+=t);return r}const mb="-",LB=e=>{const t=UB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const d=u.split(mb);return d[0]===""&&d.length!==1&&d.shift(),wR(d,t)||BB(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},wR=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?wR(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(mb);return t.validators.find(({validator:u})=>u(o))?.classGroupId},KE=/^\[(.+)\]$/,BB=e=>{if(KE.test(e)){const t=KE.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UB=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)ev(n[s],r,s,t);return r},ev=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:GE(t,s);o.classGroupId=n;return}if(typeof s=="function"){if($B(s)){ev(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,u])=>{ev(u,GE(t,o),n,r)})})},GE=(e,t)=>{let n=e;return t.split(mb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$B=e=>e.isThemeGetter,zB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,u)=>{n.set(o,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let u=n.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return s(o,u),u},set(o,u){n.has(o)?n.set(o,u):s(o,u)}}},tv="!",nv=":",HB=nv.length,qB=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let u=0,d=0,f=0,m;for(let S=0;S<s.length;S++){let w=s[S];if(u===0&&d===0){if(w===nv){o.push(s.slice(f,S)),f=S+HB;continue}if(w==="/"){m=S;continue}}w==="["?u++:w==="]"?u--:w==="("?d++:w===")"&&d--}const g=o.length===0?s:s.substring(f),x=FB(g),b=x!==g,j=m&&m>f?m-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:j}};if(t){const s=t+nv,o=r;r=u=>u.startsWith(s)?o(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},FB=e=>e.endsWith(tv)?e.substring(0,e.length-1):e.startsWith(tv)?e.substring(1):e,KB=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(u=>{u[0]==="["||t[u]?(s.push(...o.sort(),u),o=[]):o.push(u)}),s.push(...o.sort()),s}},GB=e=>({cache:zB(e.cacheSize),parseClassName:qB(e),sortModifiers:KB(e),...LB(e)}),VB=/\s+/,WB=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,u=[],d=e.trim().split(VB);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:x,modifiers:b,hasImportantModifier:j,baseClassName:S,maybePostfixModifierPosition:w}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let N=!!w,E=r(N?S.substring(0,w):S);if(!E){if(!N){f=g+(f.length>0?" "+f:f);continue}if(E=r(S),!E){f=g+(f.length>0?" "+f:f);continue}N=!1}const A=o(b).join(":"),T=j?A+tv:A,_=T+E;if(u.includes(_))continue;u.push(_);const O=s(E,N);for(let R=0;R<O.length;++R){const D=O[R];u.push(T+D)}f=g+(f.length>0?" "+f:f)}return f};function YB(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=NR(t))&&(r&&(r+=" "),r+=n);return r}const NR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=NR(e[r]))&&(n&&(n+=" "),n+=t);return n};function XB(e,...t){let n,r,s,o=u;function u(f){const m=t.reduce((g,x)=>x(g),e());return n=GB(m),r=n.cache.get,s=n.cache.set,o=d,d(f)}function d(f){const m=r(f);if(m)return m;const g=WB(f,n);return s(f,g),g}return function(){return o(YB.apply(null,arguments))}}const Kn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},SR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ER=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QB=/^\d+\/\d+$/,ZB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ho=e=>QB.test(e),St=e=>!!e&&!Number.isNaN(Number(e)),Rs=e=>!!e&&Number.isInteger(Number(e)),Yx=e=>e.endsWith("%")&&St(e.slice(0,-1)),Di=e=>ZB.test(e),rU=()=>!0,aU=e=>JB.test(e)&&!eU.test(e),CR=()=>!1,iU=e=>tU.test(e),sU=e=>nU.test(e),lU=e=>!Ke(e)&&!Ge(e),oU=e=>yc(e,_R,CR),Ke=e=>SR.test(e),bl=e=>yc(e,RR,aU),Xx=e=>yc(e,fU,St),VE=e=>yc(e,AR,CR),cU=e=>yc(e,TR,sU),tf=e=>yc(e,OR,iU),Ge=e=>ER.test(e),Nu=e=>vc(e,RR),uU=e=>vc(e,mU),WE=e=>vc(e,AR),dU=e=>vc(e,_R),hU=e=>vc(e,TR),nf=e=>vc(e,OR,!0),yc=(e,t,n)=>{const r=SR.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},vc=(e,t,n=!1)=>{const r=ER.exec(e);return r?r[1]?t(r[1]):n:!1},AR=e=>e==="position"||e==="percentage",TR=e=>e==="image"||e==="url",_R=e=>e==="length"||e==="size"||e==="bg-size",RR=e=>e==="length",fU=e=>e==="number",mU=e=>e==="family-name",OR=e=>e==="shadow",gU=()=>{const e=Kn("color"),t=Kn("font"),n=Kn("text"),r=Kn("font-weight"),s=Kn("tracking"),o=Kn("leading"),u=Kn("breakpoint"),d=Kn("container"),f=Kn("spacing"),m=Kn("radius"),g=Kn("shadow"),x=Kn("inset-shadow"),b=Kn("text-shadow"),j=Kn("drop-shadow"),S=Kn("blur"),w=Kn("perspective"),N=Kn("aspect"),E=Kn("ease"),A=Kn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[..._(),Ge,Ke],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],B=()=>[Ge,Ke,f],X=()=>[Ho,"full","auto",...B()],Y=()=>[Rs,"none","subgrid",Ge,Ke],L=()=>["auto",{span:["full",Rs,Ge,Ke]},Rs,Ge,Ke],F=()=>[Rs,"auto",Ge,Ke],re=()=>["auto","min","max","fr",Ge,Ke],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ve=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...B()],I=()=>[Ho,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],K=()=>[e,Ge,Ke],de=()=>[..._(),WE,VE,{position:[Ge,Ke]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",dU,oU,{size:[Ge,Ke]}],q=()=>[Yx,Nu,bl],ee=()=>["","none","full",m,Ge,Ke],ue=()=>["",St,Nu,bl],we=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[St,Yx,WE,VE],V=()=>["","none",S,Ge,Ke],U=()=>["none",St,Ge,Ke],M=()=>["none",St,Ge,Ke],W=()=>[St,Ge,Ke],$=()=>[Ho,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Di],breakpoint:[Di],color:[rU],container:[Di],"drop-shadow":[Di],ease:["in","out","in-out"],font:[lU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Di],shadow:[Di],spacing:["px",St],text:[Di],"text-shadow":[Di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ho,Ke,Ge,N]}],container:["container"],columns:[{columns:[St,Ke,Ge,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[Rs,"auto",Ge,Ke]}],basis:[{basis:[Ho,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,Ho,"auto","initial","none",Ke]}],grow:[{grow:["",St,Ge,Ke]}],shrink:[{shrink:["",St,Ge,Ke]}],order:[{order:[Rs,"first","last","none",Ge,Ke]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...ve()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...ve(),"baseline"]}],"place-self":[{"place-self":["auto",...ve()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[d,"screen",...I()]}],"min-w":[{"min-w":[d,"screen","none",...I()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,Nu,bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ge,Xx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yx,Ke]}],"font-family":[{font:[uU,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ge,Ke]}],"line-clamp":[{"line-clamp":[St,"none",Ge,Xx]}],leading:[{leading:[o,...B()]}],"list-image":[{"list-image":["none",Ge,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",Ge,bl]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[St,"auto",Ge,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rs,Ge,Ke],radial:["",Ge,Ke],conic:[Rs,Ge,Ke]},hU,cU]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,Ge,Ke]}],"outline-w":[{outline:["",St,Nu,bl]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",g,nf,tf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",x,nf,tf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[St,bl]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",b,nf,tf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[St,Ge,Ke]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ge,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,Ke]}],filter:[{filter:["","none",Ge,Ke]}],blur:[{blur:V()}],brightness:[{brightness:[St,Ge,Ke]}],contrast:[{contrast:[St,Ge,Ke]}],"drop-shadow":[{"drop-shadow":["","none",j,nf,tf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",St,Ge,Ke]}],"hue-rotate":[{"hue-rotate":[St,Ge,Ke]}],invert:[{invert:["",St,Ge,Ke]}],saturate:[{saturate:[St,Ge,Ke]}],sepia:[{sepia:["",St,Ge,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,Ke]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[St,Ge,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[St,Ge,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,Ge,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,Ge,Ke]}],"backdrop-invert":[{"backdrop-invert":["",St,Ge,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[St,Ge,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[St,Ge,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",St,Ge,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",Ge,Ke]}],ease:[{ease:["linear","initial",E,Ge,Ke]}],delay:[{delay:[St,Ge,Ke]}],animate:[{animate:["none",A,Ge,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ge,Ke]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:U()}],"rotate-x":[{"rotate-x":U()}],"rotate-y":[{"rotate-y":U()}],"rotate-z":[{"rotate-z":U()}],scale:[{scale:M()}],"scale-x":[{"scale-x":M()}],"scale-y":[{"scale-y":M()}],"scale-z":[{"scale-z":M()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[Ge,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$()}],"translate-x":[{"translate-x":$()}],"translate-y":[{"translate-y":$()}],"translate-z":[{"translate-z":$()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,Ke]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[St,Nu,bl,Xx]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pU=XB(gU);function zt(...e){return pU(Mt(e))}const xU=({toasts:e,dismiss:t})=>{const n={default:"border-emerald-200 bg-emerald-50/90 text-emerald-800 shadow-[0_15px_35px_rgba(16,185,129,0.2)]",success:"border-emerald-200 bg-emerald-50/90 text-emerald-800 shadow-[0_15px_35px_rgba(16,185,129,0.2)]",destructive:"border-rose-200 bg-rose-50/90 text-rose-700 shadow-[0_15px_35px_rgba(244,63,94,0.2)]",info:"border-sky-200 bg-sky-50/90 text-sky-800 shadow-[0_15px_35px_rgba(14,165,233,0.18)]"};return a.jsx("div",{className:"pointer-events-none fixed right-6 top-6 z-[60] flex flex-col gap-4",children:e.map(r=>a.jsxs("button",{type:"button",onClick:()=>t(r.id),className:zt("pointer-events-auto w-full min-w-[280px] max-w-sm rounded-2xl border px-5 py-4 text-left","text-sm font-medium transition-all duration-300","shadow-[0_12px_30px_rgba(15,23,42,0.12)] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/40",n[r.variant??"default"]),"aria-live":"assertive",children:[a.jsx("div",{className:"text-base font-semibold",children:r.title}),r.description&&a.jsx("div",{className:"mt-1 text-sm opacity-80",children:r.description})]},r.id))})},yU={toast:({title:e,description:t})=>{console.warn("[ToastProvider] Provider cha c khi to. Message:",e,t)},dismiss:()=>{},toasts:[]},kR=p.createContext(void 0);function vU({children:e}){const t=IB();return a.jsxs(kR.Provider,{value:t,children:[e,a.jsx(xU,{toasts:t.toasts,dismiss:t.dismiss})]})}function In(){return p.useContext(kR)??yU}function Qx(...e){return e.filter(Boolean).join(" ")}const bU=[{icon:$L,label:"Bng iu khin",path:"/admin"},{icon:Fu,label:"Ngi dng",path:"/admin/users"},{icon:hR,label:"Xt duyt",path:"/admin/approval"},{icon:vR,label:"Phn loi",path:"/admin/categories"},{icon:EB,label:"Nng tri",path:"/admin/farms"},{icon:Hu,label:"L trng",path:"/admin/crops"},{icon:xR,label:"V trng",path:"/admin/harvests"},{icon:yR,label:"Yu cu mua",path:"/admin/buy-requests"},{icon:bB,label:"Phin u gi",path:"/admin/auctions"},{icon:mR,label:"Bo co",path:"/admin/reports"},{icon:Zy,label:"Tranh chp",path:"/admin/disputes"},{icon:Hf,label:"V ca ti",path:"/admin/wallet"},{icon:Hi,label:"Chnh sch",path:"/admin/policy"}];function jU({isOpen:e=!1,onClose:t}){const n=br(),{signOut:r}=Ks(),{toast:s}=In(),o=async()=>{try{await Ku.logout(),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),s({title:se.SUCCESS,description:fb.LOGOUT_SUCCESS})}catch{s({title:kt.LOGOUT_FAILED_TITLE,description:kt.LOGOUT_FAILED,variant:"destructive"})}finally{r(),n(et.ADMIN_LOGIN)}},u=()=>{window.innerWidth<1024&&t&&t()};return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),a.jsxs("div",{className:Qx("fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 h-screen flex flex-col transform transition-transform duration-300 ease-in-out",e?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/assets/logo.png",alt:"AgriMart Logo",className:"w-6 h-6 sm:w-8 sm:h-8 object-contain"}),a.jsx("span",{className:"font-semibold text-base sm:text-lg",children:"AgriMart Admin"})]})}),a.jsxs("div",{className:"flex-1 p-3 sm:p-4 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 px-2",children:"Bng iu khin"}),a.jsx("nav",{className:"space-y-1",children:bU.map(d=>a.jsxs(rR,{to:d.path,onClick:u,className:({isActive:f})=>Qx("flex w-full items-center gap-2 sm:gap-3 h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm",f?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[a.jsx(d.icon,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:d.label}),d.badge&&a.jsx("span",{className:"ml-auto bg-emerald-100 text-emerald-800 text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full flex-shrink-0",children:d.badge})]},d.label))})]}),a.jsx("div",{children:a.jsx("nav",{className:"space-y-1",children:a.jsxs("button",{type:"button",onClick:o,className:Qx("flex w-full items-center gap-2 sm:gap-3 h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm text-left","text-gray-700 hover:bg-gray-100"),children:[a.jsx(qL,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"ng xut"})]})})})]})]})]})}function gb(...e){return e.filter(Boolean).join(" ")}function wU({className:e,children:t,...n}){return a.jsx("div",{className:gb("relative inline-flex h-10 w-10 overflow-hidden rounded-full bg-gray-100",e),...n,children:t})}function NU({className:e,...t}){return a.jsx("img",{className:gb("h-full w-full object-cover",e),...t})}function SU({className:e,children:t,...n}){return a.jsx("span",{className:gb("flex h-full w-full items-center justify-center bg-gray-200 text-xs font-medium text-gray-600",e),...n,children:t})}const EU="/assets/admin-86irejDo-86irejDo.jpg",YE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XE=Mt,CU=(e,t)=>n=>{var r;if(t?.variants==null)return XE(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,u=Object.keys(s).map(m=>{const g=n?.[m],x=o?.[m];if(g===null)return null;const b=YE(g)||YE(x);return s[m][b]}),d=n&&Object.entries(n).reduce((m,g)=>{let[x,b]=g;return b===void 0||(m[x]=b),m},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:x,className:b,...j}=g;return Object.entries(j).every(S=>{let[w,N]=S;return Array.isArray(N)?N.includes({...o,...d}[w]):{...o,...d}[w]===N})?[...m,x,b]:m},[]);return XE(e,u,f,n?.class,n?.className)},AU=CU("group relative inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-semibold tracking-tight ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 motion-safe:active:scale-[0.99]",{variants:{variant:{default:"border border-transparent bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_12px_24px_rgba(15,23,42,0.18)] hover:shadow-[0_16px_32px_rgba(15,23,42,0.22)] hover:-translate-y-0.5",destructive:"border border-transparent bg-gradient-to-r from-rose-500 to-rose-600 text-white shadow-[0_12px_24px_rgba(15,23,42,0.18)] hover:shadow-[0_16px_32px_rgba(15,23,42,0.22)] hover:-translate-y-0.5",outline:"border border-emerald-100 bg-white text-emerald-700 shadow-[0_8px_20px_rgba(15,23,42,0.08)] hover:bg-emerald-50/60 hover:text-emerald-800",secondary:"border border-transparent bg-emerald-50/80 text-emerald-700 shadow-inner shadow-white/60 hover:bg-emerald-100/90",ghost:"text-emerald-700 hover:bg-emerald-50/70 hover:text-emerald-800",link:"text-emerald-600 underline-offset-4 hover:text-emerald-700 hover:underline",soft:"border border-emerald-100/60 bg-white/70 text-emerald-700 shadow-[inset_0_1px_0_rgba(255,255,255,0.6)] backdrop-blur-md hover:border-emerald-200 hover:bg-white"},size:{default:"h-11 px-5",sm:"h-9 rounded-xl px-4 text-xs",lg:"h-12 rounded-2xl px-8 text-base",icon:"h-11 w-11 rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}}),oe=p.forwardRef(({className:e,variant:t,size:n,isLoading:r=!1,leftIcon:s,rightIcon:o,children:u,disabled:d,...f},m)=>a.jsxs("button",{ref:m,className:zt(AU({variant:t,size:n,className:e})),disabled:d||r,"aria-busy":r,...f,children:[a.jsxs("span",{className:zt("flex items-center gap-2 transition-opacity",r&&"opacity-0"),children:[s&&a.jsx("span",{className:"text-base",children:s}),u,o&&a.jsx("span",{className:"text-base",children:o})]}),r&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-b-transparent"})})]}));oe.displayName="Button";class Rl extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class pb extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Ka extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class TU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class _U extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class RU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class QE extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class OU extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class DR{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class Hm{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var _e;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(_e||(_e={}));class Gu{constructor(){}log(t,n){}}Gu.instance=new Gu;const kU="10.0.0";class zn{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class Cn{static get isBrowser(){return!Cn.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Cn.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Cn.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Vu(e,t){let n="";return Ul(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${DU(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function DU(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const s=r<16?"0":"";n+=`0x${s}${r.toString(16)} `}),n.substring(0,n.length-1)}function Ul(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function MR(e,t,n,r,s,o){const u={},[d,f]=tc();u[d]=f,e.log(_e.Trace,`(${t} transport) sending data. ${Vu(s,o.logMessageContent)}.`);const m=Ul(s)?"arraybuffer":"text",g=await n.post(r,{content:s,headers:{...u,...o.headers},responseType:m,timeout:o.timeout,withCredentials:o.withCredentials});e.log(_e.Trace,`(${t} transport) request complete. Response status: ${g.statusCode}.`)}function MU(e){return e===void 0?new qf(_e.Information):e===null?Gu.instance:e.log!==void 0?e:new qf(e)}class PU{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class qf{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${_e[t]}: ${n}`;switch(t){case _e.Critical:case _e.Error:this.out.error(r);break;case _e.Warning:this.out.warn(r);break;case _e.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function tc(){let e="X-SignalR-User-Agent";return Cn.isNode&&(e="User-Agent"),[e,IU(kU,LU(),UU(),BU())]}function IU(e,t,n,r){let s="Microsoft SignalR/";const o=e.split(".");return s+=`${o[0]}.${o[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${n}`,r?s+=`; ${r}`:s+="; Unknown Runtime Version",s+=")",s}function LU(){if(Cn.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function BU(){if(Cn.isNode)return process.versions.node}function UU(){return Cn.isNode?"NodeJS":"Browser"}function Zx(e){return e.stack?e.stack:e.message?e.message:`${e}`}function $U(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class zU extends Hm{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Cn.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind($U());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Ka;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new Ka});let s=null;if(t.timeout){const f=t.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(_e.Warning,"Timeout from HTTP request."),r=new pb},f)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Ul(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(f){throw r||(this._logger.log(_e.Warning,`Error from HTTP request. ${f}.`),f)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){const f=await ZE(o,"text");throw new Rl(f||o.statusText,o.status)}const d=await ZE(o,t.responseType);return new DR(o.status,o.statusText,d)}getCookieString(t){let n="";return Cn.isNode&&this._jar&&this._jar.getCookies(t,(r,s)=>n=s.join("; ")),n}}function ZE(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class HU extends Hm{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Ka):t.method?t.url?new Promise((n,r)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Ul(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(u=>{s.setRequestHeader(u,o[u])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),r(new Ka)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new DR(s.status,s.statusText,s.response||s.responseText)):r(new Rl(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(_e.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),r(new Rl(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(_e.Warning,"Timeout from HTTP request."),r(new pb)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class qU extends Hm{constructor(t){if(super(),typeof fetch<"u"||Cn.isNode)this._httpClient=new zU(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new HU(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Ka):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class ra{static write(t){return`${t}${ra.RecordSeparator}`}static parse(t){if(t[t.length-1]!==ra.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(ra.RecordSeparator);return n.pop(),n}}ra.RecordSeparatorCode=30;ra.RecordSeparator=String.fromCharCode(ra.RecordSeparatorCode);class FU{writeHandshakeRequest(t){return ra.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(Ul(t)){const d=new Uint8Array(t),f=d.indexOf(ra.RecordSeparatorCode);if(f===-1)throw new Error("Message is incomplete.");const m=f+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(d.slice(0,m))),r=d.byteLength>m?d.slice(m).buffer:null}else{const d=t,f=d.indexOf(ra.RecordSeparator);if(f===-1)throw new Error("Message is incomplete.");const m=f+1;n=d.substring(0,m),r=d.length>m?d.substring(m):null}const s=ra.parse(n),o=JSON.parse(s[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var pt;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(pt||(pt={}));class KU{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new PU(this,t)}}class GU{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},o=()=>{};Ul(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((u,d)=>{s=u,o=d})),this._messages.push(new VU(n,this._totalMessageCount,s,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const s=this._messages[r];if(s._id<=t.sequenceId)n=r,Ul(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==pt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:pt.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case pt.Invocation:case pt.StreamItem:case pt.Completion:case pt.StreamInvocation:case pt.CancelInvocation:return!0;case pt.Close:case pt.Sequence:case pt.Ping:case pt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:pt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class VU{constructor(t,n,r,s){this._message=t,this._id=n,this._resolver=r,this._rejector=s}}const WU=30*1e3,YU=15*1e3,XU=1e5;var Ft;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Ft||(Ft={}));class xb{static create(t,n,r,s,o,u,d){return new xb(t,n,r,s,o,u,d)}constructor(t,n,r,s,o,u,d){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(_e.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},zn.isRequired(t,"connection"),zn.isRequired(n,"logger"),zn.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??WU,this.keepAliveIntervalInMilliseconds=u??YU,this._statefulReconnectBufferSize=d??XU,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new FU,this.connection.onreceive=f=>this._processIncomingData(f),this.connection.onclose=f=>this._connectionClosed(f),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Ft.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:pt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Ft.Disconnected&&this._connectionState!==Ft.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Ft.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Ft.Connecting,this._logger.log(_e.Debug,"Starting HubConnection.");try{await this._startInternal(),Cn.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Ft.Connected,this._connectionStarted=!0,this._logger.log(_e.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=Ft.Disconnected,this._logger.log(_e.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(_e.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(_e.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new GU(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(_e.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===Ft.Disconnected)return this._logger.log(_e.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Ft.Disconnecting)return this._logger.log(_e.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Ft.Disconnecting,this._logger.log(_e.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(_e.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Ft.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Ka("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createStreamInvocation(t,n,s);let u;const d=new KU;return d.cancelCallback=()=>{const f=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],u.then(()=>this._sendWithProtocol(f))},this._callbacks[o.invocationId]=(f,m)=>{if(m){d.error(m);return}else f&&(f.type===pt.Completion?f.error?d.error(new Error(f.error)):d.complete():d.next(f.item))},u=this._sendWithProtocol(o).catch(f=>{d.error(f),delete this._callbacks[o.invocationId]}),this._launchStreams(r,u),d}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(t,n,!0,s));return this._launchStreams(r,o),o}invoke(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createInvocation(t,n,!1,s);return new Promise((d,f)=>{this._callbacks[o.invocationId]=(g,x)=>{if(x){f(x);return}else g&&(g.type===pt.Completion?g.error?f(new Error(g.error)):d(g.result):f(new Error(`Unexpected message type: ${g.type}`)))};const m=this._sendWithProtocol(o).catch(g=>{f(g),delete this._callbacks[o.invocationId]});this._launchStreams(r,m)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const s=r.indexOf(n);s!==-1&&(r.splice(s,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case pt.Invocation:this._invokeClientMethod(r).catch(s=>{this._logger.log(_e.Error,`Invoke client method threw error: ${Zx(s)}`)});break;case pt.StreamItem:case pt.Completion:{const s=this._callbacks[r.invocationId];if(s){r.type===pt.Completion&&delete this._callbacks[r.invocationId];try{s(r)}catch(o){this._logger.log(_e.Error,`Stream callback threw error: ${Zx(o)}`)}}break}case pt.Ping:break;case pt.Close:{this._logger.log(_e.Information,"Close message received from server.");const s=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case pt.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case pt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(_e.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const o="Error parsing handshake response: "+s;this._logger.log(_e.Error,o);const u=new Error(o);throw this._handshakeRejecter(u),u}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(_e.Error,s);const o=new Error(s);throw this._handshakeRejecter(o),o}else this._logger.log(_e.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let t=this._nextKeepAlive-new Date().getTime();if(t<0){this._connectionState===Ft.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===Ft.Connected&&await this._trySendPingMessage()},t))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(_e.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(_e.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=r.slice(),o=!!t.invocationId;let u,d,f;for(const m of s)try{const g=u;u=await m.apply(this,t.arguments),o&&u&&g&&(this._logger.log(_e.Error,`Multiple results provided for '${n}'. Sending error to server.`),f=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),d=void 0}catch(g){d=g,this._logger.log(_e.Error,`A callback for the method '${n}' threw error '${g}'.`)}f?await this._sendWithProtocol(f):o?(d?f=this._createCompletionMessage(t.invocationId,`${d}`,null):u!==void 0?f=this._createCompletionMessage(t.invocationId,null,u):(this._logger.log(_e.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),f=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(f)):u&&this._logger.log(_e.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(_e.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Ka("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Ft.Disconnecting?this._completeClose(t):this._connectionState===Ft.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Ft.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Ft.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Cn.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(_e.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r,0,s);if(o===null){this._logger.log(_e.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=Ft.Reconnecting,t?this._logger.log(_e.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(_e.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(u=>u.apply(this,[t]))}catch(u){this._logger.log(_e.Error,`An onreconnecting callback called with error '${t}' threw error '${u}'.`)}if(this._connectionState!==Ft.Reconnecting){this._logger.log(_e.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(_e.Information,`Reconnect attempt number ${r+1} will start in ${o} ms.`),await new Promise(u=>{this._reconnectDelayHandle=setTimeout(u,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Ft.Reconnecting){this._logger.log(_e.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Ft.Connected,this._logger.log(_e.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(u=>u.apply(this,[this.connection.connectionId]))}catch(u){this._logger.log(_e.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${u}'.`)}return}catch(u){if(this._logger.log(_e.Information,`Reconnect attempt failed because of error '${u}'.`),this._connectionState!==Ft.Reconnecting){this._logger.log(_e.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Ft.Disconnecting&&this._completeClose();return}r++,s=u instanceof Error?u:new Error(u.toString()),o=this._getNextRetryDelay(r,Date.now()-n,s)}}this._logger.log(_e.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(s){return this._logger.log(_e.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const s=n[r];try{s(null,t)}catch(o){this._logger.log(_e.Error,`Stream 'error' callback called with '${t}' threw error: ${Zx(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,s){if(r)return s.length!==0?{target:t,arguments:n,streamIds:s,type:pt.Invocation}:{target:t,arguments:n,type:pt.Invocation};{const o=this._invocationId;return this._invocationId++,s.length!==0?{target:t,arguments:n,invocationId:o.toString(),streamIds:s,type:pt.Invocation}:{target:t,arguments:n,invocationId:o.toString(),type:pt.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:s=>{let o;s instanceof Error?o=s.message:s&&s.toString?o=s.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,s)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let s=0;s<t.length;s++){const o=t[s];if(this._isObservable(o)){const u=this._invocationId;this._invocationId++,n[u]=o,r.push(u.toString()),t.splice(s,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const s=this._invocationId;return this._invocationId++,r.length!==0?{target:t,arguments:n,invocationId:s.toString(),streamIds:r,type:pt.StreamInvocation}:{target:t,arguments:n,invocationId:s.toString(),type:pt.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:pt.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:pt.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:pt.Completion}:{invocationId:t,result:r,type:pt.Completion}}_createCloseMessage(){return{type:pt.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const QU=[0,2e3,1e4,3e4,null];class JE{constructor(t){this._retryDelays=t!==void 0?[...t,null]:QU}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Ol{}Ol.Authorization="Authorization";Ol.Cookie="Cookie";class ZU extends Hm{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Ol.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Ol.Authorization]&&delete t.headers[Ol.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var Mn;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(Mn||(Mn={}));var gr;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(gr||(gr={}));let JU=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class eC{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new JU,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(zn.isRequired(t,"url"),zn.isRequired(n,"transferFormat"),zn.isIn(n,gr,"transferFormat"),this._url=t,this._logger.log(_e.Trace,"(LongPolling transport) Connecting."),n===gr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,s]=tc(),o={[r]:s,...this._options.headers},u={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===gr.Binary&&(u.responseType="arraybuffer");const d=`${t}&_=${Date.now()}`;this._logger.log(_e.Trace,`(LongPolling transport) polling: ${d}.`);const f=await this._httpClient.get(d,u);f.statusCode!==200?(this._logger.log(_e.Error,`(LongPolling transport) Unexpected response code: ${f.statusCode}.`),this._closeError=new Rl(f.statusText||"",f.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,u)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(_e.Trace,`(LongPolling transport) polling: ${r}.`);const s=await this._httpClient.get(r,n);s.statusCode===204?(this._logger.log(_e.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(_e.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new Rl(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(_e.Trace,`(LongPolling transport) data received. ${Vu(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(_e.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof pb?this._logger.log(_e.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(_e.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(_e.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?MR(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(_e.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(_e.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=tc();t[n]=r;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,s)}catch(u){o=u}o?o instanceof Rl&&(o.statusCode===404?this._logger.log(_e.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(_e.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(_e.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(_e.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(_e.Trace,t),this.onclose(this._closeError)}}}class e${constructor(t,n,r,s){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,n){return zn.isRequired(t,"url"),zn.isRequired(n,"transferFormat"),zn.isIn(n,gr,"transferFormat"),this._logger.log(_e.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,s)=>{let o=!1;if(n!==gr.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let u;if(Cn.isBrowser||Cn.isWebWorker)u=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const d=this._httpClient.getCookieString(t),f={};f.Cookie=d;const[m,g]=tc();f[m]=g,u=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...f,...this._options.headers}})}try{u.onmessage=d=>{if(this.onreceive)try{this._logger.log(_e.Trace,`(SSE transport) data received. ${Vu(d.data,this._options.logMessageContent)}.`),this.onreceive(d.data)}catch(f){this._close(f);return}},u.onerror=d=>{o?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},u.onopen=()=>{this._logger.log(_e.Information,`SSE connected to ${this._url}`),this._eventSource=u,o=!0,r()}}catch(d){s(d);return}})}async send(t){return this._eventSource?MR(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class t${constructor(t,n,r,s,o,u){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=u}async connect(t,n){zn.isRequired(t,"url"),zn.isRequired(n,"transferFormat"),zn.isIn(n,gr,"transferFormat"),this._logger.log(_e.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((s,o)=>{t=t.replace(/^http/,"ws");let u;const d=this._httpClient.getCookieString(t);let f=!1;if(Cn.isNode||Cn.isReactNative){const m={},[g,x]=tc();m[g]=x,r&&(m[Ol.Authorization]=`Bearer ${r}`),d&&(m[Ol.Cookie]=d),u=new this._webSocketConstructor(t,void 0,{headers:{...m,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);u||(u=new this._webSocketConstructor(t)),n===gr.Binary&&(u.binaryType="arraybuffer"),u.onopen=m=>{this._logger.log(_e.Information,`WebSocket connected to ${t}.`),this._webSocket=u,f=!0,s()},u.onerror=m=>{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="There was an error with the transport",this._logger.log(_e.Information,`(WebSockets transport) ${g}.`)},u.onmessage=m=>{if(this._logger.log(_e.Trace,`(WebSockets transport) data received. ${Vu(m.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(m.data)}catch(g){this._close(g);return}},u.onclose=m=>{if(f)this._close(m);else{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(g))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(_e.Trace,`(WebSockets transport) sending data. ${Vu(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(_e.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const tC=100;class n${constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,zn.isRequired(t,"url"),this._logger=MU(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,s=null;if(Cn.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=o("ws"),s=o("eventsource")}!Cn.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Cn.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!Cn.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Cn.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new ZU(n.httpClient||new qU(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||gr.Binary,zn.isIn(t,gr,"transferFormat"),this._logger.log(_e.Debug,`Starting connection with transfer format '${gr[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(_e.Error,n),await this._stopPromise,Promise.reject(new Ka(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(_e.Error,n),Promise.reject(new Ka(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new yb(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(_e.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(_e.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(_e.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(_e.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Mn.WebSockets)this.transport=this._constructTransport(Mn.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,s=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Ka("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}s++}while(r.url&&s<tC);if(s===tC&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof eC&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(_e.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(_e.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,s]=tc();n[r]=s;const o=this._resolveNegotiateUrl(t);this._logger.log(_e.Debug,`Sending negotiation request: ${o}.`);try{const u=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(u.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${u.statusCode}'`));const d=JSON.parse(u.content);return(!d.negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),d.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new QE("Client didn't negotiate Stateful Reconnect but the server did.")):d}catch(u){let d="Failed to complete negotiation with the server: "+u;return u instanceof Rl&&u.statusCode===404&&(d=d+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(_e.Error,d),Promise.reject(new QE(d))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,s){let o=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(_e.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,s),this.connectionId=r.connectionId;return}const u=[],d=r.availableTransports||[];let f=r;for(const m of d){const g=this._resolveTransportOrError(m,n,s,f?.useStatefulReconnect===!0);if(g instanceof Error)u.push(`${m.transport} failed:`),u.push(g);else if(this._isITransport(g)){if(this.transport=g,!f){try{f=await this._getNegotiationResponse(t)}catch(x){return Promise.reject(x)}o=this._createConnectUrl(t,f.connectionToken)}try{await this._startTransport(o,s),this.connectionId=f.connectionId;return}catch(x){if(this._logger.log(_e.Error,`Failed to start the transport '${m.transport}': ${x}`),f=void 0,u.push(new RU(`${m.transport} failed: ${x}`,Mn[m.transport])),this._connectionState!=="Connecting"){const b="Failed to select transport before stop() was called.";return this._logger.log(_e.Debug,b),Promise.reject(new Ka(b))}}}}return u.length>0?Promise.reject(new OU(`Unable to connect to the server with any of the available transports. ${u.join(" ")}`,u)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case Mn.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new t$(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Mn.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new e$(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Mn.LongPolling:return new eC(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(r);return}s&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,s){const o=Mn[t.transport];if(o==null)return this._logger.log(_e.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(r$(n,o))if(t.transferFormats.map(d=>gr[d]).indexOf(r)>=0){if(o===Mn.WebSockets&&!this._options.WebSocket||o===Mn.ServerSentEvents&&!this._options.EventSource)return this._logger.log(_e.Debug,`Skipping transport '${Mn[o]}' because it is not supported in your environment.'`),new TU(`'${Mn[o]}' is not supported in your environment.`,o);this._logger.log(_e.Debug,`Selecting transport '${Mn[o]}'.`);try{return this.features.reconnect=o===Mn.WebSockets?s:void 0,this._constructTransport(o)}catch(d){return d}}else return this._logger.log(_e.Debug,`Skipping transport '${Mn[o]}' because it does not support the requested transfer format '${gr[r]}'.`),new Error(`'${Mn[o]}' does not support ${gr[r]}.`);else return this._logger.log(_e.Debug,`Skipping transport '${Mn[o]}' because it was disabled by the client.`),new _U(`'${Mn[o]}' is disabled by the client.`,o)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(_e.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(_e.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(_e.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(_e.Error,`Connection disconnected with error '${t}'.`):this._logger.log(_e.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(_e.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(_e.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Cn.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(_e.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function r$(e,t){return!e||(t&e)!==0}class yb{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new rf,this._transportResult=new rf,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new rf),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new rf;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):yb._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(o=>o.byteLength).reduce((o,u)=>o+u),r=new Uint8Array(n);let s=0;for(const o of t)r.set(new Uint8Array(o),s),s+=o.byteLength;return r.buffer}}class rf{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const a$="json";class i${constructor(){this.name=a$,this.version=2,this.transferFormat=gr.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=Gu.instance);const r=ra.parse(t),s=[];for(const o of r){const u=JSON.parse(o);if(typeof u.type!="number")throw new Error("Invalid payload.");switch(u.type){case pt.Invocation:this._isInvocationMessage(u);break;case pt.StreamItem:this._isStreamItemMessage(u);break;case pt.Completion:this._isCompletionMessage(u);break;case pt.Ping:break;case pt.Close:break;case pt.Ack:this._isAckMessage(u);break;case pt.Sequence:this._isSequenceMessage(u);break;default:n.log(_e.Information,"Unknown message type '"+u.type+"' ignored.");continue}s.push(u)}return s}writeMessage(t){return ra.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const s$={trace:_e.Trace,debug:_e.Debug,info:_e.Information,information:_e.Information,warn:_e.Warning,warning:_e.Warning,error:_e.Error,critical:_e.Critical,none:_e.None};function l$(e){const t=s$[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class PR{configureLogging(t){if(zn.isRequired(t,"logging"),o$(t))this.logger=t;else if(typeof t=="string"){const n=l$(t);this.logger=new qf(n)}else this.logger=new qf(t);return this}withUrl(t,n){return zn.isRequired(t,"url"),zn.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return zn.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new JE(t):this.reconnectPolicy=t:this.reconnectPolicy=new JE,this}withServerTimeout(t){return zn.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return zn.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new n$(this.url,t);return xb.create(n,this.logger||Gu.instance,this.protocol||new i$,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function o$(e){return e.log!==void 0}const ku="44444444-4444-4444-4444-444444444444",Jx=`${zm.replace(/\/+$/,"")}/api/messaging-service/hubs/global`,nC=e=>{if(!e)return!0;try{const t=JSON.parse(atob(e.split(".")[1]||""));if(!t.exp)return!1;const n=Math.floor(Date.now()/1e3);return t.exp-30<=n}catch{return!0}},rC=["AuctionCreated","System","WithdrawalRequested","DistupeOpened","DisputeOpened","disputeopened","accountpendingapproval","certificationpendingapproval","auctionpendingapproval","withdrawrequestpending","disputepending","wallettransfer","systemnotification","ReceiveNotification","NewNotification","AdminNotification"],c$=(e,t)=>{const n=typeof e=="number"?e:parseInt(String(e),10),r=String(e).toLowerCase(),s=t.toLowerCase();return n===15||r.includes("auction")?"auction_pending":n===17||r.includes("withdraw")?"withdraw_pending":n===14||r.includes("dispute")?"dispute_pending":n===7||r.includes("system")?s.includes("ti khon")||s.includes("account")||s.includes("user")?"account_pending":s.includes("chng ch")||s.includes("certification")||s.includes("cert")?"certification_pending":"system":r.includes("account")||r.includes("user")||n===0?"account_pending":r.includes("certification")||r.includes("cert")||n===1?"certification_pending":r.includes("wallet")||r.includes("transfer")||r.includes("funds")||n===5?"wallet_transfer":"system"},u$=e=>{if(e===void 0)return"info";const t=typeof e=="number"?e:parseInt(String(e),10),n=String(e).toLowerCase();return t===0||n==="success"?"success":t===1||n==="info"?"info":t===2||n==="warning"?"warning":t===3||n==="error"?"error":"info"},d$=e=>{if(!e||typeof e!="object")return null;const t=e,n=t.type??t.Type??t.TYPE??"system",r=t.severity??t.Severity??t.SEVERITY,s=t.title||t.Title||t.TITLE||"Thng bo mi",o=t.message||t.Message||t.MESSAGE||t.content||t.Content||"",u=t.data||t.Data||t.DATA;let d;if(typeof u=="string")try{d=JSON.parse(u)}catch{d={raw:u}}else u&&typeof u=="object"&&(d=u);const f=t.userId||t.UserId||t.USER_ID;f&&f!==ku?console.warn("[useAdminNotifications]  Notification userId mismatch:",f,"Expected:",ku,"But processing anyway..."):f===ku?console.log("[useAdminNotifications]  Notification for admin user:",ku):console.log("[useAdminNotifications]  No userId in notification, assuming it's for admin (backend filtered)");const m={id:t.id||t.Id||t.ID,type:c$(n,s),severity:u$(r),title:s,message:o,isRead:t.isRead!==void 0?t.isRead:t.IsRead??!1,readAt:t.readAt||t.ReadAt||t.READ_AT,data:d,relatedEntityId:t.relatedEntityId||t.RelatedEntityId||t.RELATED_ENTITY_ID,relatedEntityType:t.relatedEntityType||t.RelatedEntityType||t.RELATED_ENTITY_TYPE,createdAt:t.createdAt||t.CreatedAt||t.CREATED_AT||new Date().toISOString()};return m.id||(m.id=`admin-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),!m.title||!m.message?(console.warn("[useAdminNotifications] Notification missing required fields:",t),null):m};function h$(e){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[o,u]=p.useState(0),[d,f]=p.useState([]),{user:m}=Ks(),g=p.useRef(e),x=p.useRef(null),b=p.useRef(!1),j=p.useRef(!0),S=p.useRef(new Set);p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>(j.current=!0,()=>{j.current=!1}),[]);const w=p.useCallback(()=>localStorage.getItem("adminToken")||localStorage.getItem("authToken"),[]);p.useEffect(()=>{if(console.log("[useAdminNotifications]  Effect triggered. User:",m?.id,"Role:",m?.role),!m?.id){console.log("[useAdminNotifications]  No user ID, skipping connection");const R=x.current;R&&(R.stop().catch(console.error),n(null),s(!1),x.current=null),b.current=!1;return}if(m?.role!=="admin"){console.log("[useAdminNotifications]  User is not admin, skipping connection. Role:",m?.role);return}const _=x.current;if(_){if(_.state===Ft.Connected||_.state===Ft.Connecting||b.current){console.log("[useAdminNotifications] Connection already exists");return}_.state===Ft.Disconnected&&(_.stop().catch(console.error),x.current=null)}return b.current?void 0:(b.current=!0,(async()=>{try{if(!j.current){b.current=!1;return}let R=w();if(nC(R)){console.log("[useAdminNotifications] Token expired, refreshing before connection...");const X=await Ku.refreshToken();if(X)R=X,console.log("[useAdminNotifications] Token refreshed successfully before SignalR connection");else{console.error("[useAdminNotifications] Failed to refresh token before SignalR connection"),b.current=!1;return}}if(!R){console.warn("[useAdminNotifications] No auth token available"),b.current=!1;return}console.log("[useAdminNotifications]  Connecting to SignalR hub:",Jx),console.log("[useAdminNotifications] API_BASE_URL:",zm);const D=new PR().withUrl(Jx,{transport:Mn.LongPolling,accessTokenFactory:async()=>{let X=w();if(nC(X)){console.log("[useAdminNotifications] Token expired during connection, refreshing...");const Y=await Ku.refreshToken();if(Y)X=Y,console.log("[useAdminNotifications] Token refreshed during SignalR connection lifecycle");else throw console.error("[useAdminNotifications] Failed to refresh token during SignalR connection"),new Error("Token refresh failed")}if(!X)throw new Error("No token available");return X}}).withAutomaticReconnect({nextRetryDelayInMilliseconds:X=>X.previousRetryCount===0?0:X.previousRetryCount===1?2e3:X.previousRetryCount===2?5e3:X.previousRetryCount===3?1e4:3e4}).configureLogging(_e.Warning).build(),B=X=>{console.log("[useAdminNotifications]  Raw notification data received:",X);const Y=d$(X);if(!Y){console.warn("[useAdminNotifications]  Failed to normalize notification:",X);return}if(S.current.has(Y.id)){console.log("[useAdminNotifications]  Duplicate notification ignored:",Y.id);return}if(S.current.add(Y.id),console.log("[useAdminNotifications]  New notification processed:",{id:Y.id,type:Y.type,title:Y.title,userId:X?.userId}),f(L=>L.some(re=>re.id===Y.id)?(console.log("[useAdminNotifications] Notification already in list:",Y.id),L):(console.log("[useAdminNotifications] Adding notification to list. Total:",L.length+1),[Y,...L].slice(0,50))),Y.isRead||u(L=>{const F=L+1;return console.log("[useAdminNotifications] Unread count updated:",F),F}),g.current){console.log("[useAdminNotifications]  Calling onNewNotification callback for notification:",Y.id);try{g.current(Y),console.log("[useAdminNotifications]  Callback executed successfully")}catch(L){console.error("[useAdminNotifications]  Error in callback:",L)}}else console.warn("[useAdminNotifications]  No onNewNotification callback provided - toast s khng t ng hin th!")};if(console.log("[useAdminNotifications] Registering handlers for methods:",rC),rC.forEach(X=>{D.on(X,Y=>{console.log(`[useAdminNotifications] Received event: ${X}`,Y);let L;if(typeof Y=="string")try{L=JSON.parse(Y)}catch{console.warn(`[useAdminNotifications] Failed to parse notification from ${X}`);return}else L=Y;B(L)})}),D.onreconnecting(X=>{console.log("[useAdminNotifications] Reconnecting...",X),j.current&&s(!1)}),D.onreconnected(X=>{console.log("[useAdminNotifications] Reconnected! Connection ID:",X),j.current&&s(!0)}),D.onclose(X=>{X&&console.warn("[useAdminNotifications] Connection closed with error:",X),j.current&&s(!1)}),console.log("[useAdminNotifications] Starting SignalR connection..."),await D.start(),!j.current){D.stop().catch(console.error),b.current=!1;return}console.log("[useAdminNotifications]  Connected successfully! Connection ID:",D.connectionId),console.log("[useAdminNotifications] Connection state:",D.state),s(!0),console.log("[useAdminNotifications] Admin should be auto-joined to group user:"+ku);try{const X=await D.invoke("GetUnreadNotificationCount");console.log("[useAdminNotifications] Initial unread count:",X),typeof X=="number"&&j.current&&u(X)}catch(X){console.log("[useAdminNotifications] GetUnreadNotificationCount method not available or error:",X)}j.current?(n(D),x.current=D):D.stop().catch(console.error)}catch(R){console.error("[useAdminNotifications]  Error connecting to SignalR:",R),R instanceof Error&&(console.error("[useAdminNotifications] Error message:",R.message),console.error("[useAdminNotifications] Error name:",R.name),(R.message.includes("404")||R.message.includes("Not Found"))&&(console.error("[useAdminNotifications]  Hub URL khng ng hoc khng tn ti!"),console.error("[useAdminNotifications] Hub URL ang dng:",Jx),console.error("[useAdminNotifications] Vui lng kim tra li hub URL trong backend hoc env variable VITE_SIGNALR_HUB_URL"))),j.current&&s(!1)}finally{b.current=!1}})(),()=>{j.current=!1,b.current=!1;const R=x.current;R&&R.stop().catch(console.error),x.current=null,n(null),s(!1)})},[m?.id,m?.role,w]);const N=p.useCallback(()=>{const _=d.filter(O=>!O.isRead).length;u(_)},[d]),E=p.useCallback(_=>{f(O=>O.map(R=>R.id===_?{...R,isRead:!0,readAt:new Date().toISOString()}:R)),u(O=>Math.max(0,O-1))},[]),A=p.useCallback(()=>{f(_=>_.map(O=>({...O,isRead:!0,readAt:new Date().toISOString()}))),u(0)},[]),T=p.useCallback(()=>{f([]),u(0),S.current.clear()},[]);return{connection:t,isConnected:r,unreadCount:o,notifications:d,refreshUnreadCount:N,markAsRead:E,markAllAsRead:A,clearNotifications:T}}const f$=(e,t)=>{const n=(t||"").toLowerCase();return e===15||n.includes("auction")?"auction_pending":e===17||n.includes("withdraw")?"withdraw_pending":e===11||n.includes("wallet")?"wallet_transfer":"system"},m$=e=>e===1?"warning":e===2?"error":"info",g$=e=>({id:e.id,type:f$(e.type,e.relatedEntityType),title:e.title,message:e.message,severity:m$(e.severity),isRead:e.isRead,relatedEntityId:e.relatedEntityId??void 0,relatedEntityType:e.relatedEntityType??void 0,data:e.data?{raw:e.data}:void 0,createdAt:e.createdAt,readAt:e.readAt}),af={async getNotifications(e,t=1,n=20){const r=await ct.get(Ie.notification.byUserId(e),{params:{pageNumber:t,pageSize:n},cache:!1});return!r.isSuccess||!r.data?[]:r.data.map(g$)},async getUnreadCount(e){const t=await ct.get(Ie.notification.unreadCountByUserId(e),{cache:!1});return!t.isSuccess||typeof t.data!="number"?0:t.data},async markAsRead(e,t){return(await ct.post(Ie.notification.markAsRead(e),{},{invalidateCache:Ie.notification.byUserId(t)})).isSuccess},async markAllAsRead(e){return(await ct.post(Ie.notification.markAllAsRead(e),{},{invalidateCache:Ie.notification.byUserId(e)})).isSuccess}},Vn={async list(){return ct.get(Ie.users.list,{cache:!0,cacheTTL:300*1e3})},async getById(e){return ct.get(Ie.users.detail(e),{cache:!1})},async updateStatus(e,t){return ct.put(Ie.users.updateStatus(e),t,{invalidateCache:Ie.users.list})}},vn={async getWallets(){return ct.get(Ie.wallet.list,{cache:!1})},async getSystemWallet(){return ct.get(Ie.wallet.system,{cache:!1})},async getWalletById(e){return ct.get(Ie.wallet.detail(e),{cache:!1})},async getWalletByUserId(e){return ct.get(Ie.wallet.byUser(e),{cache:!1})},async getLedgers(){return ct.get(Ie.ledger.list,{cache:!1})},async getLedgersByWallet(e){return ct.get(Ie.ledger.byWallet(e),{cache:!1})},async createLedger(e){return ct.post(Ie.ledger.create,e,{invalidateCache:Ie.ledger.list})},async getLedgersByTransaction(e){return ct.get(Ie.ledger.byTransaction(e),{cache:!1})},async getTransactions(){return ct.get(Ie.transaction.list,{cache:!1})},async getTransactionById(e){return ct.get(Ie.transaction.detail(e),{cache:!1})},async getTransactionsByWallet(e){return ct.get(Ie.transaction.byWallet(e),{cache:!1})},async getWithdrawRequests(){return ct.get(Ie.withdrawRequest.list,{cache:!1})},async getWithdrawRequestById(e){return ct.get(Ie.withdrawRequest.detail(e),{cache:!1})},async getWithdrawRequestsByUser(e){return ct.get(Ie.withdrawRequest.byUser(e),{cache:!1})},async getMyWithdrawRequests(){return ct.get(Ie.withdrawRequest.myRequests,{cache:!1})},async createWithdrawRequest(e){return ct.post(Ie.withdrawRequest.create,e,{invalidateCache:Ie.withdrawRequest.list})},async approveWithdrawRequest(e){return ct.post(Ie.withdrawRequest.approve(e),{},{invalidateCache:Ie.withdrawRequest.list})},async rejectWithdrawRequest(e,t){return ct.post(Ie.withdrawRequest.reject(e),t||{},{invalidateCache:Ie.withdrawRequest.list})},async completeWithdrawRequest(e){return ct.post(Ie.withdrawRequest.complete(e),{},{invalidateCache:Ie.withdrawRequest.list})},async getUserBankAccountById(e){return ct.get(Ie.userBankAccount.detail(e),{cache:!1})},async getBanks(){return ct.get(Ie.bank.list,{cache:!1})},async getEscrowById(e){return ct.get(Ie.escrow.detail(e),{cache:!1})},async getEscrowByAuctionId(e){return ct.get(Ie.escrow.byAuction(e),{cache:!1})},async getEscrowByBuyRequestId(e){return ct.get(Ie.escrow.byBuyRequest(e),{cache:!1})}},p$={account_pending:a.jsx(xc,{className:"h-4 w-4 text-blue-500"}),certification_pending:a.jsx(Da,{className:"h-4 w-4 text-amber-500"}),auction_pending:a.jsx(db,{className:"h-4 w-4 text-purple-500"}),withdraw_pending:a.jsx(iL,{className:"h-4 w-4 text-green-500"}),dispute_pending:a.jsx($m,{className:"h-4 w-4 text-red-500"}),wallet_transfer:a.jsx(Hf,{className:"h-4 w-4 text-emerald-500"}),system:a.jsx(LL,{className:"h-4 w-4 text-gray-500"})},x$={account_pending:"bg-blue-50",certification_pending:"bg-amber-50",auction_pending:"bg-purple-50",withdraw_pending:"bg-green-50",dispute_pending:"bg-red-50",wallet_transfer:"bg-emerald-50",system:"bg-gray-50"},y$=e=>{const t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3);return r<60?"Va xong":r<3600?`${Math.floor(r/60)} pht trc`:r<86400?`${Math.floor(r/3600)} gi trc`:r<604800?`${Math.floor(r/86400)} ngy trc`:t.toLocaleDateString("vi-VN")},v$=e=>{const{type:t,relatedEntityId:n,relatedEntityType:r,data:s,title:o}=e,u=(r||"").toLowerCase(),d=(o||"").toLowerCase();if(u.includes("report")||d.includes("bo co phin u gi")||d.includes("bo co")){let f;if(s&&typeof s=="object"){const m=s;f=m.auctionId||m.auctionID||m.auctionSessionId||m.auctionSessionID}return f?et.ADMIN_AUCTIONS_BY_ID_REPORTS.replace(":id",f):et.ADMIN_REPORTS}if(t==="certification_pending")return`${et.ADMIN_APPROVAL}?tab=certifications`;if(t==="account_pending")return et.ADMIN_APPROVAL;if(u.includes("auction"))return n?et.ADMIN_AUCTIONS_BY_ID.replace(":id",n):et.ADMIN_AUCTIONS;if(u.includes("withdrawrequest")||u.includes("withdraw")||u.includes("wallet"))return et.ADMIN_WALLET;if(u.includes("dispute"))return et.ADMIN_DISPUTES;if(u.includes("user")||u.includes("account"))return et.ADMIN_APPROVAL;if(u.includes("certification")||u.includes("cert"))return`${et.ADMIN_APPROVAL}?tab=certifications`;switch(t){case"auction_pending":return n?et.ADMIN_AUCTIONS_BY_ID.replace(":id",n):et.ADMIN_AUCTIONS;case"withdraw_pending":case"wallet_transfer":return et.ADMIN_WALLET;case"dispute_pending":return et.ADMIN_DISPUTES;case"system":return et.ADMIN_DASHBOARD;default:return et.ADMIN_DASHBOARD}};function b$(){const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[s,o]=p.useState(!1),[u,d]=p.useState([]),[f,m]=p.useState(0),[g,x]=p.useState({}),b=p.useRef(null),j=br(),{user:S}=Ks(),{toast:w}=In(),N=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,E=p.useCallback(async q=>{if(g[q])return g[q];try{const ee=await Vn.getById(q);if(ee.isSuccess&&ee.data){const ue=`${ee.data.firstName} ${ee.data.lastName}`.trim()||ee.data.email;return x(we=>({...we,[q]:ue})),ue}}catch(ee){console.error("[AdminNotificationBell] Error fetching user:",ee)}return null},[g]),A=p.useCallback(async q=>{try{const ee=await vn.getWithdrawRequestById(q);if(ee.isSuccess&&ee.data){const ue=ee.data.userId;return await E(ue)}}catch(ee){console.error("[AdminNotificationBell] Error fetching withdraw request:",ee)}return null},[E]),T={success:"success",info:"info",warning:"default",error:"destructive"},_=p.useRef(new Set),O=p.useCallback(async q=>{let ee=q.message||"Bn c thng bo mi";const ue=ee.match(N)||[];if(ue.length===0)return ee;const we={...g},ae=ue.filter(ne=>!we[ne]);if(ae.length>0){const ne=ae.map(async M=>{try{const W=await E(M);return{userId:M,userName:W}}catch(W){return console.error("[AdminNotificationBell] Error fetching user name:",W),{userId:M,userName:null}}}),V=await Promise.all(ne);V.forEach(({userId:M,userName:W})=>{W&&(we[M]=W)});const U={};V.forEach(({userId:M,userName:W})=>{W&&(U[M]=W)}),Object.keys(U).length>0&&x(M=>({...M,...U}))}return ue.forEach(ne=>{const V=we[ne];V&&(ee=ee.replace(ne,V))}),ee},[g,E]),R=p.useCallback(async q=>{if(!q||!q.id){console.warn("[AdminNotificationBell] Invalid notification for toast:",q);return}if(_.current.has(q.id)){console.log("[AdminNotificationBell] Toast already shown, skipping:",q.id);return}_.current.add(q.id);const ee=q.title||"Thng bo mi",ue=await O(q);console.log("[AdminNotificationBell]  Showing toast for notification:",{id:q.id,title:ee,type:q.type,message:ue});try{w({title:ee,description:ue,variant:T[q.severity]||"default"}),console.log("[AdminNotificationBell]  Toast displayed successfully")}catch(we){console.error("[AdminNotificationBell]  Error showing toast:",we)}if("Notification"in window&&window.Notification.permission==="granted")try{const we=new window.Notification(ee,{body:ue,icon:"/favicon.ico",tag:q.id,requireInteraction:!1});setTimeout(()=>{we.close()},5e3),console.log("[AdminNotificationBell]  Browser notification shown:",q.id)}catch(we){console.error("[AdminNotificationBell] Error showing browser notification:",we)}else"Notification"in window&&window.Notification.permission==="default"&&(console.log("[AdminNotificationBell] Requesting browser notification permission..."),window.Notification.requestPermission().then(we=>{if(console.log("[AdminNotificationBell] Notification permission:",we),we==="granted")try{const ae=new window.Notification(ee,{body:ue,icon:"/favicon.ico",tag:q.id});setTimeout(()=>{ae.close()},5e3)}catch(ae){console.error("[AdminNotificationBell] Error showing browser notification after permission:",ae)}}))},[w,O]),D=p.useCallback(q=>{console.log("[AdminNotificationBell]  Callback handleNewNotification called:",q.id),R(q)},[R]),{isConnected:B,unreadCount:X,notifications:Y,markAsRead:L,markAllAsRead:F}=h$(D),re=p.useRef(0),ye=p.useRef(!0);p.useEffect(()=>{if(ye.current){ye.current=!1,re.current=Y.length,Y.forEach(q=>{_.current.add(q.id)});return}Y.length>re.current&&Y.length>0&&Y.filter(ee=>!_.current.has(ee.id)&&!ee.isRead).forEach(ee=>{console.log("[AdminNotificationBell]  Auto-showing toast for new notification (backup):",ee.id),R(ee)}),re.current=Y.length},[Y,R]);const[ve,H]=p.useState({});p.useEffect(()=>{const q=async()=>{const ee=[...u,...Y],ue={},we=new Set;if(ee.forEach(ae=>{if(ve[ae.id]){ue[ae.id]=ve[ae.id];return}(ae.message.match(N)||[]).forEach(V=>{g[V]||we.add(V)})}),we.size>0){const ae=Array.from(we).map(async U=>{const M=await E(U);return{userId:U,userName:M}}),ne=await Promise.all(ae),V={};ne.forEach(({userId:U,userName:M})=>{M&&(V[U]=M)}),Object.keys(V).length>0&&x(U=>({...U,...V}))}ee.forEach(ae=>{if(ue[ae.id])return;let ne=ae.message;const V=ae.message.match(N)||[];ae.type==="withdraw_pending"&&ae.relatedEntityId&&V.length>0?(A(ae.relatedEntityId).then(U=>{if(U){let M=ae.message;V.forEach(W=>{M=M.replace(W,U)}),H(W=>({...W,[ae.id]:M}))}}).catch(()=>{let U=ae.message;V.forEach(M=>{const W=g[M];W&&(U=U.replace(M,W))}),H(M=>({...M,[ae.id]:U}))}),ue[ae.id]=ne):(V.length>0&&V.forEach(U=>{const M=g[U];M&&(ne=ne.replace(U,M))}),ue[ae.id]=ne)}),H(ae=>({...ae,...ue}))};(u.length>0||Y.length>0)&&q()},[u,Y]);const I=p.useMemo(()=>{const q=new Map;return u.forEach(ue=>{q.set(ue.id,ue)}),Y.forEach(ue=>{q.set(ue.id,ue)}),Array.from(q.values()).sort((ue,we)=>new Date(we.createdAt).getTime()-new Date(ue.createdAt).getTime())},[u,Y]),K=p.useMemo(()=>X>0?X:f,[X,f]),de=p.useCallback(async()=>{if(S?.id){o(!0);try{const[q,ee]=await Promise.all([af.getNotifications(S.id),af.getUnreadCount(S.id)]);d(q),m(ee)}catch(q){console.error("[AdminNotificationBell] Error fetching notifications:",q)}finally{o(!1)}}},[S?.id]);p.useEffect(()=>{S?.id&&de()},[S?.id,de]),p.useEffect(()=>{if(S?.id){if(!("Notification"in window)){console.log("[AdminNotificationBell] Browser khng h tr notifications");return}window.Notification.permission==="default"?(console.log("[AdminNotificationBell] Requesting browser notification permission..."),window.Notification.requestPermission().then(q=>{console.log("[AdminNotificationBell] Notification permission result:",q),q==="granted"?console.log("[AdminNotificationBell]  Browser notifications  c cho php!"):q==="denied"&&console.warn("[AdminNotificationBell]  Browser notifications b t chi. User cn cho php trong browser settings.")}).catch(q=>{console.error("[AdminNotificationBell] Error requesting notification permission:",q)})):window.Notification.permission==="granted"?console.log("[AdminNotificationBell]  Browser notifications  c cho php t trc"):window.Notification.permission==="denied"&&console.warn("[AdminNotificationBell]  Browser notifications b t chi. User cn cho php trong browser settings.")}},[S?.id]),p.useEffect(()=>{const q=ee=>{b.current&&!b.current.contains(ee.target)&&t(!1)};return e&&document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[e]),p.useEffect(()=>{e&&S?.id&&de()},[e,S?.id,de]);const Se=p.useCallback(q=>{console.log("[AdminNotificationBell] Notification clicked:",q),(async()=>{if(!(!S?.id||q.isRead))try{await af.markAsRead(q.id,S.id)&&(L(q.id),d(ae=>ae.map(ne=>ne.id===q.id?{...ne,isRead:!0,readAt:new Date().toISOString()}:ne)),m(ae=>Math.max(0,ae-1)))}catch(we){console.error("[AdminNotificationBell] Error marking notification as read:",we)}})();const ue=v$(q);console.log("[AdminNotificationBell] Route for notification:",ue,"Type:",q.type),ue?j(ue):(console.warn("[AdminNotificationBell] No route found for notification:",q),q.type==="certification_pending"?j(`${et.ADMIN_APPROVAL}?tab=certifications`):q.type==="account_pending"&&j(et.ADMIN_APPROVAL)),t(!1)},[L,j,S?.id]),P=p.useCallback(async()=>{r(!0);try{S?.id?await af.markAllAsRead(S.id)&&(F(),d(ee=>ee.map(ue=>({...ue,isRead:!0,readAt:new Date().toISOString()}))),m(0)):F()}finally{r(!1)}},[F]);return a.jsxs("div",{className:"relative",ref:b,children:[a.jsxs(oe,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:"relative h-10 w-10 p-0 hover:bg-gray-100 rounded-lg","aria-label":`Thng bo${K>0?` (${K} cha c)`:""}`,title:B?" kt ni realtime":"ang kt ni...",children:[a.jsx(zE,{className:"h-5 w-5 text-gray-600"}),K>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white animate-pulse",children:K>9?"9+":K}),a.jsx("span",{className:`absolute bottom-0 right-0 h-2 w-2 rounded-full border border-white ${B?"bg-green-400":"bg-yellow-400"}`})]}),e&&a.jsxs("div",{className:"absolute right-0 top-12 z-50 w-96 rounded-xl border border-gray-200 bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Thng bo"}),B&&a.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-0.5 text-xs font-medium text-green-700",children:"Live"})]}),K>0&&a.jsxs(oe,{variant:"ghost",size:"sm",onClick:P,disabled:n,className:"h-8 px-2 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[n?a.jsx(Pn,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(hL,{className:"h-3 w-3 mr-1"}),"c tt c"]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx(Pn,{className:"h-5 w-5 animate-spin text-gray-400"})}):I.length===0?a.jsxs("div",{className:"px-4 py-12 text-center",children:[a.jsx(zE,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Khng c thng bo mi"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cc thng bo v ti khon, chng ch, u gi s xut hin  y"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:I.map(q=>a.jsx("button",{onClick:()=>Se(q),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${q.isRead?"":x$[q.type]}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2 rounded-lg ${q.isRead?"bg-gray-100":"bg-white shadow-sm"}`,children:p$[q.type]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:`text-sm font-medium line-clamp-1 ${q.isRead?"text-gray-600":"text-gray-900"}`,children:q.title}),!q.isRead&&a.jsx("div",{className:"h-2 w-2 flex-shrink-0 rounded-full bg-blue-500 mt-1.5"})]}),a.jsx("p",{className:"mt-0.5 text-xs text-gray-500 line-clamp-2",children:ve[q.id]||q.message}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-400",children:y$(q.createdAt)})]})]})},q.id))})}),I.length>0&&a.jsx("div",{className:"border-t border-gray-200 px-4 py-2.5 text-center bg-gray-50/50",children:a.jsx("p",{className:"text-xs text-gray-500",children:K>0?`${K} thng bo cha c`:" c tt c thng bo"})})]})]})}function j$({onMenuClick:e}){const{user:t}=Ks(),n=o=>{if(!o)return"AD";const u=o.trim().split(/\s+/);return u.length>=2?(u[0][0]+u[u.length-1][0]).toUpperCase():o.substring(0,2).toUpperCase()},r=t?.name||"Admin",s=t?.email||"admin@agrimart.com";return a.jsx("header",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 md:px-6 py-3 sm:py-4 sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsx(oe,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:e,"aria-label":"Toggle menu",children:a.jsx(VL,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"relative"})})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[a.jsx(b$,{}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs(wU,{className:"w-7 h-7 sm:w-8 sm:h-8",children:[a.jsx(NU,{src:EU}),a.jsx(SU,{children:n(t?.name)})]}),a.jsxs("div",{className:"hidden sm:block text-sm",children:[a.jsx("p",{className:"font-medium truncate max-w-[120px] md:max-w-none",children:r}),a.jsx("p",{className:"text-gray-500 text-xs truncate max-w-[120px] md:max-w-none",children:s})]})]})]})]})})}function xn({children:e}){const[t,n]=p.useState(!1);return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(jU,{isOpen:t,onClose:()=>n(!1)}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>n(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full lg:w-auto",children:[a.jsx(j$,{onMenuClick:()=>n(!t)}),a.jsx("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6",children:e})]})]})}const dt=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:zt("rounded-2xl border border-muted/30 bg-white/90 backdrop-blur-sm shadow-[0_4px_12px_rgba(0,0,0,0.04)] transition-all duration-200","hover:shadow-[0_8px_20px_rgba(0,0,0,0.06)] hover:-translate-y-[1px]",e),...t}));dt.displayName="Card";const Gi=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:zt("flex flex-col space-y-1.5 p-6 pb-3",e),...t}));Gi.displayName="CardHeader";const Vi=p.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:zt("text-xl font-semibold leading-tight tracking-tight text-gray-900",e),...t}));Vi.displayName="CardTitle";const w$=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:zt("text-sm text-gray-500",e),...t}));w$.displayName="CardDescription";const sa=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:zt("p-6 pt-2",e),...t}));sa.displayName="CardContent";const N$=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:zt("flex items-center p-6 pt-0 border-t border-muted/20",e),...t}));N$.displayName="CardFooter";function S$({children:e,onSubmit:t,title:n,submitText:r="Gi",isLoading:s=!1,disabled:o=!1,className:u="",submitButtonClassName:d="w-full bg-green-600 hover:bg-green-700"}){return a.jsxs("div",{className:`space-y-4 sm:space-y-6 ${u}`,children:[n&&a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:n}),a.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e,a.jsxs(oe,{type:"submit",className:`text-sm sm:text-base ${d}`,disabled:o||s,children:[s&&a.jsx(Pn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),s?"ang x l...":r]})]})]})}const dn=p.forwardRef(({className:e,type:t,variant:n="default",...r},s)=>a.jsx("input",{type:t,ref:s,className:zt("peer flex h-11 w-full rounded-2xl border border-transparent bg-white/80 px-4 py-2.5 text-sm font-medium text-gray-900 shadow-[0_10px_25px_rgba(15,118,110,0.08)] transition-all duration-300 placeholder:text-gray-400","ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","focus-visible:ring-emerald-400/40 focus-visible:border-emerald-500/60","hover:border-emerald-200 hover:shadow-[0_14px_32px_rgba(15,118,110,0.12)]",n==="error"&&"border-rose-200 bg-rose-50/60 text-rose-700 placeholder:text-rose-400 focus-visible:ring-rose-400 focus-visible:border-rose-500","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:opacity-70",e),...r}));dn.displayName="Input";const Be=p.forwardRef(({className:e,...t},n)=>a.jsx("label",{ref:n,className:zt("text-sm font-semibold uppercase tracking-wide text-gray-500","peer-disabled:cursor-not-allowed peer-disabled:opacity-60",e),...t}));Be.displayName="Label";function E$({label:e,id:t,type:n="text",placeholder:r,value:s,onChange:o,required:u=!1,error:d,disabled:f=!1,description:m}){return a.jsxs("div",{className:"space-y-2 h-full",children:[a.jsxs(Be,{htmlFor:t,className:"flex items-center gap-1 text-sm sm:text-base h-6",children:[e,u&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(dn,{id:t,type:n,placeholder:r,value:s,onChange:g=>o(g.target.value),required:u,disabled:f,variant:d?"error":"default",className:`text-sm sm:text-base ${d?"border-red-500 focus-visible:ring-red-500":""}`}),m&&a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:m}),d&&a.jsxs("p",{className:"text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full"}),d]})]})}function C$({onLoginSuccess:e}){const[t,n]=p.useState(""),[r,s]=p.useState(""),[o,u]=p.useState(""),[d,f]=p.useState(""),[m,g]=p.useState(!1),[x,b]=p.useState(!1),j=br(),{toast:S}=In(),{setAuth:w}=Ks(),N=O=>O.trim()?O.includes("@")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O.trim())?(u(""),!0):(u(kt.EMAIL_INVALID_FORMAT),!1):(u(kt.EMAIL_MUST_CONTAIN_AT),!1):(u(kt.EMAIL_REQUIRED),!1),E=O=>O?O.length<6?(f(kt.PASSWORD_MIN_LENGTH),!1):/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(O)?(f(""),!0):(f(kt.PASSWORD_SPECIAL_CHAR),!1):(f(kt.PASSWORD_REQUIRED),!1),A=O=>{n(O),o&&N(O)},T=O=>{s(O),d&&E(O)},_=async O=>{O.preventDefault();const R=N(t),D=E(r);if(!R||!D){const B=[];!R&&o&&B.push(o),!D&&d&&B.push(d),S({title:kt.VALIDATION_ERROR_TITLE,description:B.length>0?B.join(". "):kt.VALIDATION_ERROR_DESCRIPTION,variant:"destructive"});return}b(!0);try{const B=await Ku.login({email:t.trim(),password:r});w({user:B.user,token:B.token}),S({title:fb.LOGIN_SUCCESS,description:kB(B.user.name)}),j("/admin",{replace:!0}),e&&e(B.user)}catch(B){let X=kt.LOGIN_FAILED,Y=kt.LOGIN_FAILED_TITLE;if(B instanceof Error){const L=B.message.trim();L.includes(kt.NOT_ADMIN)||L.includes("khng c quyn")||L.includes(kt.NOT_ADMIN_DETAIL)?(X=kt.NOT_ADMIN_DETAIL,Y=kt.NOT_ADMIN_TITLE):L.includes(kt.CANNOT_VALIDATE_ADMIN)?(X=kt.CANNOT_VALIDATE_ADMIN,Y=kt.CANNOT_VALIDATE_ADMIN_TITLE):L.includes("401")||L.includes("Unauthorized")?(X=kt.AUTH_FAILED,Y=kt.AUTH_FAILED_TITLE):L.includes("Network")||L.includes("fetch")?(X=kt.NETWORK_ERROR,Y=kt.CONNECTION_ERROR_TITLE):L!==""&&L!==void 0&&(X=L)}S({title:Y,description:X,variant:"destructive"})}finally{b(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-red-50 to-white p-3 sm:p-4",children:a.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 sm:mb-4",children:[a.jsx("img",{src:"/assets/logo.png",alt:"AgriMart Logo",className:"h-6 w-6 sm:h-8 sm:w-8 object-contain"}),a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-green-800",children:"AgriMart Admin"})]}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"ng nhp"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 px-2",children:"Nhp thng tin  truy cp trang Admin"})]}),a.jsx(dt,{className:"border-green-200",children:a.jsxs(sa,{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 rounded-lg",children:[a.jsx("strong",{children:"Ch :"})," Trang ny ch dnh cho qun tr vin. Ti khon admin c to bi h thng, khng th ng k t do."]}),a.jsxs(S$,{onSubmit:_,submitText:"ng nhp",isLoading:x,children:[a.jsx(E$,{label:zo.EMAIL_LABEL,id:"email",type:"email",placeholder:zo.EMAIL_PLACEHOLDER,value:t,onChange:A,required:!0,error:o,description:zo.EMAIL_DESCRIPTION}),a.jsxs("div",{className:"space-y-2 h-full",children:[a.jsxs(Be,{htmlFor:"password",className:"flex items-center gap-1 text-sm sm:text-base h-6",children:[zo.PASSWORD_LABEL,a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{id:"password",type:m?"text":"password",placeholder:zo.PASSWORD_PLACEHOLDER,value:r,onChange:O=>T(O.target.value),required:!0,variant:d?"error":"default",className:`text-sm sm:text-base pr-10 ${d?"border-red-500 focus-visible:ring-red-500":""}`}),a.jsx(oe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>g(!m),"aria-label":m?"n mt khu":"Hin mt khu",children:m?a.jsx(AL,{className:"h-4 w-4 text-gray-500"}):a.jsx(xr,{className:"h-4 w-4 text-gray-500"})})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:zo.PASSWORD_DESCRIPTION}),d&&a.jsxs("p",{className:"text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full"}),d]})]})]})]})})]})})}function A$(){return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-6",children:Array.from({length:6}).map((e,t)=>a.jsx(dt,{className:"border-gray-200",children:a.jsx(sa,{className:"p-4 sm:p-5 md:p-6",children:a.jsxs("div",{className:"space-y-3 sm:space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-3 sm:h-4 w-20 sm:w-24 bg-gray-200 rounded"}),a.jsx("div",{className:"h-6 sm:h-8 w-24 sm:w-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-2 sm:h-3 w-16 sm:w-20 bg-gray-200 rounded"})]})})},`stat-skeleton-${t}`))})}function T$(){return a.jsx(dt,{className:"border-dashed border-gray-200",children:a.jsx(sa,{className:"p-6 text-center text-sm text-gray-500",children:"Cha c d liu tng quan. Hy kim tra li sau."})})}function _$({stats:e,isLoading:t}){if(t)return a.jsx(A$,{});if(!e.length)return a.jsx(T$,{});const n=r=>r==="up"?a.jsx(Us,{className:"w-3 h-3 text-emerald-500"}):r==="down"?a.jsx(gB,{className:"w-3 h-3 text-red-500"}):a.jsx(YL,{className:"w-3 h-3 text-gray-400"});return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4",children:e.map((r,s)=>{const o=!!r.highlight;return a.jsxs(dt,{className:`group relative overflow-hidden transition-all duration-300 ${o?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/20 border-emerald-400":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[!o&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs(sa,{className:"p-4 sm:p-5 relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[a.jsx("h3",{className:`text-[10px] sm:text-xs font-medium uppercase tracking-wide line-clamp-2 ${o?"text-emerald-50":"text-gray-500"}`,children:r.title}),a.jsx(tL,{className:`w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 ml-1 ${o?"text-emerald-100":"text-gray-400"}`})]}),a.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[a.jsx("p",{className:`text-lg sm:text-xl md:text-2xl font-bold ${o?"text-white":"text-gray-900"}`,children:r.value}),r.change&&a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 text-[10px] sm:text-xs",children:[n(r.trend),a.jsx("span",{className:`line-clamp-1 ${o?"text-emerald-50":"text-gray-500"}`,children:r.change})]})]})]})]},`stat-${r.title}-${s}`)})})}var R$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vb(e){if(typeof e!="string")return!1;var t=R$;return t.includes(e)}var O$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function IR(e){if(typeof e!="string")return!1;var t=O$;return t.includes(e)}function LR(e){return typeof e=="string"&&e.startsWith("data-")}function la(e){var t=Object.entries(e).filter(n=>{var[r]=n;return IR(r)||LR(r)});return Object.fromEntries(t)}function $l(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return la(t)}return typeof e=="object"&&!Array.isArray(e)?la(e):null}function Ar(e){var t=Object.entries(e).filter(n=>{var[r]=n;return IR(r)||LR(r)||vb(r)});return Object.fromEntries(t)}function k$(e){return e==null?null:p.isValidElement(e)?Ar(e.props):typeof e=="object"&&!Array.isArray(e)?Ar(e):null}var D$=["children","width","height","viewBox","className","style","title","desc"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(null,arguments)}function M$(e,t){if(e==null)return{};var n,r,s=P$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function P$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bb=p.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:o,className:u,style:d,title:f,desc:m}=e,g=M$(e,D$),x=o||{width:r,height:s,x:0,y:0},b=Mt("recharts-surface",u);return p.createElement("svg",rv({},Ar(g),{className:b,width:r,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),n)}),I$=["children","className"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(null,arguments)}function L$(e,t){if(e==null)return{};var n,r,s=B$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function B$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ur=p.forwardRef((e,t)=>{var{children:n,className:r}=e,s=L$(e,I$),o=Mt("recharts-layer",r);return p.createElement("g",av({className:o},Ar(s),{ref:t}),n)}),BR=p.createContext(null),U$=()=>p.useContext(BR);function un(e){return function(){return e}}const UR=Math.cos,Ff=Math.sin,Wa=Math.sqrt,Kf=Math.PI,qm=2*Kf,iv=Math.PI,sv=2*iv,wl=1e-6,$$=sv-wl;function $R(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function z$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $R;const n=10**t;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class H${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$R:z$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,o,u){this._append`C${+t},${+n},${+r},${+s},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,s,o){if(t=+t,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,f=r-t,m=s-n,g=u-t,x=d-n,b=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>wl)if(!(Math.abs(x*f-m*g)>wl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let j=r-u,S=s-d,w=f*f+m*m,N=j*j+S*S,E=Math.sqrt(w),A=Math.sqrt(b),T=o*Math.tan((iv-Math.acos((w+b-N)/(2*E*A)))/2),_=T/A,O=T/E;Math.abs(_-1)>wl&&this._append`L${t+_*g},${n+_*x}`,this._append`A${o},${o},0,0,${+(x*j>g*S)},${this._x1=t+O*f},${this._y1=n+O*m}`}}arc(t,n,r,s,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),f=r*Math.sin(s),m=t+d,g=n+f,x=1^u,b=u?s-o:o-s;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>wl||Math.abs(this._y1-g)>wl)&&this._append`L${m},${g}`,r&&(b<0&&(b=b%sv+sv),b>$$?this._append`A${r},${r},0,1,${x},${t-d},${n-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=g}`:b>wl&&this._append`A${r},${r},0,${+(b>=iv)},${x},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function jb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new H$(t)}function wb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zR(e){this._context=e}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fm(e){return new zR(e)}function HR(e){return e[0]}function qR(e){return e[1]}function FR(e,t){var n=un(!0),r=null,s=Fm,o=null,u=jb(d);e=typeof e=="function"?e:e===void 0?HR:un(e),t=typeof t=="function"?t:t===void 0?qR:un(t);function d(f){var m,g=(f=wb(f)).length,x,b=!1,j;for(r==null&&(o=s(j=u())),m=0;m<=g;++m)!(m<g&&n(x=f[m],m,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(x,m,f),+t(x,m,f));if(j)return o=null,j+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:un(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,r!=null&&(o=s(r)),d):s},d.context=function(f){return arguments.length?(f==null?r=o=null:o=s(r=f),d):r},d}function sf(e,t,n){var r=null,s=un(!0),o=null,u=Fm,d=null,f=jb(m);e=typeof e=="function"?e:e===void 0?HR:un(+e),t=typeof t=="function"?t:un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?qR:un(+n);function m(x){var b,j,S,w=(x=wb(x)).length,N,E=!1,A,T=new Array(w),_=new Array(w);for(o==null&&(d=u(A=f())),b=0;b<=w;++b){if(!(b<w&&s(N=x[b],b,x))===E)if(E=!E)j=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),S=b-1;S>=j;--S)d.point(T[S],_[S]);d.lineEnd(),d.areaEnd()}E&&(T[b]=+e(N,b,x),_[b]=+t(N,b,x),d.point(r?+r(N,b,x):T[b],n?+n(N,b,x):_[b]))}if(A)return d=null,A+""||null}function g(){return FR().defined(s).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:un(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:un(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:un(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:un(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:un(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:un(+x),m):n},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(n)},m.lineX1=function(){return g().x(r).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:un(!!x),m):s},m.curve=function(x){return arguments.length?(u=x,o!=null&&(d=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=d=null:d=u(o=x),m):o},m}class KR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function q$(e){return new KR(e,!0)}function F$(e){return new KR(e,!1)}const Nb={draw(e,t){const n=Wa(t/Kf);e.moveTo(n,0),e.arc(0,0,n,0,qm)}},K$={draw(e,t){const n=Wa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GR=Wa(1/3),G$=GR*2,V$={draw(e,t){const n=Wa(t/G$),r=n*GR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},W$={draw(e,t){const n=Wa(t),r=-n/2;e.rect(r,r,n,n)}},Y$=.8908130915292852,VR=Ff(Kf/10)/Ff(7*Kf/10),X$=Ff(qm/10)*VR,Q$=-UR(qm/10)*VR,Z$={draw(e,t){const n=Wa(t*Y$),r=X$*n,s=Q$*n;e.moveTo(0,-n),e.lineTo(r,s);for(let o=1;o<5;++o){const u=qm*o/5,d=UR(u),f=Ff(u);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*s,f*r+d*s)}e.closePath()}},e0=Wa(3),J$={draw(e,t){const n=-Wa(t/(e0*3));e.moveTo(0,n*2),e.lineTo(-e0*n,-n),e.lineTo(e0*n,-n),e.closePath()}},wa=-.5,Na=Wa(3)/2,lv=1/Wa(12),e8=(lv/2+1)*3,t8={draw(e,t){const n=Wa(t/e8),r=n/2,s=n*lv,o=r,u=n*lv+n,d=-o,f=u;e.moveTo(r,s),e.lineTo(o,u),e.lineTo(d,f),e.lineTo(wa*r-Na*s,Na*r+wa*s),e.lineTo(wa*o-Na*u,Na*o+wa*u),e.lineTo(wa*d-Na*f,Na*d+wa*f),e.lineTo(wa*r+Na*s,wa*s-Na*r),e.lineTo(wa*o+Na*u,wa*u-Na*o),e.lineTo(wa*d+Na*f,wa*f-Na*d),e.closePath()}};function n8(e,t){let n=null,r=jb(s);e=typeof e=="function"?e:un(e||Nb),t=typeof t=="function"?t:un(t===void 0?64:+t);function s(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:un(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:un(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function Gf(){}function Vf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function WR(e){this._context=e}WR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r8(e){return new WR(e)}function YR(e){this._context=e}YR.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a8(e){return new YR(e)}function XR(e){this._context=e}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i8(e){return new XR(e)}function QR(e){this._context=e}QR.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s8(e){return new QR(e)}function aC(e){return e<0?-1:1}function iC(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),u=(n-e._y1)/(s||r<0&&-0),d=(o*s+u*r)/(r+s);return(aC(o)+aC(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function sC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function t0(e,t,n){var r=e._x0,s=e._y0,o=e._x1,u=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,s+d*t,o-d,u-d*n,o,u)}function Wf(e){this._context=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t0(this,this._t0,sC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,t0(this,sC(this,n=iC(this,e,t)),n);break;default:t0(this,this._t0,n=iC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ZR(e){this._context=new JR(e)}(ZR.prototype=Object.create(Wf.prototype)).point=function(e,t){Wf.prototype.point.call(this,t,e)};function JR(e){this._context=e}JR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function l8(e){return new Wf(e)}function o8(e){return new ZR(e)}function eO(e){this._context=e}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=lC(e),s=lC(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lC(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),u=new Array(n);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(s[n-1]=u[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function c8(e){return new eO(e)}function Km(e,t){this._context=e,this._t=t}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function u8(e){return new Km(e,.5)}function d8(e){return new Km(e,0)}function h8(e){return new Km(e,1)}function nc(e,t){if((u=e.length)>1)for(var n=1,r,s,o=e[t[0]],u,d=o.length;n<u;++n)for(s=o,o=e[t[n]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function ov(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function f8(e,t){return e[t]}function m8(e){const t=[];return t.key=e,t}function g8(){var e=un([]),t=ov,n=nc,r=f8;function s(o){var u=Array.from(e.apply(this,arguments),m8),d,f=u.length,m=-1,g;for(const x of o)for(d=0,++m;d<f;++d)(u[d][m]=[0,+r(x,u[d].key,m,o)]).data=x;for(d=0,g=wb(t(u));d<f;++d)u[g[d]].index=d;return n(u,g),u}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:un(Array.from(o)),s):e},s.value=function(o){return arguments.length?(r=typeof o=="function"?o:un(+o),s):r},s.order=function(o){return arguments.length?(t=o==null?ov:typeof o=="function"?o:un(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(n=o??nc,s):n},s}function p8(e,t){if((r=e.length)>0){for(var n,r,s=0,o=e[0].length,u;s<o;++s){for(u=n=0;n<r;++n)u+=e[n][s][1]||0;if(u)for(n=0;n<r;++n)e[n][s][1]/=u}nc(e,t)}}function x8(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,o=r.length;n<o;++n){for(var u=0,d=0;u<s;++u)d+=e[u][n][1]||0;r[n][1]+=r[n][0]=-d/2}nc(e,t)}}function y8(e,t){if(!(!((u=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,o,u;r<o;++r){for(var d=0,f=0,m=0;d<u;++d){for(var g=e[t[d]],x=g[r][1]||0,b=g[r-1][1]||0,j=(x-b)/2,S=0;S<d;++S){var w=e[t[S]],N=w[r][1]||0,E=w[r-1][1]||0;j+=N-E}f+=x,m+=j*x}s[r-1][1]+=s[r-1][0]=n,f&&(n-=m/f)}s[r-1][1]+=s[r-1][0]=n,nc(e,t)}}var n0={},r0={},oC;function v8(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(r0)),r0}var a0={},cC;function tO(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(a0)),a0}var i0={},uC;function Sb(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(i0)),i0}var s0={},l0={},dC;function b8(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(l0)),l0}var hC;function Eb(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b8(),n=Sb();function r(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],u=s.length;if(u===0)return o;let d=0,f="",m="",g=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<u;){const x=s[d];m?x==="\\"&&d+1<u?(d++,f+=s[d]):x===m?m="":f+=x:g?x==='"'||x==="'"?m=x:x==="]"?(g=!1,o.push(f),f=""):f+=x:x==="["?(g=!0,f&&(o.push(f),f="")):x==="."?f&&(o.push(f),f=""):f+=x,d++}return f&&o.push(f),o}e.toPath=r})(s0)),s0}var fC;function Cb(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v8(),n=tO(),r=Sb(),s=Eb();function o(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const g=d[f];return g===void 0?n.isDeepKey(f)?o(d,s.toPath(f),m):m:g}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const g=d[f];return g===void 0?m:g}default:{if(Array.isArray(f))return u(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const g=d[f];return g===void 0?m:g}}}function u(d,f,m){if(f.length===0)return m;let g=d;for(let x=0;x<f.length;x++){if(g==null||t.isUnsafeProperty(f[x]))return m;g=g[f[x]]}return g===void 0?m:g}e.get=o})(n0)),n0}var o0,mC;function j8(){return mC||(mC=1,o0=Cb().get),o0}var w8=j8();const zl=hi(w8);var tr=e=>e===0?0:e>0?1:-1,Ma=e=>typeof e=="number"&&e!=+e,Wi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!Ma(e),oi=e=>tt(e)||typeof e=="string",N8=0,Wu=e=>{var t=++N8;return"".concat(e||"").concat(t)},yr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return r;var o;if(Wi(t)){if(n==null)return r;var u=t.indexOf("%");o=n*parseFloat(t.slice(0,u))/100}else o=+t;return Ma(o)&&(o=r),s&&n!=null&&o>n&&(o=n),o},nO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Rn(e,t,n){return tt(e)&&tt(t)?e+n*(t-e):t}function rO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):zl(r,t))===n)}var Nn=e=>e===null||typeof e>"u",dd=e=>Nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),S8=["type","size","sizeType"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(null,arguments)}function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){E8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E8(e,t,n){return(t=C8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8(e,t){if(e==null)return{};var n,r,s=_8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aO={symbolCircle:Nb,symbolCross:K$,symbolDiamond:V$,symbolSquare:W$,symbolStar:Z$,symbolTriangle:J$,symbolWye:t8},R8=Math.PI/180,O8=e=>{var t="symbol".concat(dd(e));return aO[t]||Nb},k8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*R8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D8=(e,t)=>{aO["symbol".concat(dd(e))]=t},Ab=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=T8(e,S8),o=pC(pC({},s),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var b=O8(u),j=n8().type(b).size(k8(n,r,u)),S=j();if(S!==null)return S},{className:f,cx:m,cy:g}=o,x=Ar(o);return m===+m&&g===+g&&n===+n?p.createElement("path",cv({},x,{className:Mt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};Ab.registerSymbol=D8;var Tb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{vb(s)&&(r[s]=(o=>n[s](n,o)))}),r},M8=(e,t,n)=>r=>(e(t,n,r),null),hd=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var o=e[s];vb(s)&&typeof o=="function"&&(r||(r={}),r[s]=M8(o,t,n))}),r};function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function P8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){_b(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _b(e,t,n){return(t=I8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=L8(e,"string");return typeof t=="symbol"?t:t+""}function L8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sa=32;class Rb extends p.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,s=Sa/2,o=Sa/6,u=Sa/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Sa,y2:s,className:"recharts-legend-icon"});if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Sa,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Sa/8,"h").concat(Sa,"v").concat(Sa*3/4,"h").concat(-Sa,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var m=P8({},t);return delete m.legendIcon,p.cloneElement(t.legendIcon,m)}return p.createElement(Ab,{fill:d,cx:s,cy:s,size:Sa,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:s,inactiveColor:o,iconType:u}=this.props,d={x:0,y:0,width:Sa,height:Sa},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,x)=>{var b=g.formatter||s,j=Mt({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:g.inactive});if(g.type==="none")return null;var S=g.inactive?o:g.color,w=b?b(g.value,g,x):g.value;return p.createElement("li",uv({className:j,style:f,key:"legend-item-".concat(x)},hd(this.props,g,x)),p.createElement(bb,{width:n,height:n,viewBox:d,style:m,"aria-label":"".concat(w," legend icon")},this.renderIcon(g,u)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},w))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}_b(Rb,"displayName","Legend");_b(Rb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var c0={},u0={},yC;function B8(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let o=0;o<n.length;o++){const u=n[o],d=r(u);s.has(d)||s.set(d,u)}return Array.from(s.values())}e.uniqBy=t})(u0)),u0}var d0={},vC;function iO(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(d0)),d0}var h0={},f0={},m0={},bC;function U8(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(m0)),m0}var jC;function Ob(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U8();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(f0)),f0}var g0={},wC;function $8(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(g0)),g0}var NC;function z8(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob(),n=$8();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r})(h0)),h0}var p0={},x0={},SC;function H8(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb();function n(r){return function(s){return t.get(s,r)}}e.property=n})(x0)),x0}var y0={},v0={},b0={},j0={},EC;function sO(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(j0)),j0}var w0={},CC;function lO(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(w0)),w0}var N0={},AC;function oO(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(N0)),N0}var TC;function q8(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sO(),n=lO(),r=oO();function s(g,x,b){return typeof b!="function"?s(g,x,()=>{}):o(g,x,function j(S,w,N,E,A,T){const _=b(S,w,N,E,A,T);return _!==void 0?!!_:o(S,w,j,T)},new Map)}function o(g,x,b,j){if(x===g)return!0;switch(typeof x){case"object":return u(g,x,b,j);case"function":return Object.keys(x).length>0?o(g,{...x},b,j):r.eq(g,x);default:return t.isObject(g)?typeof x=="string"?x==="":!0:r.eq(g,x)}}function u(g,x,b,j){if(x==null)return!0;if(Array.isArray(x))return f(g,x,b,j);if(x instanceof Map)return d(g,x,b,j);if(x instanceof Set)return m(g,x,b,j);const S=Object.keys(x);if(g==null)return S.length===0;if(S.length===0)return!0;if(j?.has(x))return j.get(x)===g;j?.set(x,g);try{for(let w=0;w<S.length;w++){const N=S[w];if(!n.isPrimitive(g)&&!(N in g)||x[N]===void 0&&g[N]!==void 0||x[N]===null&&g[N]!==null||!b(g[N],x[N],N,g,x,j))return!1}return!0}finally{j?.delete(x)}}function d(g,x,b,j){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,w]of x.entries()){const N=g.get(S);if(b(N,w,S,g,x,j)===!1)return!1}return!0}function f(g,x,b,j){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let w=0;w<x.length;w++){const N=x[w];let E=!1;for(let A=0;A<g.length;A++){if(S.has(A))continue;const T=g[A];let _=!1;if(b(T,N,w,g,x,j)&&(_=!0),_){S.add(A),E=!0;break}}if(!E)return!1}return!0}function m(g,x,b,j){return x.size===0?!0:g instanceof Set?f([...g],[...x],b,j):!1}e.isMatchWith=s,e.isSetMatch=m})(b0)),b0}var _C;function cO(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q8();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n})(v0)),v0}var S0={},E0={},C0={},RC;function F8(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(C0)),C0}var A0={},OC;function uO(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(A0)),A0}var T0={},kC;function dO(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",b="[object ArrayBuffer]",j="[object Object]",S="[object Error]",w="[object DataView]",N="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",_="[object BigUint64Array]",O="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",B="[object BigInt64Array]",X="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=g,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=w,e.dateTag=d,e.errorTag=S,e.float32ArrayTag=X,e.float64ArrayTag=Y,e.functionTag=x,e.int16ArrayTag=R,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=r,e.objectTag=j,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=A,e.uint32ArrayTag=T,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=E})(T0)),T0}var _0={},DC;function K8(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(_0)),_0}var MC;function hO(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F8(),n=uO(),r=dO(),s=lO(),o=K8();function u(g,x){return d(g,void 0,g,new Map,x)}function d(g,x,b,j=new Map,S=void 0){const w=S?.(g,x,b,j);if(w!==void 0)return w;if(s.isPrimitive(g))return g;if(j.has(g))return j.get(g);if(Array.isArray(g)){const N=new Array(g.length);j.set(g,N);for(let E=0;E<g.length;E++)N[E]=d(g[E],E,b,j,S);return Object.hasOwn(g,"index")&&(N.index=g.index),Object.hasOwn(g,"input")&&(N.input=g.input),N}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const N=new RegExp(g.source,g.flags);return N.lastIndex=g.lastIndex,N}if(g instanceof Map){const N=new Map;j.set(g,N);for(const[E,A]of g)N.set(E,d(A,E,b,j,S));return N}if(g instanceof Set){const N=new Set;j.set(g,N);for(const E of g)N.add(d(E,void 0,b,j,S));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const N=new(Object.getPrototypeOf(g)).constructor(g.length);j.set(g,N);for(let E=0;E<g.length;E++)N[E]=d(g[E],E,b,j,S);return N}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const N=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return j.set(g,N),f(N,g,b,j,S),N}if(typeof File<"u"&&g instanceof File){const N=new File([g],g.name,{type:g.type});return j.set(g,N),f(N,g,b,j,S),N}if(typeof Blob<"u"&&g instanceof Blob){const N=new Blob([g],{type:g.type});return j.set(g,N),f(N,g,b,j,S),N}if(g instanceof Error){const N=new g.constructor;return j.set(g,N),N.message=g.message,N.name=g.name,N.stack=g.stack,N.cause=g.cause,f(N,g,b,j,S),N}if(g instanceof Boolean){const N=new Boolean(g.valueOf());return j.set(g,N),f(N,g,b,j,S),N}if(g instanceof Number){const N=new Number(g.valueOf());return j.set(g,N),f(N,g,b,j,S),N}if(g instanceof String){const N=new String(g.valueOf());return j.set(g,N),f(N,g,b,j,S),N}if(typeof g=="object"&&m(g)){const N=Object.create(Object.getPrototypeOf(g));return j.set(g,N),f(N,g,b,j,S),N}return g}function f(g,x,b=g,j,S){const w=[...Object.keys(x),...t.getSymbols(x)];for(let N=0;N<w.length;N++){const E=w[N],A=Object.getOwnPropertyDescriptor(g,E);(A==null||A.writable)&&(g[E]=d(x[E],E,b,j,S))}}function m(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=f})(E0)),E0}var PC;function G8(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hO();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(S0)),S0}var IC;function V8(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cO(),n=G8();function r(s){return s=n.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=r})(y0)),y0}var R0={},O0={},k0={},LC;function W8(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hO(),n=dO();function r(s,o){return t.cloneDeepWith(s,(u,d,f,m)=>{const g=o?.(u,d,f,m);if(g!==void 0)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r})(k0)),k0}var BC;function Y8(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W8();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(O0)),O0}var D0={},M0={},UC;function fO(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(M0)),M0}var P0={},$C;function X8(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(P0)),P0}var zC;function Q8(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO(),n=fO(),r=X8(),s=Eb();function o(u,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&u?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=u;for(let g=0;g<f.length;g++){const x=f[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(D0)),D0}var HC;function Z8(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cO(),n=Sb(),r=Y8(),s=Cb(),o=Q8();function u(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const g=s.get(m,d);return g===void 0?o.has(m,d):f===void 0?g===void 0:t.isMatch(g,f)}}e.matchesProperty=u})(R0)),R0}var qC;function J8(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO(),n=H8(),r=V8(),s=Z8();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?s.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=o})(p0)),p0}var FC;function ez(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B8(),n=iO(),r=z8(),s=J8();function o(u,d=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),s.iteratee(d)):[]}e.uniqBy=o})(c0)),c0}var I0,KC;function tz(){return KC||(KC=1,I0=ez().uniqBy),I0}var nz=tz();const GC=hi(nz);function mO(e,t,n){return t===!0?GC(e,n):typeof t=="function"?GC(e,t):e}var L0={exports:{}},B0={},U0={exports:{}},$0={};var VC;function rz(){if(VC)return $0;VC=1;var e=dc();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(x,b){var j=b(),S=r({inst:{value:j,getSnapshot:b}}),w=S[0].inst,N=S[1];return o(function(){w.value=j,w.getSnapshot=b,f(w)&&N({inst:w})},[x,j,b]),s(function(){return f(w)&&N({inst:w}),x(function(){f(w)&&N({inst:w})})},[x]),u(j),j}function f(x){var b=x.getSnapshot;x=x.value;try{var j=b();return!n(x,j)}catch{return!0}}function m(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return $0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,$0}var WC;function az(){return WC||(WC=1,U0.exports=rz()),U0.exports}var YC;function iz(){if(YC)return B0;YC=1;var e=dc(),t=az();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return B0.useSyncExternalStoreWithSelector=function(m,g,x,b,j){var S=o(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=d(function(){function E(R){if(!A){if(A=!0,T=R,R=b(R),j!==void 0&&w.hasValue){var D=w.value;if(j(D,R))return _=D}return _=R}if(D=_,r(T,R))return D;var B=b(R);return j!==void 0&&j(D,B)?(T=R,D):(T=R,_=B)}var A=!1,T,_,O=x===void 0?null:x;return[function(){return E(g())},O===null?void 0:function(){return E(O())}]},[g,x,b,j]);var N=s(m,S[0],S[1]);return u(function(){w.hasValue=!0,w.value=N},[N]),f(N),N},B0}var XC;function sz(){return XC||(XC=1,L0.exports=iz()),L0.exports}var lz=sz(),kb=p.createContext(null),oz=e=>e,Sn=()=>{var e=p.useContext(kb);return e?e.store.dispatch:oz},Mf=()=>{},cz=()=>Mf,uz=(e,t)=>e===t;function Xe(e){var t=p.useContext(kb);return lz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cz,t?t.store.getState:Mf,t?t.store.getState:Mf,t?e:Mf,uz)}function dz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function hz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var QC=e=>Array.isArray(e)?e:[e];function mz(e){const t=Array.isArray(e[0])?e[0]:e;return fz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gz(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var pz=class{constructor(e){this.value=e}deref(){return this.value}},xz=typeof WeakRef<"u"?WeakRef:pz,yz=0,ZC=1;function lf(){return{s:yz,v:void 0,o:null,p:null}}function gO(e,t={}){let n=lf();const{resultEqualityCheck:r}=t;let s,o=0;function u(){let d=n;const{length:f}=arguments;for(let x=0,b=f;x<b;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const w=S.get(j);w===void 0?(d=lf(),S.set(j,d)):d=w}else{let S=d.p;S===null&&(d.p=S=new Map);const w=S.get(j);w===void 0?(d=lf(),S.set(j,d)):d=w}}const m=d;let g;if(d.s===ZC)g=d.v;else if(g=e.apply(null,arguments),o++,r){const x=s?.deref?.()??s;x!=null&&r(x,g)&&(g=x,o!==0&&o--),s=typeof g=="object"&&g!==null||typeof g=="function"?new xz(g):g}return m.s=ZC,m.v=g,g}return u.clearCache=()=>{n=lf(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function vz(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let o=0,u=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),dz(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...n,...f},{memoize:x,memoizeOptions:b=[],argsMemoize:j=gO,argsMemoizeOptions:S=[]}=g,w=QC(b),N=QC(S),E=mz(s),A=x(function(){return o++,m.apply(null,arguments)},...w),T=j(function(){u++;const O=gz(E,arguments);return d=A.apply(null,O),d},...N);return Object.assign(T,{resultFunc:m,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:j})};return Object.assign(r,{withTypes:()=>r}),r}var xe=vz(gO),bz=Object.assign((e,t=xe)=>{hz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((u,d,f)=>(u[n[f]]=d,u),{}))},{withTypes:()=>bz}),z0={},H0={},q0={},JC;function jz(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,o)=>{if(r!==s){const u=t(r),d=t(s);if(u===d&&u===0){if(r<s)return o==="desc"?1:-1;if(r>s)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=n})(q0)),q0}var F0={},K0={},eA;function pO(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(K0)),K0}var tA;function wz(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=s})(F0)),F0}var nA;function Nz(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jz(),n=wz(),r=Eb();function s(o,u,d,f){if(o==null)return[];d=f?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(j=>String(j));const m=(j,S)=>{let w=j;for(let N=0;N<S.length&&w!=null;++N)w=w[S[N]];return w},g=(j,S)=>S==null||j==null?S:typeof j=="object"&&"key"in j?Object.hasOwn(S,j.key)?S[j.key]:m(S,j.path):typeof j=="function"?j(S):Array.isArray(j)?m(S,j):typeof S=="object"?S[j]:S,x=u.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:r.toPath(j)}));return o.map(j=>({original:j,criteria:x.map(S=>g(S,j))})).slice().sort((j,S)=>{for(let w=0;w<x.length;w++){const N=t.compareValues(j.criteria[w],S.criteria[w],d[w]);if(N!==0)return N}return 0}).map(j=>j.original)}e.orderBy=s})(H0)),H0}var G0={},rA;function Sz(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],o=Math.floor(r),u=(d,f)=>{for(let m=0;m<d.length;m++){const g=d[m];Array.isArray(g)&&f<o?u(g,f+1):s.push(g)}};return u(n,0),s}e.flatten=t})(G0)),G0}var V0={},aA;function xO(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fO(),n=Ob(),r=sO(),s=oO();function o(u,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],u):!1}e.isIterateeCall=o})(V0)),V0}var iA;function Ez(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nz(),n=Sz(),r=xO();function s(o,...u){const d=u.length;return d>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,n.flatten(u),["asc"])}e.sortBy=s})(z0)),z0}var W0,sA;function Cz(){return sA||(sA=1,W0=Ez().sortBy),W0}var Az=Cz();const Gm=hi(Az);var yO=e=>e.legend.settings,Tz=e=>e.legend.size,_z=e=>e.legend.payload,Rz=xe([_z,yO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Gm(r,n):r});function Oz(){return Xe(Rz)}var of=1;function vO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=p.useState({height:0,left:0,top:0,width:0}),r=p.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>of||Math.abs(u.left-t.left)>of||Math.abs(u.top-t.top)>of||Math.abs(u.width-t.width)>of)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function lr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kz=typeof Symbol=="function"&&Symbol.observable||"@@observable",lA=kz,Y0=()=>Math.random().toString(36).substring(7).split("").join("."),Dz={INIT:`@@redux/INIT${Y0()}`,REPLACE:`@@redux/REPLACE${Y0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Y0()}`},Yf=Dz;function Db(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bO(e,t,n){if(typeof e!="function")throw new Error(lr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lr(1));return n(bO)(e,t)}let r=e,s=t,o=new Map,u=o,d=0,f=!1;function m(){u===o&&(u=new Map,o.forEach((N,E)=>{u.set(E,N)}))}function g(){if(f)throw new Error(lr(3));return s}function x(N){if(typeof N!="function")throw new Error(lr(4));if(f)throw new Error(lr(5));let E=!0;m();const A=d++;return u.set(A,N),function(){if(E){if(f)throw new Error(lr(6));E=!1,m(),u.delete(A),o=null}}}function b(N){if(!Db(N))throw new Error(lr(7));if(typeof N.type>"u")throw new Error(lr(8));if(typeof N.type!="string")throw new Error(lr(17));if(f)throw new Error(lr(9));try{f=!0,s=r(s,N)}finally{f=!1}return(o=u).forEach(A=>{A()}),N}function j(N){if(typeof N!="function")throw new Error(lr(10));r=N,b({type:Yf.REPLACE})}function S(){const N=x;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(lr(11));function A(){const _=E;_.next&&_.next(g())}return A(),{unsubscribe:N(A)}},[lA](){return this}}}return b({type:Yf.INIT}),{dispatch:b,subscribe:x,getState:g,replaceReducer:j,[lA]:S}}function Mz(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yf.INIT})>"u")throw new Error(lr(12));if(typeof n(void 0,{type:Yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function jO(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let s;try{Mz(n)}catch(o){s=o}return function(u={},d){if(s)throw s;let f=!1;const m={};for(let g=0;g<r.length;g++){const x=r[g],b=n[x],j=u[x],S=b(j,d);if(typeof S>"u")throw d&&d.type,new Error(lr(14));m[x]=S,f=f||S!==j}return f=f||r.length!==Object.keys(u).length,f?m:u}}function Xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Pz(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(lr(15))};const u={getState:s.getState,dispatch:(f,...m)=>o(f,...m)},d=e.map(f=>f(u));return o=Xf(...d)(s.dispatch),{...s,dispatch:o}}}function wO(e){return Db(e)&&"type"in e&&typeof e.type=="string"}var NO=Symbol.for("immer-nothing"),oA=Symbol.for("immer-draftable"),oa=Symbol.for("immer-state");function qa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yu=Object.getPrototypeOf;function Hl(e){return!!e&&!!e[oa]}function Yi(e){return e?SO(e)||Array.isArray(e)||!!e[oA]||!!e.constructor?.[oA]||fd(e)||Wm(e):!1}var Iz=Object.prototype.constructor.toString(),cA=new WeakMap;function SO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=cA.get(n);return r===void 0&&(r=Function.toString.call(n),cA.set(n,r)),r===Iz}function Qf(e,t,n=!0){Vm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function Vm(e){const t=e[oa];return t?t.type_:Array.isArray(e)?1:fd(e)?2:Wm(e)?3:0}function dv(e,t){return Vm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function EO(e,t,n){const r=Vm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Lz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fd(e){return e instanceof Map}function Wm(e){return e instanceof Set}function Nl(e){return e.copy_||e.base_}function hv(e,t){if(fd(e))return new Map(e);if(Wm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=SO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[oa];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const u=s[o],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(Yu(e),r)}else{const r=Yu(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Mb(e,t=!1){return Ym(e)||Hl(e)||!Yi(e)||(Vm(e)>1&&Object.defineProperties(e,{set:cf,add:cf,clear:cf,delete:cf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Mb(n,!0))),e}function Bz(){qa(2)}var cf={value:Bz};function Ym(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Uz={};function ql(e){const t=Uz[e];return t||qa(0,e),t}var Xu;function CO(){return Xu}function $z(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uA(e,t){t&&(ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fv(e){mv(e),e.drafts_.forEach(zz),e.drafts_=null}function mv(e){e===Xu&&(Xu=e.parent_)}function dA(e){return Xu=$z(Xu,e)}function zz(e){const t=e[oa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[oa].modified_&&(fv(t),qa(4)),Yi(e)&&(e=Zf(t,e),t.parent_||Jf(t,e)),t.patches_&&ql("Patches").generateReplacementPatches_(n[oa].base_,e,t.patches_,t.inversePatches_)):e=Zf(t,n,[]),fv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NO?e:void 0}function Zf(e,t,n){if(Ym(t))return t;const r=e.immer_.shouldUseStrictIteration(),s=t[oa];if(!s)return Qf(t,(o,u)=>fA(e,s,t,o,u,n),r),t;if(s.scope_!==e)return t;if(!s.modified_)return Jf(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,d=!1;s.type_===3&&(u=new Set(o),o.clear(),d=!0),Qf(u,(f,m)=>fA(e,s,o,f,m,n,d),r),Jf(e,o,!1),n&&e.patches_&&ql("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function fA(e,t,n,r,s,o,u){if(s==null||typeof s!="object"&&!u)return;const d=Ym(s);if(!(d&&!u)){if(Hl(s)){const f=o&&t&&t.type_!==3&&!dv(t.assigned_,r)?o.concat(r):void 0,m=Zf(e,s,f);if(EO(n,r,m),Hl(m))e.canAutoFreeze_=!1;else return}else u&&n.add(s);if(Yi(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===s&&d)return;Zf(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(fd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jf(e,s)}}}function Jf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mb(t,n)}function Hz(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:CO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Pb;n&&(s=[r],o=Qu);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return r.draft_=d,r.revoke_=u,d}var Pb={get(e,t){if(t===oa)return e;const n=Nl(e);if(!dv(n,t))return qz(e,n,t);const r=n[t];return e.finalized_||!Yi(r)?r:r===X0(e.base_,t)?(Q0(e),e.copy_[t]=pv(r,e)):r},has(e,t){return t in Nl(e)},ownKeys(e){return Reflect.ownKeys(Nl(e))},set(e,t,n){const r=AO(Nl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=X0(Nl(e),t),o=s?.[oa];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Lz(n,s)&&(n!==void 0||dv(e.base_,t)))return!0;Q0(e),gv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return X0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Q0(e),gv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Nl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){qa(11)},getPrototypeOf(e){return Yu(e.base_)},setPrototypeOf(){qa(12)}},Qu={};Qf(Pb,(e,t)=>{Qu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qu.deleteProperty=function(e,t){return Qu.set.call(this,e,t,void 0)};Qu.set=function(e,t,n){return Pb.set.call(this,e[0],t,n,e[0])};function X0(e,t){const n=e[oa];return(n?Nl(n):e)[t]}function qz(e,t,n){const r=AO(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function AO(e,t){if(!(t in e))return;let n=Yu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Yu(n)}}function gv(e){e.modified_||(e.modified_=!0,e.parent_&&gv(e.parent_))}function Q0(e){e.copy_||(e.copy_=hv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Fz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(f=o,...m){return u.produce(f,g=>n.call(this,g,...m))}}typeof n!="function"&&qa(6),r!==void 0&&typeof r!="function"&&qa(7);let s;if(Yi(t)){const o=dA(this),u=pv(t,void 0);let d=!0;try{s=n(u),d=!1}finally{d?fv(o):mv(o)}return uA(o,r),hA(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===NO&&(s=void 0),this.autoFreeze_&&Mb(s,!0),r){const o=[],u=[];ql("Patches").generateReplacementPatches_(t,s,o,u),r(o,u)}return s}else qa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,f=>t(f,...d));let r,s;return[this.produce(t,n,(u,d)=>{r=u,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yi(e)||qa(8),Hl(e)&&(e=qi(e));const t=dA(this),n=pv(e,void 0);return n[oa].isManual_=!0,mv(t),n}finishDraft(e,t){const n=e&&e[oa];(!n||!n.isManual_)&&qa(9);const{scope_:r}=n;return uA(r,t),hA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=ql("Patches").applyPatches_;return Hl(e)?r(e,t):this.produce(e,s=>r(s,t))}};function pv(e,t){const n=fd(e)?ql("MapSet").proxyMap_(e,t):Wm(e)?ql("MapSet").proxySet_(e,t):Hz(e,t);return(t?t.scope_:CO()).drafts_.push(n),n}function qi(e){return Hl(e)||qa(10,e),TO(e)}function TO(e){if(!Yi(e)||Ym(e))return e;const t=e[oa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=hv(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=hv(e,!0);return Qf(n,(s,o)=>{EO(n,s,TO(o))},r),t&&(t.finalized_=!1),n}var xv=new Fz,_O=xv.produce,Kz=xv.setUseStrictIteration.bind(xv);function RO(e){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,e):s(o)}var Gz=RO(),Vz=RO,Wz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)};function Pa(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(aa(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>wO(r)&&r.type===e,n}var OO=class Du extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Du.prototype)}static get[Symbol.species](){return Du}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Du(...t[0].concat(this)):new Du(...t.concat(this))}};function mA(e){return Yi(e)?_O(e,()=>{}):e}function uf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Yz(e){return typeof e=="boolean"}var Xz=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let u=new OO;return n&&(Yz(n)?u.push(Gz):u.push(Vz(n.extraArgument))),u},kO="RTK_autoBatch",Sr=()=>e=>({payload:e,meta:{[kO]:!0}}),gA=e=>t=>{setTimeout(t,e)},DO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,o=!1,u=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gA(10):e.type==="callback"?e.queueNotification:gA(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>s&&g(),b=r.subscribe(x);return d.add(g),()=>{b(),d.delete(g)}},dispatch(g){try{return s=!g?.meta?.[kO],o=!s,o&&(u||(u=!0,f(m))),r.dispatch(g)}finally{s=!0}}})},Qz=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new OO(e);return r&&s.push(DO(typeof r=="object"?r:void 0)),s};function Zz(e){const t=Xz(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Db(n))d=jO(n);else throw new Error(aa(1));let f;typeof r=="function"?f=r(t):f=t();let m=Xf;s&&(m=Wz({trace:!1,...typeof s=="object"&&s}));const g=Pz(...f),x=Qz(g);let b=typeof u=="function"?u(x):x();const j=m(...b);return bO(d,o,j)}function MO(e){const t={},n=[];let r;const s={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(aa(28));if(d in t)throw new Error(aa(29));return t[d]=u,s},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return n.push({matcher:o,reducer:u}),s},addDefaultCase(o){return r=o,s}};return e(s),[t,n,r]}Kz(!1);function Jz(e){return typeof e=="function"}function e9(e,t){let[n,r,s]=MO(t),o;if(Jz(e))o=()=>mA(e());else{const d=mA(e);o=()=>d}function u(d=o(),f){let m=[n[f.type],...r.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[s]),m.reduce((g,x)=>{if(x)if(Hl(g)){const j=x(g,f);return j===void 0?g:j}else{if(Yi(g))return _O(g,b=>x(b,f));{const b=x(g,f);if(b===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return g},d)}return u.getInitialState=o,u}var t9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",n9=(e=21)=>{let t="",n=e;for(;n--;)t+=t9[Math.random()*64|0];return t},r9=Symbol.for("rtk-slice-createasyncthunk");function a9(e,t){return`${e}/${t}`}function i9({creators:e}={}){const t=e?.asyncThunk?.[r9];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(aa(11));const u=(typeof r.reducers=="function"?r.reducers(l9()):r.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,_){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(aa(12));if(O in f.sliceCaseReducersByType)throw new Error(aa(13));return f.sliceCaseReducersByType[O]=_,m},addMatcher(T,_){return f.sliceMatchers.push({matcher:T,reducer:_}),m},exposeAction(T,_){return f.actionCreators[T]=_,m},exposeCaseReducer(T,_){return f.sliceCaseReducersByName[T]=_,m}};d.forEach(T=>{const _=u[T],O={reducerName:T,type:a9(s,T),createNotation:typeof r.reducers=="function"};c9(_)?d9(O,_,m,t):o9(O,_,m)});function g(){const[T={},_=[],O=void 0]=typeof r.extraReducers=="function"?MO(r.extraReducers):[r.extraReducers],R={...T,...f.sliceCaseReducersByType};return e9(r.initialState,D=>{for(let B in R)D.addCase(B,R[B]);for(let B of f.sliceMatchers)D.addMatcher(B.matcher,B.reducer);for(let B of _)D.addMatcher(B.matcher,B.reducer);O&&D.addDefaultCase(O)})}const x=T=>T,b=new Map,j=new WeakMap;let S;function w(T,_){return S||(S=g()),S(T,_)}function N(){return S||(S=g()),S.getInitialState()}function E(T,_=!1){function O(D){let B=D[T];return typeof B>"u"&&_&&(B=uf(j,O,N)),B}function R(D=x){const B=uf(b,_,()=>new WeakMap);return uf(B,D,()=>{const X={};for(const[Y,L]of Object.entries(r.selectors??{}))X[Y]=s9(L,D,()=>uf(j,D,N),_);return X})}return{reducerPath:T,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const A={name:s,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...E(o),injectInto(T,{reducerPath:_,...O}={}){const R=_??o;return T.inject({reducerPath:R,reducer:w},O),{...A,...E(R,!0)}}};return A}}function s9(e,t,n,r){function s(o,...u){let d=t(o);return typeof d>"u"&&r&&(d=n()),e(d,...u)}return s.unwrapped=e,s}var ca=i9();function l9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function o9({type:e,reducerName:t,createNotation:n},r,s){let o,u;if("reducer"in r){if(n&&!u9(r))throw new Error(aa(17));o=r.reducer,u=r.prepare}else o=r;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Pa(e,u):Pa(e))}function c9(e){return e._reducerDefinitionType==="asyncThunk"}function u9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function d9({type:e,reducerName:t},n,r,s){if(!s)throw new Error(aa(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:f,settled:m,options:g}=n,x=s(e,o,g);r.exposeAction(t,x),u&&r.addCase(x.fulfilled,u),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:u||df,pending:d||df,rejected:f||df,settled:m||df})}function df(){}var h9="task",PO="listener",IO="completed",Ib="cancelled",f9=`task-${Ib}`,m9=`task-${IO}`,yv=`${PO}-${Ib}`,g9=`${PO}-${IO}`,Xm=class{constructor(e){this.code=e,this.message=`${h9} ${Ib} (reason: ${e})`}name="TaskAbortError";message},Lb=(e,t)=>{if(typeof e!="function")throw new TypeError(aa(32))},em=()=>{},LO=(e,t=em)=>(e.catch(t),e),BO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),kl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Dl=e=>{if(e.aborted){const{reason:t}=e;throw new Xm(t)}};function UO(e,t){let n=em;return new Promise((r,s)=>{const o=()=>s(new Xm(e.reason));if(e.aborted){o();return}n=BO(e,o),t.finally(()=>n()).then(r,s)}).finally(()=>{n=em})}var p9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Xm?"cancelled":"rejected",error:n}}finally{t?.()}},tm=e=>t=>LO(UO(e,t).then(n=>(Dl(e),n))),$O=e=>{const t=tm(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Qo}=Object,pA={},Qm="listenerMiddleware",x9=(e,t)=>{const n=r=>BO(e,()=>kl(r,e.reason));return(r,s)=>{Lb(r);const o=new AbortController;n(o);const u=p9(async()=>{Dl(e),Dl(o.signal);const d=await r({pause:tm(o.signal),delay:$O(o.signal),signal:o.signal});return Dl(o.signal),d},()=>kl(o,m9));return s?.autoJoin&&t.push(u.catch(em)),{result:tm(e)(u),cancel(){kl(o,f9)}}}},y9=(e,t)=>{const n=async(r,s)=>{Dl(t);let o=()=>{};const d=[new Promise((f,m)=>{let g=e({predicate:r,effect:(x,b)=>{b.unsubscribe(),f([x,b.getState(),b.getOriginalState()])}});o=()=>{g(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await UO(t,Promise.race(d));return Dl(t),f}finally{o()}};return(r,s)=>LO(n(r,s))},zO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:o}=e;if(t)s=Pa(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(aa(21));return Lb(o),{predicate:s,type:t,effect:o}},HO=Qo(e=>{const{type:t,predicate:n,effect:r}=zO(e);return{id:n9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(aa(22))}}},{withTypes:()=>HO}),xA=(e,t)=>{const{type:n,effect:r,predicate:s}=zO(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===s)&&o.effect===r)},vv=e=>{e.pending.forEach(t=>{kl(t,yv)})},v9=(e,t)=>()=>{for(const n of t.keys())vv(n);e.clear()},yA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},qO=Qo(Pa(`${Qm}/add`),{withTypes:()=>qO}),b9=Pa(`${Qm}/removeAll`),FO=Qo(Pa(`${Qm}/remove`),{withTypes:()=>FO}),j9=(...e)=>{console.error(`${Qm}/error`,...e)},md=(e={})=>{const t=new Map,n=new Map,r=j=>{const S=n.get(j)??0;n.set(j,S+1)},s=j=>{const S=n.get(j)??1;S===1?n.delete(j):n.set(j,S-1)},{extra:o,onError:u=j9}=e;Lb(u);const d=j=>(j.unsubscribe=()=>t.delete(j.id),t.set(j.id,j),S=>{j.unsubscribe(),S?.cancelActive&&vv(j)}),f=j=>{const S=xA(t,j)??HO(j);return d(S)};Qo(f,{withTypes:()=>f});const m=j=>{const S=xA(t,j);return S&&(S.unsubscribe(),j.cancelActive&&vv(S)),!!S};Qo(m,{withTypes:()=>m});const g=async(j,S,w,N)=>{const E=new AbortController,A=y9(f,E.signal),T=[];try{j.pending.add(E),r(j),await Promise.resolve(j.effect(S,Qo({},w,{getOriginalState:N,condition:(_,O)=>A(_,O).then(Boolean),take:A,delay:$O(E.signal),pause:tm(E.signal),extra:o,signal:E.signal,fork:x9(E.signal,T),unsubscribe:j.unsubscribe,subscribe:()=>{t.set(j.id,j)},cancelActiveListeners:()=>{j.pending.forEach((_,O,R)=>{_!==E&&(kl(_,yv),R.delete(_))})},cancel:()=>{kl(E,yv),j.pending.delete(E)},throwIfCancelled:()=>{Dl(E.signal)}})))}catch(_){_ instanceof Xm||yA(u,_,{raisedBy:"effect"})}finally{await Promise.all(T),kl(E,g9),s(j),j.pending.delete(E)}},x=v9(t,n);return{middleware:j=>S=>w=>{if(!wO(w))return S(w);if(qO.match(w))return f(w.payload);if(b9.match(w)){x();return}if(FO.match(w))return m(w.payload);let N=j.getState();const E=()=>{if(N===pA)throw new Error(aa(23));return N};let A;try{if(A=S(w),t.size>0){const T=j.getState(),_=Array.from(t.values());for(const O of _){let R=!1;try{R=O.predicate(w,T,N)}catch(D){R=!1,yA(u,D,{raisedBy:"predicate"})}R&&g(O,w,j,E)}}}finally{N=pA}return A},startListening:f,stopListening:m,clearListeners:x}};function aa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var w9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KO=ca({name:"chartLayout",initialState:w9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,s,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:N9,setLayout:S9,setChartSize:E9,setScale:C9}=KO.actions,A9=KO.reducer;function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){T9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T9(e,t,n){return(t=_9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nm=Math.PI/180,O9=e=>e*180/Math.PI,Hn=(e,t,n,r)=>({x:e+Math.cos(-nm*r)*n,y:t+Math.sin(-nm*r)*n}),GO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},k9=(e,t)=>{var{x:n,y:r}=e,{x:s,y:o}=t;return Math.sqrt((n-s)**2+(r-o)**2)},D9=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:o}=t,u=k9({x:n,y:r},{x:s,y:o});if(u<=0)return{radius:u,angle:0};var d=(n-s)/u,f=Math.acos(d);return r>o&&(f=2*Math.PI-f),{radius:u,angle:O9(f),angleInRadian:f}},M9=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),o=Math.min(r,s);return{startAngle:t-o*360,endAngle:n-o*360}},P9=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(s,o);return e+u*360},I9=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:o}=D9({x:n,y:r},t),{innerRadius:u,outerRadius:d}=t;if(s<u||s>d||s===0)return null;var{startAngle:f,endAngle:m}=M9(t),g=o,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?bA(bA({},t),{},{radius:s,angle:P9(g,t)}):null};function VO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){L9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L9(e,t,n){return(t=B9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hn(e,t,n){return Nn(e)||Nn(t)?n:oi(t)?zl(e,t,n):typeof t=="function"?t(e):n}var $9=(e,t,n,r,s)=>{var o,u=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,g=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,b=void 0;if(tr(g-m)!==tr(x-g)){var j=[];if(tr(x-g)===tr(s[1]-s[0])){b=x;var S=g+s[1]-s[0];j[0]=Math.min(S,(S+m)/2),j[1]=Math.max(S,(S+m)/2)}else{b=m;var w=x+s[1]-s[0];j[0]=Math.min(g,(w+g)/2),j[1]=Math.max(g,(w+g)/2)}var N=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>N[0]&&e<=N[1]||e>=j[0]&&e<=j[1]){({index:u}=n[f]);break}}else{var E=Math.min(m,x),A=Math.max(m,x);if(e>(E+g)/2&&e<=(A+g)/2){({index:u}=n[f]);break}}}else if(t){for(var T=0;T<d;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:u}=t[T]);break}}return u},z9=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&tt(e[o]))return Ta(Ta({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&tt(e[u]))return Ta(Ta({},e),{},{[u]:e[u]+(s||0)})}return e},Gs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",WO=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var s,o,u=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate));return s||u.push(t),o||u.push(n),u},YO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:o,scale:u,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:b,axisType:j}=e;if(!u)return null;var S=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=s==="category"&&u.bandwidth?u.bandwidth()/S:0;if(w=j==="angleAxis"&&o&&o.length>=2?tr(o[0]-o[1])*2*w:w,x||b){var N=(x||b||[]).map((E,A)=>{var T=r?r.indexOf(E):E;return{coordinate:u(T)+w,value:E,offset:w,index:A}});return N.filter(E=>!Ma(E.coordinate))}return f&&m?m.map((E,A)=>({coordinate:u(E)+w,value:E,index:A,offset:w})):u.ticks&&g!=null?u.ticks(g).map((E,A)=>({coordinate:u(E)+w,value:E,offset:w,index:A})):u.domain().map((E,A)=>({coordinate:u(E)+w,value:r?r[E]:E,index:A,offset:w}))},wA=1e-4,H9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-wA,o=Math.max(r[0],r[1])+wA,u=e(t[0]),d=e(t[n-1]);(u<s||u>o||d<s||d>o)&&e.domain([t[0],t[n-1]])}},q9=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!tt(e[0])||e[0]<n)&&(s[0]=n),(!tt(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},F9=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,o=0,u=0;u<t;++u){var d=Ma(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},K9=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,o=0;o<t;++o){var u=Ma(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},G9={sign:F9,expand:p8,none:nc,silhouette:x8,wiggle:y8,positive:K9},V9=(e,t,n)=>{var r=G9[n],s=g8().keys(t).value((o,u)=>+hn(o,u,0)).order(ov).offset(r);return s(e)};function W9(e){return e==null?void 0:String(e)}function NA(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nn(s[t.dataKey])){var d=rO(n,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=hn(s,Nn(u)?t.dataKey:u);return Nn(f)?null:t.scale(f)}var SA=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:o,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var d=hn(o,t.dataKey,t.scale.domain()[u]);return Nn(d)?null:t.scale(d)-s/2+r},Y9=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},X9=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Q9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Z9=(e,t,n)=>{if(e!=null)return Q9(Object.keys(e).reduce((r,s)=>{var o=e[s],{stackedData:u}=o,d=u.reduce((f,m)=>{var g=VO(m,t,n),x=X9(g);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},EA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zu=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=Gm(t,g=>g.coordinate),o=1/0,u=1,d=s.length;u<d;u++){var f=s[u],m=s[u-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function AA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:o}=e;return Ta(Ta({},t),{},{dataKey:n,payload:r,value:s,name:o})}function bc(e,t){if(e)return String(e);if(typeof t=="string")return t}function J9(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return r?I9({x:e,y:t},r):null}var e7=(e,t,n,r)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:u}=r;return Ta(Ta(Ta({},r),Hn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,{angle:f}=r;return Ta(Ta(Ta({},r),Hn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},t7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ji=e=>e.layout.width,es=e=>e.layout.height,n7=e=>e.layout.scale,XO=e=>e.layout.margin,Zm=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Jm=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QO="data-recharts-item-index",ZO="data-recharts-item-data-key",gd=60;function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){r7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=i7(e,"string");return typeof t=="symbol"?t:t+""}function i7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s7=e=>e.brush.height;function l7(e){var t=Jm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:gd;return n+s}return n},0)}function o7(e){var t=Jm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:gd;return n+s}return n},0)}function c7(e){var t=Zm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function u7(e){var t=Zm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Wn=xe([Ji,es,XO,s7,l7,o7,c7,u7,yO,Tz],(e,t,n,r,s,o,u,d,f,m)=>{var g={left:(n.left||0)+s,right:(n.right||0)+o},x={top:(n.top||0)+u,bottom:(n.bottom||0)+d},b=hf(hf({},x),g),j=b.bottom;b.bottom+=r,b=z9(b,f,m);var S=e-b.left-b.right,w=t-b.top-b.bottom;return hf(hf({brushBottom:j},b),{},{width:Math.max(S,0),height:Math.max(w,0)})}),d7=xe(Wn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Bb=xe(Ji,es,(e,t)=>({x:0,y:0,width:e,height:t})),h7=p.createContext(null),Tr=()=>p.useContext(h7)!=null,eg=e=>e.brush,tg=xe([eg,Wn,XO],(e,t,n)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:tt(e.width)?e.width:t.width})),Z0={},J0={},ey={},_A;function f7(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:o}={}){let u,d=null;const f=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{d!==null&&(n.apply(u,d),u=void 0,d=null)},x=()=>{m&&g(),w()};let b=null;const j=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{S(),u=void 0,d=null},N=()=>{g()},E=function(...A){if(s?.aborted)return;u=this,d=A;const T=b==null;j(),f&&T&&g()};return E.schedule=j,E.cancel=w,E.flush=N,s?.addEventListener("abort",w,{once:!0}),E}e.debounce=t})(ey)),ey}var RA;function m7(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7();function n(r,s=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:f}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let g,x=null;const b=t.debounce(function(...w){g=r.apply(this,w),x=null},s,{edges:m}),j=function(...w){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(g=r.apply(this,w),x=Date.now(),b.cancel(),b.schedule(),g):(b.apply(this,w),g)},S=()=>(b.flush(),g);return j.cancel=b.cancel,j.flush=S,j}e.debounce=n})(J0)),J0}var OA;function g7(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7();function n(r,s=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(r,s,{leading:u,maxWait:s,trailing:d})}e.throttle=n})(Z0)),Z0}var ty,kA;function p7(){return kA||(kA=1,ty=g7().throttle),ty}var x7=p7();const y7=hi(x7);var rm=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o]},JO=(e,t,n)=>{var{width:r="100%",height:s="100%",aspect:o,maxHeight:u}=n,d=Wi(r)?e:Number(r),f=Wi(s)?t:Number(s);return o&&o>0&&(d?f=d/o:f&&(d=f*o),u&&f>u&&(f=u)),{calculatedWidth:d,calculatedHeight:f}},v7={width:0,height:0,overflow:"visible"},b7={width:0,overflowX:"visible"},j7={height:0,overflowY:"visible"},w7={},N7=e=>{var{width:t,height:n}=e,r=Wi(t),s=Wi(n);return r&&s?v7:r?b7:s?j7:w7};function S7(e){var{width:t,height:n,aspect:r}=e,s=t,o=n;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:s,height:o}}function vr(e){return Number.isFinite(e)}function rc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(null,arguments)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){E7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E7(e,t,n){return(t=C7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7(e){var t=A7(e,"string");return typeof t=="symbol"?t:t+""}function A7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ek=p.createContext({width:-1,height:-1});function tk(e){var{children:t,width:n,height:r}=e,s=p.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:p.createElement(ek.Provider,{value:s},t)}var Ub=()=>p.useContext(ek),T7=p.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s,height:o,minWidth:u=0,minHeight:d,maxHeight:f,children:m,debounce:g=0,id:x,className:b,onResize:j,style:S={}}=e,w=p.useRef(null),N=p.useRef();N.current=j,p.useImperativeHandle(t,()=>w.current);var[E,A]=p.useState({containerWidth:r.width,containerHeight:r.height}),T=p.useCallback((B,X)=>{A(Y=>{var L=Math.round(B),F=Math.round(X);return Y.containerWidth===L&&Y.containerHeight===F?Y:{containerWidth:L,containerHeight:F}})},[]);p.useEffect(()=>{var B=F=>{var re,{width:ye,height:ve}=F[0].contentRect;T(ye,ve),(re=N.current)===null||re===void 0||re.call(N,ye,ve)};g>0&&(B=y7(B,g,{trailing:!0,leading:!1}));var X=new ResizeObserver(B),{width:Y,height:L}=w.current.getBoundingClientRect();return T(Y,L),X.observe(w.current),()=>{X.disconnect()}},[T,g]);var{containerWidth:_,containerHeight:O}=E;rm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:D}=JO(_,O,{width:s,height:o,aspect:n,maxHeight:f});return rm(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,s,o,u,d,n),p.createElement("div",{id:x?"".concat(x):void 0,className:Mt("recharts-responsive-container",b),style:MA(MA({},S),{},{width:s,height:o,minWidth:u,minHeight:d,maxHeight:f}),ref:w},p.createElement("div",{style:N7({width:s,height:o})},p.createElement(tk,{width:R,height:D},m)))}),pd=p.forwardRef((e,t)=>{var n=Ub();if(rc(n.width)&&rc(n.height))return e.children;var{width:r,height:s}=S7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=JO(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return tt(o)&&tt(u)?p.createElement(tk,{width:o,height:u},e.children):p.createElement(T7,bv({},e,{width:r,height:s,ref:t}))}),ng=()=>{var e,t=Tr(),n=Xe(d7),r=Xe(tg),s=(e=Xe(eg))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},_7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nk=()=>{var e;return(e=Xe(Wn))!==null&&e!==void 0?e:_7},$b=()=>Xe(Ji),zb=()=>Xe(es),R7=()=>Xe(e=>e.layout.margin),Pt=e=>e.layout.layoutType,rg=()=>Xe(Pt),ag=e=>{var t=Sn(),n=Tr(),{width:r,height:s}=e,o=Ub(),u=r,d=s;return o&&(u=o.width>0?o.width:r,d=o.height>0?o.height:s),p.useEffect(()=>{!n&&rc(u)&&rc(d)&&t(E9({width:u,height:d}))},[t,n,u,d]),null},O7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rk=ca({name:"legend",initialState:O7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Sr()},removeLegendPayload:{reducer(e,t){var n=qi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Sr()}}}),{setLegendSize:PA,setLegendSettings:k7,addLegendPayload:ak,removeLegendPayload:ik}=rk.actions,D7=rk.reducer,M7=["contextPayload"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(null,arguments)}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){Hb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hb(e,t,n){return(t=P7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=I7(e,"string");return typeof t=="symbol"?t:t+""}function I7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L7(e,t){if(e==null)return{};var n,r,s=B7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function B7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function U7(e){return e.value}function $7(e){var{contextPayload:t}=e,n=L7(e,M7),r=mO(t,e.payloadUniqBy,U7),s=ac(ac({},n),{},{payload:r});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(Rb,s)}function z7(e,t,n,r,s,o){var{layout:u,align:d,verticalAlign:f}=t,m,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&u==="vertical"?m={left:((r||0)-o.width)/2}:m=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?g={top:((s||0)-o.height)/2}:g=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ac(ac({},m),g)}function H7(e){var t=Sn();return p.useEffect(()=>{t(k7(e))},[t,e]),null}function q7(e){var t=Sn();return p.useEffect(()=>(t(PA(e)),()=>{t(PA({width:0,height:0}))}),[t,e]),null}function F7(e){var t=Oz(),n=U$(),r=R7(),{width:s,height:o,wrapperStyle:u,portal:d}=e,[f,m]=vO([t]),g=$b(),x=zb();if(g==null||x==null)return null;var b=g-(r.left||0)-(r.right||0),j=Ql.getWidthOrHeight(e.layout,o,s,b),S=d?u:ac(ac({position:"absolute",width:j?.width||s||"auto",height:j?.height||o||"auto"},z7(u,e,r,g,x,f)),u),w=d??n;if(w==null)return null;var N=p.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:m},p.createElement(H7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(q7,{width:f.width,height:f.height}),p.createElement($7,jv({},e,j,{margin:r,chartWidth:g,chartHeight:x,contextPayload:t})));return Bm.createPortal(N,w)}class Ql extends p.PureComponent{static getWidthOrHeight(t,n,r,s){return t==="vertical"&&tt(n)?{height:n}:t==="horizontal"?{width:r||s}:null}render(){return p.createElement(F7,this.props)}}Hb(Ql,"displayName","Legend");Hb(Ql,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){K7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W7(e){return Array.isArray(e)&&oi(e[0])&&oi(e[1])?e.join(" ~ "):e}var Y7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:o,formatter:u,itemSorter:d,wrapperClassName:f,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:b=!1}=e,j=()=>{if(o&&o.length){var O={padding:0,margin:0},R=(d?Gm(o,d):o).map((D,B)=>{if(D.type==="none")return null;var X=D.formatter||u||W7,{value:Y,name:L}=D,F=Y,re=L;if(X){var ye=X(Y,L,D,B,o);if(Array.isArray(ye))[F,re]=ye;else if(ye!=null)F=ye;else return null}var ve=ny({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ve},oi(re)?p.createElement("span",{className:"recharts-tooltip-item-name"},re):null,oi(re)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},F),p.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},S=ny({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=ny({margin:0},s),N=!Nn(g),E=N?g:"",A=Mt("recharts-default-tooltip",f),T=Mt("recharts-tooltip-label",m);N&&x&&o!==void 0&&o!==null&&(E=x(g,o));var _=b?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",wv({className:A,style:S},_),p.createElement("p",{className:T,style:w},p.isValidElement(E)?E:"".concat(E)),j())},Su="recharts-tooltip-wrapper",X7={visibility:"hidden"};function Q7(e){var{coordinate:t,translateX:n,translateY:r}=e;return Mt(Su,{["".concat(Su,"-right")]:tt(n)&&t&&tt(t.x)&&n>=t.x,["".concat(Su,"-left")]:tt(n)&&t&&tt(t.x)&&n<t.x,["".concat(Su,"-bottom")]:tt(r)&&t&&tt(t.y)&&r>=t.y,["".concat(Su,"-top")]:tt(r)&&t&&tt(t.y)&&r<t.y})}function BA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:o,reverseDirection:u,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(o&&tt(o[r]))return o[r];var g=n[r]-d-(s>0?s:0),x=n[r]+s;if(t[r])return u[r]?g:x;var b=f[r];if(b==null)return 0;if(u[r]){var j=g,S=b;return j<S?Math.max(x,b):Math.max(g,b)}if(m==null)return 0;var w=x+d,N=b+m;return w>N?Math.max(g,b):Math.max(x,b)}function Z7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function J7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,m,g,x;return u.height>0&&u.width>0&&n?(g=BA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),x=BA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),m=Z7({translateX:g,translateY:x,useTranslate3d:d})):m=X7,{cssProperties:m,cssClasses:Q7({translateX:g,translateY:x,coordinate:n})}}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){Nv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nv(e,t,n){return(t=eH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nH extends p.PureComponent{constructor(){super(...arguments),Nv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:o,coordinate:u,hasPayload:d,isAnimationActive:f,offset:m,position:g,reverseDirection:x,useTranslate3d:b,viewBox:j,wrapperStyle:S,lastBoundingBox:w,innerRef:N,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:T}=J7({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:j}),_=E?{}:ff(ff({transition:f&&t?"transform ".concat(r,"ms ").concat(s):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=ff(ff({},_),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},S);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:O,ref:N},o)}}var rH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vs={devToolsEnabled:!1,isSsr:rH()},sk=()=>Xe(e=>e.rootProps.accessibilityLayer);function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(null,arguments)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=iH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HA={curveBasisClosed:a8,curveBasisOpen:i8,curveBasis:r8,curveBumpX:q$,curveBumpY:F$,curveLinearClosed:s8,curveLinear:Fm,curveMonotoneX:l8,curveMonotoneY:o8,curveNatural:c8,curveStep:u8,curveStepAfter:h8,curveStepBefore:d8},mf=e=>vr(e.x)&&vr(e.y),Eu=e=>e.x,Cu=e=>e.y,lH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(dd(e));return(n==="curveMonotone"||n==="curveBump")&&t?HA["".concat(n).concat(t==="vertical"?"Y":"X")]:HA[n]||Fm},oH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:o=!1}=e,u=lH(t,s),d=o?n.filter(mf):n,f;if(Array.isArray(r)){var m=o?r.filter(x=>mf(x)):r,g=d.map((x,b)=>zA(zA({},x),{},{base:m[b]}));return s==="vertical"?f=sf().y(Cu).x1(Eu).x0(x=>x.base.x):f=sf().x(Eu).y1(Cu).y0(x=>x.base.y),f.defined(mf).curve(u),f(g)}return s==="vertical"&&tt(r)?f=sf().y(Cu).x1(Eu).x0(r):tt(r)?f=sf().x(Eu).y1(Cu).y0(r):f=FR().x(Eu).y(Cu),f.defined(mf).curve(u),f(d)},qb=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?oH(e):r;return p.createElement("path",Sv({},la(e),Tb(e),{className:Mt("recharts-curve",t),d:o===null?void 0:o,ref:s}))},cH=["x","y","top","left","width","height","className"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function uH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){dH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dH(e,t,n){return(t=hH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mH(e,t){if(e==null)return{};var n,r,s=gH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function gH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pH=(e,t,n,r,s,o)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),xH=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:o=0,height:u=0,className:d}=e,f=mH(e,cH),m=uH({x:t,y:n,top:r,left:s,width:o,height:u},f);return!tt(t)||!tt(n)||!tt(o)||!tt(u)||!tt(r)||!tt(s)?null:p.createElement("path",Ev({},Ar(m),{className:Mt("recharts-cross",d),d:pH(t,n,o,u,r,s)}))};function yH(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){bH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bH(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t){var n=vH({},e),r=t,s=Object.keys(t),o=s.reduce((u,d)=>(u[d]===void 0&&r[d]!==void 0&&(u[d]=r[d]),u),n);return o}function NH(){}function SH(e){return e!=null}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){EH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EH(e,t,n){return(t=CH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lk=(e,t,n)=>e.map(r=>"".concat(TH(r)," ").concat(t,"ms ").concat(n)).join(","),_H=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),Ju=(e,t)=>Object.keys(t).reduce((n,r)=>GA(GA({},n),{},{[r]:e(r,t[r])}),{});function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){RH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RH(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var am=(e,t,n)=>e+(t-e)*n,Cv=e=>{var{from:t,to:n}=e;return t!==n},ok=(e,t,n)=>{var r=Ju((s,o)=>{if(Cv(o)){var[u,d]=e(o.from,o.to,o.velocity);return or(or({},o),{},{from:u,velocity:d})}return o},t);return n<1?Ju((s,o)=>Cv(o)?or(or({},o),{},{velocity:am(o.velocity,r[s].velocity,n),from:am(o.from,r[s].from,n)}):o,t):ok(e,r,n-1)};function DH(e,t,n,r,s,o){var u,d=r.reduce((b,j)=>or(or({},b),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),f=()=>Ju((b,j)=>j.from,d),m=()=>!Object.values(d).filter(Cv).length,g=null,x=b=>{u||(u=b);var j=b-u,S=j/n.dt;d=ok(n,d,S),s(or(or(or({},e),t),f())),u=b,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function MH(e,t,n,r,s,o,u){var d=null,f=s.reduce((x,b)=>or(or({},x),{},{[b]:[e[b],t[b]]}),{}),m,g=x=>{m||(m=x);var b=(x-m)/r,j=Ju((w,N)=>am(...N,n(b)),f);if(o(or(or(or({},e),t),j)),b<1)d=u.setTimeout(g);else{var S=Ju((w,N)=>am(...N,n(1)),f);o(or(or(or({},e),t),S))}};return()=>(d=u.setTimeout(g),()=>{d()})}const PH=(e,t,n,r,s,o)=>{var u=_H(e,t);return n.isStepper===!0?DH(e,t,n,u,s,o):MH(e,t,n,r,u,s,o)};var im=1e-4,ck=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),WA=(e,t)=>n=>{var r=ck(e,t);return uk(r,n)},IH=(e,t)=>n=>{var r=ck(e,t),s=[...r.map((o,u)=>o*u).slice(1),0];return uk(s,n)},YA=function(){for(var t,n,r,s,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var f=u[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,s]=f[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else u.length===4&&([t,r,n,s]=u);var m=WA(t,n),g=WA(r,s),x=IH(t,n),b=S=>S>1?1:S<0?0:S,j=S=>{for(var w=S>1?1:S,N=w,E=0;E<8;++E){var A=m(N)-w,T=x(N);if(Math.abs(A-w)<im||T<im)return g(N);N=b(N-A/T)}return g(N)};return j.isStepper=!1,j},LH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,o=(u,d,f)=>{var m=-(u-d)*n,g=f*r,x=f+(m-g)*s/1e3,b=f*s/1e3+u;return Math.abs(b-d)<im&&Math.abs(x)<im?[d,0]:[b,x]};return o.isStepper=!0,o.dt=s,o},BH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YA(e);case"spring":return LH();default:if(e.split("(")[0]==="cubic-bezier")return YA(e)}return typeof e=="function"?e:null};function UH(e){var t,n=()=>null,r=!1,s=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var d=u,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(o.bind(null,m),f);return}o(f),s=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,s&&(s(),s=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class $H{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,o=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}function zH(){return UH(new $H)}var HH=p.createContext(zH);function qH(e,t){var n=p.useContext(HH);return p.useMemo(()=>t??n(e),[e,t,n])}var FH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XA={t:0},ry={t:1};function xd(e){var t=dr(e,FH),{isActive:n,canBegin:r,duration:s,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:f,children:m}=t,g=qH(t.animationId,t.animationManager),[x,b]=p.useState(n?XA:ry),j=p.useRef(null);return p.useEffect(()=>{n||b(ry)},[n]),p.useEffect(()=>{if(!n||!r)return NH;var S=PH(XA,ry,BH(o),s,b,g.getTimeoutController()),w=()=>{j.current=S()};return g.start([f,u,w,s,d]),()=>{g.stop(),j.current&&j.current(),d()}},[n,r,s,o,u,f,d,g]),m(x.t)}function yd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(Wu(t)),r=p.useRef(e);return r.current!==e&&(n.current=Wu(t),r.current=e),n.current}var KH=["radius"],GH=["radius"];function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){VH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t,n){return(t=WH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sm.apply(null,arguments)}function JA(e,t){if(e==null)return{};var n,r,s=XH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function XH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e2=(e,t,n,r,s)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(o>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,b=4;x<b;x++)g[x]=s[x]>o?o:s[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(t)),m+="L ".concat(e+n-d*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+u*g[1])),m+="L ".concat(e+n,",").concat(t+r-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-d*g[2],",").concat(t+r)),m+="L ".concat(e+d*g[3],",").concat(t+r),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-u*g[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var j=Math.min(o,s);m="M ".concat(e,",").concat(t+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+d*j,",").concat(t,`
            L `).concat(e+n-d*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n,",").concat(t+u*j,`
            L `).concat(e+n,",").concat(t+r-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n-d*j,",").concat(t+r,`
            L `).concat(e+d*j,",").concat(t+r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e,",").concat(t+r-u*j," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},QH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dk=e=>{var t=dr(e,QH),n=p.useRef(null),[r,s]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&s(I)}catch{}},[]);var{x:o,y:u,width:d,height:f,radius:m,className:g}=t,{animationEasing:x,animationDuration:b,animationBegin:j,isAnimationActive:S,isUpdateAnimationActive:w}=t,N=p.useRef(d),E=p.useRef(f),A=p.useRef(o),T=p.useRef(u),_=p.useMemo(()=>({x:o,y:u,width:d,height:f,radius:m}),[o,u,d,f,m]),O=yd(_,"rectangle-");if(o!==+o||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var R=Mt("recharts-rectangle",g);if(!w){var D=Ar(t),{radius:B}=D,X=JA(D,KH);return p.createElement("path",sm({},X,{radius:typeof m=="number"?m:void 0,className:R,d:e2(o,u,d,f,m)}))}var Y=N.current,L=E.current,F=A.current,re=T.current,ye="0px ".concat(r===-1?1:r,"px"),ve="".concat(r,"px 0px"),H=lk(["strokeDasharray"],b,typeof x=="string"?x:void 0);return p.createElement(xd,{animationId:O,key:O,canBegin:r>0,duration:b,easing:x,isActive:w,begin:j},I=>{var K=Rn(Y,d,I),de=Rn(L,f,I),Se=Rn(F,o,I),P=Rn(re,u,I);n.current&&(N.current=K,E.current=de,A.current=Se,T.current=P);var q;S?I>0?q={transition:H,strokeDasharray:ve}:q={strokeDasharray:ye}:q={strokeDasharray:ve};var ee=Ar(t),{radius:ue}=ee,we=JA(ee,GH);return p.createElement("path",sm({},we,{radius:typeof m=="number"?m:void 0,className:R,d:e2(Se,P,K,de,m),ref:n,style:ZA(ZA({},q),t.style)}))})};function hk(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:o}=e,u=Hn(t,n,r,s),d=Hn(t,n,r,o);return{points:[u,d],cx:t,cy:n,radius:r,startAngle:s,endAngle:o}}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}var ZH=(e,t)=>{var n=tr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},gf=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:f}=e,m=d*(u?1:-1)+r,g=Math.asin(d/m)/nm,x=f?s:s+o*g,b=Hn(t,n,m,x),j=Hn(t,n,r,x),S=f?s-o*g:s,w=Hn(t,n,m*Math.cos(g*nm),S);return{center:b,circleTangency:j,lineTangency:w,theta:g}},fk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:o,endAngle:u}=e,d=ZH(o,u),f=o+d,m=Hn(t,n,s,o),g=Hn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var b=Hn(t,n,r,o),j=Hn(t,n,r,f);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},JH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}=e,g=tr(m-f),{circleTangency:x,lineTangency:b,theta:j}=gf({cx:t,cy:n,radius:s,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),{circleTangency:S,lineTangency:w,theta:N}=gf({cx:t,cy:n,radius:s,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:d}),E=d?Math.abs(f-m):Math.abs(f-m)-j-N;if(E<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):fk({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:f,endAngle:m});var A="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(g<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:_,theta:O}=gf({cx:t,cy:n,radius:r,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:R,lineTangency:D,theta:B}=gf({cx:t,cy:n,radius:r,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),X=d?Math.abs(f-m):Math.abs(f-m)-O-B;if(X<0&&o===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(X>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},eq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mk=e=>{var t=dr(e,eq),{cx:n,cy:r,innerRadius:s,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g,className:x}=t;if(o<s||m===g)return null;var b=Mt("recharts-sector",x),j=o-s,S=yr(u,j,0,!0),w;return S>0&&Math.abs(m-g)<360?w=JH({cx:n,cy:r,innerRadius:s,outerRadius:o,cornerRadius:Math.min(S,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g}):w=fk({cx:n,cy:r,innerRadius:s,outerRadius:o,startAngle:m,endAngle:g}),p.createElement("path",Av({},Ar(t),{className:b,d:w}))};function tq(e,t,n){var r,s,o,u;if(e==="horizontal")r=t.x,o=r,s=n.top,u=n.top+n.height;else if(e==="vertical")s=t.y,u=s,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:g,angle:x}=t,b=Hn(d,f,m,x),j=Hn(d,f,g,x);r=b.x,s=b.y,o=j.x,u=j.y}else return hk(t);return[{x:r,y:s},{x:o,y:u}]}var ay={},iy={},sy={},t2;function nq(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(sy)),sy}var n2;function rq(){return n2||(n2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nq();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(iy)),iy}var r2;function aq(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO(),n=rq();function r(s,o,u){u&&typeof u!="number"&&t.isIterateeCall(s,o,u)&&(o=u=void 0),s=n.toFinite(s),o===void 0?(o=s,s=0):o=n.toFinite(o),u=u===void 0?s<o?1:-1:n.toFinite(u);const d=Math.max(Math.ceil((o-s)/(u||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=u;return f}e.range=r})(ay)),ay}var ly,a2;function iq(){return a2||(a2=1,ly=aq().range),ly}var sq=iq();const gk=hi(sq);function Bs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fb(e){let t,n,r;e.length!==2?(t=Bs,n=(d,f)=>Bs(e(d),f),r=(d,f)=>e(d)-f):(t=e===Bs||e===lq?e:oq,n=e,r=e);function s(d,f,m=0,g=d.length){if(m<g){if(t(f,f)!==0)return g;do{const x=m+g>>>1;n(d[x],f)<0?m=x+1:g=x}while(m<g)}return m}function o(d,f,m=0,g=d.length){if(m<g){if(t(f,f)!==0)return g;do{const x=m+g>>>1;n(d[x],f)<=0?m=x+1:g=x}while(m<g)}return m}function u(d,f,m=0,g=d.length){const x=s(d,f,m,g-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:s,center:u,right:o}}function oq(){return 0}function pk(e){return e===null?NaN:+e}function*cq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uq=Fb(Bs),vd=uq.right;Fb(pk).center;class i2 extends Map{constructor(t,n=fq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(s2(this,t))}has(t){return super.has(s2(this,t))}set(t,n){return super.set(dq(this,t),n)}delete(t){return super.delete(hq(this,t))}}function s2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function hq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mq(e=Bs){if(e===Bs)return xk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function xk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gq=Math.sqrt(50),pq=Math.sqrt(10),xq=Math.sqrt(2);function lm(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),u=o>=gq?10:o>=pq?5:o>=xq?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/u,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*u,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?lm(e,t,n*2):[d,f,m]}function Tv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,u]=r?lm(t,e,n):lm(e,t,n);if(!(o>=s))return[];const d=o-s+1,f=new Array(d);if(r)if(u<0)for(let m=0;m<d;++m)f[m]=(o-m)/-u;else for(let m=0;m<d;++m)f[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)f[m]=(s+m)/-u;else for(let m=0;m<d;++m)f[m]=(s+m)*u;return f}function _v(e,t,n){return t=+t,e=+e,n=+n,lm(e,t,n)[2]}function Rv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?_v(t,e,n):_v(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function l2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function o2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yk(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?xk:mq(s);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,g=Math.log(f),x=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*x*(f-x)/f)*(m-f/2<0?-1:1),j=Math.max(n,Math.floor(t-m*x/f+b)),S=Math.min(r,Math.floor(t+(f-m)*x/f+b));yk(e,t,j,S,s)}const o=e[t];let u=n,d=r;for(Au(e,n,t),s(e[r],o)>0&&Au(e,n,r);u<d;){for(Au(e,u,d),++u,--d;s(e[u],o)<0;)++u;for(;s(e[d],o)>0;)--d}s(e[n],o)===0?Au(e,n,d):(++d,Au(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Au(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yq(e,t,n){if(e=Float64Array.from(cq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return o2(e);if(t>=1)return l2(e);var r,s=(r-1)*t,o=Math.floor(s),u=l2(yk(e,o).subarray(0,o+1)),d=o2(e.subarray(o+1));return u+(d-u)*(s-o)}}function vq(e,t,n=pk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),u=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return u+(d-u)*(s-o)}}function bq(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function La(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ts(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ov=Symbol("implicit");function Kb(){var e=new i2,t=[],n=[],r=Ov;function s(o){let u=e.get(o);if(u===void 0){if(r!==Ov)return r;e.set(o,u=t.push(o)-1)}return n[u%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new i2;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return Kb(t,n).unknown(r)},La.apply(s,arguments),s}function Gb(){var e=Kb().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,o,u,d=!1,f=0,m=0,g=.5;delete e.unknown;function x(){var b=t().length,j=s<r,S=j?s:r,w=j?r:s;o=(w-S)/Math.max(1,b-f+m*2),d&&(o=Math.floor(o)),S+=(w-S-o*(b-f))*g,u=o*(1-f),d&&(S=Math.round(S),u=Math.round(u));var N=bq(b).map(function(E){return S+o*E});return n(j?N.reverse():N)}return e.domain=function(b){return arguments.length?(t(b),x()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,d=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(d=!!b,x()):d},e.padding=function(b){return arguments.length?(f=Math.min(1,m=+b),x()):f},e.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),x()):f},e.paddingOuter=function(b){return arguments.length?(m=+b,x()):m},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),x()):g},e.copy=function(){return Gb(t(),[r,s]).round(d).paddingInner(f).paddingOuter(m).align(g)},La.apply(x(),arguments)}function vk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vk(t())},e}function jq(){return vk(Gb.apply(null,arguments).paddingInner(1))}function Vb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bd(){}var ed=.7,om=1/ed,Zo="\\s*([+-]?\\d+)\\s*",td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wq=/^#([0-9a-f]{3,8})$/,Nq=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),Sq=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),Eq=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${td}\\)$`),Cq=new RegExp(`^rgba\\(${si},${si},${si},${td}\\)$`),Aq=new RegExp(`^hsl\\(${td},${si},${si}\\)$`),Tq=new RegExp(`^hsla\\(${td},${si},${si},${td}\\)$`),c2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vb(bd,nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u2,formatHex:u2,formatHex8:_q,formatHsl:Rq,formatRgb:d2,toString:d2});function u2(){return this.rgb().formatHex()}function _q(){return this.rgb().formatHex8()}function Rq(){return jk(this).formatHsl()}function d2(){return this.rgb().formatRgb()}function nd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?h2(t):n===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nq.exec(e))?new $r(t[1],t[2],t[3],1):(t=Sq.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Eq.exec(e))?pf(t[1],t[2],t[3],t[4]):(t=Cq.exec(e))?pf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Aq.exec(e))?g2(t[1],t[2]/100,t[3]/100,1):(t=Tq.exec(e))?g2(t[1],t[2]/100,t[3]/100,t[4]):c2.hasOwnProperty(e)?h2(c2[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function h2(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function pf(e,t,n,r){return r<=0&&(e=t=n=NaN),new $r(e,t,n,r)}function Oq(e){return e instanceof bd||(e=nd(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function kv(e,t,n,r){return arguments.length===1?Oq(e):new $r(e,t,n,r??1)}function $r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Vb($r,kv,bk(bd,{brighter(e){return e=e==null?om:Math.pow(om,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(Ml(this.r),Ml(this.g),Ml(this.b),cm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f2,formatHex:f2,formatHex8:kq,formatRgb:m2,toString:m2}));function f2(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}`}function kq(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}${Al((isNaN(this.opacity)?1:this.opacity)*255)}`}function m2(){const e=cm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${e===1?")":`, ${e})`}`}function cm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Al(e){return e=Ml(e),(e<16?"0":"")+e.toString(16)}function g2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fa(e,t,n,r)}function jk(e){if(e instanceof Fa)return new Fa(e.h,e.s,e.l,e.opacity);if(e instanceof bd||(e=nd(e)),!e)return new Fa;if(e instanceof Fa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,d=o-s,f=(o+s)/2;return d?(t===o?u=(n-r)/d+(n<r)*6:n===o?u=(r-t)/d+2:u=(t-n)/d+4,d/=f<.5?o+s:2-o-s,u*=60):d=f>0&&f<1?0:u,new Fa(u,d,f,e.opacity)}function Dq(e,t,n,r){return arguments.length===1?jk(e):new Fa(e,t,n,r??1)}function Fa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Vb(Fa,Dq,bk(bd,{brighter(e){return e=e==null?om:Math.pow(om,e),new Fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ed:Math.pow(ed,e),new Fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new $r(oy(e>=240?e-240:e+120,s,r),oy(e,s,r),oy(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Fa(p2(this.h),xf(this.s),xf(this.l),cm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cm(this.opacity);return`${e===1?"hsl(":"hsla("}${p2(this.h)}, ${xf(this.s)*100}%, ${xf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p2(e){return e=(e||0)%360,e<0?e+360:e}function xf(e){return Math.max(0,Math.min(1,e||0))}function oy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Wb=e=>()=>e;function Mq(e,t){return function(n){return e+n*t}}function Pq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Iq(e){return(e=+e)==1?wk:function(t,n){return n-t?Pq(t,n,e):Wb(isNaN(t)?n:t)}}function wk(e,t){var n=t-e;return n?Mq(e,n):Wb(isNaN(e)?t:e)}const x2=(function e(t){var n=Iq(t);function r(s,o){var u=n((s=kv(s)).r,(o=kv(o)).r),d=n(s.g,o.g),f=n(s.b,o.b),m=wk(s.opacity,o.opacity);return function(g){return s.r=u(g),s.g=d(g),s.b=f(g),s.opacity=m(g),s+""}}return r.gamma=e,r})(1);function Lq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function Bq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)s[u]=jc(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(d){for(u=0;u<r;++u)o[u]=s[u](d);return o}}function $q(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function um(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zq(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=jc(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var Dv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cy=new RegExp(Dv.source,"g");function Hq(e){return function(){return e}}function qq(e){return function(t){return e(t)+""}}function Fq(e,t){var n=Dv.lastIndex=cy.lastIndex=0,r,s,o,u=-1,d=[],f=[];for(e=e+"",t=t+"";(r=Dv.exec(e))&&(s=cy.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),d[u]?d[u]+=o:d[++u]=o),(r=r[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,f.push({i:u,x:um(r,s)})),n=cy.lastIndex;return n<t.length&&(o=t.slice(n),d[u]?d[u]+=o:d[++u]=o),d.length<2?f[0]?qq(f[0].x):Hq(t):(t=f.length,function(m){for(var g=0,x;g<t;++g)d[(x=f[g]).i]=x.x(m);return d.join("")})}function jc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Wb(t):(n==="number"?um:n==="string"?(r=nd(t))?(t=r,x2):Fq:t instanceof nd?x2:t instanceof Date?$q:Bq(t)?Lq:Array.isArray(t)?Uq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zq:um)(e,t)}function Yb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kq(e,t){t===void 0&&(t=e,e=jc);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(u){var d=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[d](u-d)}}function Gq(e){return function(){return e}}function dm(e){return+e}var y2=[0,1];function Cr(e){return e}function Mv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gq(isNaN(t)?NaN:.5)}function Vq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wq(e,t,n){var r=e[0],s=e[1],o=t[0],u=t[1];return s<r?(r=Mv(s,r),o=n(u,o)):(r=Mv(r,s),o=n(o,u)),function(d){return o(r(d))}}function Yq(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)s[u]=Mv(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(d){var f=vd(e,d,1,r)-1;return o[f](s[f](d))}}function jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ig(){var e=y2,t=y2,n=jc,r,s,o,u=Cr,d,f,m;function g(){var b=Math.min(e.length,t.length);return u!==Cr&&(u=Vq(e[0],e[b-1])),d=b>2?Yq:Wq,f=m=null,x}function x(b){return b==null||isNaN(b=+b)?o:(f||(f=d(e.map(r),t,n)))(r(u(b)))}return x.invert=function(b){return u(s((m||(m=d(t,e.map(r),um)))(b)))},x.domain=function(b){return arguments.length?(e=Array.from(b,dm),g()):e.slice()},x.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},x.rangeRound=function(b){return t=Array.from(b),n=Yb,g()},x.clamp=function(b){return arguments.length?(u=b?!0:Cr,g()):u!==Cr},x.interpolate=function(b){return arguments.length?(n=b,g()):n},x.unknown=function(b){return arguments.length?(o=b,x):o},function(b,j){return r=b,s=j,g()}}function Xb(){return ig()(Cr,Cr)}function Xq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ic(e){return e=hm(Math.abs(e)),e?e[1]:NaN}function Qq(e,t){return function(n,r){for(var s=n.length,o=[],u=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),o.push(n.substring(s-=d,s+d)),!((f+=d+1)>r));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function Zq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Jq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rd(e){if(!(t=Jq.exec(e)))throw new Error("invalid format: "+e);var t;return new Qb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rd.prototype=Qb.prototype;function Qb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eF(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var Nk;function tF(e,t){var n=hm(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(Nk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hm(e,Math.max(0,t+o-1))[0]}function v2(e,t){var n=hm(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const b2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v2(e*100,t),r:v2,s:tF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function j2(e){return e}var w2=Array.prototype.map,N2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nF(e){var t=e.grouping===void 0||e.thousands===void 0?j2:Qq(w2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?j2:Zq(w2.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=rd(x);var b=x.fill,j=x.align,S=x.sign,w=x.symbol,N=x.zero,E=x.width,A=x.comma,T=x.precision,_=x.trim,O=x.type;O==="n"?(A=!0,O="g"):b2[O]||(T===void 0&&(T=12),_=!0,O="g"),(N||b==="0"&&j==="=")&&(N=!0,b="0",j="=");var R=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=w==="$"?r:/[%p]/.test(O)?u:"",B=b2[O],X=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function Y(L){var F=R,re=D,ye,ve,H;if(O==="c")re=B(L)+re,L="";else{L=+L;var I=L<0||1/L<0;if(L=isNaN(L)?f:B(Math.abs(L),T),_&&(L=eF(L)),I&&+L==0&&S!=="+"&&(I=!1),F=(I?S==="("?S:d:S==="-"||S==="("?"":S)+F,re=(O==="s"?N2[8+Nk/3]:"")+re+(I&&S==="("?")":""),X){for(ye=-1,ve=L.length;++ye<ve;)if(H=L.charCodeAt(ye),48>H||H>57){re=(H===46?s+L.slice(ye+1):L.slice(ye))+re,L=L.slice(0,ye);break}}}A&&!N&&(L=t(L,1/0));var K=F.length+L.length+re.length,de=K<E?new Array(E-K+1).join(b):"";switch(A&&N&&(L=t(de+L,de.length?E-re.length:1/0),de=""),j){case"<":L=F+L+re+de;break;case"=":L=F+de+L+re;break;case"^":L=de.slice(0,K=de.length>>1)+F+L+re+de.slice(K);break;default:L=de+F+L+re;break}return o(L)}return Y.toString=function(){return x+""},Y}function g(x,b){var j=m((x=rd(x),x.type="f",x)),S=Math.max(-8,Math.min(8,Math.floor(ic(b)/3)))*3,w=Math.pow(10,-S),N=N2[8+S/3];return function(E){return j(w*E)+N}}return{format:m,formatPrefix:g}}var yf,Zb,Sk;rF({thousands:",",grouping:[3],currency:["$",""]});function rF(e){return yf=nF(e),Zb=yf.format,Sk=yf.formatPrefix,yf}function aF(e){return Math.max(0,-ic(Math.abs(e)))}function iF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ic(t)/3)))*3-ic(Math.abs(e)))}function sF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ic(t)-ic(e))+1}function Ek(e,t,n,r){var s=Rv(e,t,n),o;switch(r=rd(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=iF(s,u))&&(r.precision=o),Sk(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=sF(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aF(s))&&(r.precision=o-(r.type==="%")*2);break}}return Zb(r)}function Ws(e){var t=e.domain;return e.ticks=function(n){var r=t();return Tv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return Ek(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,u=r[s],d=r[o],f,m,g=10;for(d<u&&(m=u,u=d,d=m,m=s,s=o,o=m);g-- >0;){if(m=_v(u,d,n),m===f)return r[s]=u,r[o]=d,t(r);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function Ck(){var e=Xb();return e.copy=function(){return jd(e,Ck())},La.apply(e,arguments),Ws(e)}function Ak(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ak(e).unknown(t)},e=arguments.length?Array.from(e,dm):[0,1],Ws(n)}function Tk(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],u;return o<s&&(u=n,n=r,r=u,u=s,s=o,o=u),e[n]=t.floor(s),e[r]=t.ceil(o),e}function S2(e){return Math.log(e)}function E2(e){return Math.exp(e)}function lF(e){return-Math.log(-e)}function oF(e){return-Math.exp(-e)}function cF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uF(e){return e===10?cF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function C2(e){return(t,n)=>-e(-t,n)}function Jb(e){const t=e(S2,E2),n=t.domain;let r=10,s,o;function u(){return s=dF(r),o=uF(r),n()[0]<0?(s=C2(s),o=C2(o),e(lF,oF)):e(S2,E2),t}return t.base=function(d){return arguments.length?(r=+d,u()):r},t.domain=function(d){return arguments.length?(n(d),u()):n()},t.ticks=d=>{const f=n();let m=f[0],g=f[f.length-1];const x=g<m;x&&([m,g]=[g,m]);let b=s(m),j=s(g),S,w;const N=d==null?10:+d;let E=[];if(!(r%1)&&j-b<N){if(b=Math.floor(b),j=Math.ceil(j),m>0){for(;b<=j;++b)for(S=1;S<r;++S)if(w=b<0?S/o(-b):S*o(b),!(w<m)){if(w>g)break;E.push(w)}}else for(;b<=j;++b)for(S=r-1;S>=1;--S)if(w=b>0?S/o(-b):S*o(b),!(w<m)){if(w>g)break;E.push(w)}E.length*2<N&&(E=Tv(m,g,N))}else E=Tv(b,j,Math.min(j-b,N)).map(o);return x?E.reverse():E},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=rd(f)).precision==null&&(f.trim=!0),f=Zb(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return g=>{let x=g/o(Math.round(s(g)));return x*r<r-.5&&(x*=r),x<=m?f(g):""}},t.nice=()=>n(Tk(n(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function _k(){const e=Jb(ig()).domain([1,10]);return e.copy=()=>jd(e,_k()).base(e.base()),La.apply(e,arguments),e}function A2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ej(e){var t=1,n=e(A2(t),T2(t));return n.constant=function(r){return arguments.length?e(A2(t=+r),T2(t)):t},Ws(n)}function Rk(){var e=ej(ig());return e.copy=function(){return jd(e,Rk()).constant(e.constant())},La.apply(e,arguments)}function _2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fF(e){return e<0?-e*e:e*e}function tj(e){var t=e(Cr,Cr),n=1;function r(){return n===1?e(Cr,Cr):n===.5?e(hF,fF):e(_2(n),_2(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Ws(t)}function nj(){var e=tj(ig());return e.copy=function(){return jd(e,nj()).exponent(e.exponent())},La.apply(e,arguments),e}function mF(){return nj.apply(null,arguments).exponent(.5)}function R2(e){return Math.sign(e)*e*e}function gF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ok(){var e=Xb(),t=[0,1],n=!1,r;function s(o){var u=gF(e(o));return isNaN(u)?r:n?Math.round(u):u}return s.invert=function(o){return e.invert(R2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,dm)).map(R2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return Ok(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},La.apply(s,arguments),Ws(s)}function kk(){var e=[],t=[],n=[],r;function s(){var u=0,d=Math.max(1,t.length);for(n=new Array(d-1);++u<d;)n[u-1]=vq(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?r:t[vd(n,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Bs),s()},o.range=function(u){return arguments.length?(t=Array.from(u),s()):t.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return kk().domain(e).range(t).unknown(r)},La.apply(o,arguments)}function Dk(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function u(f){return f!=null&&f<=f?s[vd(r,f,0,n)]:o}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return u}return u.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},u.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},u.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},u.unknown=function(f){return arguments.length&&(o=f),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Dk().domain([e,t]).range(s).unknown(o)},La.apply(Ws(u),arguments)}function Mk(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[vd(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Mk().domain(e).range(t).unknown(n)},La.apply(s,arguments)}const uy=new Date,dy=new Date;function Yn(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const u=s(o),d=s.ceil(o);return o-u<d-o?u:d},s.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),s.range=(o,u,d)=>{const f=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return f;let m;do f.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return f},s.filter=o=>Yn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),n&&(s.count=(o,u)=>(uy.setTime(+o),dy.setTime(+u),e(uy),e(dy),Math.floor(n(uy,dy))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?u=>r(u)%o===0:u=>s.count(0,u)%o===0):s)),s}const fm=Yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fm);fm.range;const Li=1e3,_a=Li*60,Bi=_a*60,Xi=Bi*24,rj=Xi*7,O2=Xi*30,hy=Xi*365,Tl=Yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCSeconds());Tl.range;const aj=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getMinutes());aj.range;const ij=Yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCMinutes());ij.range;const sj=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li-e.getMinutes()*_a)},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getHours());sj.range;const lj=Yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getUTCHours());lj.range;const wd=Yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_a)/Xi,e=>e.getDate()-1);wd.range;const sg=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>e.getUTCDate()-1);sg.range;const Pk=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>Math.floor(e/Xi));Pk.range;function Zl(e){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_a)/rj)}const lg=Zl(0),mm=Zl(1),pF=Zl(2),xF=Zl(3),sc=Zl(4),yF=Zl(5),vF=Zl(6);lg.range;mm.range;pF.range;xF.range;sc.range;yF.range;vF.range;function Jl(e){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rj)}const og=Jl(0),gm=Jl(1),bF=Jl(2),jF=Jl(3),lc=Jl(4),wF=Jl(5),NF=Jl(6);og.range;gm.range;bF.range;jF.range;lc.range;wF.range;NF.range;const oj=Yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oj.range;const cj=Yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cj.range;const Qi=Yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Qi.range;const Zi=Yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zi.range;function Ik(e,t,n,r,s,o){const u=[[Tl,1,Li],[Tl,5,5*Li],[Tl,15,15*Li],[Tl,30,30*Li],[o,1,_a],[o,5,5*_a],[o,15,15*_a],[o,30,30*_a],[s,1,Bi],[s,3,3*Bi],[s,6,6*Bi],[s,12,12*Bi],[r,1,Xi],[r,2,2*Xi],[n,1,rj],[t,1,O2],[t,3,3*O2],[e,1,hy]];function d(m,g,x){const b=g<m;b&&([m,g]=[g,m]);const j=x&&typeof x.range=="function"?x:f(m,g,x),S=j?j.range(m,+g+1):[];return b?S.reverse():S}function f(m,g,x){const b=Math.abs(g-m)/x,j=Fb(([,,N])=>N).right(u,b);if(j===u.length)return e.every(Rv(m/hy,g/hy,x));if(j===0)return fm.every(Math.max(Rv(m,g,x),1));const[S,w]=u[b/u[j-1][2]<u[j][2]/b?j-1:j];return S.every(w)}return[d,f]}const[SF,EF]=Ik(Zi,cj,og,Pk,lj,ij),[CF,AF]=Ik(Qi,oj,lg,wd,sj,aj);function fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function my(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function TF(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,u=e.shortDays,d=e.months,f=e.shortMonths,m=_u(s),g=Ru(s),x=_u(o),b=Ru(o),j=_u(u),S=Ru(u),w=_u(d),N=Ru(d),E=_u(f),A=Ru(f),T={a:I,A:K,b:de,B:Se,c:null,d:L2,e:L2,f:QF,g:lK,G:cK,H:WF,I:YF,j:XF,L:Lk,m:ZF,M:JF,p:P,q,Q:$2,s:z2,S:eK,u:tK,U:nK,V:rK,w:aK,W:iK,x:null,X:null,y:sK,Y:oK,Z:uK,"%":U2},_={a:ee,A:ue,b:we,B:ae,c:null,d:B2,e:B2,f:mK,g:SK,G:CK,H:dK,I:hK,j:fK,L:Uk,m:gK,M:pK,p:ne,q:V,Q:$2,s:z2,S:xK,u:yK,U:vK,V:bK,w:jK,W:wK,x:null,X:null,y:NK,Y:EK,Z:AK,"%":U2},O={a:Y,A:L,b:F,B:re,c:ye,d:P2,e:P2,f:FF,g:M2,G:D2,H:I2,I:I2,j:$F,L:qF,m:UF,M:zF,p:X,q:BF,Q:GF,s:VF,S:HF,u:DF,U:MF,V:PF,w:kF,W:IF,x:ve,X:H,y:M2,Y:D2,Z:LF,"%":KF};T.x=R(n,T),T.X=R(r,T),T.c=R(t,T),_.x=R(n,_),_.X=R(r,_),_.c=R(t,_);function R(U,M){return function(W){var $=[],J=-1,G=0,z=U.length,Q,ie,Ce;for(W instanceof Date||(W=new Date(+W));++J<z;)U.charCodeAt(J)===37&&($.push(U.slice(G,J)),(ie=k2[Q=U.charAt(++J)])!=null?Q=U.charAt(++J):ie=Q==="e"?" ":"0",(Ce=M[Q])&&(Q=Ce(W,ie)),$.push(Q),G=J+1);return $.push(U.slice(G,J)),$.join("")}}function D(U,M){return function(W){var $=Tu(1900,void 0,1),J=B($,U,W+="",0),G,z;if(J!=W.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(M&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(G=my(Tu($.y,0,1)),z=G.getUTCDay(),G=z>4||z===0?gm.ceil(G):gm(G),G=sg.offset(G,($.V-1)*7),$.y=G.getUTCFullYear(),$.m=G.getUTCMonth(),$.d=G.getUTCDate()+($.w+6)%7):(G=fy(Tu($.y,0,1)),z=G.getDay(),G=z>4||z===0?mm.ceil(G):mm(G),G=wd.offset(G,($.V-1)*7),$.y=G.getFullYear(),$.m=G.getMonth(),$.d=G.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),z="Z"in $?my(Tu($.y,0,1)).getUTCDay():fy(Tu($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(z+5)%7:$.w+$.U*7-(z+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,my($)):fy($)}}function B(U,M,W,$){for(var J=0,G=M.length,z=W.length,Q,ie;J<G;){if($>=z)return-1;if(Q=M.charCodeAt(J++),Q===37){if(Q=M.charAt(J++),ie=O[Q in k2?M.charAt(J++):Q],!ie||($=ie(U,W,$))<0)return-1}else if(Q!=W.charCodeAt($++))return-1}return $}function X(U,M,W){var $=m.exec(M.slice(W));return $?(U.p=g.get($[0].toLowerCase()),W+$[0].length):-1}function Y(U,M,W){var $=j.exec(M.slice(W));return $?(U.w=S.get($[0].toLowerCase()),W+$[0].length):-1}function L(U,M,W){var $=x.exec(M.slice(W));return $?(U.w=b.get($[0].toLowerCase()),W+$[0].length):-1}function F(U,M,W){var $=E.exec(M.slice(W));return $?(U.m=A.get($[0].toLowerCase()),W+$[0].length):-1}function re(U,M,W){var $=w.exec(M.slice(W));return $?(U.m=N.get($[0].toLowerCase()),W+$[0].length):-1}function ye(U,M,W){return B(U,t,M,W)}function ve(U,M,W){return B(U,n,M,W)}function H(U,M,W){return B(U,r,M,W)}function I(U){return u[U.getDay()]}function K(U){return o[U.getDay()]}function de(U){return f[U.getMonth()]}function Se(U){return d[U.getMonth()]}function P(U){return s[+(U.getHours()>=12)]}function q(U){return 1+~~(U.getMonth()/3)}function ee(U){return u[U.getUTCDay()]}function ue(U){return o[U.getUTCDay()]}function we(U){return f[U.getUTCMonth()]}function ae(U){return d[U.getUTCMonth()]}function ne(U){return s[+(U.getUTCHours()>=12)]}function V(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var M=R(U+="",T);return M.toString=function(){return U},M},parse:function(U){var M=D(U+="",!1);return M.toString=function(){return U},M},utcFormat:function(U){var M=R(U+="",_);return M.toString=function(){return U},M},utcParse:function(U){var M=D(U+="",!0);return M.toString=function(){return U},M}}}var k2={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,_F=/^%/,RF=/[\\^$*+?|[\]().{}]/g;function Bt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function OF(e){return e.replace(RF,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(OF).join("|")+")","i")}function Ru(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kF(e,t,n){var r=nr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function DF(e,t,n){var r=nr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function MF(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PF(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function IF(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function D2(e,t,n){var r=nr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function M2(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function BF(e,t,n){var r=nr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function UF(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function P2(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $F(e,t,n){var r=nr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function I2(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function zF(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function HF(e,t,n){var r=nr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qF(e,t,n){var r=nr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function FF(e,t,n){var r=nr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function KF(e,t,n){var r=_F.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function GF(e,t,n){var r=nr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VF(e,t,n){var r=nr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function L2(e,t){return Bt(e.getDate(),t,2)}function WF(e,t){return Bt(e.getHours(),t,2)}function YF(e,t){return Bt(e.getHours()%12||12,t,2)}function XF(e,t){return Bt(1+wd.count(Qi(e),e),t,3)}function Lk(e,t){return Bt(e.getMilliseconds(),t,3)}function QF(e,t){return Lk(e,t)+"000"}function ZF(e,t){return Bt(e.getMonth()+1,t,2)}function JF(e,t){return Bt(e.getMinutes(),t,2)}function eK(e,t){return Bt(e.getSeconds(),t,2)}function tK(e){var t=e.getDay();return t===0?7:t}function nK(e,t){return Bt(lg.count(Qi(e)-1,e),t,2)}function Bk(e){var t=e.getDay();return t>=4||t===0?sc(e):sc.ceil(e)}function rK(e,t){return e=Bk(e),Bt(sc.count(Qi(e),e)+(Qi(e).getDay()===4),t,2)}function aK(e){return e.getDay()}function iK(e,t){return Bt(mm.count(Qi(e)-1,e),t,2)}function sK(e,t){return Bt(e.getFullYear()%100,t,2)}function lK(e,t){return e=Bk(e),Bt(e.getFullYear()%100,t,2)}function oK(e,t){return Bt(e.getFullYear()%1e4,t,4)}function cK(e,t){var n=e.getDay();return e=n>=4||n===0?sc(e):sc.ceil(e),Bt(e.getFullYear()%1e4,t,4)}function uK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Bt(t/60|0,"0",2)+Bt(t%60,"0",2)}function B2(e,t){return Bt(e.getUTCDate(),t,2)}function dK(e,t){return Bt(e.getUTCHours(),t,2)}function hK(e,t){return Bt(e.getUTCHours()%12||12,t,2)}function fK(e,t){return Bt(1+sg.count(Zi(e),e),t,3)}function Uk(e,t){return Bt(e.getUTCMilliseconds(),t,3)}function mK(e,t){return Uk(e,t)+"000"}function gK(e,t){return Bt(e.getUTCMonth()+1,t,2)}function pK(e,t){return Bt(e.getUTCMinutes(),t,2)}function xK(e,t){return Bt(e.getUTCSeconds(),t,2)}function yK(e){var t=e.getUTCDay();return t===0?7:t}function vK(e,t){return Bt(og.count(Zi(e)-1,e),t,2)}function $k(e){var t=e.getUTCDay();return t>=4||t===0?lc(e):lc.ceil(e)}function bK(e,t){return e=$k(e),Bt(lc.count(Zi(e),e)+(Zi(e).getUTCDay()===4),t,2)}function jK(e){return e.getUTCDay()}function wK(e,t){return Bt(gm.count(Zi(e)-1,e),t,2)}function NK(e,t){return Bt(e.getUTCFullYear()%100,t,2)}function SK(e,t){return e=$k(e),Bt(e.getUTCFullYear()%100,t,2)}function EK(e,t){return Bt(e.getUTCFullYear()%1e4,t,4)}function CK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?lc(e):lc.ceil(e),Bt(e.getUTCFullYear()%1e4,t,4)}function AK(){return"+0000"}function U2(){return"%"}function $2(e){return+e}function z2(e){return Math.floor(+e/1e3)}var qo,zk,Hk;TK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TK(e){return qo=TF(e),zk=qo.format,qo.parse,Hk=qo.utcFormat,qo.utcParse,qo}function _K(e){return new Date(e)}function RK(e){return e instanceof Date?+e:+new Date(+e)}function uj(e,t,n,r,s,o,u,d,f,m){var g=Xb(),x=g.invert,b=g.domain,j=m(".%L"),S=m(":%S"),w=m("%I:%M"),N=m("%I %p"),E=m("%a %d"),A=m("%b %d"),T=m("%B"),_=m("%Y");function O(R){return(f(R)<R?j:d(R)<R?S:u(R)<R?w:o(R)<R?N:r(R)<R?s(R)<R?E:A:n(R)<R?T:_)(R)}return g.invert=function(R){return new Date(x(R))},g.domain=function(R){return arguments.length?b(Array.from(R,RK)):b().map(_K)},g.ticks=function(R){var D=b();return e(D[0],D[D.length-1],R??10)},g.tickFormat=function(R,D){return D==null?O:m(D)},g.nice=function(R){var D=b();return(!R||typeof R.range!="function")&&(R=t(D[0],D[D.length-1],R??10)),R?b(Tk(D,R)):g},g.copy=function(){return jd(g,uj(e,t,n,r,s,o,u,d,f,m))},g}function OK(){return La.apply(uj(CF,AF,Qi,oj,lg,wd,sj,aj,Tl,zk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kK(){return La.apply(uj(SF,EF,Zi,cj,og,sg,lj,ij,Tl,Hk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cg(){var e=0,t=1,n,r,s,o,u=Cr,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:u(s===0?.5:(x=(o(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(b){var j,S;return arguments.length?([j,S]=b,u=x(j,S),m):[u(0),u(1)]}}return m.range=g(jc),m.rangeRound=g(Yb),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return o=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),m}}function Ys(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qk(){var e=Ws(cg()(Cr));return e.copy=function(){return Ys(e,qk())},ts.apply(e,arguments)}function Fk(){var e=Jb(cg()).domain([1,10]);return e.copy=function(){return Ys(e,Fk()).base(e.base())},ts.apply(e,arguments)}function Kk(){var e=ej(cg());return e.copy=function(){return Ys(e,Kk()).constant(e.constant())},ts.apply(e,arguments)}function dj(){var e=tj(cg());return e.copy=function(){return Ys(e,dj()).exponent(e.exponent())},ts.apply(e,arguments)}function DK(){return dj.apply(null,arguments).exponent(.5)}function Gk(){var e=[],t=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return t((vd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,o)=>yq(e,o/r))},n.copy=function(){return Gk(t).domain(e)},ts.apply(n,arguments)}function ug(){var e=0,t=.5,n=1,r=1,s,o,u,d,f,m=Cr,g,x=!1,b;function j(w){return isNaN(w=+w)?b:(w=.5+((w=+g(w))-o)*(r*w<r*o?d:f),m(x?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=g(e=+e),o=g(t=+t),u=g(n=+n),d=s===o?0:.5/(o-s),f=o===u?0:.5/(u-o),r=o<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(x=!!w,j):x},j.interpolator=function(w){return arguments.length?(m=w,j):m};function S(w){return function(N){var E,A,T;return arguments.length?([E,A,T]=N,m=Kq(w,[E,A,T]),j):[m(0),m(.5),m(1)]}}return j.range=S(jc),j.rangeRound=S(Yb),j.unknown=function(w){return arguments.length?(b=w,j):b},function(w){return g=w,s=w(e),o=w(t),u=w(n),d=s===o?0:.5/(o-s),f=o===u?0:.5/(u-o),r=o<s?-1:1,j}}function Vk(){var e=Ws(ug()(Cr));return e.copy=function(){return Ys(e,Vk())},ts.apply(e,arguments)}function Wk(){var e=Jb(ug()).domain([.1,1,10]);return e.copy=function(){return Ys(e,Wk()).base(e.base())},ts.apply(e,arguments)}function Yk(){var e=ej(ug());return e.copy=function(){return Ys(e,Yk()).constant(e.constant())},ts.apply(e,arguments)}function hj(){var e=tj(ug());return e.copy=function(){return Ys(e,hj()).exponent(e.exponent())},ts.apply(e,arguments)}function MK(){return hj.apply(null,arguments).exponent(.5)}const Mu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gb,scaleDiverging:Vk,scaleDivergingLog:Wk,scaleDivergingPow:hj,scaleDivergingSqrt:MK,scaleDivergingSymlog:Yk,scaleIdentity:Ak,scaleImplicit:Ov,scaleLinear:Ck,scaleLog:_k,scaleOrdinal:Kb,scalePoint:jq,scalePow:nj,scaleQuantile:kk,scaleQuantize:Dk,scaleRadial:Ok,scaleSequential:qk,scaleSequentialLog:Fk,scaleSequentialPow:dj,scaleSequentialQuantile:Gk,scaleSequentialSqrt:DK,scaleSequentialSymlog:Kk,scaleSqrt:mF,scaleSymlog:Rk,scaleThreshold:Mk,scaleTime:OK,scaleUtc:kK,tickFormat:Ek},Symbol.toStringTag,{value:"Module"}));var Xs=e=>e.chartData,fj=xe([Xs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),dg=(e,t,n,r)=>r?fj(e):Xs(e);function Fl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(vr(t)&&vr(n))return!0}return!1}function H2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Xk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,o;if(vr(n))s=n;else if(typeof n=="function")return;if(vr(r))o=r;else if(typeof r=="function")return;var u=[s,o];if(Fl(u))return u}}function PK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Fl(r))return H2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,u,d;if(s==="auto")t!=null&&(u=Math.min(...t));else if(tt(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[0]))}catch{}else if(typeof s=="string"&&EA.test(s)){var f=EA.exec(s);if(f==null||t==null)u=void 0;else{var m=+f[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(tt(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&CA.test(o)){var g=CA.exec(o);if(g==null||t==null)d=void 0;else{var x=+g[1];d=t[1]+x}}else d=t?.[1];var b=[u,d];if(Fl(b))return t==null?b:H2(b,t,n)}}}var wc=1e9,IK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gj,jn=!0,Ia="[DecimalError] ",Pl=Ia+"Invalid argument: ",mj=Ia+"Exponent out of range: ",Nc=Math.floor,Sl=Math.pow,LK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,Jn=1e7,gn=7,Qk=9007199254740991,pm=Nc(Qk/gn),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,n,r,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===s?0:r>s^o.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};He.dividedBy=He.div=function(e){return Fi(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,n=t.constructor;return sn(Fi(t,new n(e),0,1),n.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return qn(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(na))throw Error(Ia+"NaN");if(n.s<1)throw Error(Ia+(n.s?"NaN":"-Infinity"));return n.eq(na)?new r(0):(jn=!1,t=Fi(ad(n,o),ad(e,o),o),jn=!0,sn(t,s))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eD(t,e):Zk(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Ia+"NaN");return n.s?(jn=!1,t=Fi(n,e,0,1).times(e),jn=!0,n.minus(t)):sn(new r(n),s)};He.naturalExponential=He.exp=function(){return Jk(this)};He.naturalLogarithm=He.ln=function(){return ad(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zk(t,e):eD(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pl+e);if(t=qn(s)+1,r=s.d.length-1,n=r*gn+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};He.squareRoot=He.sqrt=function(){var e,t,n,r,s,o,u,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ia+"NaN")}for(e=qn(d),jn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ii(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Nc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(s.toString()),n=f.precision,s=u=n+3;;)if(o=r,r=o.plus(Fi(d,o,u+2)).times(.5),ii(o.d).slice(0,u)===(t=ii(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),s==u&&t=="4999"){if(sn(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;u+=4}return jn=!0,sn(r,n)};He.times=He.mul=function(e){var t,n,r,s,o,u,d,f,m,g=this,x=g.constructor,b=g.d,j=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,f=b.length,m=j.length,f<m&&(o=b,b=j,j=o,u=f,f=m,m=u),o=[],u=f+m,r=u;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,s=f+r;s>r;)d=o[s]+j[r]*b[s-r-1]+t,o[s--]=d%Jn|0,t=d/Jn|0;o[s]=(o[s]+t)%Jn|0}for(;!o[--u];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,jn?sn(e,x.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ci(e,0,wc),t===void 0?t=r.rounding:ci(t,0,8),sn(n,e+qn(n)+1,t))};He.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Kl(r,!0):(ci(e,0,wc),t===void 0?t=s.rounding:ci(t,0,8),r=sn(new s(r),e+1,t),n=Kl(r,!0,e+1)),n};He.toFixed=function(e,t){var n,r,s=this,o=s.constructor;return e===void 0?Kl(s):(ci(e,0,wc),t===void 0?t=o.rounding:ci(t,0,8),r=sn(new o(s),e+qn(s)+1,t),n=Kl(r.abs(),!1,e+qn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return sn(new t(e),qn(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,n,r,s,o,u,d=this,f=d.constructor,m=12,g=+(e=new f(e));if(!e.s)return new f(na);if(d=new f(d),!d.s){if(e.s<1)throw Error(Ia+"Infinity");return d}if(d.eq(na))return d;if(r=f.precision,e.eq(na))return sn(d,r);if(t=e.e,n=e.d.length-1,u=t>=n,o=d.s,u){if((n=g<0?-g:g)<=Qk){for(s=new f(na),t=Math.ceil(r/gn+4),jn=!1;n%2&&(s=s.times(d),F2(s.d,t)),n=Nc(n/2),n!==0;)d=d.times(d),F2(d.d,t);return jn=!0,e.s<0?new f(na).div(s):sn(s,r)}}else if(o<0)throw Error(Ia+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,jn=!1,s=e.times(ad(d,r+m)),jn=!0,s=Jk(s),s.s=o,s};He.toPrecision=function(e,t){var n,r,s=this,o=s.constructor;return e===void 0?(n=qn(s),r=Kl(s,n<=o.toExpNeg||n>=o.toExpPos)):(ci(e,1,wc),t===void 0?t=o.rounding:ci(t,0,8),s=sn(new o(s),e,t),n=qn(s),r=Kl(s,e<=n||n<=o.toExpNeg,e)),r};He.toSignificantDigits=He.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ci(e,1,wc),t===void 0?t=r.rounding:ci(t,0,8)),sn(new r(n),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qn(e),n=e.constructor;return Kl(e,t<=n.toExpNeg||t>=n.toExpPos)};function Zk(e,t){var n,r,s,o,u,d,f,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),jn?sn(t,x):t;if(f=e.d,m=t.d,u=e.e,s=t.e,f=f.slice(),o=u-s,o){for(o<0?(r=f,o=-o,d=m.length):(r=m,s=u,d=f.length),u=Math.ceil(x/gn),d=u>d?u+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=f.length,o=m.length,d-o<0&&(o=d,r=m,m=f,f=r),n=0;o;)n=(f[--o]=f[o]+m[o]+n)/Jn|0,f[o]%=Jn;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,jn?sn(t,x):t}function ci(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pl+e)}function ii(e){var t,n,r,s=e.length-1,o="",u=e[0];if(s>0){for(o+=u,t=1;t<s;t++)r=e[t]+"",n=gn-r.length,n&&(o+=Ps(n)),o+=r;u=e[t],r=u+"",n=gn-r.length,n&&(o+=Ps(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Fi=(function(){function e(r,s){var o,u=0,d=r.length;for(r=r.slice();d--;)o=r[d]*s+u,r[d]=o%Jn|0,u=o/Jn|0;return u&&r.unshift(u),r}function t(r,s,o,u){var d,f;if(o!=u)f=o>u?1:-1;else for(d=f=0;d<o;d++)if(r[d]!=s[d]){f=r[d]>s[d]?1:-1;break}return f}function n(r,s,o){for(var u=0;o--;)r[o]-=u,u=r[o]<s[o]?1:0,r[o]=u*Jn+r[o]-s[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,o,u){var d,f,m,g,x,b,j,S,w,N,E,A,T,_,O,R,D,B,X=r.constructor,Y=r.s==s.s?1:-1,L=r.d,F=s.d;if(!r.s)return new X(r);if(!s.s)throw Error(Ia+"Division by zero");for(f=r.e-s.e,D=F.length,O=L.length,j=new X(Y),S=j.d=[],m=0;F[m]==(L[m]||0);)++m;if(F[m]>(L[m]||0)&&--f,o==null?A=o=X.precision:u?A=o+(qn(r)-qn(s))+1:A=o,A<0)return new X(0);if(A=A/gn+2|0,m=0,D==1)for(g=0,F=F[0],A++;(m<O||g)&&A--;m++)T=g*Jn+(L[m]||0),S[m]=T/F|0,g=T%F|0;else{for(g=Jn/(F[0]+1)|0,g>1&&(F=e(F,g),L=e(L,g),D=F.length,O=L.length),_=D,w=L.slice(0,D),N=w.length;N<D;)w[N++]=0;B=F.slice(),B.unshift(0),R=F[0],F[1]>=Jn/2&&++R;do g=0,d=t(F,w,D,N),d<0?(E=w[0],D!=N&&(E=E*Jn+(w[1]||0)),g=E/R|0,g>1?(g>=Jn&&(g=Jn-1),x=e(F,g),b=x.length,N=w.length,d=t(x,w,b,N),d==1&&(g--,n(x,D<b?B:F,b))):(g==0&&(d=g=1),x=F.slice()),b=x.length,b<N&&x.unshift(0),n(w,x,N),d==-1&&(N=w.length,d=t(F,w,D,N),d<1&&(g++,n(w,D<N?B:F,N))),N=w.length):d===0&&(g++,w=[0]),S[m++]=g,d&&w[0]?w[N++]=L[_]||0:(w=[L[_]],N=1);while((_++<O||w[0]!==void 0)&&A--)}return S[0]||S.shift(),j.e=f,sn(j,u?o+qn(j)+1:o)}})();function Jk(e,t){var n,r,s,o,u,d,f=0,m=0,g=e.constructor,x=g.precision;if(qn(e)>16)throw Error(mj+qn(e));if(!e.s)return new g(na);for(jn=!1,d=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(r=Math.log(Sl(2,m))/Math.LN10*2+5|0,d+=r,n=s=o=new g(na),g.precision=d;;){if(s=sn(s.times(e),d),n=n.times(++f),u=o.plus(Fi(s,n,d)),ii(u.d).slice(0,d)===ii(o.d).slice(0,d)){for(;m--;)o=sn(o.times(o),d);return g.precision=x,t==null?(jn=!0,sn(o,x)):o}o=u}}function qn(e){for(var t=e.e*gn,n=e.d[0];n>=10;n/=10)t++;return t}function gy(e,t,n){if(t>e.LN10.sd())throw jn=!0,n&&(e.precision=n),Error(Ia+"LN10 precision limit exceeded");return sn(new e(e.LN10),t)}function Ps(e){for(var t="";e--;)t+="0";return t}function ad(e,t){var n,r,s,o,u,d,f,m,g,x=1,b=10,j=e,S=j.d,w=j.constructor,N=w.precision;if(j.s<1)throw Error(Ia+(j.s?"NaN":"-Infinity"));if(j.eq(na))return new w(0);if(t==null?(jn=!1,m=N):m=t,j.eq(10))return t==null&&(jn=!0),gy(w,m);if(m+=b,w.precision=m,n=ii(S),r=n.charAt(0),o=qn(j),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)j=j.times(e),n=ii(j.d),r=n.charAt(0),x++;o=qn(j),r>1?(j=new w("0."+n),o++):j=new w(r+"."+n.slice(1))}else return f=gy(w,m+2,N).times(o+""),j=ad(new w(r+"."+n.slice(1)),m-b).plus(f),w.precision=N,t==null?(jn=!0,sn(j,N)):j;for(d=u=j=Fi(j.minus(na),j.plus(na),m),g=sn(j.times(j),m),s=3;;){if(u=sn(u.times(g),m),f=d.plus(Fi(u,new w(s),m)),ii(f.d).slice(0,m)===ii(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(gy(w,m+2,N).times(o+""))),d=Fi(d,new w(x),m),w.precision=N,t==null?(jn=!0,sn(d,N)):d;d=f,s+=2}}function q2(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Nc(n/gn),e.d=[],r=(n+1)%gn,n<0&&(r+=gn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=gn;r<s;)e.d.push(+t.slice(r,r+=gn));t=t.slice(r),r=gn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),jn&&(e.e>pm||e.e<-pm))throw Error(mj+n)}else e.s=0,e.e=0,e.d=[0];return e}function sn(e,t,n){var r,s,o,u,d,f,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(r=t-u,r<0)r+=gn,s=t,m=x[g=0];else{if(g=Math.ceil((r+1)/gn),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;r%=gn,s=r-gn+u}if(n!==void 0&&(o=Sl(10,u-s-1),d=m/o%10|0,f=t<0||x[g+1]!==void 0||m%o,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?s>0?m/Sl(10,u-s):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(o=qn(e),x.length=1,t=t-o-1,x[0]=Sl(10,(gn-t%gn)%gn),e.e=Nc(-t/gn)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,o=1,g--):(x.length=g+1,o=Sl(10,gn-r),x[g]=s>0?(m/Sl(10,u-s)%Sl(10,s)|0)*o:0),f)for(;;)if(g==0){(x[0]+=o)==Jn&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=Jn)break;x[g--]=0,o=1}for(r=x.length;x[--r]===0;)x.pop();if(jn&&(e.e>pm||e.e<-pm))throw Error(mj+qn(e));return e}function eD(e,t){var n,r,s,o,u,d,f,m,g,x,b=e.constructor,j=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),jn?sn(t,j):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),u=m-r,u){for(g=u<0,g?(n=f,u=-u,d=x.length):(n=x,r=m,d=f.length),s=Math.max(Math.ceil(j/gn),d)+2,u>s&&(u=s,n.length=1),n.reverse(),s=u;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,g=s<d,g&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){g=f[s]<x[s];break}u=0}for(g&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>u;){if(f[--s]<x[s]){for(o=s;o&&f[--o]===0;)f[o]=Jn-1;--f[o],f[s]+=Jn}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,jn?sn(t,j):t):new b(0)}function Kl(e,t,n){var r,s=qn(e),o=ii(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+Ps(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+Ps(-s-1)+o,n&&(r=n-u)>0&&(o+=Ps(r))):s>=u?(o+=Ps(s+1-u),n&&(r=n-s-1)>0&&(o=o+"."+Ps(r))):((r=s+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(s+1===u&&(o+="."),o+=Ps(r))),e.s<0?"-"+o:o}function F2(e,t){if(e.length>t)return e.length=t,!0}function tD(e){var t,n,r;function s(o){var u=this;if(!(u instanceof s))return new s(o);if(u.constructor=s,o instanceof s){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Pl+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return q2(u,o.toString())}else if(typeof o!="string")throw Error(Pl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,LK.test(o))q2(u,o);else throw Error(Pl+o)}if(s.prototype=He,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=tD,s.config=s.set=BK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function BK(e){if(!e||typeof e!="object")throw Error(Ia+"Object expected");var t,n,r,s=["precision",1,wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Nc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Pl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pl+n+": "+r);return this}var gj=tD(IK);na=new gj(1);const Kt=gj;var UK=e=>e,nD={},rD=e=>e===nD,K2=e=>function t(){return arguments.length===0||arguments.length===1&&rD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},aD=(e,t)=>e===1?t:K2(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=r.filter(u=>u!==nD).length;return o>=e?t(...r):aD(e-o,K2(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=r.map(g=>rD(g)?d.shift():g);return t(...m,...d)}))}),hg=e=>aD(e.length,e),Pv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},$K=hg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),zK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return UK;var s=n.reverse(),o=s[0],u=s.slice(1);return function(){return u.reduce((d,f)=>f(d),o(...arguments))}},Iv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),iD=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t&&s.every((u,d)=>{var f;return u===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function sD(e){var t;return e===0?t=1:t=Math.floor(new Kt(e).abs().log(10).toNumber())+1,t}function lD(e,t,n){for(var r=new Kt(e),s=0,o=[];r.lt(t)&&s<1e5;)o.push(r.toNumber()),r=r.add(n),s++;return o}hg((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});hg((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});hg((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var oD=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},cD=(e,t,n)=>{if(e.lte(0))return new Kt(0);var r=sD(e.toNumber()),s=new Kt(10).pow(r),o=e.div(s),u=r!==1?.05:.1,d=new Kt(Math.ceil(o.div(u).toNumber())).add(n).mul(u),f=d.mul(s);return t?new Kt(f.toNumber()):new Kt(Math.ceil(f.toNumber()))},HK=(e,t,n)=>{var r=new Kt(1),s=new Kt(e);if(!s.isint()&&n){var o=Math.abs(e);o<1?(r=new Kt(10).pow(sD(e)-1),s=new Kt(Math.floor(s.div(r).toNumber())).mul(r)):o>1&&(s=new Kt(Math.floor(e)))}else e===0?s=new Kt(Math.floor((t-1)/2)):n||(s=new Kt(Math.floor(e)));var u=Math.floor((t-1)/2),d=zK($K(f=>s.add(new Kt(f-u).mul(r)).toNumber()),Pv);return d(0,t)},uD=function(t,n,r,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var u=cD(new Kt(n).sub(t).div(r-1),s,o),d;t<=0&&n>=0?d=new Kt(0):(d=new Kt(t).add(n).div(2),d=d.sub(new Kt(d).mod(u)));var f=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new Kt(n).sub(d).div(u).toNumber()),g=f+m+1;return g>r?uD(t,n,r,s,o+1):(g<r&&(m=n>0?m+(r-g):m,f=n>0?f:f+(r-g)),{step:u,tickMin:d.sub(new Kt(f).mul(u)),tickMax:d.add(new Kt(m).mul(u))})};function qK(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,d]=oD([t,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Pv(0,r-1).map(()=>1/0)]:[...Pv(0,r-1).map(()=>-1/0),d];return t>n?Iv(f):f}if(u===d)return HK(u,r,s);var{step:m,tickMin:g,tickMax:x}=uD(u,d,o,s,0),b=lD(g,x.add(new Kt(.1).mul(m)),m);return t>n?Iv(b):b}function FK(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=oD([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var d=Math.max(t,2),f=cD(new Kt(u).sub(o).div(d-1),s,0),m=[...lD(new Kt(o),new Kt(u),f),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>r?Iv(m):m}var KK=iD(qK),GK=iD(FK),dD=e=>e.rootProps.maxBarSize,VK=e=>e.rootProps.barGap,hD=e=>e.rootProps.barCategoryGap,WK=e=>e.rootProps.barSize,Nd=e=>e.rootProps.stackOffset,pj=e=>e.options.chartName,xj=e=>e.rootProps.syncId,fD=e=>e.rootProps.syncMethod,yj=e=>e.options.eventEmitter,Pi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},YK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:Pi.reversed,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:Pi.type,unit:void 0},XK={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:Jr.type,unit:void 0},QK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ZK={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,ticks:void 0,type:"category",unit:void 0},vj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?QK:YK,bj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ZK:XK,mg=e=>e.polarOptions,jj=xe([Ji,es,Wn],GO),mD=xe([mg,jj],(e,t)=>{if(e!=null)return yr(e.innerRadius,t,0)}),gD=xe([mg,jj],(e,t)=>{if(e!=null)return yr(e.outerRadius,t,t*.8)}),JK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},pD=xe([mg],JK);xe([vj,pD],fg);var xD=xe([jj,mD,gD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([bj,xD],fg);var yD=xe([Pt,mg,mD,gD,Ji,es],(e,t,n,r,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:d,startAngle:f,endAngle:m}=t;return{cx:yr(u,s,s/2),cy:yr(d,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),En=(e,t)=>t,Sd=(e,t,n)=>n;function wj(e){return e?.id}var Xn=e=>{var t=Pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sc=e=>e.tooltip.settings.axisId,Qn=e=>{var t=Xn(e),n=Sc(e);return Ed(e,t,n)},vD=xe([Qn],e=>e?.dataKey);function bD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=n,u=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var g=wj(d);m.forEach((x,b)=>{var j=o==null||s?b:String(hn(x,o,null)),S=hn(x,d.dataKey,0),w;u.has(j)?w=u.get(j):w={},Object.assign(w,{[g]:S}),u.set(j,w)})}}),Array.from(u.values())}function gg(e){return e.stackId!=null&&e.dataKey!=null}var pg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function xg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){eG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eG(e,t,n){return(t=tG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lv=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jD=(e,t)=>e.cartesianAxis.xAxis[t],ns=(e,t)=>{var n=jD(e,t);return n??Qr},Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gd},wD=(e,t)=>e.cartesianAxis.yAxis[t],rs=(e,t)=>{var n=wD(e,t);return n??Zr},rG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Nj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??rG},An=(e,t,n)=>{switch(t){case"xAxis":return ns(e,n);case"yAxis":return rs(e,n);case"zAxis":return Nj(e,n);case"angleAxis":return vj(e,n);case"radiusAxis":return bj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aG=(e,t,n)=>{switch(t){case"xAxis":return ns(e,n);case"yAxis":return rs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ed=(e,t,n)=>{switch(t){case"xAxis":return ns(e,n);case"yAxis":return rs(e,n);case"angleAxis":return vj(e,n);case"radiusAxis":return bj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ND=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Sj(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var yg=e=>e.graphicalItems.cartesianItems,iG=xe([En,Sd],Sj),Ej=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Cd=xe([yg,An,iG],Ej,{memoizeOptions:{resultEqualityCheck:xg}}),SD=xe([Cd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gg)),ED=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),sG=xe([Cd],ED),Cj=e=>e.map(t=>t.data).filter(Boolean).flat(1),lG=xe([Cd],Cj,{memoizeOptions:{resultEqualityCheck:xg}}),Aj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},Tj=xe([lG,dg],Aj),_j=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:hn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:hn(s,r)}))):e.map(r=>({value:r})),vg=xe([Tj,An,Cd],_j);function CD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pf(e){if(oi(e)||e instanceof Date){var t=Number(e);if(vr(t))return t}}function V2(e){if(Array.isArray(e)){var t=[Pf(e[0]),Pf(e[1])];return Fl(t)?t:void 0}var n=Pf(e);if(n!=null)return[n,n]}function Ec(e){return e.map(Pf).filter(SH)}function oG(e,t,n){return!n||typeof t!="number"||Ma(t)?[]:n.length?Ec(n.flatMap(r=>{var s=hn(e,r.dataKey),o,u;if(Array.isArray(s)?[o,u]=s:o=u=s,!(!vr(o)||!vr(u)))return[t-o,t+u]})):[]}var cG=xe([SD,dg,Qn],bD),AD=(e,t,n)=>{var r={},s=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(s).map(o=>{var[u,d]=o,f=d.map(wj);return[u,{stackedData:V9(e,f,n),graphicalItems:d}]}))},Bv=xe([cG,SD,Nd],AD),TD=(e,t,n,r)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var u=Z9(e,s,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},uG=xe([An],e=>e.allowDataOverflow),Rj=e=>{var t;if(e==null||!("domain"in e))return Lv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ec(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Lv},Oj=xe([An],Rj),kj=xe([Oj,uG],Xk),dG=xe([Bv,Xs,En,kj],TD,{memoizeOptions:{resultEqualityCheck:pg}}),bg=e=>e.errorBars,hG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>CD(n,r)),ym=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var o=s.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},Dj=(e,t,n,r,s)=>{var o,u;if(n.length>0&&e.forEach(d=>{n.forEach(f=>{var m,g,x=(m=r[f.id])===null||m===void 0?void 0:m.filter(E=>CD(s,E)),b=hn(d,(g=t.dataKey)!==null&&g!==void 0?g:f.dataKey),j=oG(d,b,x);if(j.length>=2){var S=Math.min(...j),w=Math.max(...j);(o==null||S<o)&&(o=S),(u==null||w>u)&&(u=w)}var N=V2(b);N!=null&&(o=o==null?N[0]:Math.min(o,N[0]),u=u==null?N[1]:Math.max(u,N[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=V2(hn(d,t.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),u=u==null?f[1]:Math.max(u,f[1]))}),vr(o)&&vr(u))return[o,u]},fG=xe([Tj,An,sG,bg,En],Dj,{memoizeOptions:{resultEqualityCheck:pg}});function mG(e){var{value:t}=e;if(oi(t)||t instanceof Date)return t}var gG=(e,t,n)=>{var r=e.map(mG).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&nO(r))?gk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},_D=e=>e.referenceElements.dots,Cc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),pG=xe([_D,En,Sd],Cc),RD=e=>e.referenceElements.areas,xG=xe([RD,En,Sd],Cc),OD=e=>e.referenceElements.lines,yG=xe([OD,En,Sd],Cc),kD=(e,t)=>{var n=Ec(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vG=xe(pG,En,kD),DD=(e,t)=>{var n=Ec(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bG=xe([xG,En],DD),MD=(e,t)=>{var n=Ec(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jG=xe(yG,En,MD),wG=xe(vG,jG,bG,(e,t,n)=>ym(e,n,t)),Mj=(e,t,n,r,s,o,u,d)=>{if(n!=null)return n;var f=u==="vertical"&&d==="xAxis"||u==="horizontal"&&d==="yAxis",m=f?ym(r,o,s):ym(o,s);return PK(t,m,e.allowDataOverflow)},NG=xe([An,Oj,kj,dG,fG,wG,Pt,En],Mj,{memoizeOptions:{resultEqualityCheck:pg}}),SG=[0,1],Pj=(e,t,n,r,s,o,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:d,type:f}=e,m=Gs(t,o);return m&&d==null?gk(0,n.length):f==="category"?gG(r,e,m):s==="expand"?SG:u}},Ij=xe([An,Pt,Tj,vg,Nd,En,NG],Pj),PD=(e,t,n,r,s)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(dd(o));return d in Mu?d:"point"}}},Ac=xe([An,Pt,ND,pj,En],PD);function EG(e){if(e!=null){if(e in Mu)return Mu[e]();var t="scale".concat(dd(e));if(t in Mu)return Mu[t]()}}function Lj(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=EG(t);if(s!=null){var o=s.domain(n).range(r);return H9(o),o}}}var Bj=(e,t,n)=>{var r=Rj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fl(e))return KK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fl(e))return GK(e,t.tickCount,t.allowDecimals)}},Uj=xe([Ij,Ed,Ac],Bj),$j=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Fl(t)&&Array.isArray(n)&&n.length>0){var s=t[0],o=n[0],u=t[1],d=n[n.length-1];return[Math.min(s,o),Math.max(u,d)]}return t},CG=xe([An,Ij,Uj,En],$j),AG=xe(vg,An,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ec(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/s}}),ID=xe(AG,Pt,hD,Wn,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!vr(e))return 0;var o=t==="vertical"?r.height:r.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var u=yr(n,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),TG=(e,t)=>{var n=ns(e,t);return n==null||typeof n.padding!="string"?0:ID(e,"xAxis",t,n.padding)},_G=(e,t)=>{var n=rs(e,t);return n==null||typeof n.padding!="string"?0:ID(e,"yAxis",t,n.padding)},RG=xe(ns,TG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),OG=xe(rs,_G,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),kG=xe([Wn,RG,tg,eg,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:o}=r;return s?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),DG=xe([Wn,Pt,OG,tg,eg,(e,t,n)=>n],(e,t,n,r,s,o)=>{var{padding:u}=s;return o?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ad=(e,t,n,r)=>{var s;switch(t){case"xAxis":return kG(e,n,r);case"yAxis":return DG(e,n,r);case"zAxis":return(s=Nj(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return pD(e);case"radiusAxis":return xD(e,n);default:return}},LD=xe([An,Ad],fg),Tc=xe([An,Ac,CG,LD],Lj);xe([Cd,bg,En],hG);function BD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jg=(e,t)=>t,wg=(e,t,n)=>n,MG=xe(Zm,jg,wg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BD)),PG=xe(Jm,jg,wg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BD)),UD=(e,t)=>({width:e.width,height:t.height}),IG=(e,t)=>{var n=typeof t.width=="number"?t.width:gd;return{width:n,height:e.height}},$D=xe(Wn,ns,UD),LG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},BG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},UG=xe(es,Wn,MG,jg,wg,(e,t,n,r,s)=>{var o={},u;return n.forEach(d=>{var f=UD(t,d);u==null&&(u=LG(t,r,e));var m=r==="top"&&!s||r==="bottom"&&s;o[d.id]=u-Number(m)*f.height,u+=(m?-1:1)*f.height}),o}),$G=xe(Ji,Wn,PG,jg,wg,(e,t,n,r,s)=>{var o={},u;return n.forEach(d=>{var f=IG(t,d);u==null&&(u=BG(t,r,e));var m=r==="left"&&!s||r==="right"&&s;o[d.id]=u-Number(m)*f.width,u+=(m?-1:1)*f.width}),o}),zG=(e,t)=>{var n=ns(e,t);if(n!=null)return UG(e,n.orientation,n.mirror)},HG=xe([Wn,ns,zG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var s=n?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),qG=(e,t)=>{var n=rs(e,t);if(n!=null)return $G(e,n.orientation,n.mirror)},FG=xe([Wn,rs,qG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var s=n?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),zD=xe(Wn,rs,(e,t)=>{var n=typeof t.width=="number"?t.width:gd;return{width:n,height:e.height}}),W2=(e,t,n)=>{switch(t){case"xAxis":return $D(e,n).width;case"yAxis":return zD(e,n).height;default:return}},HD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:o,dataKey:u}=n,d=Gs(e,r),f=t.map(m=>m.value);if(u&&d&&o==="category"&&s&&nO(f))return f}},zj=xe([Pt,vg,An,En],HD),qD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:o}=n,u=Gs(e,r);if(u&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Hj=xe([Pt,vg,Ed,En],qD),Y2=xe([Pt,aG,Ac,Tc,zj,Hj,Ad,Uj,En],(e,t,n,r,s,o,u,d,f)=>{if(t==null)return null;var m=Gs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:d,range:u,realScaleType:n,scale:r}}),KG=(e,t,n,r,s,o,u,d,f)=>{if(!(t==null||r==null)){var m=Gs(e,f),{type:g,ticks:x,tickCount:b}=t,j=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=g==="category"&&r.bandwidth?r.bandwidth()/j:0;S=f==="angleAxis"&&o!=null&&o.length>=2?tr(o[0]-o[1])*2*S:S;var w=x||s;if(w){var N=w.map((E,A)=>{var T=u?u.indexOf(E):E;return{index:A,coordinate:r(T)+S,value:E,offset:S}});return N.filter(E=>!Ma(E.coordinate))}return m&&d?d.map((E,A)=>({coordinate:r(E)+S,value:E,index:A,offset:S})):r.ticks?r.ticks(b).map(E=>({coordinate:r(E)+S,value:E,offset:S})):r.domain().map((E,A)=>({coordinate:r(E)+S,value:u?u[E]:E,index:A,offset:S}))}},FD=xe([Pt,Ed,Ac,Tc,Uj,Ad,zj,Hj,En],KG),GG=(e,t,n,r,s,o,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Gs(e,u),{tickCount:f}=t,m=0;return m=u==="angleAxis"&&r?.length>=2?tr(r[0]-r[1])*2*m:m,d&&o?o.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.ticks?n.ticks(f).map(g=>({coordinate:n(g)+m,value:g,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:s?s[g]:g,index:x,offset:m}))}},$s=xe([Pt,Ed,Tc,Ad,zj,Hj,En],GG),zs=xe(An,Tc,(e,t)=>{if(!(e==null||t==null))return xm(xm({},e),{},{scale:t})}),VG=xe([An,Ac,Ij,LD],Lj);xe((e,t,n)=>Nj(e,n),VG,(e,t)=>{if(!(e==null||t==null))return xm(xm({},e),{},{scale:t})});var WG=xe([Pt,Zm,Jm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KD=e=>e.options.defaultTooltipEventType,GD=e=>e.options.validateTooltipEventTypes;function VD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function qj(e,t){var n=KD(e),r=GD(e);return VD(t,n,r)}function YG(e){return Xe(t=>qj(t,e))}var WD=(e,t)=>{var n,r=Number(t);if(!(Ma(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},XG=e=>e.tooltip.settings,Ls={active:!1,index:null,dataKey:void 0,coordinate:void 0},QG={itemInteraction:{click:Ls,hover:Ls},axisInteraction:{click:Ls,hover:Ls},keyboardInteraction:Ls,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YD=ca({name:"tooltip",initialState:QG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Sr()},removeTooltipEntrySettings:{reducer(e,t){var n=qi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Sr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ZG,removeTooltipEntrySettings:JG,setTooltipSettingsState:eV,setActiveMouseOverItemIndex:XD,mouseLeaveItem:tV,mouseLeaveChart:QD,setActiveClickItemIndex:nV,setMouseOverAxisIndex:ZD,setMouseClickAxisIndex:rV,setSyncInteraction:Uv,setKeyboardInteraction:$v}=YD.actions,aV=YD.reducer;function X2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cV(e){return e.index!=null}var JD=(e,t,n,r)=>{if(t==null)return Ls;var s=oV(e,t,n);if(s==null)return Ls;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(cV(s)){if(o)return vf(vf({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return vf(vf({},Ls),{},{coordinate:s.coordinate})},Fj=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!vr(r))return n;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(r,o)))},eM=(e,t,n,r,s,o,u,d)=>{if(!(o==null||d==null)){var f=u[0],m=f==null?void 0:d(f.positions,o);if(m!=null)return m;var g=s?.[Number(o)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},tM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===s})},Td=e=>e.options.tooltipPayloadSearcher,_c=e=>e.tooltip;function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(r){uV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uV(e,t,n){return(t=dV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fV(e,t){return e??t}var nM=(e,t,n,r,s,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:g}=n,x=[];return e.reduce((b,j)=>{var S,{dataDefinedOnItem:w,settings:N}=j,E=fV(w,d),A=Array.isArray(E)?VO(E,m,g):E,T=(S=N?.dataKey)!==null&&S!==void 0?S:r,_=N?.nameKey,O;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&u==="axis"?O=rO(A,r,s):O=o(A,t,f,_),Array.isArray(O))O.forEach(D=>{var B=Z2(Z2({},N),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});b.push(AA({tooltipEntrySettings:B,dataKey:D.dataKey,payload:D.payload,value:hn(D.payload,D.dataKey),name:D.name}))});else{var R;b.push(AA({tooltipEntrySettings:N,dataKey:T,payload:O,value:hn(O,T),name:(R=hn(O,_))!==null&&R!==void 0?R:N?.name}))}return b},x)}},Kj=xe([Qn,Pt,ND,pj,Xn],PD),mV=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),gV=xe([Xn,Sc],Sj),_d=xe([mV,Qn,gV],Ej,{memoizeOptions:{resultEqualityCheck:xg}}),pV=xe([_d],e=>e.filter(gg)),xV=xe([_d],Cj,{memoizeOptions:{resultEqualityCheck:xg}}),Rc=xe([xV,Xs],Aj),yV=xe([pV,Xs,Qn],bD),Gj=xe([Rc,Qn,_d],_j),rM=xe([Qn],Rj),vV=xe([Qn],e=>e.allowDataOverflow),aM=xe([rM,vV],Xk),bV=xe([_d],e=>e.filter(gg)),jV=xe([yV,bV,Nd],AD),wV=xe([jV,Xs,Xn,aM],TD),NV=xe([_d],ED),SV=xe([Rc,Qn,NV,bg,Xn],Dj,{memoizeOptions:{resultEqualityCheck:pg}}),EV=xe([_D,Xn,Sc],Cc),CV=xe([EV,Xn],kD),AV=xe([RD,Xn,Sc],Cc),TV=xe([AV,Xn],DD),_V=xe([OD,Xn,Sc],Cc),RV=xe([_V,Xn],MD),OV=xe([CV,RV,TV],ym),kV=xe([Qn,rM,aM,wV,SV,OV,Pt,Xn],Mj),iM=xe([Qn,Pt,Rc,Gj,Nd,Xn,kV],Pj),DV=xe([iM,Qn,Kj],Bj),MV=xe([Qn,iM,DV,Xn],$j),sM=e=>{var t=Xn(e),n=Sc(e),r=!1;return Ad(e,t,n,r)},lM=xe([Qn,sM],fg),oM=xe([Qn,Kj,MV,lM],Lj),PV=xe([Pt,Gj,Qn,Xn],HD),IV=xe([Pt,Gj,Qn,Xn],qD),LV=(e,t,n,r,s,o,u,d)=>{if(t){var{type:f}=t,m=Gs(e,d);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=d==="angleAxis"&&s!=null&&s?.length>=2?tr(s[0]-s[1])*2*x:x,m&&u?u.map((b,j)=>({coordinate:r(b)+x,value:b,index:j,offset:x})):r.domain().map((b,j)=>({coordinate:r(b)+x,value:o?o[b]:b,index:j,offset:x}))}}},as=xe([Pt,Qn,Kj,oM,sM,PV,IV,Xn],LV),Vj=xe([KD,GD,XG],(e,t,n)=>VD(n.shared,e,t)),cM=e=>e.tooltip.settings.trigger,Wj=e=>e.tooltip.settings.defaultIndex,Ng=xe([_c,Vj,cM,Wj],JD),Hs=xe([Ng,Rc],Fj),uM=xe([as,Hs],WD),dM=xe([Ng],e=>{if(e)return e.dataKey}),hM=xe([_c,Vj,cM,Wj],tM),BV=xe([Ji,es,Pt,Wn,as,Wj,hM,Td],eM),UV=xe([Ng,BV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$V=xe([Ng],e=>e.active),zV=xe([hM,Hs,Xs,vD,uM,Td,Vj],nM),HV=xe([zV],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=FV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GV=()=>Xe(Qn),VV=()=>{var e=GV(),t=Xe(as),n=Xe(oM);return Zu(eT(eT({},e),{},{scale:n}),t)},WV=()=>Xe(pj),Yj=(e,t)=>t,fM=(e,t,n)=>n,Xj=(e,t,n,r)=>r,YV=xe(as,e=>Gm(e,t=>t.coordinate)),Qj=xe([_c,Yj,fM,Xj],JD),mM=xe([Qj,Rc],Fj),XV=(e,t,n)=>{if(t!=null){var r=_c(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},gM=xe([_c,Yj,fM,Xj],tM),vm=xe([Ji,es,Pt,Wn,as,Xj,gM,Td],eM),QV=xe([Qj,vm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),pM=xe(as,mM,WD),ZV=xe([gM,mM,Xs,vD,pM,Td,Yj],nM),JV=xe([Qj],e=>({isActive:e.active,activeIndex:e.index})),eW=(e,t,n,r,s,o,u,d)=>{if(!(!e||!t||!r||!s||!o)){var f=J9(e.chartX,e.chartY,t,n,d);if(f){var m=t7(f,t),g=$9(m,u,o,r,s),x=e7(t,o,g,f);return{activeIndex:String(g),activeCoordinate:x}}}};function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(null,arguments)}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){tW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tW(e,t,n){return(t=nW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aW(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,g=t,x=n,b=r;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var j,S;if(m==="ScatterChart")j=g,S=xH;else if(m==="BarChart")j=yH(u,g,s,o),S=dk;else if(u==="radial"){var{cx:w,cy:N,radius:E,startAngle:A,endAngle:T}=hk(g);j={cx:w,cy:N,startAngle:A,endAngle:T,innerRadius:E,outerRadius:E},S=mk}else j={points:tq(u,g,s)},S=qb;var _=typeof d=="object"&&"className"in d?d.className:void 0,O=bf(bf(bf(bf({stroke:"#ccc",pointerEvents:"none"},s),j),$l(d)),{},{payload:x,payloadIndex:b,className:Mt("recharts-tooltip-cursor",_)});return p.isValidElement(d)?p.cloneElement(d,O):p.createElement(S,O)}function iW(e){var t=VV(),n=nk(),r=rg(),s=WV();return p.createElement(aW,zv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var xM=p.createContext(null),sW=()=>p.useContext(xM),py={exports:{}},nT;function lW(){return nT||(nT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function o(f,m,g,x,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var j=new s(g,x||f,b),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],j]:f._events[S].push(j):(f._events[S]=j,f._eventsCount++),f}function u(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,j=x.length,S=new Array(j);b<j;b++)S[b]=x[b].fn;return S},d.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,g,x,b,j,S){var w=n?n+m:m;if(!this._events[w])return!1;var N=this._events[w],E=arguments.length,A,T;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,x),!0;case 4:return N.fn.call(N.context,g,x,b),!0;case 5:return N.fn.call(N.context,g,x,b,j),!0;case 6:return N.fn.call(N.context,g,x,b,j,S),!0}for(T=1,A=new Array(E-1);T<E;T++)A[T-1]=arguments[T];N.fn.apply(N.context,A)}else{var _=N.length,O;for(T=0;T<_;T++)switch(N[T].once&&this.removeListener(m,N[T].fn,void 0,!0),E){case 1:N[T].fn.call(N[T].context);break;case 2:N[T].fn.call(N[T].context,g);break;case 3:N[T].fn.call(N[T].context,g,x);break;case 4:N[T].fn.call(N[T].context,g,x,b);break;default:if(!A)for(O=1,A=new Array(E-1);O<E;O++)A[O-1]=arguments[O];N[T].fn.apply(N[T].context,A)}}return!0},d.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},d.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},d.prototype.removeListener=function(m,g,x,b){var j=n?n+m:m;if(!this._events[j])return this;if(!g)return u(this,j),this;var S=this._events[j];if(S.fn)S.fn===g&&(!b||S.once)&&(!x||S.context===x)&&u(this,j);else{for(var w=0,N=[],E=S.length;w<E;w++)(S[w].fn!==g||b&&!S[w].once||x&&S[w].context!==x)&&N.push(S[w]);N.length?this._events[j]=N.length===1?N[0]:N:u(this,j)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(py)),py.exports}var oW=lW();const cW=hi(oW);var id=new cW,Hv="recharts.syncEvent.tooltip",rT="recharts.syncEvent.brush";function Zj(e,t){if(t){var n=Number.parseInt(t,10);if(!Ma(n))return e?.[n]}}var uW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yM=ca({name:"options",initialState:uW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dW=yM.reducer,{createEventEmitter:hW}=yM.actions;function fW(e){return e.tooltip.syncInteraction}var mW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vM=ca({name:"chartData",initialState:mW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:aT,setDataStartEndIndexes:gW,setComputedData:cie}=vM.actions,pW=vM.reducer,xW=["x","y"];function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){yW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yW(e,t,n){return(t=vW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jW(e,t){if(e==null)return{};var n,r,s=wW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bM=()=>{};function NW(){var e=Xe(xj),t=Xe(yj),n=Sn(),r=Xe(fD),s=Xe(as),o=rg(),u=ng(),d=Xe(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return bM;var f=(m,g,x)=>{if(t!==x&&e===m){if(r==="index"){var b;if(u&&g!==null&&g!==void 0&&(b=g.payload)!==null&&b!==void 0&&b.coordinate&&g.payload.sourceViewBox){var j=g.payload.coordinate,{x:S,y:w}=j,N=jW(j,xW),{x:E,y:A,width:T,height:_}=g.payload.sourceViewBox,O=Fo(Fo({},N),{},{x:u.x+(T?(S-E)/T:0)*u.width,y:u.y+(_?(w-A)/_:0)*u.height});n(Fo(Fo({},g),{},{payload:Fo(Fo({},g.payload),{},{coordinate:O})}))}else n(g);return}if(s!=null){var R;if(typeof r=="function"){var D={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},B=r(s,D);R=s[B]}else r==="value"&&(R=s.find(H=>String(H.value)===g.payload.label));var{coordinate:X}=g.payload;if(R==null||g.payload.active===!1||X==null||u==null){n(Uv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Y,y:L}=X,F=Math.min(Y,u.x+u.width),re=Math.min(L,u.y+u.height),ye={x:o==="horizontal"?R.coordinate:F,y:o==="horizontal"?re:R.coordinate},ve=Uv({active:g.payload.active,coordinate:ye,dataKey:g.payload.dataKey,index:String(R.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox});n(ve)}}};return id.on(Hv,f),()=>{id.off(Hv,f)}},[d,n,t,e,r,s,o,u])}function SW(){var e=Xe(xj),t=Xe(yj),n=Sn();p.useEffect(()=>{if(e==null)return bM;var r=(s,o,u)=>{t!==u&&e===s&&n(gW(o))};return id.on(rT,r),()=>{id.off(rT,r)}},[n,t,e])}function EW(){var e=Sn();p.useEffect(()=>{e(hW())},[e]),NW(),SW()}function CW(e,t,n,r,s,o){var u=Xe(j=>XV(j,e,t)),d=Xe(yj),f=Xe(xj),m=Xe(fD),g=Xe(fW),x=g?.active,b=ng();p.useEffect(()=>{if(!x&&f!=null&&d!=null){var j=Uv({active:o,coordinate:n,dataKey:u,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:b});id.emit(Hv,f,j,d)}},[x,n,u,s,r,d,f,m,o,b])}function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(r){AW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AW(e,t,n){return(t=TW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e){return e.dataKey}function OW(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(Y7,t)}var oT=[],kW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Vs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rd(e){var t=dr(e,kW),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:o,content:u,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:g,position:x,reverseDirection:b,useTranslate3d:j,wrapperStyle:S,cursor:w,shared:N,trigger:E,defaultIndex:A,portal:T,axisId:_}=t,O=Sn(),R=typeof A=="number"?String(A):A;p.useEffect(()=>{O(eV({shared:N,trigger:E,axisId:_,active:n,defaultIndex:R}))},[O,N,E,_,n,R]);var D=ng(),B=sk(),X=YG(N),{activeIndex:Y,isActive:L}=Xe(we=>JV(we,X,E,R)),F=Xe(we=>ZV(we,X,E,R)),re=Xe(we=>pM(we,X,E,R)),ye=Xe(we=>QV(we,X,E,R)),ve=F,H=sW(),I=n??L,[K,de]=vO([ve,I]),Se=X==="axis"?re:void 0;CW(X,E,ye,Se,Y,I);var P=T??H;if(P==null)return null;var q=ve??oT;I||(q=oT),d&&q.length&&(q=mO(ve.filter(we=>we.value!=null&&(we.hide!==!0||t.includeHidden)),g,RW));var ee=q.length>0,ue=p.createElement(nH,{allowEscapeViewBox:r,animationDuration:s,animationEasing:o,isAnimationActive:f,active:I,coordinate:ye,hasPayload:ee,offset:m,position:x,reverseDirection:b,useTranslate3d:j,viewBox:D,wrapperStyle:S,lastBoundingBox:K,innerRef:de,hasPortalFromProps:!!T},OW(u,lT(lT({},t),{},{payload:q,label:Se,active:I,coordinate:ye,accessibilityLayer:B})));return p.createElement(p.Fragment,null,Bm.createPortal(ue,P),I&&p.createElement(iW,{cursor:w,tooltipEventType:X,coordinate:ye,payload:ve,index:Y}))}var Od=e=>null;Od.displayName="Cell";function DW(e,t,n){return(t=MW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class IW{constructor(t){DW(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){BW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zW={cacheSize:2e3,enableCache:!0},jM=LW({},zW),uT=new IW(jM.cacheSize),HW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dT="recharts_measurement_span";function qW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(d)}var hT=(e,t)=>{try{var n=document.getElementById(dT);n||(n=document.createElement("span"),n.setAttribute("id",dT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,HW,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Iu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vs.isSsr)return{width:0,height:0};if(!jM.enableCache)return hT(t,n);var r=qW(t,n),s=uT.get(r);if(s)return s;var o=hT(t,n);return uT.set(r,o),o},fT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GW=Object.keys(wM),Xo="NaN";function VW(e,t){return e*wM[t]}class Ur{static parse(t){var n,[,r,s]=(n=KW.exec(t))!==null&&n!==void 0?n:[];return new Ur(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ma(t)&&(this.unit=""),n!==""&&!FW.test(n)&&(this.num=NaN,this.unit=""),GW.includes(n)&&(this.num=VW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ma(this.num)}}function NM(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,o]=(n=fT.exec(t))!==null&&n!==void 0?n:[],u=Ur.parse(r??""),d=Ur.parse(o??""),f=s==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return Xo;t=t.replace(fT,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,b]=(m=mT.exec(t))!==null&&m!==void 0?m:[],j=Ur.parse(g??""),S=Ur.parse(b??""),w=x==="+"?j.add(S):j.subtract(S);if(w.isNaN())return Xo;t=t.replace(mT,w.toString())}return t}var gT=/\(([^()]*)\)/;function WW(e){for(var t=e,n;(n=gT.exec(t))!=null;){var[,r]=n;t=t.replace(gT,NM(r))}return t}function YW(e){var t=e.replace(/\s+/g,"");return t=WW(t),t=NM(t),t}function XW(e){try{return YW(e)}catch{return Xo}}function xy(e){var t=XW(e.slice(5,-1));return t===Xo?"":t}var QW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ZW=["dx","dy","angle","className","breakAll"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qv.apply(null,arguments)}function pT(e,t){if(e==null)return{};var n,r,s=JW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function JW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SM=/[ \f\n\r\t\v\u2028\u2029]+/,EM=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];Nn(t)||(n?s=t.toString().split(""):s=t.toString().split(SM));var o=s.map(d=>({word:d,width:Iu(d,r).width})),u=n?0:Iu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},eY=(e,t,n,r,s)=>{var{maxLines:o,children:u,style:d,breakAll:f}=e,m=tt(o),g=u,x=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((F,re)=>{var{word:ye,width:ve}=re,H=F[F.length-1];if(H&&(r==null||s||H.width+ve+n<Number(r)))H.words.push(ye),H.width+=ve+n;else{var I={words:[ye],width:ve};F.push(I)}return F},[])},b=x(t),j=Y=>Y.reduce((L,F)=>L.width>F.width?L:F);if(!m||s)return b;var S=b.length>o||j(b).width>Number(r);if(!S)return b;for(var w="",N=Y=>{var L=g.slice(0,Y),F=EM({breakAll:f,style:d,children:L+w}).wordsWithComputedWidth,re=x(F),ye=re.length>o||j(re).width>Number(r);return[ye,re]},E=0,A=g.length-1,T=0,_;E<=A&&T<=g.length-1;){var O=Math.floor((E+A)/2),R=O-1,[D,B]=N(R),[X]=N(O);if(!D&&!X&&(E=O+1),D&&X&&(A=O-1),!D&&X){_=B;break}T++}return _||b},xT=e=>{var t=Nn(e)?[]:e.toString().split(SM);return[{words:t}]},tY=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:o,maxLines:u}=e;if((t||n)&&!Vs.isSsr){var d,f,m=EM({breakAll:o,children:r,style:s});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;d=g,f=x}else return xT(r);return eY({breakAll:o,children:r,maxLines:u,style:s},d,f,t,n)}return xT(r)},yT="#808080",Sg=p.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=yT}=e,g=pT(e,QW),x=p.useMemo(()=>tY({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:b,dy:j,angle:S,className:w,breakAll:N}=g,E=pT(g,ZW);if(!oi(n)||!oi(r)||x.length===0)return null;var A=n+(tt(b)?b:0),T=r+(tt(j)?j:0),_;switch(f){case"start":_=xy("calc(".concat(o,")"));break;case"middle":_=xy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:_=xy("calc(".concat(x.length-1," * -").concat(s,")"));break}var O=[];if(u){var R=x[0].width,{width:D}=g;O.push("scale(".concat(tt(D)?D/R:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(A,", ").concat(T,")")),O.length&&(E.transform=O.join(" ")),p.createElement("text",qv({},Ar(E),{ref:t,x:A,y:T,className:Mt("recharts-text",w),textAnchor:d,fill:m.includes("url")?yT:m}),x.map((B,X)=>{var Y=B.words.join(N?"":" ");return p.createElement("tspan",{x:A,dy:X===0?_:s,key:"".concat(Y,"-").concat(X)},Y)}))});Sg.displayName="Text";var nY=["labelRef"];function rY(e,t){if(e==null)return{};var n,r,s=aY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function aY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){iY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t,n){return(t=sY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(null,arguments)}var CM=p.createContext(null),oY=e=>{var{x:t,y:n,width:r,height:s,children:o}=e,u=p.useMemo(()=>({x:t,y:n,width:r,height:s}),[t,n,r,s]);return p.createElement(CM.Provider,{value:u},o)},AM=()=>{var e=p.useContext(CM),t=ng();return e||t},cY=p.createContext(null),uY=()=>{var e=p.useContext(cY),t=Xe(yD);return e||t},dY=e=>{var{value:t,formatter:n}=e,r=Nn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Jj=e=>e!=null&&typeof e=="function",hY=(e,t)=>{var n=tr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},fY=(e,t,n,r,s)=>{var{offset:o,className:u}=e,{cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:x,endAngle:b,clockWise:j}=s,S=(m+g)/2,w=hY(x,b),N=w>=0?1:-1,E,A;switch(t){case"insideStart":E=x+N*o,A=j;break;case"insideEnd":E=b-N*o,A=!j;break;case"end":E=b+N*o,A=j;break;default:throw new Error("Unsupported position ".concat(t))}A=w<=0?A:!A;var T=Hn(d,f,S,E),_=Hn(d,f,S,E+(A?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(_.x,",").concat(_.y),R=Nn(e.id)?Wu("recharts-radial-line-"):e.id;return p.createElement("text",Ii({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",u)}),p.createElement("defs",null,p.createElement("path",{id:R,d:O})),p.createElement("textPath",{xlinkHref:"#".concat(R)},n))},mY=(e,t,n)=>{var{cx:r,cy:s,innerRadius:o,outerRadius:u,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:g,y:x}=Hn(r,s,u+t,m);return{x:g,y:x,textAnchor:g>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:j,y:S}=Hn(r,s,b,m);return{x:j,y:S,textAnchor:"middle",verticalAnchor:"middle"}},TM=e=>"cx"in e&&tt(e.cx),gY=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,o;n!=null&&!TM(n)&&(o=n);var{x:u,y:d,width:f,height:m}=t,g=m>=0?1:-1,x=g*r,b=g>0?"end":"start",j=g>0?"start":"end",S=f>=0?1:-1,w=S*r,N=S>0?"end":"start",E=S>0?"start":"end";if(s==="top"){var A={x:u+f/2,y:d-g*r,textAnchor:"middle",verticalAnchor:b};return Dn(Dn({},A),o?{height:Math.max(d-o.y,0),width:f}:{})}if(s==="bottom"){var T={x:u+f/2,y:d+m+x,textAnchor:"middle",verticalAnchor:j};return Dn(Dn({},T),o?{height:Math.max(o.y+o.height-(d+m),0),width:f}:{})}if(s==="left"){var _={x:u-w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Dn(Dn({},_),o?{width:Math.max(_.x-o.x,0),height:m}:{})}if(s==="right"){var O={x:u+f+w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"};return Dn(Dn({},O),o?{width:Math.max(o.x+o.width-O.x,0),height:m}:{})}var R=o?{width:f,height:m}:{};return s==="insideLeft"?Dn({x:u+w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"},R):s==="insideRight"?Dn({x:u+f-w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},R):s==="insideTop"?Dn({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:j},R):s==="insideBottom"?Dn({x:u+f/2,y:d+m-x,textAnchor:"middle",verticalAnchor:b},R):s==="insideTopLeft"?Dn({x:u+w,y:d+x,textAnchor:E,verticalAnchor:j},R):s==="insideTopRight"?Dn({x:u+f-w,y:d+x,textAnchor:N,verticalAnchor:j},R):s==="insideBottomLeft"?Dn({x:u+w,y:d+m-x,textAnchor:E,verticalAnchor:b},R):s==="insideBottomRight"?Dn({x:u+f-w,y:d+m-x,textAnchor:N,verticalAnchor:b},R):s&&typeof s=="object"&&(tt(s.x)||Wi(s.x))&&(tt(s.y)||Wi(s.y))?Dn({x:u+yr(s.x,f),y:d+yr(s.y,m),textAnchor:"end",verticalAnchor:"end"},R):Dn({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},R)},pY={offset:5};function Is(e){var t=dr(e,pY),{viewBox:n,position:r,value:s,children:o,content:u,className:d="",textBreakAll:f,labelRef:m}=t,g=uY(),x=AM(),b=r==="center"?x:g??x,j=n||b;if(!j||Nn(s)&&Nn(o)&&!p.isValidElement(u)&&typeof u!="function")return null;var S=Dn(Dn({},t),{},{viewBox:j});if(p.isValidElement(u)){var{labelRef:w}=S,N=rY(S,nY);return p.cloneElement(u,N)}var E;if(typeof u=="function"){if(E=p.createElement(u,S),p.isValidElement(E))return E}else E=dY(t);var A=TM(j),T=Ar(t);if(A&&(r==="insideStart"||r==="insideEnd"||r==="end"))return fY(t,r,E,T,j);var _=A?mY(j,t.offset,t.position):gY(t,j);return p.createElement(Sg,Ii({ref:m,className:Mt("recharts-label",d)},T,_,{breakAll:f}),E)}Is.displayName="Label";var xY=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?p.createElement(Is,Ii({key:"label-implicit"},r)):oi(e)?p.createElement(Is,Ii({key:"label-implicit",value:e},r)):p.isValidElement(e)?e.type===Is?p.cloneElement(e,Dn({key:"label-implicit"},r)):p.createElement(Is,Ii({key:"label-implicit",content:e},r)):Jj(e)?p.createElement(Is,Ii({key:"label-implicit",content:e},r)):e&&typeof e=="object"?p.createElement(Is,Ii({},e,{key:"label-implicit"},r)):null};function yY(e){var{label:t,labelRef:n}=e,r=AM();return xY(t,r,n)||null}var yy={},vy={},bT;function vY(){return bT||(bT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(vy)),vy}var by={},jT;function bY(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(by)),by}var wT;function jY(){return wT||(wT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vY(),n=bY(),r=Ob();function s(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=s})(yy)),yy}var jy,NT;function wY(){return NT||(NT=1,jy=jY().last),jy}var NY=wY();const SY=hi(NY);var EY=["valueAccessor"],CY=["dataKey","clockWise","id","textBreakAll"];function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(null,arguments)}function ST(e,t){if(e==null)return{};var n,r,s=AY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function AY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TY=e=>Array.isArray(e.value)?SY(e.value):e.value,_M=p.createContext(void 0),RM=_M.Provider,OM=p.createContext(void 0),_Y=OM.Provider;function RY(){return p.useContext(_M)}function OY(){return p.useContext(OM)}function If(e){var{valueAccessor:t=TY}=e,n=ST(e,EY),{dataKey:r,clockWise:s,id:o,textBreakAll:u}=n,d=ST(n,CY),f=RY(),m=OY(),g=f||m;return!g||!g.length?null:p.createElement(ur,{className:"recharts-label-list"},g.map((x,b)=>{var j,S=Nn(r)?t(x,b):hn(x&&x.payload,r),w=Nn(o)?{}:{id:"".concat(o,"-").concat(b)};return p.createElement(Is,bm({key:"label-".concat(b)},Ar(x),d,w,{fill:(j=n.fill)!==null&&j!==void 0?j:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:u,viewBox:x.viewBox,index:b}))}))}If.displayName="LabelList";function ew(e){var{label:t}=e;return t?t===!0?p.createElement(If,{key:"labelList-implicit"}):p.isValidElement(t)||Jj(t)?p.createElement(If,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(If,bm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(null,arguments)}var kM=e=>{var{cx:t,cy:n,r,className:s}=e,o=Mt("recharts-dot",s);return t===+t&&n===+n&&r===+r?p.createElement("circle",Fv({},la(e),Tb(e),{className:o,cx:t,cy:n,r})):null},DM=e=>e.graphicalItems.polarItems,kY=xe([En,Sd],Sj),Eg=xe([DM,An,kY],Ej),DY=xe([Eg],Cj),Cg=xe([DY,fj],Aj),MY=xe([Cg,An,Eg],_j);xe([Cg,An,Eg],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var o,u=hn(r,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:hn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var ET=()=>{},PY=xe([Cg,An,Eg,bg,En],Dj),IY=xe([An,Oj,kj,ET,PY,ET,Pt,En],Mj),MM=xe([An,Pt,Cg,MY,Nd,En,IY],Pj),LY=xe([MM,An,Ac],Bj);xe([An,MM,LY,En],$j);var BY={radiusAxis:{},angleAxis:{}},PM=ca({name:"polarAxis",initialState:BY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uie,removeRadiusAxis:die,addAngleAxis:hie,removeAngleAxis:fie}=PM.actions,UY=PM.reducer;function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){$Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Y(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qY=(e,t)=>t,tw=xe([DM,qY],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),FY=[],nw=(e,t,n)=>n?.length===0?FY:n,IM=xe([fj,tw,nw],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(o=>AT(AT({},t.presentationProps),o.props))),s!=null)return s}}),KY=xe([IM,tw,nw],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,s)=>{var o,u=hn(r,t.nameKey,t.name),d;return n!=null&&(o=n[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:bc(u,t.dataKey),color:d,payload:r,type:t.legendType}})}),GY=xe([IM,tw,nw,Wn],(e,t,n,r)=>{if(!(t==null||e==null))return GX({offset:r,pieSettings:t,displayedData:e,cells:n})}),wy={exports:{}},Qt={};var TT;function VY(){if(TT)return Qt;TT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case s:case r:case f:case m:case b:return w;default:switch(w=w&&w.$$typeof,w){case u:case d:case x:case g:return w;case o:return w;default:return N}}case t:return N}}}return Qt.ContextConsumer=o,Qt.ContextProvider=u,Qt.Element=e,Qt.ForwardRef=d,Qt.Fragment=n,Qt.Lazy=x,Qt.Memo=g,Qt.Portal=t,Qt.Profiler=s,Qt.StrictMode=r,Qt.Suspense=f,Qt.SuspenseList=m,Qt.isContextConsumer=function(w){return S(w)===o},Qt.isContextProvider=function(w){return S(w)===u},Qt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Qt.isForwardRef=function(w){return S(w)===d},Qt.isFragment=function(w){return S(w)===n},Qt.isLazy=function(w){return S(w)===x},Qt.isMemo=function(w){return S(w)===g},Qt.isPortal=function(w){return S(w)===t},Qt.isProfiler=function(w){return S(w)===s},Qt.isStrictMode=function(w){return S(w)===r},Qt.isSuspense=function(w){return S(w)===f},Qt.isSuspenseList=function(w){return S(w)===m},Qt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===s||w===r||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===g||w.$$typeof===u||w.$$typeof===o||w.$$typeof===d||w.$$typeof===j||w.getModuleId!==void 0)},Qt.typeOf=S,Qt}var _T;function WY(){return _T||(_T=1,wy.exports=VY()),wy.exports}var YY=WY(),RT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",OT=null,Ny=null,LM=e=>{if(e===OT&&Array.isArray(Ny))return Ny;var t=[];return p.Children.forEach(e,n=>{Nn(n)||(YY.isFragment(n)?t=t.concat(LM(n.props.children)):t.push(n))}),Ny=t,OT=e,t};function rw(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>RT(s)):r=[RT(t)],LM(e).forEach(s=>{var o=zl(s,"type.displayName")||zl(s,"type.name");r.indexOf(o)!==-1&&n.push(s)}),n}var BM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Sy={},kT;function XY(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Sy)),Sy}var Ey,DT;function QY(){return DT||(DT=1,Ey=XY().isPlainObject),Ey}var ZY=QY();const JY=hi(ZY);function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(r){eX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eX(e,t,n){return(t=tX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jm.apply(null,arguments)}var IT=(e,t,n,r,s)=>{var o=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-o/2,",").concat(t+s),u+="L ".concat(e+n-o/2-r,",").concat(t+s),u+="L ".concat(e,",").concat(t," Z"),u},rX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aX=e=>{var t=dr(e,rX),{x:n,y:r,upperWidth:s,lowerWidth:o,height:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,b=p.useRef(null),[j,S]=p.useState(-1),w=p.useRef(s),N=p.useRef(o),E=p.useRef(u),A=p.useRef(n),T=p.useRef(r),_=yd(e,"trapezoid-");if(p.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ye=b.current.getTotalLength();ye&&S(ye)}catch{}},[]),n!==+n||r!==+r||s!==+s||o!==+o||u!==+u||s===0&&o===0||u===0)return null;var O=Mt("recharts-trapezoid",d);if(!x)return p.createElement("g",null,p.createElement("path",jm({},Ar(t),{className:O,d:IT(n,r,s,o,u)})));var R=w.current,D=N.current,B=E.current,X=A.current,Y=T.current,L="0px ".concat(j===-1?1:j,"px"),F="".concat(j,"px 0px"),re=lk(["strokeDasharray"],m,f);return p.createElement(xd,{animationId:_,key:_,canBegin:j>0,duration:m,easing:f,isActive:x,begin:g},ye=>{var ve=Rn(R,s,ye),H=Rn(D,o,ye),I=Rn(B,u,ye),K=Rn(X,n,ye),de=Rn(Y,r,ye);b.current&&(w.current=ve,N.current=H,E.current=I,A.current=K,T.current=de);var Se=ye>0?{transition:re,strokeDasharray:F}:{strokeDasharray:L};return p.createElement("path",jm({},Ar(t),{className:O,d:IT(K,de,ve,H,I),ref:b,style:PT(PT({},Se),t.style)}))})},iX=["option","shapeType","propTransformer","activeClassName","isActive"];function sX(e,t){if(e==null)return{};var n,r,s=lX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){oX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oX(e,t,n){return(t=cX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cX(e){var t=uX(e,"string");return typeof t=="symbol"?t:t+""}function uX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t){return wm(wm({},t),e)}function hX(e,t){return e==="symbols"}function BT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return p.createElement(dk,n);case"trapezoid":return p.createElement(aX,n);case"sector":return p.createElement(mk,n);case"symbols":if(hX(t))return p.createElement(Ab,n);break;default:return null}}function fX(e){return p.isValidElement(e)?e.props:e}function UM(e){var{option:t,shapeType:n,propTransformer:r=dX,activeClassName:s="recharts-active-shape",isActive:o}=e,u=sX(e,iX),d;if(p.isValidElement(t))d=p.cloneElement(t,wm(wm({},u),fX(t)));else if(typeof t=="function")d=t(u);else if(JY(t)&&typeof t!="boolean"){var f=r(t,u);d=p.createElement(BT,{shapeType:n,elementProps:f})}else{var m=u;d=p.createElement(BT,{shapeType:n,elementProps:m})}return o?p.createElement(ur,{className:s},d):d}var aw=(e,t)=>{var n=Sn();return(r,s)=>o=>{e?.(r,s,o),n(XD({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},iw=e=>{var t=Sn();return(n,r)=>s=>{e?.(n,r,s),t(tV())}},sw=(e,t)=>{var n=Sn();return(r,s)=>o=>{e?.(r,s,o),n(nV({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function lw(e){var{fn:t,args:n}=e,r=Sn(),s=Tr();return p.useLayoutEffect(()=>{if(!s){var o=t(n);return r(ZG(o)),()=>{r(JG(o))}}},[t,n,r,s]),null}var $M=()=>{};function zM(e){var{legendPayload:t}=e,n=Sn(),r=Tr();return p.useLayoutEffect(()=>r?$M:(n(ak(t)),()=>{n(ik(t))}),[n,r,t]),null}function mX(e){var{legendPayload:t}=e,n=Sn(),r=Xe(Pt);return p.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?$M:(n(ak(t)),()=>{n(ik(t))}),[n,r,t]),null}var Cy,gX=()=>{var[e]=p.useState(()=>Wu("uid-"));return e},pX=(Cy=tb.useId)!==null&&Cy!==void 0?Cy:gX;function xX(e,t){var n=pX();return t||(e?"".concat(e,"-").concat(n):n)}var yX=p.createContext(void 0),ow=e=>{var{id:t,type:n,children:r}=e,s=xX("recharts-".concat(n),t);return p.createElement(yX.Provider,{value:s},r(s))},vX={cartesianItems:[],polarItems:[]},HM=ca({name:"graphicalItems",initialState:vX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Sr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,s=qi(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},prepare:Sr()},removeCartesianGraphicalItem:{reducer(e,t){var n=qi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Sr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Sr()},removePolarGraphicalItem:{reducer(e,t){var n=qi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Sr()}}}),{addCartesianGraphicalItem:bX,replaceCartesianGraphicalItem:jX,removeCartesianGraphicalItem:wX,addPolarGraphicalItem:NX,removePolarGraphicalItem:SX}=HM.actions,EX=HM.reducer;function qM(e){var t=Sn(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(bX(e)):n.current!==e&&t(jX({prev:n.current,next:e})),n.current=e},[t,e]),p.useLayoutEffect(()=>()=>{n.current&&(t(wX(n.current)),n.current=null)},[t]),null}function CX(e){var t=Sn();return p.useLayoutEffect(()=>(t(NX(e)),()=>{t(SX(e))}),[t,e]),null}var AX=["onMouseEnter","onClick","onMouseLeave"],TX=["id"],_X=["id"];function cw(e,t){if(e==null)return{};var n,r,s=RX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function RX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return(t=kX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(null,arguments)}function MX(e){var t=p.useMemo(()=>rw(e.children,Od),[e.children]),n=Xe(r=>KY(r,e.id,t));return n==null?null:p.createElement(mX,{legendPayload:n})}function PX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:o,fill:u,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:u,dataKey:t,nameKey:n,name:bc(d,t),hide:f,type:m,color:u,unit:""}}}var IX=(e,t)=>e>t?"start":e<t?"end":"middle",LX=(e,t,n)=>yr(typeof t=="function"?t(e):t,n,n*.8),BX=(e,t,n)=>{var{top:r,left:s,width:o,height:u}=t,d=GO(o,u),f=s+yr(e.cx,o,o/2),m=r+yr(e.cy,u,u/2),g=yr(e.innerRadius,d,0),x=LX(n,e.outerRadius,d),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:f,cy:m,innerRadius:g,outerRadius:x,maxRadius:b}},UX=(e,t)=>{var n=tr(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function $X(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var zX=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Mt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(qb,qs({},t,{type:"linear",className:n}))},HX=(e,t,n)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),p.isValidElement(r)))return r;var s=Mt("recharts-pie-label-text",$X(e));return p.createElement(Sg,qs({},t,{alignmentBaseline:"middle",className:s}),r)};function qX(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:o,dataKey:u}=n;if(!r||!s||!t)return null;var d=la(n),f=$l(s),m=$l(o),g=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,x=t.map((b,j)=>{var S=(b.startAngle+b.endAngle)/2,w=Hn(b.cx,b.cy,b.outerRadius+g,S),N=bn(bn(bn(bn({},d),b),{},{stroke:"none"},f),{},{index:j,textAnchor:IX(w.x,b.cx)},w),E=bn(bn(bn(bn({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:j,points:[Hn(b.cx,b.cy,b.outerRadius,S),w],key:"line"});return p.createElement(ur,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(j)},o&&zX(o,E),HX(s,N,hn(b,u)))});return p.createElement(ur,{className:"recharts-pie-labels"},x)}function FX(e){var{sectors:t,props:n,showLabels:r}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(ew,{label:s}):p.createElement(qX,{sectors:t,props:n,showLabels:r})}function KX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s}=e,o=Xe(Hs),{onMouseEnter:u,onClick:d,onMouseLeave:f}=s,m=cw(s,AX),g=aw(u,s.dataKey),x=iw(f),b=sw(d,s.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((j,S)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=n&&String(S)===o,N=o?r:null,E=w?n:N,A=bn(bn({},j),{},{stroke:j.stroke,tabIndex:-1,[QO]:S,[ZO]:s.dataKey});return p.createElement(ur,qs({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},hd(m,j,S),{onMouseEnter:g(j,S),onMouseLeave:x(j,S),onClick:b(j,S)}),p.createElement(UM,qs({option:E,isActive:w,shapeType:"sector"},A)))}))}function GX(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:o}=e,{cornerRadius:u,startAngle:d,endAngle:f,dataKey:m,nameKey:g,tooltipType:x}=n,b=Math.abs(n.minAngle),j=UX(d,f),S=Math.abs(j),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,N=r.filter(R=>hn(R,m,0)!==0).length,E=(S>=360?N:N-1)*w,A=S-N*b-E,T=r.reduce((R,D)=>{var B=hn(D,m,0);return R+(tt(B)?B:0)},0),_;if(T>0){var O;_=r.map((R,D)=>{var B=hn(R,m,0),X=hn(R,g,D),Y=BX(n,o,R),L=(tt(B)?B:0)/T,F,re=bn(bn({},R),s&&s[D]&&s[D].props);D?F=O.endAngle+tr(j)*w*(B!==0?1:0):F=d;var ye=F+tr(j)*((B!==0?b:0)+L*A),ve=(F+ye)/2,H=(Y.innerRadius+Y.outerRadius)/2,I=[{name:X,value:B,payload:re,dataKey:m,type:x}],K=Hn(Y.cx,Y.cy,H,ve);return O=bn(bn(bn(bn({},n.presentationProps),{},{percent:L,cornerRadius:u,name:X,tooltipPayload:I,midAngle:ve,middleRadius:H,tooltipPosition:K},re),Y),{},{value:B,startAngle:F,endAngle:ye,payload:re,paddingAngle:tr(j)*w}),O})}return _}function VX(e){var{showLabels:t,sectors:n,children:r}=e,s=p.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return p.createElement(_Y,{value:t?s:void 0},r)}function WX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:g,onAnimationEnd:x}=t,b=yd(t,"recharts-pie-"),j=n.current,[S,w]=p.useState(!1),N=p.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),E=p.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return p.createElement(VX,{showLabels:!S,sectors:r},p.createElement(xd,{animationId:b,begin:o,duration:u,isActive:s,easing:d,onAnimationStart:E,onAnimationEnd:N,key:b},A=>{var T=[],_=r&&r[0],O=_?.startAngle;return r?.forEach((R,D)=>{var B=j&&j[D],X=D>0?zl(R,"paddingAngle",0):0;if(B){var Y=Rn(B.endAngle-B.startAngle,R.endAngle-R.startAngle,A),L=bn(bn({},R),{},{startAngle:O+X,endAngle:O+Y+X});T.push(L),O=L.endAngle}else{var{endAngle:F,startAngle:re}=R,ye=Rn(0,F-re,A),ve=bn(bn({},R),{},{startAngle:O+X,endAngle:O+ye+X});T.push(ve),O=ve.endAngle}}),n.current=T,p.createElement(ur,null,p.createElement(KX,{sectors:T,activeShape:f,inactiveShape:m,allOtherPieProps:t}))}),p.createElement(FX,{showLabels:!S,sectors:r,props:t}),t.children)}var YX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Vs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function XX(e){var{id:t}=e,n=cw(e,TX),{hide:r,className:s,rootTabIndex:o}=e,u=p.useMemo(()=>rw(e.children,Od),[e.children]),d=Xe(g=>GY(g,t,u)),f=p.useRef(null),m=Mt("recharts-pie",s);return r||d==null?(f.current=null,p.createElement(ur,{tabIndex:o,className:m})):p.createElement(p.Fragment,null,p.createElement(lw,{fn:PX,args:bn(bn({},e),{},{sectors:d})}),p.createElement(ur,{tabIndex:o,className:m},p.createElement(WX,{props:bn(bn({},n),{},{sectors:d}),previousSectorsRef:f})))}function FM(e){var t=dr(e,YX),{id:n}=t,r=cw(t,_X),s=la(r);return p.createElement(ow,{id:n,type:"pie"},o=>p.createElement(p.Fragment,null,p.createElement(CX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(MX,qs({},r,{id:o})),p.createElement(XX,qs({},r,{id:o}))))}FM.displayName="Pie";function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){QX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QX(e,t,n){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ={xAxis:{},yAxis:{},zAxis:{}},KM=ca({name:"cartesianAxis",initialState:eQ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Sr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Sr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Sr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Sr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Sr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Sr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,s=e.yAxis[n];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==s.width&&Math.abs(r-o[0])<=1)return;var u=[...o,r].slice(-3);e.yAxis[n]=zT(zT({},e.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:tQ,removeXAxis:nQ,addYAxis:rQ,removeYAxis:aQ,addZAxis:mie,removeZAxis:gie,updateYAxisWidth:iQ}=KM.actions,sQ=KM.reducer,lQ=xe([Wn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),oQ=xe([lQ,Ji,es],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),uw=()=>Xe(oQ),cQ=()=>Xe(HV);function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){uQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uQ(e,t,n){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fQ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var u=qT(qT({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},$l(s)),Tb(s)),d;return p.isValidElement(s)?d=p.cloneElement(s,u):typeof s=="function"?d=s(u):d=p.createElement(kM,u),p.createElement(ur,{className:"recharts-active-dot"},d)};function mQ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,o=Xe(Hs),u=cQ();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Nn(d)?null:fQ({point:d,childIndex:Number(o),mainColor:n,dataKey:s,activeDot:r})}var gQ="Invariant failed";function pQ(e,t){throw new Error(gQ)}var xQ=["x","y"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kv.apply(null,arguments)}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jQ(e,t){if(e==null)return{};var n,r,s=wQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NQ(e,t){var{x:n,y:r}=e,s=jQ(e,xQ),o="".concat(n),u=parseInt(o,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||s.height),g=parseInt(m,10),x="".concat(t.width||s.width),b=parseInt(x,10);return Ou(Ou(Ou(Ou(Ou({},t),s),u?{x:u}:{}),f?{y:f}:{}),{},{height:g,width:b,name:t.name,radius:t.radius})}function dw(e){return p.createElement(UM,Kv({shapeType:"rectangle",propTransformer:NQ,activeClassName:"recharts-active-bar"},e))}var SQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(tt(t))return t;var o=tt(r)||Nn(r);return o?t(r,s):(o||pQ(),n)}},EQ={},GM=ca({name:"errorBars",initialState:EQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:s}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:pie,replaceErrorBar:xie,removeErrorBar:yie}=GM.actions,CQ=GM.reducer,AQ=["children"];function TQ(e,t){if(e==null)return{};var n,r,s=_Q(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _Q(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},OQ=p.createContext(RQ);function VM(e){var{children:t}=e,n=TQ(e,AQ);return p.createElement(OQ.Provider,{value:n},t)}function hw(e,t){var n,r,s=Xe(m=>ns(m,e)),o=Xe(m=>rs(m,t)),u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Qr.allowDataOverflow,d=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,f=u||d;return{needClip:f,needClipX:u,needClipY:d}}function WM(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=uw(),{needClipX:o,needClipY:u,needClip:d}=hw(t,n);if(!d)return null;var{x:f,y:m,width:g,height:x}=s;return p.createElement("clipPath",{id:"clipPath-".concat(r)},p.createElement("rect",{x:o?f:f-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var kQ=["onMouseEnter","onMouseLeave","onClick"],DQ=["value","background","tooltipPosition"],MQ=["id"],PQ=["onMouseEnter","onClick","onMouseLeave"];function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(null,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nm(e,t){if(e==null)return{};var n,r,s=UQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function UQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $Q=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:r,value:bc(n,t),payload:e}]};function zQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:bc(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:d}}}function HQ(e){var t=Xe(Hs),{data:n,dataKey:r,background:s,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:f}=o,m=Nm(o,kQ),g=aw(u,r),x=iw(d),b=sw(f,r);if(!s||n==null)return null;var j=$l(s);return p.createElement(p.Fragment,null,n.map((S,w)=>{var{value:N,background:E,tooltipPosition:A}=S,T=Nm(S,DQ);if(!E)return null;var _=g(S,w),O=x(S,w),R=b(S,w),D=Er(Er(Er(Er(Er({option:s,isActive:String(w)===t},T),{},{fill:"#eee"},E),j),hd(m,S,w)),{},{onMouseEnter:_,onMouseLeave:O,onClick:R,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return p.createElement(dw,Fs({key:"background-bar-".concat(w)},D))}))}function qQ(e){var{showLabels:t,children:n,rects:r}=e,s=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return Er(Er({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return p.createElement(RM,{value:t?s:void 0},n)}function FQ(e){var{shape:t,activeBar:n,baseProps:r,entry:s,index:o,dataKey:u}=e,d=Xe(Hs),f=Xe(dM),m=n&&String(o)===d&&(f==null||u===f),g=m?n:t;return p.createElement(dw,Fs({},r,{name:String(r.name)},s,{isActive:m,option:g,index:o,dataKey:u}))}function KQ(e){var{shape:t,baseProps:n,entry:r,index:s,dataKey:o}=e;return p.createElement(dw,Fs({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:s,dataKey:o}))}function GQ(e){var{data:t,props:n}=e,r=la(n),{id:s}=r,o=Nm(r,MQ),{shape:u,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:g,onMouseLeave:x}=n,b=Nm(n,PQ),j=aw(m,d),S=iw(x),w=sw(g,d);return t?p.createElement(p.Fragment,null,t.map((N,E)=>p.createElement(ur,Fs({key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(E),className:"recharts-bar-rectangle"},hd(b,N,E),{onMouseEnter:j(N,E),onMouseLeave:S(N,E),onClick:w(N,E)}),f?p.createElement(FQ,{shape:u,activeBar:f,baseProps:o,entry:N,index:E,dataKey:d}):p.createElement(KQ,{shape:u,baseProps:o,entry:N,index:E,dataKey:d})))):null}function VQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:g}=t,x=n.current,b=yd(t,"recharts-bar-"),[j,S]=p.useState(!1),w=!j,N=p.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),E=p.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return p.createElement(qQ,{showLabels:w,rects:r},p.createElement(xd,{animationId:b,begin:u,duration:d,isActive:o,easing:f,onAnimationEnd:N,onAnimationStart:E,key:b},A=>{var T=A===1?r:r?.map((_,O)=>{var R=x&&x[O];if(R)return Er(Er({},_),{},{x:Rn(R.x,_.x,A),y:Rn(R.y,_.y,A),width:Rn(R.width,_.width,A),height:Rn(R.height,_.height,A)});if(s==="horizontal"){var D=Rn(0,_.height,A);return Er(Er({},_),{},{y:_.y+_.height-D,height:D})}var B=Rn(0,_.width,A);return Er(Er({},_),{},{width:B})});return A>0&&(n.current=T??null),T==null?null:p.createElement(ur,null,p.createElement(GQ,{props:t,data:T}))}),p.createElement(ew,{label:t.label}),t.children)}function WQ(e){var t=p.useRef(null);return p.createElement(VQ,{previousRectanglesRef:t,props:e})}var YM=0,YQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:hn(e,t)}};class XQ extends p.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:o,yAxisId:u,needClip:d,background:f,id:m}=this.props;if(t||n==null)return null;var g=Mt("recharts-bar",s),x=m;return p.createElement(ur,{className:g,id:m},d&&p.createElement("defs",null,p.createElement(WM,{clipPathId:x,xAxisId:o,yAxisId:u})),p.createElement(ur,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},p.createElement(HQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),p.createElement(WQ,this.props)))}}var QQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Vs.isSsr,legendType:"rect",minPointSize:YM,xAxisId:0,yAxisId:0};function ZQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=hw(t,n),b=rg(),j=Tr(),S=rw(e.children,Od),w=Xe(A=>CZ(A,t,n,j,e.id,S));if(b!=="vertical"&&b!=="horizontal")return null;var N,E=w?.[0];return E==null||E.height==null||E.width==null?N=0:N=b==="vertical"?E.height/2:E.width/2,p.createElement(VM,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:YQ,errorBarOffset:N},p.createElement(XQ,Fs({},e,{layout:b,needClip:x,data:w,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:g})))}function JQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:g,displayedData:x,offset:b,cells:j,parentViewBox:S}=e,w=t==="horizontal"?d:u,N=g?w.scale.domain():null,E=Y9({numericAxis:w});return x.map((A,T)=>{var _,O,R,D,B,X;g?_=q9(g[T],N):(_=hn(A,n),Array.isArray(_)||(_=[E,_]));var Y=SQ(r,YM)(_[1],T);if(t==="horizontal"){var L,[F,re]=[d.scale(_[0]),d.scale(_[1])];O=SA({axis:u,ticks:f,bandSize:o,offset:s.offset,entry:A,index:T}),R=(L=re??F)!==null&&L!==void 0?L:void 0,D=s.size;var ye=F-re;if(B=Ma(ye)?0:ye,X={x:O,y:b.top,width:D,height:b.height},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var ve=tr(B||Y)*(Math.abs(Y)-Math.abs(B));R-=ve,B+=ve}}else{var[H,I]=[u.scale(_[0]),u.scale(_[1])];if(O=H,R=SA({axis:d,ticks:m,bandSize:o,offset:s.offset,entry:A,index:T}),D=I-H,B=s.size,X={x:b.left,y:R,width:b.width,height:B},Math.abs(Y)>0&&Math.abs(D)<Math.abs(Y)){var K=tr(D||Y)*(Math.abs(Y)-Math.abs(D));D+=K}}if(O==null||R==null||D==null||B==null)return null;var de=Er(Er({},A),{},{x:O,y:R,width:D,height:B,value:g?_:_[1],payload:A,background:X,tooltipPosition:{x:O+D/2,y:R+B/2},parentViewBox:S},j&&j[T]&&j[T].props);return de}).filter(Boolean)}function eZ(e){var t=dr(e,QQ),n=Tr();return p.createElement(ow,{id:t.id,type:"bar"},r=>p.createElement(p.Fragment,null,p.createElement(zM,{legendPayload:$Q(t)}),p.createElement(lw,{fn:zQ,args:t}),p.createElement(qM,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:W9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(ZQ,Fs({},t,{id:r}))))}var fw=p.memo(eZ);fw.displayName="Bar";function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){tZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tZ(e,t,n){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aZ=(e,t)=>t,iZ=(e,t,n)=>n,sZ=(e,t,n,r)=>r,lZ=(e,t,n,r,s)=>s,kd=xe([yg,lZ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),oZ=xe([kd],e=>e?.maxBarSize),cZ=(e,t,n,r,s,o)=>o,VT=(e,t,n)=>{var r=n??e;if(!Nn(r))return yr(r,t,0)},uZ=xe([Pt,yg,aZ,iZ,sZ],(e,t,n,r,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),dZ=(e,t,n,r)=>{var s=Pt(e);return s==="horizontal"?Bv(e,"yAxis",n,r):Bv(e,"xAxis",t,r)},hZ=(e,t,n)=>{var r=Pt(e);return r==="horizontal"?W2(e,"xAxis",t):W2(e,"yAxis",n)},fZ=(e,t,n)=>{var r={},s=e.filter(gg),o=e.filter(m=>m.stackId==null),u=s.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),r),d=Object.entries(u).map(m=>{var[g,x]=m,b=x.map(S=>S.dataKey),j=VT(t,n,x[0].barSize);return{stackId:g,dataKeys:b,barSize:j}}),f=o.map(m=>{var g=[m.dataKey].filter(b=>b!=null),x=VT(t,n,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...d,...f]},mZ=xe([uZ,WK,hZ],fZ),gZ=(e,t,n,r,s)=>{var o,u,d=kd(e,t,n,r,s);if(d!=null){var f=Pt(e),m=dD(e),{maxBarSize:g}=d,x=Nn(g)?m:g,b,j;return f==="horizontal"?(b=zs(e,"xAxis",t,r),j=$s(e,"xAxis",t,r)):(b=zs(e,"yAxis",n,r),j=$s(e,"yAxis",n,r)),(o=(u=Zu(b,j,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},XM=(e,t,n,r)=>{var s=Pt(e),o,u;return s==="horizontal"?(o=zs(e,"xAxis",t,r),u=$s(e,"xAxis",t,r)):(o=zs(e,"yAxis",n,r),u=$s(e,"yAxis",n,r)),Zu(o,u)};function pZ(e,t,n,r,s){var o=r.length;if(!(o<1)){var u=yr(e,n,0,!0),d,f=[];if(vr(r[0].barSize)){var m=!1,g=n/o,x=r.reduce((E,A)=>E+(A.barSize||0),0);x+=(o-1)*u,x>=n&&(x-=(o-1)*u,u=0),x>=n&&g>0&&(m=!0,g*=.9,x=o*g);var b=(n-x)/2>>0,j={offset:b-u,size:0};d=r.reduce((E,A)=>{var T,_={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:j.offset+j.size+u,size:m?g:(T=A.barSize)!==null&&T!==void 0?T:0}},O=[...E,_];return j=O[O.length-1].position,O},f)}else{var S=yr(t,n,0,!0);n-2*S-(o-1)*u<=0&&(u=0);var w=(n-2*S-(o-1)*u)/o;w>1&&(w>>=0);var N=vr(s)?Math.min(w,s):w;d=r.reduce((E,A,T)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(w+u)*T+(w-N)/2,size:N}}],f)}return d}}var xZ=(e,t,n,r,s,o,u)=>{var d=Nn(u)?t:u,f=pZ(n,r,s!==o?s:o,e,d);return s!==o&&f!=null&&(f=f.map(m=>jf(jf({},m),{},{position:jf(jf({},m.position),{},{offset:m.position.offset-s/2})}))),f},yZ=xe([mZ,dD,VK,hD,gZ,XM,oZ],xZ),vZ=(e,t,n,r)=>zs(e,"xAxis",t,r),bZ=(e,t,n,r)=>zs(e,"yAxis",n,r),jZ=(e,t,n,r)=>$s(e,"xAxis",t,r),wZ=(e,t,n,r)=>$s(e,"yAxis",n,r),NZ=xe([yZ,kd],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),SZ=(e,t)=>{var n=wj(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:o}=s;if(o)return o.find(u=>u.key===n)}}}},EZ=xe([dZ,kd],SZ),CZ=xe([Wn,Bb,vZ,bZ,jZ,wZ,NZ,Pt,dg,XM,EZ,kd,cZ],(e,t,n,r,s,o,u,d,f,m,g,x,b)=>{var{chartData:j,dataStartIndex:S,dataEndIndex:w}=f;if(!(x==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||s==null||o==null||m==null)){var{data:N}=x,E;if(N!=null&&N.length>0?E=N:E=j?.slice(S,w+1),E!=null)return JQ({layout:d,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:o,stackedData:g,displayedData:E,offset:e,cells:b})}}),QM=e=>{var{chartData:t}=e,n=Sn(),r=Tr();return p.useEffect(()=>r?()=>{}:(n(aT(t)),()=>{n(aT(void 0))}),[t,n,r]),null},WT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZM=ca({name:"brush",initialState:WT,reducers:{setBrushSettings(e,t){return t.payload==null?WT:t.payload}}}),{setBrushSettings:vie}=ZM.actions,AZ=ZM.reducer;function TZ(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mw{static create(t){return new mw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}TZ(mw,"EPS",1e-4);function OZ(e){return(e%180+180)%180}var kZ=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=OZ(s),u=o*Math.PI/180,d=Math.atan(r/n),f=u>d&&u<Math.PI-d?r/Math.sin(u):n/Math.cos(u);return Math.abs(f)},DZ={dots:[],areas:[],lines:[]},JM=ca({name:"referenceElements",initialState:DZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:bie,removeDot:jie,addArea:wie,removeArea:Nie,addLine:Sie,removeLine:Eie}=JM.actions,MZ=JM.reducer,PZ=p.createContext(void 0),IZ=e=>{var{children:t}=e,[n]=p.useState("".concat(Wu("recharts"),"-clip")),r=uw();if(r==null)return null;var{x:s,y:o,width:u,height:d}=r;return p.createElement(PZ.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:s,y:o,height:d,width:u}))),t)};function oc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function eP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function LZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return kZ(r,n)}function BZ(e,t,n){var r=n==="width",{x:s,y:o,width:u,height:d}=e;return t===1?{start:r?s:o,end:r?s+u:o+d}:{start:r?s+u:o+d,end:r?s:o}}function Sm(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-s)<=0}function UZ(e,t){return eP(e,t+1)}function $Z(e,t,n,r,s){for(var o=(r||[]).slice(),{start:u,end:d}=t,f=0,m=1,g=u,x=function(){var S=r?.[f];if(S===void 0)return{v:eP(r,m)};var w=f,N,E=()=>(N===void 0&&(N=n(S,w)),N),A=S.coordinate,T=f===0||Sm(e,A,E,g,d);T||(f=0,g=u,m+=1),T&&(g=A+e*(E()/2+s),f+=m)},b;m<=o.length;)if(b=x(),b)return b.v;return[]}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){zZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FZ(e,t,n,r,s){for(var o=(r||[]).slice(),u=o.length,{start:d}=t,{end:f}=t,m=function(b){var j=o[b],S,w=()=>(S===void 0&&(S=n(j,b)),S);if(b===u-1){var N=e*(j.coordinate+e*w()/2-f);o[b]=j=mr(mr({},j),{},{tickCoord:N>0?j.coordinate-N*e:j.coordinate})}else o[b]=j=mr(mr({},j),{},{tickCoord:j.coordinate});var E=Sm(e,j.tickCoord,w,d,f);E&&(f=j.tickCoord-e*(w()/2+s),o[b]=mr(mr({},j),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function KZ(e,t,n,r,s,o){var u=(r||[]).slice(),d=u.length,{start:f,end:m}=t;if(o){var g=r[d-1],x=n(g,d-1),b=e*(g.coordinate+e*x/2-m);u[d-1]=g=mr(mr({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate});var j=Sm(e,g.tickCoord,()=>x,f,m);j&&(m=g.tickCoord-e*(x/2+s),u[d-1]=mr(mr({},g),{},{isShow:!0}))}for(var S=o?d-1:d,w=function(A){var T=u[A],_,O=()=>(_===void 0&&(_=n(T,A)),_);if(A===0){var R=e*(T.coordinate-e*O()/2-f);u[A]=T=mr(mr({},T),{},{tickCoord:R<0?T.coordinate-R*e:T.coordinate})}else u[A]=T=mr(mr({},T),{},{tickCoord:T.coordinate});var D=Sm(e,T.tickCoord,O,f,m);D&&(f=T.tickCoord+e*(O()/2+s),u[A]=mr(mr({},T),{},{isShow:!0}))},N=0;N<S;N++)w(N);return u}function gw(e,t,n){var{tick:r,ticks:s,viewBox:o,minTickGap:u,orientation:d,interval:f,tickFormatter:m,unit:g,angle:x}=e;if(!s||!s.length||!r)return[];if(tt(f)||Vs.isSsr){var b;return(b=UZ(s,tt(f)?f:0))!==null&&b!==void 0?b:[]}var j=[],S=d==="top"||d==="bottom"?"width":"height",w=g&&S==="width"?Iu(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},N=(T,_)=>{var O=typeof m=="function"?m(T.value,_):T.value;return S==="width"?LZ(Iu(O,{fontSize:t,letterSpacing:n}),w,x):Iu(O,{fontSize:t,letterSpacing:n})[S]},E=s.length>=2?tr(s[1].coordinate-s[0].coordinate):1,A=BZ(o,E,S);return f==="equidistantPreserveStart"?$Z(E,A,N,s,u):(f==="preserveStart"||f==="preserveStartEnd"?j=KZ(E,A,N,s,u,f==="preserveStartEnd"):j=FZ(E,A,N,s,u),j.filter(T=>T.isShow))}var GZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+o,m=u+f+d+(n?r:0);return Math.round(m)}return 0},VZ=["axisLine","width","height","className","hide","ticks"],WZ=["viewBox"],YZ=["viewBox"];function Gv(e,t){if(e==null)return{};var n,r,s=XZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function XZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(null,arguments)}function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pw={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function eJ(e){var{x:t,y:n,width:r,height:s,orientation:o,mirror:u,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=Gn(Gn(Gn({},f),la(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!u||o==="bottom"&&u);m=Gn(Gn({},m),{},{x1:t,y1:n+g*s,x2:t+r,y2:n+g*s})}else{var x=+(o==="left"&&!u||o==="right"&&u);m=Gn(Gn({},m),{},{x1:t+x*r,y1:n,x2:t+x*r,y2:n+s})}return p.createElement("line",Gl({},m,{className:Mt("recharts-cartesian-axis-line",zl(d,"className"))}))}function tJ(e,t,n,r,s,o,u,d,f){var m,g,x,b,j,S,w=d?-1:1,N=e.tickSize||u,E=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=g=e.coordinate,b=n+ +!d*s,x=b-w*N,S=x-w*f,j=E;break;case"left":x=b=e.coordinate,g=t+ +!d*r,m=g-w*N,j=m-w*f,S=E;break;case"right":x=b=e.coordinate,g=t+ +d*r,m=g+w*N,j=m+w*f,S=E;break;default:m=g=e.coordinate,b=n+ +d*s,x=b+w*N,S=x+w*f,j=E;break}return{line:{x1:m,y1:x,x2:g,y2:b},tick:{x:j,y:S}}}function nJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function rJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aJ(e){var{option:t,tickProps:n,value:r}=e,s,o=Mt(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,Gn(Gn({},n),{},{className:o}));else if(typeof t=="function")s=t(Gn(Gn({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Mt(u,t?.className)),s=p.createElement(Sg,Gl({},n,{className:u}),r)}return s}function iJ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:s,tickFormatter:o,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:g,x,y:b,width:j,height:S,tickSize:w,tickMargin:N,fontSize:E,letterSpacing:A,getTicksConfig:T,events:_}=e,O=gw(Gn(Gn({},T),{},{ticks:t}),E,A),R=nJ(m,g),D=rJ(m,g),B=la(T),X=$l(n),Y={};typeof r=="object"&&(Y=r);var L=Gn(Gn({},B),{},{fill:"none"},Y),F=O.map((re,ye)=>{var{line:ve,tick:H}=tJ(re,x,b,j,S,m,w,g,N),I=Gn(Gn(Gn(Gn({textAnchor:R,verticalAnchor:D},B),{},{stroke:"none",fill:s},X),H),{},{index:ye,payload:re,visibleTicksCount:O.length,tickFormatter:o,padding:d},f);return p.createElement(ur,Gl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},hd(_,re,ye)),r&&p.createElement("line",Gl({},L,ve,{className:Mt("recharts-cartesian-axis-tick-line",zl(r,"className"))})),n&&p.createElement(aJ,{option:n,tickProps:I,value:"".concat(typeof o=="function"?o(re.value,ye):re.value).concat(u||"")}))});return F.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var sJ=p.forwardRef((e,t)=>{var{axisLine:n,width:r,height:s,className:o,hide:u,ticks:d}=e,f=Gv(e,VZ),[m,g]=p.useState(""),[x,b]=p.useState(""),j=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return GZ({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=p.useCallback(w=>{if(w){var N=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=N;var E=N[0];if(E){var A=window.getComputedStyle(E),T=A.fontSize,_=A.letterSpacing;(T!==m||_!==x)&&(g(T),b(_))}}},[m,x]);return u||r!=null&&r<=0||s!=null&&s<=0?null:p.createElement(ur,{className:Mt("recharts-cartesian-axis",o),ref:S},p.createElement(eJ,{x:e.x,y:e.y,width:r,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:la(e)}),p.createElement(iJ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:x,getTicksConfig:e,events:f}),p.createElement(oY,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(yY,{label:e.label,labelRef:e.labelRef}),e.children))}),lJ=p.memo(sJ,(e,t)=>{var{viewBox:n}=e,r=Gv(e,WZ),{viewBox:s}=t,o=Gv(t,YZ);return oc(n,s)&&oc(r,o)}),xw=p.forwardRef((e,t)=>{var n=dr(e,pw);return p.createElement(lJ,Gl({},n,{ref:t}))});xw.displayName="CartesianAxis";var oJ=["x1","y1","x2","y2","key"],cJ=["offset"],uJ=["xAxisId","yAxisId"],dJ=["xAxisId","yAxisId"];function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}function Em(e,t){if(e==null)return{};var n,r,s=gJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function gJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:o,height:u,ry:d}=e;return p.createElement("rect",{x:r,y:s,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tP(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:o,y2:u,key:d}=t,f=Em(t,oJ),m=la(f),{offset:g}=m,x=Em(m,cJ);n=p.createElement("line",_l({},x,{x1:r,y1:s,x2:o,y2:u,fill:"none",key:d}))}return n}function xJ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=Em(e,uJ),f=s.map((m,g)=>{var x=pr(pr({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(g),index:g});return tP(r,x)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function yJ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=Em(e,dJ),f=s.map((m,g)=>{var x=pr(pr({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(g),index:g});return tP(r,x)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function vJ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:o,height:u,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var g=m.map((x,b)=>{var j=!m[b+1],S=j?s+u-x:m[b+1]-x;if(S<=0)return null;var w=b%t.length;return p.createElement("rect",{key:"react-".concat(b),y:x,x:r,height:S,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function bJ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:o,width:u,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var g=m.map((x,b)=>{var j=!m[b+1],S=j?s+u-x:m[b+1]-x;if(S<=0)return null;var w=b%n.length;return p.createElement("rect",{key:"react-".concat(b),x,y:o,width:S,height:d,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var jJ=(e,t)=>{var{xAxis:n,width:r,height:s,offset:o}=e;return WO(gw(pr(pr(pr({},pw),n),{},{ticks:YO(n),viewBox:{x:0,y:0,width:r,height:s}})),o.left,o.left+o.width,t)},wJ=(e,t)=>{var{yAxis:n,width:r,height:s,offset:o}=e;return WO(gw(pr(pr(pr({},pw),n),{},{ticks:YO(n),viewBox:{x:0,y:0,width:r,height:s}})),o.top,o.top+o.height,t)},NJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Dd(e){var t=$b(),n=zb(),r=nk(),s=pr(pr({},dr(e,NJ)),{},{x:tt(e.x)?e.x:r.left,y:tt(e.y)?e.y:r.top,width:tt(e.width)?e.width:r.width,height:tt(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:u,x:d,y:f,width:m,height:g,syncWithTicks:x,horizontalValues:b,verticalValues:j}=s,S=Tr(),w=Xe(X=>Y2(X,"xAxis",o,S)),N=Xe(X=>Y2(X,"yAxis",u,S));if(!tt(m)||m<=0||!tt(g)||g<=0||!tt(d)||d!==+d||!tt(f)||f!==+f)return null;var E=s.verticalCoordinatesGenerator||jJ,A=s.horizontalCoordinatesGenerator||wJ,{horizontalPoints:T,verticalPoints:_}=s;if((!T||!T.length)&&typeof A=="function"){var O=b&&b.length,R=A({yAxis:N?pr(pr({},N),{},{ticks:O?b:N.ticks}):void 0,width:t,height:n,offset:r},O?!0:x);rm(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(T=R)}if((!_||!_.length)&&typeof E=="function"){var D=j&&j.length,B=E({xAxis:w?pr(pr({},w),{},{ticks:D?j:w.ticks}):void 0,width:t,height:n,offset:r},D?!0:x);rm(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(_=B)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(pJ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(vJ,_l({},s,{horizontalPoints:T})),p.createElement(bJ,_l({},s,{verticalPoints:_})),p.createElement(xJ,_l({},s,{offset:r,horizontalPoints:T,xAxis:w,yAxis:N})),p.createElement(yJ,_l({},s,{offset:r,verticalPoints:_,xAxis:w,yAxis:N})))}Dd.displayName="CartesianGrid";var nP=(e,t,n,r)=>zs(e,"xAxis",t,r),rP=(e,t,n,r)=>$s(e,"xAxis",t,r),aP=(e,t,n,r)=>zs(e,"yAxis",n,r),iP=(e,t,n,r)=>$s(e,"yAxis",n,r),SJ=xe([Pt,nP,aP,rP,iP],(e,t,n,r,s)=>Gs(e,"xAxis")?Zu(t,r,!1):Zu(n,s,!1)),EJ=(e,t,n,r,s)=>s;function CJ(e){return e.type==="line"}var AJ=xe([yg,EJ],(e,t)=>e.filter(CJ).find(n=>n.id===t)),TJ=xe([Pt,nP,aP,rP,iP,AJ,SJ,dg],(e,t,n,r,s,o,u,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:g}=d;if(!(o==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||u==null)){var{dataKey:x,data:b}=o,j;if(b!=null&&b.length>0?j=b:j=f?.slice(m,g+1),j!=null)return QJ({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:u,displayedData:j})}});function _J(e){var t=$l(e),n=3,r=2;if(t!=null){var{r:s,strokeWidth:o}=t,u=Number(s),d=Number(o);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(d)||d<0)&&(d=r),{r:u,strokeWidth:d}}return{r:n,strokeWidth:r}}var RJ=["id"],OJ=["type","layout","connectNulls","needClip"],kJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){DJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DJ(e,t,n){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yw(e,t){if(e==null)return{};var n,r,s=IJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function IJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(null,arguments)}var LJ=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:r,value:bc(n,t),payload:e}]};function BJ(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:o,name:u,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:bc(u,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var sP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function UJ(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var $J=(e,t,n)=>{var r=n.reduce((x,b)=>x+b);if(!r)return sP(t,e);for(var s=Math.floor(e/r),o=e%r,u=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>o){d=[...n.slice(0,f),o-m];break}var g=d.length%2===0?[0,u]:[u];return[...UJ(n,s),...d,...g].map(x=>"".concat(x,"px")).join(", ")};function zJ(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Mt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=p.createElement(kM,Vl({},t,{className:r}))}return n}function HJ(e,t){return e==null?!1:t?!0:e.length===1}function qJ(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:o,needClip:u}=r;if(!HJ(n,s))return null;var{id:d}=r,f=yw(r,RJ),m=BM(s),g=la(f),x=k$(s),b=n.map((S,w)=>{var N=ea(ea(ea({key:"dot-".concat(w),r:3},g),x),{},{index:w,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return zJ(s,N)}),j={clipPath:u?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return p.createElement(ur,Vl({className:"recharts-line-dots",key:"dots"},j),b)}function FJ(e){var{showLabels:t,children:n,points:r}=e,s=p.useMemo(()=>r?.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return ea(ea({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return p.createElement(RM,{value:t?s:null},n)}function JT(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:o}=e,{type:u,layout:d,connectNulls:f,needClip:m}=o,g=yw(o,OJ),x=ea(ea({},Ar(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:d,connectNulls:f,strokeDasharray:s??o.strokeDasharray});return p.createElement(p.Fragment,null,r?.length>1&&p.createElement(qb,Vl({},x,{pathRef:n})),p.createElement(qJ,{points:r,clipPathId:t,props:o}))}function KJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function GJ(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:g,animationEasing:x,animateNewValues:b,width:j,height:S,onAnimationEnd:w,onAnimationStart:N}=n,E=s.current,A=yd(n,"recharts-line-"),[T,_]=p.useState(!1),O=!T,R=p.useCallback(()=>{typeof w=="function"&&w(),_(!1)},[w]),D=p.useCallback(()=>{typeof N=="function"&&N(),_(!0)},[N]),B=KJ(r.current),X=o.current;return p.createElement(FJ,{points:u,showLabels:O},n.children,p.createElement(xd,{animationId:A,begin:m,duration:g,isActive:f,easing:x,onAnimationEnd:R,onAnimationStart:D,key:A},Y=>{var L=Rn(X,B+X,Y),F=Math.min(L,B),re;if(f)if(d){var ye="".concat(d).split(/[,\s]+/gim).map(I=>parseFloat(I));re=$J(F,B,ye)}else re=sP(B,F);else re=d==null?void 0:String(d);if(E){var ve=E.length/u.length,H=Y===1?u:u.map((I,K)=>{var de=Math.floor(K*ve);if(E[de]){var Se=E[de];return ea(ea({},I),{},{x:Rn(Se.x,I.x,Y),y:Rn(Se.y,I.y,Y)})}return b?ea(ea({},I),{},{x:Rn(j*2,I.x,Y),y:Rn(S/2,I.y,Y)}):ea(ea({},I),{},{x:I.x,y:I.y})});return s.current=H,p.createElement(JT,{props:n,points:H,clipPathId:t,pathRef:r,strokeDasharray:re})}return Y>0&&B>0&&(s.current=u,o.current=F),p.createElement(JT,{props:n,points:u,clipPathId:t,pathRef:r,strokeDasharray:re})}),p.createElement(ew,{label:n.label}))}function VJ(e){var{clipPathId:t,props:n}=e,r=p.useRef(null),s=p.useRef(0),o=p.useRef(null);return p.createElement(GJ,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:o})}var WJ=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:hn(e.payload,t)});class YJ extends p.Component{render(){var{hide:t,dot:n,points:r,className:s,xAxisId:o,yAxisId:u,top:d,left:f,width:m,height:g,id:x,needClip:b}=this.props;if(t)return null;var j=Mt("recharts-line",s),S=x,{r:w,strokeWidth:N}=_J(n),E=BM(n),A=w*2+N;return p.createElement(p.Fragment,null,p.createElement(ur,{className:j},b&&p.createElement("defs",null,p.createElement(WM,{clipPathId:S,xAxisId:o,yAxisId:u}),!E&&p.createElement("clipPath",{id:"clipPath-dots-".concat(S)},p.createElement("rect",{x:f-A/2,y:d-A/2,width:m+A,height:g+A}))),p.createElement(VM,{xAxisId:o,yAxisId:u,data:r,dataPointFormatter:WJ,errorBarOffset:0},p.createElement(VJ,{props:this.props,clipPathId:S}))),p.createElement(mQ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var lP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Vs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function XJ(e){var t=dr(e,lP),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:f,hide:m,isAnimationActive:g,label:x,legendType:b,xAxisId:j,yAxisId:S,id:w}=t,N=yw(t,kJ),{needClip:E}=hw(j,S),A=uw(),T=rg(),_=Tr(),O=Xe(Y=>TJ(Y,j,S,_,w));if(T!=="horizontal"&&T!=="vertical"||O==null||A==null)return null;var{height:R,width:D,x:B,y:X}=A;return p.createElement(YJ,Vl({},N,{id:w,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:o,animationEasing:u,isAnimationActive:g,hide:m,label:x,legendType:b,xAxisId:j,yAxisId:S,points:O,layout:T,height:R,width:D,left:B,top:X,needClip:E}))}function QJ(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:o,dataKey:u,bandSize:d,displayedData:f}=e;return f.map((m,g)=>{var x=hn(m,u);if(t==="horizontal"){var b=NA({axis:n,ticks:s,bandSize:d,entry:m,index:g}),j=Nn(x)?null:r.scale(x);return{x:b,y:j,value:x,payload:m}}var S=Nn(x)?null:n.scale(x),w=NA({axis:r,ticks:o,bandSize:d,entry:m,index:g});return S==null||w==null?null:{x:S,y:w,value:x,payload:m}}).filter(Boolean)}function ZJ(e){var t=dr(e,lP),n=Tr();return p.createElement(ow,{id:t.id,type:"line"},r=>p.createElement(p.Fragment,null,p.createElement(zM,{legendPayload:LJ(t)}),p.createElement(lw,{fn:BJ,args:t}),p.createElement(qM,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),p.createElement(XJ,Vl({},t,{id:r}))))}var vw=p.memo(ZJ);vw.displayName="Line";var JJ=["dangerouslySetInnerHTML","ticks"],eee=["id"],tee=["domain"],nee=["domain"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(null,arguments)}function Cm(e,t){if(e==null)return{};var n,r,s=ree(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ree(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aee(e){var t=Sn();return p.useLayoutEffect(()=>(t(tQ(e)),()=>{t(nQ(e))}),[e,t]),null}var iee=e=>{var{xAxisId:t,className:n}=e,r=Xe(Bb),s=Tr(),o="xAxis",u=Xe(N=>Tc(N,o,t,s)),d=Xe(N=>FD(N,o,t,s)),f=Xe(N=>$D(N,t)),m=Xe(N=>HG(N,t)),g=Xe(N=>jD(N,t));if(f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,j=Cm(e,JJ),{id:S}=g,w=Cm(g,eee);return p.createElement(xw,Vv({},j,w,{scale:u,x:m.x,y:m.y,width:f.width,height:f.height,className:Mt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:d}))},see={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,height:Qr.height,hide:!1,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tickCount:Qr.tickCount,type:Qr.type,xAxisId:0},lee=e=>{var t,n,r,s,o,u=dr(e,see);return p.createElement(p.Fragment,null,p.createElement(aee,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(s=u.minTickGap)!==null&&s!==void 0?s:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),p.createElement(iee,u))},oee=(e,t)=>{var{domain:n}=e,r=Cm(e,tee),{domain:s}=t,o=Cm(t,nee);return oc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:oc({domain:n},{domain:s}):!1},Md=p.memo(lee,oee);Md.displayName="XAxis";var cee=["dangerouslySetInnerHTML","ticks"],uee=["id"],dee=["domain"],hee=["domain"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(null,arguments)}function Am(e,t){if(e==null)return{};var n,r,s=fee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function fee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mee(e){var t=Sn();return p.useLayoutEffect(()=>(t(rQ(e)),()=>{t(aQ(e))}),[e,t]),null}var gee=e=>{var{yAxisId:t,className:n,width:r,label:s}=e,o=p.useRef(null),u=p.useRef(null),d=Xe(Bb),f=Tr(),m=Sn(),g="yAxis",x=Xe(O=>Tc(O,g,t,f)),b=Xe(O=>zD(O,t)),j=Xe(O=>FG(O,t)),S=Xe(O=>FD(O,g,t,f)),w=Xe(O=>wD(O,t));if(p.useLayoutEffect(()=>{if(!(r!=="auto"||!b||Jj(s)||p.isValidElement(s)||w==null)){var O=o.current;if(O){var R=O.getCalculatedWidth();Math.round(b.width)!==Math.round(R)&&m(iQ({id:t,width:R}))}}},[S,b,m,s,t,r,w]),b==null||j==null||w==null)return null;var{dangerouslySetInnerHTML:N,ticks:E}=e,A=Am(e,cee),{id:T}=w,_=Am(w,uee);return p.createElement(xw,Wv({},A,_,{ref:o,labelRef:u,scale:x,x:j.x,y:j.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Mt("recharts-".concat(g," ").concat(g),n),viewBox:d,ticks:S}))},pee={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,width:Zr.width,yAxisId:0},xee=e=>{var t,n,r,s,o,u=dr(e,pee);return p.createElement(p.Fragment,null,p.createElement(mee,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(s=u.minTickGap)!==null&&s!==void 0?s:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),p.createElement(gee,u))},yee=(e,t)=>{var{domain:n}=e,r=Am(e,dee),{domain:s}=t,o=Am(t,hee);return oc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:oc({domain:n},{domain:s}):!1},Pd=p.memo(xee,yee);Pd.displayName="YAxis";var Ay={exports:{}},Ty={};var e_;function vee(){if(e_)return Ty;e_=1;var e=dc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Ty.useSyncExternalStoreWithSelector=function(f,m,g,x,b){var j=s(null);if(j.current===null){var S={hasValue:!1,value:null};j.current=S}else S=j.current;j=u(function(){function N(O){if(!E){if(E=!0,A=O,O=x(O),b!==void 0&&S.hasValue){var R=S.value;if(b(R,O))return T=R}return T=O}if(R=T,n(A,O))return R;var D=x(O);return b!==void 0&&b(R,D)?(A=O,R):(A=O,T=D)}var E=!1,A,T,_=g===void 0?null:g;return[function(){return N(m())},_===null?void 0:function(){return N(_())}]},[m,g,x,b]);var w=r(f,j[0],j[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),d(w),w},Ty}var t_;function bee(){return t_||(t_=1,Ay.exports=vee()),Ay.exports}bee();function jee(e){e()}function wee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var n_={notify(){},get:()=>[]};function Nee(e,t){let n,r=n_,s=0,o=!1;function u(w){g();const N=r.subscribe(w);let E=!1;return()=>{E||(E=!0,N(),x())}}function d(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return o}function g(){s++,n||(n=e.subscribe(f),r=wee())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=n_)}function b(){o||(o=!0,g())}function j(){o&&(o=!1,x())}const S={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:b,tryUnsubscribe:j,getListeners:()=>r};return S}var See=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eee=See(),Cee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Aee=Cee(),Tee=()=>Eee||Aee?p.useLayoutEffect:p.useEffect,_ee=Tee(),Ree=Symbol.for("react-redux-context"),Oee=typeof globalThis<"u"?globalThis:{};function kee(){if(!p.createContext)return{};const e=Oee[Ree]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Dee=kee();function Mee(e){const{children:t,context:n,serverState:r,store:s}=e,o=p.useMemo(()=>{const f=Nee(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=p.useMemo(()=>s.getState(),[s]);_ee(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,u]);const d=n||Dee;return p.createElement(d.Provider,{value:o},t)}var Pee=Mee,Iee=(e,t)=>t,bw=xe([Iee,Pt,yD,Xn,lM,as,YV,Wn],eW),jw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},oP=Pa("mouseClick"),cP=md();cP.startListening({actionCreator:oP,effect:(e,t)=>{var n=e.payload,r=bw(t.getState(),jw(n));r?.activeIndex!=null&&t.dispatch(rV({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yv=Pa("mouseMove"),uP=md();uP.startListening({actionCreator:Yv,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=qj(r,r.tooltip.settings.shared),o=bw(r,jw(n));s==="axis"&&(o?.activeIndex!=null?t.dispatch(ZD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(QD()))}});var r_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dP=ca({name:"rootProps",initialState:r_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:r_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Lee=dP.reducer,{updateOptions:Bee}=dP.actions,hP=ca({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Uee}=hP.actions,$ee=hP.reducer,fP=Pa("keyDown"),mP=Pa("focus"),ww=md();ww.startListening({actionCreator:fP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(Fj(s,Rc(n))),d=as(n);if(o==="Enter"){var f=vm(n,"axis","hover",String(s.index));t.dispatch($v({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=WG(n),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,b=u+x*g;if(!(d==null||b>=d.length||b<0)){var j=vm(n,"axis","hover",String(b));t.dispatch($v({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});ww.startListening({actionCreator:mP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var o="0",u=vm(n,"axis","hover",String(o));t.dispatch($v({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var Ca=Pa("externalEvent"),gP=md();gP.startListening({actionCreator:Ca,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:UV(n),activeDataKey:dM(n),activeIndex:Hs(n),activeLabel:uM(n),activeTooltipIndex:Hs(n),isTooltipActive:$V(n)};e.payload.handler(r,e.payload.reactEvent)}}});var zee=xe([_c],e=>e.tooltipItemPayloads),Hee=xe([zee,Td,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:o}=s;if(o!=null){var u=t(o,n);return u}}}),pP=Pa("touchMove"),xP=md();xP.startListening({actionCreator:pP,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=qj(r,r.tooltip.settings.shared);if(s==="axis"){var o=bw(r,jw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(ZD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var u,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(QO),g=(u=f.getAttribute(ZO))!==null&&u!==void 0?u:void 0,x=Hee(t.getState(),m,g);t.dispatch(XD({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var qee=jO({brush:AZ,cartesianAxis:sQ,chartData:pW,errorBars:CQ,graphicalItems:EX,layout:A9,legend:D7,options:dW,polarAxis:UY,polarOptions:$ee,referenceElements:MZ,rootProps:Lee,tooltip:aV}),Fee=function(t){return Zz({reducer:qee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([cP.middleware,uP.middleware,ww.middleware,gP.middleware,xP.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(DO({type:"raf"}))},devTools:Vs.devToolsEnabled})};function yP(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=Tr(),o=p.useRef(null);if(s)return n;o.current==null&&(o.current=Fee(t));var u=kb;return p.createElement(Pee,{context:u,store:o.current},n)}function vP(e){var{layout:t,margin:n}=e,r=Sn(),s=Tr();return p.useEffect(()=>{s||(r(S9(t)),r(N9(n)))},[r,s,t,n]),null}function bP(e){var t=Sn();return p.useEffect(()=>{t(Bee(e))},[t,e]),null}var Kee=["children"];function Gee(e,t){if(e==null)return{};var n,r,s=Vee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Vee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tm.apply(null,arguments)}var Wee={width:"100%",height:"100%",display:"block"},Yee=p.forwardRef((e,t)=>{var n=$b(),r=zb(),s=sk();if(!rc(n)||!rc(r))return null;var{children:o,otherAttributes:u,title:d,desc:f}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=s?0:void 0,typeof u.role=="string"?g=u.role:g=s?"application":void 0,p.createElement(bb,Tm({},u,{title:d,desc:f,role:g,tabIndex:m,width:n,height:r,style:Wee,ref:t}),o)}),Xee=e=>{var{children:t}=e,n=Xe(tg);if(!n)return null;var{width:r,height:s,y:o,x:u}=n;return p.createElement(bb,{width:r,height:s,x:u,y:o},t)},a_=p.forwardRef((e,t)=>{var{children:n}=e,r=Gee(e,Kee),s=Tr();return s?p.createElement(Xee,null,n):p.createElement(Yee,Tm({ref:t},r),n)});function Qee(){var e=Sn(),[t,n]=p.useState(null),r=Xe(n7);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;vr(o)&&o!==r&&e(C9(o))}},[t,e,r]),n}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){Jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jee(e,t,n){return(t=ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(null,arguments)}var nte=()=>(EW(),null);function _m(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var rte=p.forwardRef((e,t)=>{var n,r,s=p.useRef(null),[o,u]=p.useState({containerWidth:_m((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:_m((r=e.style)===null||r===void 0?void 0:r.height)}),d=p.useCallback((m,g)=>{u(x=>{var b=Math.round(m),j=Math.round(g);return x.containerWidth===b&&x.containerHeight===j?x:{containerWidth:b,containerHeight:j}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:g,height:x}=m.getBoundingClientRect();d(g,x);var b=S=>{var{width:w,height:N}=S[0].contentRect;d(w,N)},j=new ResizeObserver(b);j.observe(m),s.current=j}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(ag,{width:o.containerWidth,height:o.containerHeight}),p.createElement("div",Wl({ref:f},e)))}),ate=p.forwardRef((e,t)=>{var{width:n,height:r}=e,[s,o]=p.useState({containerWidth:_m(n),containerHeight:_m(r)}),u=p.useCallback((f,m)=>{o(g=>{var x=Math.round(f),b=Math.round(m);return g.containerWidth===x&&g.containerHeight===b?g:{containerWidth:x,containerHeight:b}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:g}=f.getBoundingClientRect();u(m,g)}},[t,u]);return p.createElement(p.Fragment,null,p.createElement(ag,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",Wl({ref:d},e)))}),ite=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return p.createElement(p.Fragment,null,p.createElement(ag,{width:n,height:r}),p.createElement("div",Wl({ref:t},e)))}),ste=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return Wi(n)||Wi(r)?p.createElement(ate,Wl({},e,{ref:t})):p.createElement(ite,Wl({},e,{ref:t}))});function lte(e){return e===!0?rte:ste}var ote=p.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:b,onTouchEnd:j,onTouchMove:S,onTouchStart:w,style:N,width:E,responsive:A,dispatchTouchEvents:T=!0}=e,_=p.useRef(null),O=Sn(),[R,D]=p.useState(null),[B,X]=p.useState(null),Y=Qee(),L=Ub(),F=L?.width>0?L.width:E,re=L?.height>0?L.height:s,ye=p.useCallback(U=>{Y(U),typeof t=="function"&&t(U),D(U),X(U),U!=null&&(_.current=U)},[Y,t,D,X]),ve=p.useCallback(U=>{O(oP(U)),O(Ca({handler:o,reactEvent:U}))},[O,o]),H=p.useCallback(U=>{O(Yv(U)),O(Ca({handler:m,reactEvent:U}))},[O,m]),I=p.useCallback(U=>{O(QD()),O(Ca({handler:g,reactEvent:U}))},[O,g]),K=p.useCallback(U=>{O(Yv(U)),O(Ca({handler:x,reactEvent:U}))},[O,x]),de=p.useCallback(()=>{O(mP())},[O]),Se=p.useCallback(U=>{O(fP(U.key))},[O]),P=p.useCallback(U=>{O(Ca({handler:u,reactEvent:U}))},[O,u]),q=p.useCallback(U=>{O(Ca({handler:d,reactEvent:U}))},[O,d]),ee=p.useCallback(U=>{O(Ca({handler:f,reactEvent:U}))},[O,f]),ue=p.useCallback(U=>{O(Ca({handler:b,reactEvent:U}))},[O,b]),we=p.useCallback(U=>{O(Ca({handler:w,reactEvent:U}))},[O,w]),ae=p.useCallback(U=>{T&&O(pP(U)),O(Ca({handler:S,reactEvent:U}))},[O,T,S]),ne=p.useCallback(U=>{O(Ca({handler:j,reactEvent:U}))},[O,j]),V=lte(A);return p.createElement(xM.Provider,{value:R},p.createElement(BR.Provider,{value:B},p.createElement(V,{width:F??N?.width,height:re??N?.height,className:Mt("recharts-wrapper",r),style:Zee({position:"relative",cursor:"default",width:F,height:re},N),onClick:ve,onContextMenu:P,onDoubleClick:q,onFocus:de,onKeyDown:Se,onMouseDown:ee,onMouseEnter:H,onMouseLeave:I,onMouseMove:K,onMouseUp:ue,onTouchEnd:ne,onTouchMove:ae,onTouchStart:we,ref:ye},p.createElement(nte,null),n)))}),cte=["width","height","responsive","children","className","style","compact","title","desc"];function ute(e,t){if(e==null)return{};var n,r,s=dte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jP=p.forwardRef((e,t)=>{var{width:n,height:r,responsive:s,children:o,className:u,style:d,compact:f,title:m,desc:g}=e,x=ute(e,cte),b=la(x);return f?p.createElement(p.Fragment,null,p.createElement(ag,{width:n,height:r}),p.createElement(a_,{otherAttributes:b,title:m,desc:g},o)):p.createElement(ote,{className:u,style:d,width:n,height:r,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(a_,{otherAttributes:b,title:m,desc:g,ref:t},p.createElement(IZ,null,o)))});function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}var hte={top:5,right:5,bottom:5,left:5},fte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hte,reverseStackOrder:!1,syncMethod:"index",responsive:!1},wP=p.forwardRef(function(t,n){var r,s=dr(t.categoricalChartProps,fte),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,g={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(yP,{preloadedState:{options:g},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:o},p.createElement(QM,{chartData:m.data}),p.createElement(vP,{layout:s.layout,margin:s.margin}),p.createElement(bP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(jP,Xv({},s,{ref:n})))}),mte=["axis"],NP=p.forwardRef((e,t)=>p.createElement(wP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mte,tooltipPayloadSearcher:Zj,categoricalChartProps:e,ref:t})),gte=["axis","item"],SP=p.forwardRef((e,t)=>p.createElement(wP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gte,tooltipPayloadSearcher:Zj,categoricalChartProps:e,ref:t}));function pte(e){var t=Sn();return p.useEffect(()=>{t(Uee(e))},[t,e]),null}var xte=["layout"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(null,arguments)}function yte(e,t){if(e==null)return{};var n,r,s=vte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bte={top:5,right:5,bottom:5,left:5},jte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},wte=p.forwardRef(function(t,n){var r,s=dr(t.categoricalChartProps,jte),{layout:o}=s,u=yte(s,xte),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=t,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(yP,{preloadedState:{options:x},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},p.createElement(QM,{chartData:s.data}),p.createElement(vP,{layout:o,margin:s.margin}),p.createElement(bP,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(pte,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(jP,Qv({},u,{ref:n})))}),Nte=["item"],Ste={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ete=p.forwardRef((e,t)=>{var n=dr(e,Ste);return p.createElement(wte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nte,tooltipPayloadSearcher:Zj,categoricalChartProps:n,ref:t})});const Je=(e,t)=>{if(e==null||Number.isNaN(e))return t?.fallback??"";const n=new Intl.NumberFormat("vi-VN").format(e),r=t?.unit??"VND";return r?`${n} ${r}`:n};function Cte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function Ate(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function Tte({data:e,isLoading:t,xKey:n,yKey:r,height:s=300}){return t?a.jsx(Cte,{}):!e||e.length===0?a.jsx(Ate,{}):a.jsx("div",{style:{height:`${s}px`},children:a.jsx(pd,{width:"100%",height:"100%",children:a.jsxs(SP,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Dd,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Md,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(Pd,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"},tickFormatter:o=>Je(o,{unit:"VND"})}),a.jsx(Rd,{formatter:(o,u)=>[Je(o),u==="profit"?"Li nhun":u],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Ql,{}),a.jsx(fw,{dataKey:r,name:r==="profit"?"Li nhun":r,fill:"#10b981",radius:[8,8,0,0],className:"fill-emerald-600"})]})})})}function _te(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function Rte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function EP({data:e,isLoading:t,xKey:n,yKey:r,lines:s,height:o=300}){if(t)return a.jsx(_te,{});if(!e||e.length===0)return a.jsx(Rte,{});const u=s||(r?[{key:r,label:r,color:"#3b82f6"}]:[]);return a.jsx("div",{style:{height:`${o}px`},children:a.jsx(pd,{width:"100%",height:"100%",children:a.jsxs(NP,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Dd,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Md,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(Pd,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"}}),a.jsx(Rd,{labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(d,f)=>f==="accounts"||f==="account"?[d,"Ti khon"]:[d,f]}),a.jsx(Ql,{}),u.map(d=>a.jsx(vw,{type:"monotone",dataKey:d.key,stroke:d.color,strokeWidth:2,dot:{r:4},activeDot:{r:6},name:d.label},d.key))]})})})}function Ote(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function kte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function Dte({data:e,isLoading:t,xKey:n,bars:r,height:s=300}){return t?a.jsx(Ote,{}):!e||e.length===0?a.jsx(kte,{}):a.jsx("div",{style:{height:`${s}px`},children:a.jsx(pd,{width:"100%",height:"100%",children:a.jsxs(SP,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Dd,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Md,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(Pd,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"}}),a.jsx(Rd,{labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Ql,{}),r.map(o=>a.jsx(fw,{dataKey:o.key,stackId:"a",fill:o.color,radius:[0,0,0,0],name:o.label},o.key))]})})})}function Mte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function Pte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function Ite({data:e,isLoading:t,colors:n=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"],height:r=300}){if(t)return a.jsx(Mte,{});if(!e||e.length===0)return a.jsx(Pte,{});const s=e.reduce((o,u)=>o+u.value,0);return a.jsx("div",{style:{height:`${r}px`},children:a.jsx(pd,{width:"100%",height:"100%",children:a.jsxs(Ete,{children:[a.jsx(FM,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:o=>{const{name:u,percent:d}=o;return`${u}: ${(d*100).toFixed(0)}%`},outerRadius:80,innerRadius:50,fill:"#8884d8",dataKey:"value",children:e.map((o,u)=>a.jsx(Od,{fill:n[u%n.length]},`cell-${u}`))}),a.jsx(Rd,{formatter:o=>[Je(o),`T l: ${(o/s*100).toFixed(1)}%`],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Ql,{formatter:o=>{const u=e.find(d=>d.name===o);return u?`${o}: ${Je(u.value)}`:o}})]})})})}function Lte({data:e,isLoading:t}){return a.jsxs(dt,{className:"border-blue-100",children:[a.jsxs(Gi,{className:"bg-gradient-to-r from-blue-50 to-transparent border-b border-blue-50",children:[a.jsx(Vi,{className:"text-lg font-semibold text-gray-900",children:"Phn tch doanh thu h thng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Li nhun h thng theo thi gian (12 thng gn nht)"})]}),a.jsx(sa,{className:"pt-6",children:a.jsx(Tte,{data:e,isLoading:t,xKey:"time",yKey:"profit",height:350})})]})}function Bte({data:e,isLoading:t}){return a.jsxs(dt,{className:"border-purple-100",children:[a.jsxs(Gi,{className:"bg-gradient-to-r from-purple-50 to-transparent border-b border-purple-50",children:[a.jsx(Vi,{className:"text-lg font-semibold text-gray-900",children:"Xu hng tng trng ngi dng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S lng ti khon mi theo thng"})]}),a.jsx(sa,{className:"pt-6",children:a.jsx(EP,{data:e,isLoading:t,xKey:"month",yKey:"accounts",height:300,lines:[{key:"accounts",label:"Ti khon",color:"#8b5cf6"}]})})]})}function Ute({data:e,isLoading:t}){return a.jsxs(dt,{className:"border-orange-100",children:[a.jsxs(Gi,{className:"bg-gradient-to-r from-orange-50 to-transparent border-b border-orange-50",children:[a.jsx(Vi,{className:"text-lg font-semibold text-gray-900",children:"Tng quan vng i u gi"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phn b trng thi u gi theo thng (12 thng gn nht)"})]}),a.jsx(sa,{className:"pt-6",children:a.jsx(Dte,{data:e,isLoading:t,xKey:"month",bars:[{key:"approved",label:" duyt",color:"#10b981"},{key:"rejected",label:"T chi",color:"#ef4444"},{key:"ongoing",label:"ang din ra",color:"#3b82f6"},{key:"completed",label:"Hon tt",color:"#8b5cf6"},{key:"failed",label:"Tht bi",color:"#f59e0b"}],height:350})})]})}function $te({data:e,isLoading:t}){return a.jsxs(dt,{className:"border-red-100",children:[a.jsxs(Gi,{className:"bg-gradient-to-r from-red-50 to-transparent border-b border-red-50",children:[a.jsx(Vi,{className:"text-lg font-semibold text-gray-900",children:"Gim st ri ro"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S lng bo co v tranh chp theo thi gian (12 thng gn nht)"})]}),a.jsx(sa,{className:"pt-6",children:a.jsx(EP,{data:e,isLoading:t,xKey:"time",lines:[{key:"reports",label:"Bo co",color:"#ef4444"},{key:"disputes",label:"Tranh chp",color:"#f59e0b"}],height:350})})]})}function zte({data:e,isLoading:t}){return a.jsxs(dt,{className:"border-indigo-100",children:[a.jsxs(Gi,{className:"bg-gradient-to-r from-indigo-50 to-transparent border-b border-indigo-50",children:[a.jsx(Vi,{className:"text-lg font-semibold text-gray-900",children:"Bin ng v h thng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phn b tin vo v tin ra t bin ng s d"})]}),a.jsx(sa,{className:"pt-6",children:a.jsx(Ite,{data:e,isLoading:t,colors:["#10b981","#ef4444"],height:300})})]})}function s_(){return a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},t))})}function l_({users:e,role:t}){return e.length===0?a.jsxs("div",{className:"text-center text-sm text-gray-500 py-8 border border-dashed rounded-lg",children:["Cha c d liu ",t==="farmer"?"nng dn":"thng li"," no."]}):a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${r===0?"bg-yellow-100 text-yellow-700":r===1?"bg-gray-100 text-gray-700":r===2?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:r+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||n.email}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]}),a.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Da,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n.reputationScore})]}),a.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[a.jsx("p",{className:"text-xs text-gray-500",children:t==="farmer"?`${n.auctionCount} u gi  to`:`${n.auctionCount} phin tham gia`}),n.successfulAuctions!==void 0&&n.successfulAuctions>0&&a.jsxs("p",{className:"text-xs text-emerald-600 font-medium",children:[n.successfulAuctions," ",t==="farmer"?"u gi thnh cng":"u gi thng"]})]})]})})]},n.id))})}function Hte({farmers:e,wholesalers:t,isLoading:n}){return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(dt,{className:"border-yellow-100",children:[a.jsx(Gi,{className:"bg-gradient-to-r from-yellow-50 to-transparent border-b border-yellow-50",children:a.jsxs(Vi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center",children:a.jsx(Da,{className:"w-5 h-5 text-yellow-600"})}),"Top 5 Nng dn uy tn"]})}),a.jsx(sa,{className:"pt-6",children:n?a.jsx(s_,{}):a.jsx(l_,{users:e,role:"farmer"})})]}),a.jsxs(dt,{className:"border-blue-100",children:[a.jsx(Gi,{className:"bg-gradient-to-r from-blue-50 to-transparent border-b border-blue-50",children:a.jsxs(Vi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:a.jsx(Us,{className:"w-5 h-5 text-blue-600"})}),"Top 5 Thng li uy tn"]})}),a.jsx(sa,{className:"pt-6",children:n?a.jsx(s_,{}):a.jsx(l_,{users:t,role:"wholesaler"})})]})]})}function qte(){return a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"h-20 bg-gray-100 rounded-lg animate-pulse"},t))})}function Fte({auctions:e,isLoading:t}){return a.jsxs(dt,{className:"border-pink-100",children:[a.jsxs(Gi,{className:"bg-gradient-to-r from-pink-50 to-transparent border-b border-pink-50",children:[a.jsxs(Vi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-pink-100 flex items-center justify-center",children:a.jsx(db,{className:"w-5 h-5 text-pink-600"})}),"u gi ang hot"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Top 5 u gi ang din ra gn nht"})]}),a.jsx(sa,{className:"pt-6",children:t?a.jsx(qte,{}):e.length>0?a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl hover:bg-gradient-to-r hover:from-pink-50/50 hover:to-transparent hover:border-pink-200 transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${r===0?"bg-red-100 text-red-700":r===1?"bg-orange-100 text-orange-700":r===2?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:r+1}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["Nng dn: ",n.farmerName,"  ",n.sessionCode]})})]}),a.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Us,{className:"w-4 h-4 text-emerald-600"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:Je(n.currentHighestBid)})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.totalBids," lt u gi"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(zu,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-500",children:n.remainingTime})]})})]})]},n.id))}):a.jsx("div",{className:"text-center text-sm text-gray-500 py-8 border border-dashed rounded-lg",children:"Cha c u gi no ang din ra."})})]})}const Kte="https://gateway.a-379.store",fr=new ud(Kte),$t={async getFarms(){return fr.get(Ie.farm.list,{cache:!1})},async deleteFarm(e){return fr.delete(Ie.farm.delete(e),{invalidateCache:Ie.farm.list})},async getCustardAppleTypes(){return fr.get(Ie.farm.custardAppleType.list,{cache:!1})},async getCustardAppleTypeById(e){return fr.get(Ie.farm.custardAppleType.detail(e),{cache:!1})},async createCustardAppleType(e){return fr.post(Ie.farm.custardAppleType.create,e,{invalidateCache:Ie.farm.custardAppleType.list})},async updateCustardAppleType(e,t){return fr.put(Ie.farm.custardAppleType.update(e),t,{invalidateCache:Ie.farm.custardAppleType.list})},async deleteCustardAppleType(e){return fr.delete(Ie.farm.custardAppleType.delete(e),{invalidateCache:Ie.farm.custardAppleType.list})},async getCropsByFarmId(e){return fr.get(Ie.farm.cropByFarm(e),{cache:!1})},async getHarvests(){return fr.get(Ie.farm.harvest.list,{cache:!1})},async getHarvestById(e){return fr.get(Ie.farm.harvest.detail(e),{cache:!1})},async getHarvestsByCropId(e){return fr.get(Ie.farm.harvest.byCrop(e),{cache:!1})},async getCurrentHarvestByCropId(e){return fr.get(Ie.farm.harvest.currentByCrop(e),{cache:!1})},async getHarvestImagesByHarvestId(e){return fr.get(Ie.farm.harvest.images(e),{cache:!1})},async getHarvestGradeDetails(){return fr.get(Ie.farm.harvest.gradeDetail.list,{cache:!1})},async getHarvestGradeDetailById(e){return fr.get(Ie.farm.harvest.gradeDetail.detail(e),{cache:!1})},async getHarvestGradeDetailsByHarvestId(e){return fr.get(Ie.farm.harvest.gradeDetail.byHarvest(e),{cache:!1})}},Gte="https://gateway.a-379.store",Ea=new ud(Gte),lt={async getEnglishAuctions(e,t=1,n=10){const r={...e&&{status:e},pageNumber:t,pageSize:n};return Ea.get(Ie.auction.englishAuction.list,{cache:!1,params:r})},async getEnglishAuctionById(e){return Ea.get(`${Ie.auction.englishAuction.list}/${e}`,{cache:!1})},async getHarvestsByAuctionSessionId(e){return Ea.get(Ie.auction.englishAuction.harvestsBySession(e),{cache:!1})},async updateEnglishAuctionStatus(e,t){return Ea.put(`${Ie.auction.englishAuction.list}/${e}/status`,null,{params:{status:t}})},async getAuctionLogsByAuctionId(e){return Ea.get(Ie.auction.auctionLog.byAuction(e),{cache:!1})},async getAuctionLogsByType(e){return Ea.get(Ie.auction.auctionLog.byType(e),{cache:!1})},async pauseEnglishAuction(e){return Ea.post(Ie.auction.englishAuction.pause,e)},async resumeEnglishAuction(e){return Ea.post(Ie.auction.englishAuction.resume,e)},async getAuctionExtends(){return Ea.get(Ie.auction.auctionExtend.list,{cache:!1})},async getAuctionExtendsByAuctionId(e){return Ea.get(Ie.auction.auctionExtend.byAuction(e),{cache:!1})},async getAuctionPausesByAuctionId(e){return Ea.get(Ie.auction.auctionPause.byAuction(e),{cache:!1})},async getBidLogsByAuctionId(e){return Ea.get(Ie.auction.bidLog.byAuction(e),{cache:!1})}},Vte=1,Wte=10,cc={async getReports(e={}){const{status:t,type:n,pageNumber:r=Vte,pageSize:s=Wte}=e;return ct.get(Ie.report.list,{cache:!1,params:{pageNumber:r,pageSize:s,...t&&{status:t},...n&&{type:n}}})},async getReportsByAuctionId(e){return ct.get(Ie.report.byAuction(e),{cache:!1})},async updateReportStatus(e,t){return ct.put(Ie.report.detail(e),{reportStatus:t},{invalidateCache:Ie.report.list})}},El={async getDisputes(e={}){return ct.get(Ie.dispute.list,{cache:!1,params:e})},async getPendingDisputes(){return ct.get(Ie.dispute.pending,{cache:!1})},async getDisputeById(e){return ct.get(Ie.dispute.detail(e),{cache:!1})},async updateDisputeStatus(e,t){return ct.patch(Ie.dispute.updateStatus(e),t,{invalidateCache:Ie.dispute.list})},async createDisputeResolve(e){return ct.post(Ie.dispute.createResolve,e,{invalidateCache:Ie.dispute.list})},async getResolveByDisputeId(e){return ct.get(Ie.dispute.resolveByDisputeId(e),{cache:!1})},async getResolveByEscrowId(e){return ct.get(Ie.dispute.resolveByEscrowId(e),{cache:!1})}},Jo={async getPending(){return ct.get(Ie.certification.pending,{cache:!1})},async getById(e){return ct.get(Ie.certification.detail(e),{cache:!1})},async getByUserId(e){return ct.get(Ie.certification.byUser(e),{cache:!1})},async approve(e,t){return ct.put(Ie.certification.approve(e),t,{invalidateCache:Ie.certification.pending})}};class Yte{getSystemProfit(t){return ct.get(Ie.statistics.systemProfit,{cacheTTL:60*1e3,params:t})}getSystemProfitCurrentMonth(){return ct.get(Ie.statistics.systemProfitCurrentMonth,{cacheTTL:60*1e3})}getSystemProfitCurrentYear(){return ct.get(Ie.statistics.systemProfitCurrentYear,{cacheTTL:60*1e3})}}const wf=new Yte;function CP(e,t=3e4,n=!0,r=!0){const s=p.useRef(null),o=p.useRef(e);p.useEffect(()=>{o.current=e},[e]);const u=p.useCallback(()=>{!n||t<=0||(s.current&&clearInterval(s.current),r&&o.current(),s.current=setInterval(()=>{o.current()},t))},[n,t,r]),d=p.useCallback(()=>{s.current&&(clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>(n?u():d(),()=>{d()}),[n,u,d]),{start:u,stop:d}}const za=e=>new Intl.NumberFormat("vi-VN").format(e);function Xte(){const e=br(),{toast:t}=In(),[n,r]=p.useState(!0),[s,o]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState([]),[g,x]=p.useState([]),[b,j]=p.useState([]),[S,w]=p.useState([]),[N,E]=p.useState([]),[A,T]=p.useState(null),[_,O]=p.useState([]),[R,D]=p.useState(new Map),[B,X]=p.useState([]),[Y,L]=p.useState(null),[F,re]=p.useState("current-year"),[ye,ve]=p.useState(()=>{const ae=new Date,ne=new Date;return ne.setDate(ne.getDate()-30),{start:ne.toISOString().split("T")[0],end:ae.toISOString().split("T")[0],timeRange:"daily"}}),H=p.useCallback(async()=>{r(!0),d(null);try{const[ae,ne,V,U,M,W,$,J]=await Promise.all([$t.getFarms(),lt.getEnglishAuctions(void 0,1,500),cc.getReports({pageNumber:1,pageSize:100}),El.getDisputes({pageNumber:1,pageSize:100}),Vn.list(),vn.getSystemWallet(),Jo.getPending(),wf.getSystemProfitCurrentYear()]);m(ae.data??[]),x(ne.data?.items??[]),j(V.data?.items??[]);const G=U.data;G&&"data"in G&&Array.isArray(G.data)?w(G.data):Array.isArray(G)?w(G):w([]),X($.data??[]),T(W.data??null);const z=M.data;if(Array.isArray(z)?E(z):z&&"items"in z?E(z.items):E([]),W.data?.id)try{const Q=await vn.getLedgersByWallet(W.data.id);O(Q.data??[])}catch(Q){console.error("Error loading system wallet ledgers:",Q),O([])}L(J.data??null)}catch(ae){const ne=ae instanceof Error?ae.message:"Khng th ti d liu dashboard";d(ne),t({title:se.ERROR,description:ne,variant:"destructive"})}finally{r(!1)}},[t]),I=p.useCallback(async ae=>{if(ae.length){o(!0);try{const V=new Map;for(let U=0;U<ae.length;U+=20){const M=ae.slice(U,U+20),W=M.map(J=>lt.getBidLogsByAuctionId(J).catch(()=>({data:[]}))),$=await Promise.all(W);M.forEach((J,G)=>{const z=$[G]?.data??[];V.set(J,z)})}D(U=>{const M=new Map(U);return V.forEach((W,$)=>{M.set($,W)}),M})}catch(ne){console.error("Error loading bid logs:",ne)}finally{o(!1)}}},[]);p.useEffect(()=>{H()},[H]),p.useEffect(()=>{if(g.length>0){const ae=g.filter(ne=>ne.status==="Completed"||ne.status==="OnGoing").map(ne=>ne.id);I(ae)}},[g,I]),p.useEffect(()=>{(async()=>{try{if(F==="current-year"){const V=await wf.getSystemProfitCurrentYear();L(V.data??null);return}if(F==="current-month"){const V=await wf.getSystemProfitCurrentMonth();L(V.data??null);return}const ne=await wf.getSystemProfit({startDate:ye.start,endDate:ye.end,timeRange:ye.timeRange});L(ne.data??null)}catch(ne){console.error("Error loading system profit:",ne),L(null)}})()},[F,ye]),CP(H,3e4,!1,!1);const K=p.useMemo(()=>{const ae=f.length,ne=N.length,V=N.filter(z=>z.status===0).length,U=B.length,M=g.filter(z=>z.status==="Pending").length,W=g.filter(z=>z.status==="OnGoing").length,$=A?.balance??0,J=b.filter(z=>z.reportStatus==="Pending").length,G=S.filter(z=>{const Q=typeof z.disputeStatus=="string"?Number(z.disputeStatus):z.disputeStatus;return Q===0||Q===3}).length;return[{title:"Tng s nng tri",value:za(ae),change:`${za(f.filter(z=>z.isActive).length)} ang hot ng`,trend:"up",highlight:!0},{title:"Tng s ti khon",value:za(ne),change:`${za(V)} ch xc thc`,trend:"up"},{title:"Ch xc thc",value:za(V+U),change:`${za(V)} ti khon, ${za(U)} chng ch`,trend:"neutral"},{title:"u gi ch duyt",value:za(M),change:`${za(W)} ang din ra`,trend:"up"},{title:"Tng doanh thu h thng",value:Je($,{fallback:"0 VND"}),change:"S d v h thng",trend:"up"},{title:"Bo co ch xem xt",value:za(J),change:`${za(G)} tranh chp`,trend:J>0?"up":"neutral"}]},[f,N,B,g,A,b,S]),de=p.useMemo(()=>{if(Y?.data?.length)return Y.data.map(V=>({time:V.time.includes("-")?V.time.split("-").reverse().join("/"):V.time,profit:V.profit}));if(!_.length)return[];const ae=new Date,ne=[];for(let V=11;V>=0;V--){const U=new Date(ae.getFullYear(),ae.getMonth()-V,1),M=`T${U.getMonth()+1}/${U.getFullYear()}`,$=_.filter(J=>{if(!J.createdAt)return!1;const G=new Date(J.createdAt);return G.getFullYear()===U.getFullYear()&&G.getMonth()===U.getMonth()}).reduce((J,G)=>J+(G.direction===1?G.amount:-G.amount),0);ne.push({time:M,profit:$})}return ne},[_,Y]),Se=p.useMemo(()=>{if(!N.length)return[];const ae=new Map;N.forEach(U=>{const M=new Date(U.createdAt),W=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`,$=ae.get(W)||0;ae.set(W,$+1)});const ne=new Date,V=[];for(let U=11;U>=0;U--){const M=new Date(ne.getFullYear(),ne.getMonth()-U,1),W=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`,$=`T${M.getMonth()+1}/${M.getFullYear()}`;V.push({month:$,accounts:ae.get(W)||0})}return V},[N]),P=p.useMemo(()=>{if(!g.length)return[];const ae=new Map;g.forEach(U=>{const M=new Date(U.createdAt),W=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`;ae.has(W)||ae.set(W,{approved:0,rejected:0,ongoing:0,completed:0,failed:0});const $=ae.get(W);U.status==="Approved"?$.approved++:U.status==="Rejected"?$.rejected++:U.status==="OnGoing"||U.status==="Pause"?$.ongoing++:U.status==="Completed"?$.completed++:(U.status==="NoWinner"||U.status==="Cancelled")&&$.failed++});const ne=new Date,V=[];for(let U=11;U>=0;U--){const M=new Date(ne.getFullYear(),ne.getMonth()-U,1),W=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`,$=`T${M.getMonth()+1}/${M.getFullYear()}`,J=ae.get(W)||{approved:0,rejected:0,ongoing:0,completed:0,failed:0};V.push({month:$,...J})}return V},[g]),q=p.useMemo(()=>{const ae=new Map;b.forEach(M=>{const W=new Date(M.createdAt),$=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,J=ae.get($)||0;ae.set($,J+1)});const ne=new Map;S.forEach(M=>{if(!M.createdAt)return;const W=new Date(M.createdAt);if(isNaN(W.getTime()))return;const $=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,J=ne.get($)||0;ne.set($,J+1)});const V=new Date,U=[];for(let M=11;M>=0;M--){const W=new Date(V.getFullYear(),V.getMonth()-M,1),$=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,J=`T${W.getMonth()+1}/${W.getFullYear()}`;U.push({time:J,reports:ae.get($)||0,disputes:ne.get($)||0})}return U},[b,S]),ee=p.useMemo(()=>{if(!_.length)return[];let ae=0,ne=0;return _.forEach(V=>{V.direction===1?ae+=V.amount:V.direction===2&&(ne+=V.amount)}),[{name:"Tin vo",value:ae},{name:"Tin ra",value:ne}].filter(V=>V.value>0)},[_]),ue=p.useMemo(()=>{const ae=new Map;R.forEach((J,G)=>{J.forEach(z=>{ae.has(z.userId)||ae.set(z.userId,new Set),ae.get(z.userId).add(G)})}),g.filter(J=>J.winnerId).forEach(J=>{const G=J.winnerId;ae.has(G)||ae.set(G,new Set),ae.get(G).add(J.id)});const ne=new Map;ae.forEach((J,G)=>{ne.set(G,J.size)});const V=new Map;g.filter(J=>J.farmerId).forEach(J=>{const G=V.get(J.farmerId)||0;V.set(J.farmerId,G+1)});const U=new Map;g.filter(J=>J.status==="Completed"&&J.farmerId).forEach(J=>{const G=U.get(J.farmerId)||0;U.set(J.farmerId,G+1)});const M=new Map;g.filter(J=>J.status==="Completed"&&J.winnerId).forEach(J=>{const G=J.winnerId,z=M.get(G)||0;M.set(G,z+1)});const W=N.filter(J=>{const G=typeof J.role=="string"?J.role.toLowerCase():J.roleObject?.name?.toLowerCase()||"",z=V.get(J.id)||0;return G==="farmer"&&z>0&&(J.reputationScore??0)>0}).map(J=>{const G=V.get(J.id)||0,z=U.get(J.id)||0,Q=G>0?z/G:0;return{id:J.id,name:`${J.firstName} ${J.lastName}`.trim()||J.email,email:J.email,reputationScore:J.reputationScore??0,auctionCount:G,successfulAuctions:z,successRate:Q,role:"farmer"}}).sort((J,G)=>Math.abs(J.successRate-G.successRate)>1e-4?G.successRate-J.successRate:J.successfulAuctions!==G.successfulAuctions?G.successfulAuctions-J.successfulAuctions:G.reputationScore-J.reputationScore).slice(0,5),$=N.filter(J=>{const G=typeof J.role=="string"?J.role.toLowerCase():J.roleObject?.name?.toLowerCase()||"",z=ne.get(J.id)||0;return G==="wholesaler"&&z>0&&(J.reputationScore??0)>0}).map(J=>{const G=ne.get(J.id)||0,z=M.get(J.id)||0,Q=G>0?z/G:0;return{id:J.id,name:`${J.firstName} ${J.lastName}`.trim()||J.email,email:J.email,reputationScore:J.reputationScore??0,auctionCount:G,successfulAuctions:z,successRate:Q,role:"wholesaler"}}).sort((J,G)=>Math.abs(J.successRate-G.successRate)>1e-4?G.successRate-J.successRate:J.successfulAuctions!==G.successfulAuctions?G.successfulAuctions-J.successfulAuctions:G.reputationScore-J.reputationScore).slice(0,5);return{farmers:W,wholesalers:$}},[N,R,g]),we=p.useMemo(()=>g.filter(ne=>ne.status==="OnGoing").map(ne=>{const V=R.get(ne.id)??[],U=ne.endDate?new Date(ne.endDate):null,M=new Date,W=U?U.getTime()-M.getTime():0,$=Math.max(0,Math.floor(W/(1e3*60*60))),J=Math.floor($/24),G=J>0?`${J} ngy`:$>0?`${$} gi`:"Sp kt thc",z=N.find(ie=>ie.id===ne.farmerId),Q=z?`${z.firstName} ${z.lastName}`.trim()||z.email:"Cha xc nh";return{id:ne.id,auctionName:ne.note||`Phin ${ne.sessionCode}`,farmerName:Q,currentHighestBid:ne.currentPrice??ne.startingPrice??0,totalBids:V.length,remainingTime:G,sessionCode:ne.sessionCode,createdAt:ne.createdAt,publishDate:ne.publishDate}}).sort((ne,V)=>{const U=ne.publishDate?new Date(ne.publishDate).getTime():ne.createdAt?new Date(ne.createdAt).getTime():0;return(V.publishDate?new Date(V.publishDate).getTime():V.createdAt?new Date(V.createdAt).getTime():0)-U}).slice(0,5),[g,R,N]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[a.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/20 flex-shrink-0",children:a.jsx(oR,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white"})}),a.jsx("span",{className:"truncate",children:"Bng iu khin"})]}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-0 sm:ml-[36px] md:ml-[52px]",children:"Tng quan h thng v phn tch d liu"}),u&&a.jsx("div",{className:"mt-2 sm:mt-3 p-2 sm:p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-xs sm:text-sm text-red-600",children:u})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsx(oe,{onClick:()=>e("/admin/reports"),className:"shadow-sm hover:shadow-md transition-shadow text-xs sm:text-sm",size:"sm",children:"Qun l bo co"}),a.jsxs(oe,{variant:"outline",onClick:H,disabled:n,className:"shadow-sm hover:shadow-md transition-shadow text-xs sm:text-sm",size:"sm",children:[a.jsx(Oa,{className:`w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 ${n?"animate-spin":""}`}),"Lm mi"]})]})]})}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-emerald-500 to-emerald-600 rounded-full"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Tng quan h thng"})]}),a.jsx(_$,{stats:K,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Us,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Phn tch doanh thu"})]})]}),a.jsxs("div",{className:"mb-3 sm:mb-4 flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:["current-year","current-month","custom"].map(ae=>a.jsxs(oe,{variant:F===ae?"default":"outline",size:"sm",onClick:()=>re(ae),className:"text-xs sm:text-sm",children:[ae==="current-year"&&"Nm nay",ae==="current-month"&&"Thng ny",ae==="custom"&&"Ty chnh"]},ae))}),F==="custom"&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 w-full lg:w-auto",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"T ngy"}),a.jsx("input",{type:"date",value:ye.start,onChange:ae=>ve(ne=>({...ne,start:ae.target.value})),max:ye.end,className:"rounded-md border border-gray-200 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"n ngy"}),a.jsx("input",{type:"date",value:ye.end,onChange:ae=>ve(ne=>({...ne,end:ae.target.value})),min:ye.start,max:new Date().toISOString().split("T")[0],className:"rounded-md border border-gray-200 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"Nhm theo"}),a.jsxs("select",{value:ye.timeRange,onChange:ae=>ve(ne=>({...ne,timeRange:ae.target.value})),className:"rounded-md border border-gray-200 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-blue-500 focus:outline-none",children:[a.jsx("option",{value:"daily",children:"Ngy"}),a.jsx("option",{value:"monthly",children:"Thng"})]})]})]})]}),a.jsx(Lte,{data:de,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-purple-500 to-purple-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fu,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Tng trng & Doanh thu"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx(Bte,{data:Se,isLoading:n}),a.jsx(zte,{data:ee,isLoading:n})]})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-orange-500 to-orange-600 rounded-full"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Vng i u gi"})]}),a.jsx(Ute,{data:P,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-red-500 to-red-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($m,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Gim st ri ro"})]})]}),a.jsx($te,{data:q,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-yellow-500 to-yellow-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Da,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Bng xp hng uy tn"})]})]}),a.jsx(Hte,{farmers:ue.farmers,wholesalers:ue.wholesalers,isLoading:n})]}),a.jsxs("section",{className:"mb-6 sm:mb-8 md:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 sm:mb-5 md:mb-6",children:[a.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-pink-500 to-pink-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kL,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-600"}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"u gi ang hot"})]})]}),a.jsx(Fte,{auctions:we,isLoading:n||s})]})]})}const ln=({children:e,className:t})=>a.jsx("div",{className:zt("overflow-x-auto rounded-lg sm:rounded-2xl md:rounded-3xl border border-emerald-50/80 bg-white/80 shadow-[0_20px_60px_rgba(15,118,110,0.08)] backdrop-blur","transition-all duration-300","scrollbar-thin scrollbar-thumb-emerald-300 scrollbar-track-gray-100","[&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-emerald-300 [&::-webkit-scrollbar-track]:bg-gray-100",t),style:{scrollbarWidth:"thin"},children:a.jsx("table",{className:"min-w-[800px] divide-y divide-emerald-50/80 text-xs sm:text-sm text-slate-700 w-full",children:e})}),on=({children:e})=>a.jsx("thead",{className:"bg-gradient-to-r from-emerald-50/90 via-white to-transparent text-[11px] uppercase tracking-[0.18em] text-emerald-600",children:e}),pe=({children:e,className:t,style:n})=>a.jsx("th",{style:n,className:zt("px-3 sm:px-4 md:px-6 py-3 sm:py-4 text-left font-semibold text-[10px] sm:text-[11px] tracking-[0.1em] sm:tracking-[0.18em]","text-emerald-700/80 whitespace-nowrap",t),children:e}),cn=({children:e})=>a.jsx("tbody",{className:"divide-y divide-emerald-50 bg-white/90",children:e}),at=({children:e,className:t})=>a.jsx("tr",{className:zt("transition-all duration-200","odd:bg-white even:bg-emerald-50/30","hover:-translate-y-[1px] hover:bg-emerald-50/70 hover:shadow-[0_12px_30px_rgba(15,118,110,0.12)]",t),children:e}),je=({children:e,className:t,style:n})=>a.jsx("td",{style:n,className:zt("px-3 sm:px-4 md:px-6 py-3 sm:py-4 text-xs sm:text-sm text-slate-700 align-middle","first:pl-3 sm:first:pl-4 md:first:pl-6 last:pr-3 sm:last:pr-4 md:last:pr-6","whitespace-nowrap",t),children:e}),De=p.forwardRef(({className:e,variant:t="default",...n},r)=>{const s={default:"bg-emerald-600/90 text-white shadow-[0_4px_12px_rgba(16,185,129,0.35)]",outline:"border border-emerald-200 bg-white text-emerald-700",soft:"bg-emerald-50/90 text-emerald-700 backdrop-blur-sm",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-rose-100 text-rose-700"};return a.jsx("div",{ref:r,className:zt("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition-all duration-200",s[t],e),...n})});De.displayName="Badge";function cr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function o_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AP(...e){return t=>{let n=!1;const r=e.map(s=>{const o=o_(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():o_(e[s],null)}}}}function ui(...e){return p.useCallback(AP(...e),e)}function Qte(e,t){const n=p.createContext(t),r=o=>{const{children:u,...d}=o,f=p.useMemo(()=>d,Object.values(d));return a.jsx(n.Provider,{value:f,children:u})};r.displayName=e+"Provider";function s(o){const u=p.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Ag(e,t=[]){let n=[];function r(o,u){const d=p.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:b,children:j,...S}=x,w=b?.[e]?.[f]||d,N=p.useMemo(()=>S,Object.values(S));return a.jsx(w.Provider,{value:N,children:j})};m.displayName=o+"Provider";function g(x,b){const j=b?.[e]?.[f]||d,S=p.useContext(j);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=n.map(u=>p.createContext(u));return function(d){const f=d?.[e]||o;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[r,Zte(s,...t)]}function Zte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const u=r.reduce((d,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...d,...x}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var sd=globalThis?.document?p.useLayoutEffect:()=>{},Jte=tb[" useId ".trim().toString()]||(()=>{}),ene=0;function Lu(e){const[t,n]=p.useState(Jte());return sd(()=>{n(r=>r??String(ene++))},[e]),t?`radix-${t}`:""}var tne=tb[" useInsertionEffect ".trim().toString()]||sd;function Nw({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,u]=nne({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:s;{const g=p.useRef(e!==void 0);p.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const m=p.useCallback(g=>{if(d){const x=rne(g)?g(e):g;x!==e&&u.current?.(x)}else o(g)},[d,e,o,u]);return[f,m]}function nne({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return tne(()=>{o.current=t},[t]),p.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function rne(e){return typeof e=="function"}function Rm(e){const t=ane(e),n=p.forwardRef((r,s)=>{const{children:o,...u}=r,d=p.Children.toArray(o),f=d.find(sne);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return a.jsx(t,{...u,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return a.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function ane(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const u=one(s),d=lne(o,s.props);return s.type!==p.Fragment&&(d.ref=r?AP(r,u):u),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ine=Symbol("radix.slottable");function sne(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ine}function lne(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{const f=o(...d);return s(...d),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function one(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=cne.reduce((e,t)=>{const n=Rm(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:u,...d}=s,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function une(e,t){e&&Bm.flushSync(()=>e.dispatchEvent(t))}function uc(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current?.(...n),[])}function dne(e,t=globalThis?.document){const n=uc(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hne="DismissableLayer",Zv="dismissableLayer.update",fne="dismissableLayer.pointerDownOutside",mne="dismissableLayer.focusOutside",c_,TP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_P=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...f}=e,m=p.useContext(TP),[g,x]=p.useState(null),b=g?.ownerDocument??globalThis?.document,[,j]=p.useState({}),S=ui(t,D=>x(D)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(N),A=g?w.indexOf(g):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,_=A>=E,O=xne(D=>{const B=D.target,X=[...m.branches].some(Y=>Y.contains(B));!_||X||(s?.(D),u?.(D),D.defaultPrevented||d?.())},b),R=yne(D=>{const B=D.target;[...m.branches].some(Y=>Y.contains(B))||(o?.(D),u?.(D),D.defaultPrevented||d?.())},b);return dne(D=>{A===m.layers.size-1&&(r?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},b),p.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(c_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),u_(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=c_)}},[g,b,n,m]),p.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),u_())},[g,m]),p.useEffect(()=>{const D=()=>j({});return document.addEventListener(Zv,D),()=>document.removeEventListener(Zv,D)},[]),a.jsx(_r.div,{...f,ref:S,style:{pointerEvents:T?_?"auto":"none":void 0,...e.style},onFocusCapture:cr(e.onFocusCapture,R.onFocusCapture),onBlurCapture:cr(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:cr(e.onPointerDownCapture,O.onPointerDownCapture)})});_P.displayName=hne;var gne="DismissableLayerBranch",pne=p.forwardRef((e,t)=>{const n=p.useContext(TP),r=p.useRef(null),s=ui(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(_r.div,{...e,ref:s})});pne.displayName=gne;function xne(e,t=globalThis?.document){const n=uc(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){RP(fne,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function yne(e,t=globalThis?.document){const n=uc(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&RP(mne,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u_(){const e=new CustomEvent(Zv);document.dispatchEvent(e)}function RP(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?une(s,o):s.dispatchEvent(o)}var _y="focusScope.autoFocusOnMount",Ry="focusScope.autoFocusOnUnmount",d_={bubbles:!1,cancelable:!0},vne="FocusScope",OP=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...u}=e,[d,f]=p.useState(null),m=uc(s),g=uc(o),x=p.useRef(null),b=ui(t,w=>f(w)),j=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let w=function(T){if(j.paused||!d)return;const _=T.target;d.contains(_)?x.current=_:Ms(x.current,{select:!0})},N=function(T){if(j.paused||!d)return;const _=T.relatedTarget;_!==null&&(d.contains(_)||Ms(x.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Ms(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const A=new MutationObserver(E);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),A.disconnect()}}},[r,d,j.paused]),p.useEffect(()=>{if(d){f_.add(j);const w=document.activeElement;if(!d.contains(w)){const E=new CustomEvent(_y,d_);d.addEventListener(_y,m),d.dispatchEvent(E),E.defaultPrevented||(bne(Ene(kP(d)),{select:!0}),document.activeElement===w&&Ms(d))}return()=>{d.removeEventListener(_y,m),setTimeout(()=>{const E=new CustomEvent(Ry,d_);d.addEventListener(Ry,g),d.dispatchEvent(E),E.defaultPrevented||Ms(w??document.body,{select:!0}),d.removeEventListener(Ry,g),f_.remove(j)},0)}}},[d,m,g,j]);const S=p.useCallback(w=>{if(!n&&!r||j.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(N&&E){const A=w.currentTarget,[T,_]=jne(A);T&&_?!w.shiftKey&&E===_?(w.preventDefault(),n&&Ms(T,{select:!0})):w.shiftKey&&E===T&&(w.preventDefault(),n&&Ms(_,{select:!0})):E===A&&w.preventDefault()}},[n,r,j.paused]);return a.jsx(_r.div,{tabIndex:-1,...u,ref:b,onKeyDown:S})});OP.displayName=vne;function bne(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function jne(e){const t=kP(e),n=h_(t,e),r=h_(t.reverse(),e);return[n,r]}function kP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function h_(e,t){for(const n of e)if(!wne(n,{upTo:t}))return n}function wne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nne(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nne(e)&&t&&e.select()}}var f_=Sne();function Sne(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=m_(e,t),e.unshift(t)},remove(t){e=m_(e,t),e[0]?.resume()}}}function m_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ene(e){return e.filter(t=>t.tagName!=="A")}var Cne="Portal",DP=p.forwardRef((e,t)=>{const{container:n,...r}=e,[s,o]=p.useState(!1);sd(()=>o(!0),[]);const u=n||s&&globalThis?.document?.body;return u?G3.createPortal(a.jsx(_r.div,{...r,ref:t}),u):null});DP.displayName=Cne;function Ane(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Id=e=>{const{present:t,children:n}=e,r=Tne(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=ui(r.ref,_ne(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Id.displayName="Presence";function Tne(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),u=e?"mounted":"unmounted",[d,f]=Ane(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=Nf(r.current);o.current=d==="mounted"?m:"none"},[d]),sd(()=>{const m=r.current,g=s.current;if(g!==e){const b=o.current,j=Nf(m);e?f("MOUNT"):j==="none"||m?.display==="none"?f("UNMOUNT"):f(g&&b!==j?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),sd(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=j=>{const w=Nf(r.current).includes(CSS.escape(j.animationName));if(j.target===t&&w&&(f("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=Nf(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Nf(e){return e?.animationName||"none"}function _ne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Oy=0;function Rne(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??g_()),document.body.insertAdjacentElement("beforeend",e[1]??g_()),Oy++,()=>{Oy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Oy--}},[])}function g_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ai=function(){return ai=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ai.apply(this,arguments)};function MP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function One(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Lf="right-scroll-bar-position",Bf="width-before-scroll-bar",kne="with-scroll-bars-hidden",Dne="--removed-body-scroll-bar-size";function ky(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mne(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Pne=typeof window<"u"?p.useLayoutEffect:p.useEffect,p_=new WeakMap;function Ine(e,t){var n=Mne(null,function(r){return e.forEach(function(s){return ky(s,r)})});return Pne(function(){var r=p_.get(n);if(r){var s=new Set(r),o=new Set(e),u=n.current;s.forEach(function(d){o.has(d)||ky(d,null)}),o.forEach(function(d){s.has(d)||ky(d,u)})}p_.set(n,e)},[e]),n}function Lne(e){return e}function Bne(e,t){t===void 0&&(t=Lne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(r=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(o),u=n}var f=function(){var g=u;u=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return s}function Une(e){e===void 0&&(e={});var t=Bne(null);return t.options=ai({async:!0,ssr:!1},e),t}var PP=function(e){var t=e.sideCar,n=MP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ai({},n))};PP.isSideCarExport=!0;function $ne(e,t){return e.useMedium(t),PP}var IP=Une(),Dy=function(){},Tg=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Dy,onWheelCapture:Dy,onTouchMoveCapture:Dy}),s=r[0],o=r[1],u=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,g=e.enabled,x=e.shards,b=e.sideCar,j=e.noRelative,S=e.noIsolation,w=e.inert,N=e.allowPinchZoom,E=e.as,A=E===void 0?"div":E,T=e.gapMode,_=MP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,R=Ine([n,t]),D=ai(ai({},_),s);return p.createElement(p.Fragment,null,g&&p.createElement(O,{sideCar:IP,removeScrollBar:m,shards:x,noRelative:j,noIsolation:S,inert:w,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:T}),u?p.cloneElement(p.Children.only(d),ai(ai({},D),{ref:R})):p.createElement(A,ai({},D,{className:f,ref:R}),d))});Tg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tg.classNames={fullWidth:Bf,zeroRight:Lf};var zne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zne();return t&&e.setAttribute("nonce",t),e}function qne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Fne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Kne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Hne())&&(qne(t,n),Fne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Gne=function(){var e=Kne();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},LP=function(){var e=Gne(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Vne={left:0,top:0,right:0,gap:0},My=function(e){return parseInt(e||"",10)||0},Wne=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[My(n),My(r),My(s)]},Yne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vne;var t=Wne(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Xne=LP(),ec="data-scroll-locked",Qne=function(e,t,n,r){var s=e.left,o=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ec,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Bf,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Lf," .").concat(Lf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bf," .").concat(Bf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ec,`] {
    `).concat(Dne,": ").concat(d,`px;
  }
`)},x_=function(){var e=parseInt(document.body.getAttribute(ec)||"0",10);return isFinite(e)?e:0},Zne=function(){p.useEffect(function(){return document.body.setAttribute(ec,(x_()+1).toString()),function(){var e=x_()-1;e<=0?document.body.removeAttribute(ec):document.body.setAttribute(ec,e.toString())}},[])},Jne=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Zne();var o=p.useMemo(function(){return Yne(s)},[s]);return p.createElement(Xne,{styles:Qne(o,!t,s,n?"":"!important")})},Jv=!1;if(typeof window<"u")try{var Sf=Object.defineProperty({},"passive",{get:function(){return Jv=!0,!0}});window.addEventListener("test",Sf,Sf),window.removeEventListener("test",Sf,Sf)}catch{Jv=!1}var Ko=Jv?{passive:!1}:!1,ere=function(e){return e.tagName==="TEXTAREA"},BP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ere(e)&&n[t]==="visible")},tre=function(e){return BP(e,"overflowY")},nre=function(e){return BP(e,"overflowX")},y_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=UP(e,r);if(s){var o=$P(e,r),u=o[1],d=o[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},are=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},UP=function(e,t){return e==="v"?tre(t):nre(t)},$P=function(e,t){return e==="v"?rre(t):are(t)},ire=function(e,t){return e==="h"&&t==="rtl"?-1:1},sre=function(e,t,n,r,s){var o=ire(e,window.getComputedStyle(t).direction),u=o*r,d=n.target,f=t.contains(d),m=!1,g=u>0,x=0,b=0;do{if(!d)break;var j=$P(e,d),S=j[0],w=j[1],N=j[2],E=w-N-o*S;(S||E)&&UP(e,d)&&(x+=E,b+=S);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(x)<1||!g&&Math.abs(b)<1)&&(m=!0),m},Ef=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v_=function(e){return[e.deltaX,e.deltaY]},b_=function(e){return e&&"current"in e?e.current:e},lre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ore=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cre=0,Go=[];function ure(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(cre++)[0],o=p.useState(LP)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=One([e.lockRef.current],(e.shards||[]).map(b_),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var E=Ef(w),A=n.current,T="deltaX"in w?w.deltaX:A[0]-E[0],_="deltaY"in w?w.deltaY:A[1]-E[1],O,R=w.target,D=Math.abs(T)>Math.abs(_)?"h":"v";if("touches"in w&&D==="h"&&R.type==="range")return!1;var B=y_(D,R);if(!B)return!0;if(B?O=D:(O=D==="v"?"h":"v",B=y_(D,R)),!B)return!1;if(!r.current&&"changedTouches"in w&&(T||_)&&(r.current=O),!O)return!0;var X=r.current||O;return sre(X,N,w,X==="h"?T:_)},[]),f=p.useCallback(function(w){var N=w;if(!(!Go.length||Go[Go.length-1]!==o)){var E="deltaY"in N?v_(N):Ef(N),A=t.current.filter(function(O){return O.name===N.type&&(O.target===N.target||N.target===O.shadowParent)&&lre(O.delta,E)})[0];if(A&&A.should){N.cancelable&&N.preventDefault();return}if(!A){var T=(u.current.shards||[]).map(b_).filter(Boolean).filter(function(O){return O.contains(N.target)}),_=T.length>0?d(N,T[0]):!u.current.noIsolation;_&&N.cancelable&&N.preventDefault()}}},[]),m=p.useCallback(function(w,N,E,A){var T={name:w,delta:N,target:E,should:A,shadowParent:dre(E)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(_){return _!==T})},1)},[]),g=p.useCallback(function(w){n.current=Ef(w),r.current=void 0},[]),x=p.useCallback(function(w){m(w.type,v_(w),w.target,d(w,e.lockRef.current))},[]),b=p.useCallback(function(w){m(w.type,Ef(w),w.target,d(w,e.lockRef.current))},[]);p.useEffect(function(){return Go.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Ko),document.addEventListener("touchmove",f,Ko),document.addEventListener("touchstart",g,Ko),function(){Go=Go.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,Ko),document.removeEventListener("touchmove",f,Ko),document.removeEventListener("touchstart",g,Ko)}},[]);var j=e.removeScrollBar,S=e.inert;return p.createElement(p.Fragment,null,S?p.createElement(o,{styles:ore(s)}):null,j?p.createElement(Jne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hre=$ne(IP,ure);var zP=p.forwardRef(function(e,t){return p.createElement(Tg,ai({},e,{ref:t,sideCar:hre}))});zP.classNames=Tg.classNames;var fre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vo=new WeakMap,Cf=new WeakMap,Af={},Py=0,HP=function(e){return e&&(e.host||HP(e.parentNode))},mre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=HP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},gre=function(e,t,n,r){var s=mre(t,Array.isArray(e)?e:[e]);Af[n]||(Af[n]=new WeakMap);var o=Af[n],u=[],d=new Set,f=new Set(s),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};s.forEach(m);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))g(b);else try{var j=b.getAttribute(r),S=j!==null&&j!=="false",w=(Vo.get(b)||0)+1,N=(o.get(b)||0)+1;Vo.set(b,w),o.set(b,N),u.push(b),w===1&&S&&Cf.set(b,!0),N===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",b,E)}})};return g(t),d.clear(),Py++,function(){u.forEach(function(x){var b=Vo.get(x)-1,j=o.get(x)-1;Vo.set(x,b),o.set(x,j),b||(Cf.has(x)||x.removeAttribute(r),Cf.delete(x)),j||x.removeAttribute(n)}),Py--,Py||(Vo=new WeakMap,Vo=new WeakMap,Cf=new WeakMap,Af={})}},pre=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=fre(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),gre(r,s,n,"aria-hidden")):function(){return null}},_g="Dialog",[qP]=Ag(_g),[xre,Ya]=qP(_g),FP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:u=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,g]=Nw({prop:r,defaultProp:s??!1,onChange:o,caller:_g});return a.jsx(xre,{scope:t,triggerRef:d,contentRef:f,contentId:Lu(),titleId:Lu(),descriptionId:Lu(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};FP.displayName=_g;var KP="DialogTrigger",yre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(KP,n),o=ui(t,s.triggerRef);return a.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Cw(s.open),...r,ref:o,onClick:cr(e.onClick,s.onOpenToggle)})});yre.displayName=KP;var Sw="DialogPortal",[vre,GP]=qP(Sw,{forceMount:void 0}),VP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Ya(Sw,t);return a.jsx(vre,{scope:t,forceMount:n,children:p.Children.map(r,u=>a.jsx(Id,{present:n||o.open,children:a.jsx(DP,{asChild:!0,container:s,children:u})}))})};VP.displayName=Sw;var Om="DialogOverlay",WP=p.forwardRef((e,t)=>{const n=GP(Om,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ya(Om,e.__scopeDialog);return o.modal?a.jsx(Id,{present:r||o.open,children:a.jsx(jre,{...s,ref:t})}):null});WP.displayName=Om;var bre=Rm("DialogOverlay.RemoveScroll"),jre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(Om,n);return a.jsx(zP,{as:bre,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(_r.div,{"data-state":Cw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yl="DialogContent",YP=p.forwardRef((e,t)=>{const n=GP(Yl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ya(Yl,e.__scopeDialog);return a.jsx(Id,{present:r||o.open,children:o.modal?a.jsx(wre,{...s,ref:t}):a.jsx(Nre,{...s,ref:t})})});YP.displayName=Yl;var wre=p.forwardRef((e,t)=>{const n=Ya(Yl,e.__scopeDialog),r=p.useRef(null),s=ui(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return pre(o)},[]),a.jsx(XP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cr(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:cr(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&o.preventDefault()}),onFocusOutside:cr(e.onFocusOutside,o=>o.preventDefault())})}),Nre=p.forwardRef((e,t)=>{const n=Ya(Yl,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(XP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),XP=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...u}=e,d=Ya(Yl,n),f=p.useRef(null),m=ui(t,f);return Rne(),a.jsxs(a.Fragment,{children:[a.jsx(OP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(_P,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Cw(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Cre,{titleId:d.titleId}),a.jsx(Tre,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Ew="DialogTitle",QP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(Ew,n);return a.jsx(_r.h2,{id:s.titleId,...r,ref:t})});QP.displayName=Ew;var ZP="DialogDescription",Sre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(ZP,n);return a.jsx(_r.p,{id:s.descriptionId,...r,ref:t})});Sre.displayName=ZP;var JP="DialogClose",Ere=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ya(JP,n);return a.jsx(_r.button,{type:"button",...r,ref:t,onClick:cr(e.onClick,()=>s.onOpenChange(!1))})});Ere.displayName=JP;function Cw(e){return e?"open":"closed"}var e4="DialogTitleWarning",[Cie,t4]=Qte(e4,{contentName:Yl,titleName:Ew,docsSlug:"dialog"}),Cre=({titleId:e})=>{const t=t4(e4),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Are="DialogDescriptionWarning",Tre=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t4(Are).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},_re=FP,Rre=VP,n4=WP,r4=YP,a4=QP;const Zt=_re,Ore=Rre,i4=p.forwardRef(({className:e,...t},n)=>a.jsx(n4,{ref:n,className:zt("fixed inset-0 z-40 bg-black/40 backdrop-blur-md transition-opacity animate-in fade-in-0",e),...t}));i4.displayName=n4.displayName;const Gt=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Ore,{children:[a.jsx(i4,{}),a.jsx(r4,{ref:r,className:zt("fixed z-50 grid w-[95vw] sm:w-full max-w-lg gap-4 sm:gap-6 rounded-xl sm:rounded-2xl md:rounded-3xl border border-white/40 bg-white/90 backdrop-blur-2xl px-4 py-4 sm:px-6 sm:py-6 md:px-7 md:py-7 shadow-[0_30px_80px_rgba(15,118,110,0.2)] duration-200 animate-in fade-in-0 zoom-in-90 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[90vh] overflow-y-auto",e),...n,children:t})]}));Gt.displayName=r4.displayName;const Jt=({className:e,...t})=>a.jsx("div",{className:zt("flex flex-col space-y-2 text-center sm:text-left",e),...t}),Vt=p.forwardRef(({className:e,...t},n)=>a.jsx(a4,{ref:n,className:zt("text-lg sm:text-xl font-semibold tracking-tight",e),...t}));Vt.displayName=a4.displayName;function kre(){const[e,t]=p.useState([]),[n,r]=p.useState({}),[s,o]=p.useState(!1),[u,d]=p.useState(null),f=10,[m,g]=p.useState(1),[x,b]=p.useState({}),{toast:j}=In(),[S,w]=p.useState(""),[N,E]=p.useState("all"),[A,T]=p.useState("all"),[_,O]=p.useState(null),[R,D]=p.useState(!1),[B,X]=p.useState([]),[Y,L]=p.useState(!1),[F,re]=p.useState(!1),[ye,ve]=p.useState(null),[H,I]=p.useState(!1),[K,de]=p.useState(!0),Se=p.useCallback(async({silent:z=!1}={})=>{o(!0),d(null);try{const Q=await Vn.list();if(Q.isSuccess){const ie=Q.data,Ce=Array.isArray(ie)?ie:ie?.items??[],Ve=ze=>{const Ze=ze.role;if(typeof Ze=="string"&&(Ze==="farmer"||Ze==="wholesaler"))return Ze;if(Ze&&typeof Ze=="object"&&"name"in Ze){const mt=String(Ze.name||"").toLowerCase();if(mt==="admin"||mt==="farmer"||mt==="wholesaler")return mt}return"wholesaler"},nt=Ce.map(ze=>{const mt=(ze.status??1)===2?"inactive":"active";return{id:ze.id,fullName:`${ze.firstName} ${ze.lastName}`.trim(),email:ze.email,role:Ve(ze),status:mt,createdAt:ze.createdAt}});t(nt),r(Object.fromEntries(Ce.map(ze=>[ze.id,ze]))),b(Object.fromEntries(Ce.map(ze=>[ze.id,(ze.status??1)===2]))),g(1),z||j({title:se.SUCCESS,description:Vx.FETCH_SUCCESS})}else{const ie=Q.message||Vx.FETCH_ERROR;d(ie),j({title:se.ERROR,description:ie,variant:"destructive"})}}catch(Q){const ie=Q instanceof Error?Q.message:Vx.FETCH_ERROR;d(ie),j({title:se.ERROR,description:ie,variant:"destructive"})}finally{o(!1)}},[j]);p.useEffect(()=>{Se({silent:!0})},[Se]);const P=z=>new Date(z).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),q=p.useMemo(()=>{let z=e;const Q=S.trim().toLowerCase();return Q&&(z=z.filter(ie=>ie.fullName.toLowerCase().includes(Q)||ie.email.toLowerCase().includes(Q)||ie.id.toLowerCase().includes(Q))),N!=="all"&&(z=z.filter(ie=>ie.role===N)),A!=="all"&&(z=z.filter(ie=>A==="active"?!x[ie.id]:A==="inactive"?x[ie.id]:!0)),z.sort((ie,Ce)=>{const Ve=new Date(ie.createdAt).getTime();return new Date(Ce.createdAt).getTime()-Ve})},[e,S,N,A,x]);p.useEffect(()=>{g(1)},[S,N,A]);const ee=z=>{switch(z){case"farmer":return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"Nng dn"});case"wholesaler":return a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Thng li"});default:return a.jsx(De,{variant:"outline",children:"Unknown"})}},ue=z=>{switch(z){case"active":return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"});case"inactive":return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng hot ng"});default:return a.jsx(De,{variant:"outline",children:"Unknown"})}},we=(z,Q)=>{Q&&!x[z.id]?(ve(z),de(!0),re(!0)):!Q&&x[z.id]&&(ve(z),de(!1),re(!0))},ae=async()=>{if(ye){I(!0);try{const z=await Vn.updateStatus(ye.id,{status:K?2:1,reason:K?"Ti khon b kha bi qun tr vin":"Ti khon c m kha bi qun tr vin"});if(z.isSuccess)j({title:se.SUCCESS,description:K?"Kha ti khon thnh cng":"M kha ti khon thnh cng"}),re(!1),ve(null),await Se({silent:!0});else{const Q=z.message||(K?"Khng th kha ti khon. Vui lng th li.":"Khng th m kha ti khon. Vui lng th li.");j({title:se.ERROR,description:Q,variant:"destructive"})}}catch(z){const Q=z instanceof Error?z.message:K?"Khng th kha ti khon. Vui lng th li.":"Khng th m kha ti khon. Vui lng th li.";j({title:se.ERROR,description:Q,variant:"destructive"})}finally{I(!1)}}},ne=z=>{const Q=n[z];Q?(O(Q),D(!0),L(!0),Jo.getByUserId(z).then(ie=>{ie.isSuccess&&ie.data?X(Array.isArray(ie.data)?ie.data:[]):X([])}).catch(()=>X([])).finally(()=>L(!1))):j({title:se.ERROR,description:"Khng tm thy thng tin chi tit ngi dng",variant:"destructive"})},V=z=>{switch(z){case 0:return a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(De,{variant:"outline",children:"Unknown"})}},U=Math.max(1,Math.ceil(q.length/f)),M=Math.min(m,U),W=(M-1)*f,$=q.slice(W,W+f),J=M>1,G=M<U;return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Qun l ngi dng"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Theo di trng thi ti khon v phn quyn."})]}),a.jsxs(dt,{className:"p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-1 sm:mb-2",children:"Danh sch ngi dng"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[s?"ang ti...":`Hin th ${q.length} / ${e.length} ngi dng`,u&&a.jsxs("span",{className:"text-red-600",children:["  ",u]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-56 md:w-64",children:[a.jsx(ia,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"}),a.jsx(dn,{value:S,onChange:z=>w(z.target.value),placeholder:"Tm theo tn, email hoc ID",className:"pl-7 sm:pl-9 text-xs sm:text-sm"})]}),a.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>Se(),disabled:s,className:"text-xs sm:text-sm",children:s?"ang ti...":"Lm mi"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>{E("all"),g(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${N==="all"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Tt c vai tr",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:e.length})]}),a.jsxs("button",{type:"button",onClick:()=>{E("farmer"),g(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${N==="farmer"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Nng dn",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:e.filter(z=>z.role==="farmer").length})]}),a.jsxs("button",{type:"button",onClick:()=>{E("wholesaler"),g(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${N==="wholesaler"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Thng li",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:e.filter(z=>z.role==="wholesaler").length})]}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:`absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 pointer-events-none ${A!=="all"?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:A,onChange:z=>{T(z.target.value),g(1)},className:`appearance-none rounded-xl sm:rounded-2xl border px-7 sm:px-9 md:px-10 py-1.5 sm:py-2 pr-6 sm:pr-8 text-xs sm:text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${A!=="all"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:"active",children:"Hot ng"}),a.jsx("option",{value:"inactive",children:"Khng hot ng"})]}),a.jsx(Um,{className:`absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 pointer-events-none ${A!=="all"?"text-emerald-600":"text-gray-400"}`})]})]})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"overflow-x-auto -mx-3 sm:-mx-4 md:-mx-6 px-3 sm:px-4 md:px-6",children:s?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[30%] min-w-[150px]",children:"H v tn"}),a.jsx(pe,{className:"w-[20%] min-w-[180px]",children:"Email"}),a.jsx(pe,{className:"w-[12%] min-w-[100px]",children:"Vai tr"}),a.jsx(pe,{className:"w-[12%] min-w-[120px]",children:"Trng thi"}),a.jsx(pe,{className:"w-[10%] min-w-[100px] text-right",children:"Kha"}),a.jsx(pe,{className:"w-[16%] min-w-[120px] text-center",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:5}).map((z,Q)=>a.jsx(at,{children:[35,25,15,15,10].map((ie,Ce)=>a.jsx(je,{style:{width:`${ie}%`},children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})},Ce))},Q))})]}):$.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[30%] min-w-[150px] text-left",children:"H v tn"}),a.jsx(pe,{className:"w-[20%] min-w-[180px] text-left",children:"Email"}),a.jsx(pe,{className:"w-[12%] min-w-[100px] text-left",children:"Vai tr"}),a.jsx(pe,{className:"w-[12%] min-w-[120px] text-left",children:"Trng thi"}),a.jsx(pe,{className:"w-[10%] min-w-[100px] text-right",children:"Kha"}),a.jsx(pe,{className:"w-[16%] min-w-[120px] text-center",children:"Thao tc"})]})}),a.jsx(cn,{children:$.map(z=>a.jsxs(at,{className:"min-h-[56px]",children:[a.jsx(je,{className:"font-medium text-gray-900",children:a.jsx("div",{className:"truncate",title:z.fullName,children:z.fullName})}),a.jsxs(je,{children:[a.jsx("div",{className:"truncate text-gray-700",title:z.email,children:z.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["To: ",P(z.createdAt)]})]}),a.jsx(je,{children:ee(z.role)}),a.jsx(je,{children:ue(z.status)}),a.jsx(je,{className:"text-center",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none justify-end",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!x[z.id],onChange:Q=>we(z,Q.target.checked)}),a.jsx("span",{className:`w-10 h-6 rounded-full ${x[z.id]?"bg-rose-500":"bg-green-500"} relative transition-colors`,"aria-hidden":"true",children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${x[z.id]?"translate-x-4":""}`})}),a.jsx("span",{className:"text-xs text-gray-600",children:x[z.id]?"Blocked":"Active"})]})}),a.jsx(je,{className:"text-center",children:a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>ne(z.id),className:"text-xs",children:[a.jsx(xr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})})]},z.id))})]})}),a.jsx("div",{className:"lg:hidden space-y-3",children:$.map(z=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-[0.3em]",children:"Ngi dng"}),a.jsx("h3",{className:"font-semibold text-gray-900 truncate",title:z.fullName,children:z.fullName}),a.jsx("p",{className:"text-sm text-gray-500 truncate",title:z.email,children:z.email})]}),a.jsx(Fu,{className:"h-5 w-5 text-gray-400"})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[ee(z.role),ue(z.status)]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",z.id]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ngy to: ",P(z.createdAt)]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!x[z.id],onChange:Q=>we(z,Q.target.checked)}),a.jsx("span",{className:`w-9 h-5 rounded-full ${x[z.id]?"bg-rose-500":"bg-green-500"} relative transition-colors`,"aria-hidden":"true",children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform ${x[z.id]?"translate-x-4":""}`})}),a.jsx("span",{className:"text-xs text-gray-600",children:x[z.id]?" kha":"ang hot ng"})]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>ne(z.id),className:"text-xs",children:[a.jsx(xr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})]})]},z.id))}),U>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 sm:gap-4 mt-3 sm:mt-4 text-xs sm:text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",M,"/",U]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>g(z=>Math.max(1,z-1)),disabled:!J,className:"text-xs sm:text-sm",children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>g(z=>Math.min(U,z+1)),disabled:!G,className:"text-xs sm:text-sm",children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-10 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(Fu,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c ngi dng no ph hp"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Th thay i t kha tm kim, b lc hoc ti li danh sch ngi dng."}),a.jsx(oe,{onClick:()=>{w(""),E("all"),T("all"),Se()},children:"Xa b lc v ti li"})]})})})]}),a.jsx(Zt,{open:F,onOpenChange:re,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:`text-xl font-semibold ${K?"text-red-600":"text-green-600"}`,children:K?"Xc nhn kha ti khon":"Xc nhn m kha ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:K?"Bn c chc chn mun kha ti khon ca ngi dng ny?":"Bn c chc chn mun m kha ti khon ca ngi dng ny?"}),ye&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:ye.fullName}),a.jsx("p",{className:"text-xs text-gray-600",children:ye.email})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:K?'Ti khon s b chuyn sang trng thi "Banned" v khng th ng nhp.':'Ti khon s c chuyn sang trng thi "Active" v c th ng nhp li.'})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(oe,{variant:"outline",onClick:()=>{re(!1),ve(null)},disabled:H,children:"Hy"}),a.jsx(oe,{variant:"outline",onClick:ae,disabled:H,className:K?"text-red-600 border-red-600 hover:bg-red-50":"text-green-600 border-green-600 hover:bg-green-50",children:H?K?"ang kha...":"ang m kha...":K?"Xc nhn kha":"Xc nhn m kha"})]})]})]})}),a.jsx(Zt,{open:R,onOpenChange:D,children:a.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit ngi dng"})}),_?a.jsxs("div",{className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Thng tin c bn"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"ID"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 font-mono break-all",children:_.id})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Email"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 break-all",children:_.email})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"H"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.firstName||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Tn"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.lastName||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"S in thoi"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.phoneNumber||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Vai tr"}),a.jsx("div",{className:"mt-1",children:ee(e.find(z=>z.id===_.id)?.role||"wholesaler")})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"a ch"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl bg-white p-4 sm:col-span-2",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"a ch"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.address||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"X/Phng"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.communes||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Tnh/Thnh ph"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.province||""})]})]})]}),(_.status!==void 0||_.reputationScore!==void 0)&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Trng thi & Uy tn"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.status!==void 0&&a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Trng thi"}),a.jsxs("div",{className:"mt-1",children:[_.status===0&&a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"}),_.status===1&&a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"}),_.status===2&&a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:"B cm"})]})]}),_.reputationScore!==void 0&&a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"im uy tn"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.reputationScore})]})]})]}),_.verifications&&_.verifications.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[a.jsx(xr,{className:"h-4 w-4"}),"Ti liu xc minh"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.verifications.map(z=>a.jsxs("div",{className:"rounded-2xl bg-white p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-2",children:z.documentType===0?"CCCD mt trc":z.documentType===1?"CCCD mt sau":"Giy php li xe"}),a.jsx("div",{className:"aspect-[16/10] bg-gray-100 rounded-lg overflow-hidden mb-2",children:a.jsx("img",{src:z.url,alt:z.documentType===0?"CCCD mt trc":"CCCD mt sau",className:"w-full h-full object-cover",onError:Q=>{const ie=Q.target;ie.style.display="none";const Ce=ie.parentElement;Ce&&(Ce.innerHTML='<div class="w-full h-full flex items-center justify-center text-xs text-gray-400">Khng th ti hnh nh</div>')}})}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Ti ln: ",P(z.createdAt)]})]},z.id))})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[a.jsx(Da,{className:"h-4 w-4"}),"Chng ch  duyt"]}),Y?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"ang ti chng ch..."})]}):B.length>0?a.jsx("div",{className:"space-y-3",children:B.map(z=>a.jsxs("div",{className:"rounded-2xl bg-white p-4 border border-slate-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-1",children:z.certificationName}),a.jsx("p",{className:"text-xs text-slate-600",children:z.issuingOrganization})]}),V(z.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 mb-0.5",children:"Ngy cp"}),a.jsx("p",{className:"text-slate-900 font-medium",children:P(z.issueDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 mb-0.5",children:"Ngy ht hn"}),a.jsx("p",{className:"text-slate-900 font-medium",children:P(z.expiryDate)})]})]}),z.certificateUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:z.certificateUrl,alt:z.certificationName,className:"w-full max-w-xs rounded-lg border border-slate-200 shadow-sm",onError:Q=>{const ie=Q.target;ie.style.display="none"}})})]},z.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Da,{className:"h-10 w-10 text-slate-400 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Cha c chng ch no c duyt"})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c thng tin  hin th"})})]})})]})}function Dre(e){const t=e+"CollectionProvider",[n,r]=Ag(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:N,children:E}=w,A=Ds.useRef(null),T=Ds.useRef(new Map).current;return a.jsx(s,{scope:N,itemMap:T,collectionRef:A,children:E})};u.displayName=t;const d=e+"CollectionSlot",f=Rm(d),m=Ds.forwardRef((w,N)=>{const{scope:E,children:A}=w,T=o(d,E),_=ui(N,T.collectionRef);return a.jsx(f,{ref:_,children:A})});m.displayName=d;const g=e+"CollectionItemSlot",x="data-radix-collection-item",b=Rm(g),j=Ds.forwardRef((w,N)=>{const{scope:E,children:A,...T}=w,_=Ds.useRef(null),O=ui(N,_),R=o(g,E);return Ds.useEffect(()=>(R.itemMap.set(_,{ref:_,...T}),()=>void R.itemMap.delete(_))),a.jsx(b,{[x]:"",ref:O,children:A})});j.displayName=g;function S(w){const N=o(e+"CollectionConsumer",w);return Ds.useCallback(()=>{const A=N.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((R,D)=>T.indexOf(R.ref.current)-T.indexOf(D.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:j},S,r]}var Mre=p.createContext(void 0);function s4(e){const t=p.useContext(Mre);return e||t||"ltr"}var Iy="rovingFocusGroup.onEntryFocus",Pre={bubbles:!1,cancelable:!0},Ld="RovingFocusGroup",[eb,l4,Ire]=Dre(Ld),[Lre,o4]=Ag(Ld,[Ire]),[Bre,Ure]=Lre(Ld),c4=p.forwardRef((e,t)=>a.jsx(eb.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(eb.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx($re,{...e,ref:t})})}));c4.displayName=Ld;var $re=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,b=p.useRef(null),j=ui(t,b),S=s4(o),[w,N]=Nw({prop:u,defaultProp:d??null,onChange:f,caller:Ld}),[E,A]=p.useState(!1),T=uc(m),_=l4(n),O=p.useRef(!1),[R,D]=p.useState(0);return p.useEffect(()=>{const B=b.current;if(B)return B.addEventListener(Iy,T),()=>B.removeEventListener(Iy,T)},[T]),a.jsx(Bre,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:w,onItemFocus:p.useCallback(B=>N(B),[N]),onItemShiftTab:p.useCallback(()=>A(!0),[]),onFocusableItemAdd:p.useCallback(()=>D(B=>B+1),[]),onFocusableItemRemove:p.useCallback(()=>D(B=>B-1),[]),children:a.jsx(_r.div,{tabIndex:E||R===0?-1:0,"data-orientation":r,...x,ref:j,style:{outline:"none",...e.style},onMouseDown:cr(e.onMouseDown,()=>{O.current=!0}),onFocus:cr(e.onFocus,B=>{const X=!O.current;if(B.target===B.currentTarget&&X&&!E){const Y=new CustomEvent(Iy,Pre);if(B.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const L=_().filter(H=>H.focusable),F=L.find(H=>H.active),re=L.find(H=>H.id===w),ve=[F,re,...L].filter(Boolean).map(H=>H.ref.current);h4(ve,g)}}O.current=!1}),onBlur:cr(e.onBlur,()=>A(!1))})})}),u4="RovingFocusGroupItem",d4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:u,...d}=e,f=Lu(),m=o||f,g=Ure(u4,n),x=g.currentTabStopId===m,b=l4(n),{onFocusableItemAdd:j,onFocusableItemRemove:S,currentTabStopId:w}=g;return p.useEffect(()=>{if(r)return j(),()=>S()},[r,j,S]),a.jsx(eb.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:a.jsx(_r.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:cr(e.onMouseDown,N=>{r?g.onItemFocus(m):N.preventDefault()}),onFocus:cr(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:cr(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=qre(N,g.orientation,g.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=b().filter(_=>_.focusable).map(_=>_.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const _=T.indexOf(N.currentTarget);T=g.loop?Fre(T,_+1):T.slice(_+1)}setTimeout(()=>h4(T))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:w!=null}):u})})});d4.displayName=u4;var zre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hre(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qre(e,t,n){const r=Hre(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zre[r]}function h4(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Fre(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Kre=c4,Gre=d4,Rg="Tabs",[Vre]=Ag(Rg,[o4]),f4=o4(),[Wre,Aw]=Vre(Rg),m4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:u="horizontal",dir:d,activationMode:f="automatic",...m}=e,g=s4(d),[x,b]=Nw({prop:r,onChange:s,defaultProp:o??"",caller:Rg});return a.jsx(Wre,{scope:n,baseId:Lu(),value:x,onValueChange:b,orientation:u,dir:g,activationMode:f,children:a.jsx(_r.div,{dir:g,"data-orientation":u,...m,ref:t})})});m4.displayName=Rg;var g4="TabsList",p4=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Aw(g4,n),u=f4(n);return a.jsx(Kre,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(_r.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});p4.displayName=g4;var x4="TabsTrigger",y4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,u=Aw(x4,n),d=f4(n),f=j4(u.baseId,r),m=w4(u.baseId,r),g=r===u.value;return a.jsx(Gre,{asChild:!0,...d,focusable:!s,active:g,children:a.jsx(_r.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:t,onMouseDown:cr(e.onMouseDown,x=>{!s&&x.button===0&&x.ctrlKey===!1?u.onValueChange(r):x.preventDefault()}),onKeyDown:cr(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(r)}),onFocus:cr(e.onFocus,()=>{const x=u.activationMode!=="manual";!g&&!s&&x&&u.onValueChange(r)})})})});y4.displayName=x4;var v4="TabsContent",b4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...u}=e,d=Aw(v4,n),f=j4(d.baseId,r),m=w4(d.baseId,r),g=r===d.value,x=p.useRef(g);return p.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(Id,{present:s||g,children:({present:b})=>a.jsx(_r.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:b&&o})})});b4.displayName=v4;function j4(e,t){return`${e}-trigger-${t}`}function w4(e,t){return`${e}-content-${t}`}var Yre=m4,N4=p4,S4=y4,E4=b4;const Qs=Yre,is=p.forwardRef(({className:e,...t},n)=>a.jsx(N4,{ref:n,className:zt("inline-flex h-11 items-center justify-center rounded-xl bg-gray-100 p-1 text-gray-500 shadow-inner",e),...t}));is.displayName=N4.displayName;const Dt=p.forwardRef(({className:e,...t},n)=>a.jsx(S4,{ref:n,className:zt("inline-flex min-w-[90px] items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200","hover:bg-white/80 hover:text-emerald-600","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2","data-[state=active]:bg-white data-[state=active]:text-emerald-700 data-[state=active]:shadow-md","data-[state=active]:ring-1 data-[state=active]:ring-emerald-200",e),...t}));Dt.displayName=S4.displayName;const Ui=p.forwardRef(({className:e,...t},n)=>a.jsx(E4,{ref:n,className:zt("mt-4 outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2",e),...t}));Ui.displayName=E4.displayName;const Ly=({accounts:e,onViewAccount:t,onApproveAccount:n,onRejectAccount:r,isApproving:s,isRejecting:o,formatDate:u,getStatusBadge:d})=>e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(xc,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c ti khon no"}),a.jsx("p",{className:"text-gray-600",children:"Hin ti khng c ti khon no cn xt duyt"})]}):a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(f=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-5 md:p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3 min-w-0",children:[a.jsx("div",{className:"flex items-start justify-between gap-2",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1 truncate",children:f.fullName}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[a.jsx(hb,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:f.email})]}),a.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[a.jsx(Pu,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:f.farmName})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S in thoi:"}),a.jsx("p",{className:"text-gray-600 truncate",children:f.phone})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Din tch:"}),a.jsx("p",{className:"text-gray-600 truncate",children:f.farmSize})]}),a.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[a.jsx(Il,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 truncate",children:u(f.submittedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-start lg:justify-end",children:[d(f.status),a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>t(f),className:"h-7 sm:h-8 px-2 sm:px-3 text-xs",children:[a.jsx(xr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),f.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(oe,{size:"sm",onClick:()=>n(f),disabled:s||o,className:"bg-emerald-600 hover:bg-emerald-700 text-white text-xs h-7 sm:h-8 px-2 sm:px-3",children:[a.jsx(cR,{className:"w-3 h-3 mr-1"}),s?"ang duyt...":"Duyt"]}),a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>r(f),disabled:s||o,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 text-xs h-7 sm:h-8 px-2 sm:px-3",children:[a.jsx(Xl,{className:"w-3 h-3 mr-1"}),"T chi"]})]})]})]})},f.id))}),Xre=({certifications:e,usersMap:t={},onViewCertification:n,onApproveCertification:r,onRejectCertification:s,isApproving:o,isRejecting:u,formatDate:d,getStatusBadge:f})=>e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Da,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c chng ch no"}),a.jsx("p",{className:"text-gray-600",children:"Hin ti khng c chng ch no cn xt duyt"})]}):a.jsx("div",{className:"space-y-4",children:e.map(m=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:m.certificationName}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 flex-wrap",children:[t[m.userId]&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xc,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium text-gray-900",children:`${t[m.userId].firstName} ${t[m.userId].lastName}`.trim()||t[m.userId].email})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(oL,{className:"w-4 h-4"}),a.jsx("span",{children:m.issuingOrganization})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Il,{className:"w-4 h-4"}),a.jsxs("span",{children:["Cp ngy: ",d(m.issueDate)]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ht hn:"}),a.jsx("p",{className:"text-gray-600",children:d(m.expiryDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy np:"}),a.jsx("p",{className:"text-gray-600",children:d(m.createdAt)})]}),m.rejectionReason&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"L do t chi:"}),a.jsx("p",{className:"text-red-600",children:m.rejectionReason})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[f(m.status),a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>n(m),className:"h-8 px-3 text-xs",children:[a.jsx(xr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),m.status===0&&a.jsxs(a.Fragment,{children:[a.jsxs(oe,{size:"sm",onClick:()=>r(m),disabled:o||u,className:"bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:[a.jsx(cR,{className:"w-3 h-3 mr-1"}),o?"ang duyt...":"Duyt"]}),a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>s(m),disabled:o||u,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 text-xs",children:[a.jsx(Xl,{className:"w-3 h-3 mr-1"}),"T chi"]})]})]})]})},m.id))}),Qre=({pendingAccounts:e,approvedAccounts:t,rejectedAccounts:n,pendingCertifications:r,isLoading:s,error:o,onViewAccount:u,onApproveAccount:d,onRejectAccount:f,onViewCertification:m,onApproveCertification:g,onRejectCertification:x,isApproving:b,isRejecting:j,formatDate:S,getStatusBadge:w,getCertificationStatusBadge:N,defaultTab:E="pending"})=>{const[A,T]=p.useState(E);return p.useEffect(()=>{T(E)},[E]),a.jsxs(Qs,{value:A,onValueChange:T,className:"w-full",children:[a.jsxs(is,{className:"grid w-full grid-cols-4 mb-6",children:[a.jsxs(Dt,{value:"pending",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:["Ti khon (",e.length,")"]}),a.jsxs(Dt,{value:"approved",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[" duyt (",t.length,")"]}),a.jsxs(Dt,{value:"rejected",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[" t chi (",n.length,")"]}),a.jsxs(Dt,{value:"certifications",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:["Chng ch (",r.length,")"]})]}),a.jsx(Ui,{value:"pending",className:"space-y-4",children:a.jsxs(dt,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon ch duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",e.length," ti khon ang ch xt duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):a.jsx(Ly,{accounts:e,onViewAccount:u,onApproveAccount:d,onRejectAccount:f,isApproving:b,isRejecting:j,formatDate:S,getStatusBadge:w})]})}),a.jsx(Ui,{value:"approved",className:"space-y-4",children:a.jsxs(dt,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon  duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",t.length," ti khon  c duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hR,{className:"h-16 w-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c ti khon no c duyt"}),a.jsx("p",{className:"text-gray-600",children:"Cc ti khon c duyt s hin th  y"})]}):a.jsx(Ly,{accounts:t,onViewAccount:u,onApproveAccount:()=>{},onRejectAccount:()=>{},isApproving:!1,isRejecting:!1,formatDate:S,getStatusBadge:w})]})}),a.jsx(Ui,{value:"rejected",className:"space-y-4",children:a.jsxs(dt,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon  t chi"}),a.jsxs("p",{className:"text-gray-600",children:["C ",n.length," ti khon  b t chi"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(li,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c ti khon no b t chi"}),a.jsx("p",{className:"text-gray-600",children:"Cc ti khon b t chi s hin th  y"})]}):a.jsx(Ly,{accounts:n,onViewAccount:u,onApproveAccount:()=>{},onRejectAccount:()=>{},isApproving:!1,isRejecting:!1,formatDate:S,getStatusBadge:w})]})}),a.jsx(Ui,{value:"certifications",className:"space-y-4",children:a.jsxs(dt,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch chng ch ch duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",r.length," chng ch ang ch xt duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Da,{className:"h-16 w-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c chng ch no ch duyt"}),a.jsx("p",{className:"text-gray-600",children:"Cc chng ch ch duyt s hin th  y"})]}):a.jsx(Xre,{certifications:r,onViewCertification:m,onApproveCertification:g,onRejectCertification:x,isApproving:b,isRejecting:j,formatDate:S,getStatusBadge:N})]})})]})},Zre=({account:e,isOpen:t,onClose:n,formatDate:r})=>{const[s,o]=p.useState([]),[u,d]=p.useState(!1);p.useEffect(()=>{e&&t?(d(!0),Jo.getByUserId(e.id).then(m=>{m.isSuccess&&m.data&&o(Array.isArray(m.data)?m.data:[])}).catch(()=>o([])).finally(()=>d(!1))):o([])},[e,t]);const f=m=>{switch(m){case 0:return a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(De,{variant:"outline",children:"Unknown"})}};return e?a.jsx(Zt,{open:t,onOpenChange:n,children:a.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{className:"pb-4 border-b border-gray-200",children:a.jsxs(Vt,{className:"text-2xl font-semibold text-gray-900",children:["Chi tit ti khon: ",e.fullName]})}),a.jsxs("div",{className:"space-y-8 py-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(xc,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin c nhn"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"H v tn"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.fullName})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),a.jsx("p",{className:"text-gray-900 break-all",children:e.email})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"S in thoi"}),a.jsx("p",{className:"text-gray-900",children:e.phone})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch"}),a.jsx("p",{className:"text-gray-900 break-words",children:e.address})]})]})})]}),e.role==="farmer"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Pu,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin nng tri"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tn nng tri"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.farmName})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch nng tri"}),a.jsx("p",{className:"text-gray-900 break-words",children:e.farmAddress})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Din tch"}),a.jsx("p",{className:"text-gray-900",children:e.farmSize})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Loi hnh"}),a.jsx("p",{className:"text-gray-900",children:e.farmType})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(xr,{className:"h-4 w-4 text-emerald-600"})}),"Ti liu xc minh"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.verifications&&e.verifications.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.verifications.map(m=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:m.documentType===0?"CCCD mt trc":m.documentType===1?"CCCD mt sau":"Giy php li xe"}),a.jsxs("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-4 hover:border-emerald-400 transition-colors",children:[a.jsx("div",{className:"aspect-[16/10] bg-gray-100 rounded-lg overflow-hidden mb-3",children:a.jsx("img",{src:m.url,alt:m.documentType===0?"CCCD mt trc":"CCCD mt sau",className:"w-full h-full object-cover rounded-lg",onError:g=>{const x=g.target;x.style.display="none";const b=x.parentElement;b&&(b.innerHTML='<div class="w-full h-full flex items-center justify-center text-xs text-gray-400">Khng th ti hnh nh</div>')}})}),a.jsx("p",{className:"text-xs text-gray-600 text-center",children:m.documentType===0?"Cn cc cng dn - Mt trc":"Cn cc cng dn - Mt sau"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:["Ti ln: ",r(m.createdAt)]})]})]},m.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(xr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cha c ti liu xc minh no"})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Il,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin np n"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("p",{className:"text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Ngy np:"})," ",r(e.submittedAt)]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Da,{className:"h-4 w-4 text-emerald-600"})}),"Chng ch  duyt"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti chng ch..."})]}):s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(m=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.certificationName}),a.jsx("p",{className:"text-sm text-gray-600",children:m.issuingOrganization})]}),f(m.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy cp:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:r(m.issueDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy ht hn:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:r(m.expiryDate)})]})]}),m.certificateUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:m.certificateUrl,alt:m.certificationName,className:"w-full max-w-md rounded-lg border border-gray-200 shadow-sm",onError:g=>{const x=g.target;x.style.display="none"}})})]},m.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Da,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cha c chng ch no c duyt"})]})})]})]})]})}):null},er=p.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{ref:n,className:zt("flex min-h-[110px] w-full rounded-2xl border border-transparent bg-white/80 px-4 py-3 text-sm text-gray-900 shadow-[0_12px_28px_rgba(15,118,110,0.08)] transition-all duration-300 placeholder:text-gray-400","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50 focus-visible:border-emerald-500/60 focus-visible:ring-offset-2","hover:border-emerald-200 hover:shadow-[0_16px_38px_rgba(15,118,110,0.12)]","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-70",e),...t}));er.displayName="Textarea";const Jre=({account:e,isOpen:t,onClose:n,rejectReason:r,setRejectReason:s,onConfirmReject:o,isRejecting:u})=>{const d=()=>{e&&r.trim()&&o(e.id,r.trim())};return a.jsx(Zt,{open:t,onOpenChange:n,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi ti khon ny? Hnh ng ny khng th hon tc."}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Tn: ",e.fullName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Email: ",e.email]}),e.farmName&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Nng tri: ",e.farmName]})]}),a.jsxs("div",{children:[a.jsx(Be,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi *"}),a.jsx(er,{id:"rejectReason",placeholder:"Nhp l do t chi ti khon ny...",value:r,onChange:f=>s(f.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:n,disabled:u,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:d,disabled:!r.trim()||u,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})})},eae=({account:e,isOpen:t,onClose:n,onConfirmApprove:r,isApproving:s})=>{const o=()=>{e&&r(e.id)};return a.jsx(Zt,{open:t,onOpenChange:n,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt ti khon ny? Ti khon s c chuyn sang trng thi " duyt" v ngi dng c th s dng ti khon ny.'}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Tn: ",e.fullName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Email: ",e.email]}),e.role==="farmer"&&e.farmName&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Nng tri: ",e.farmName]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:n,disabled:s,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:o,disabled:s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})})},tae=({certification:e,user:t,isOpen:n,onClose:r,formatDate:s,getStatusBadge:o})=>e?a.jsx(Zt,{open:n,onOpenChange:r,children:a.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{className:"pb-4 border-b border-gray-200",children:a.jsxs(Vt,{className:"text-2xl font-semibold text-gray-900 flex items-center gap-3",children:[a.jsx(Da,{className:"h-6 w-6 text-emerald-600"}),"Chi tit chng ch: ",e.certificationName]})}),a.jsxs("div",{className:"space-y-8 py-6",children:[t&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(xc,{className:"h-4 w-4 text-blue-600"})}),"Thng tin ngi gi"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"H v tn"}),a.jsx("p",{className:"text-gray-900 font-medium",children:`${t.firstName} ${t.lastName}`.trim()||"Cha c thng tin"})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hb,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900 break-all",children:t.email})]})]}),t.phoneNumber&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"S in thoi"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pR,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900",children:t.phoneNumber})]})]}),t.address&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch"}),a.jsxs("p",{className:"text-gray-900 break-words",children:[t.address,t.communes&&`, ${t.communes}`,t.province&&`, ${t.province}`]})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Hi,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin chng ch"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tn chng ch"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.certificationName})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:o(e.status)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"T chc cp"}),a.jsx("p",{className:"text-gray-900",children:e.issuingOrganization})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Loi chng ch"}),a.jsxs("p",{className:"text-gray-900",children:["Loi ",e.type]})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy cp"}),a.jsx("p",{className:"text-gray-900",children:s(e.issueDate)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy ht hn"}),a.jsx("p",{className:"text-gray-900",children:s(e.expiryDate)})]}),e.rejectionReason&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"L do t chi"}),a.jsx("p",{className:"text-red-600",children:e.rejectionReason})]}),e.reviewedAt&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy xt duyt"}),a.jsx("p",{className:"text-gray-900",children:s(e.reviewedAt)})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Da,{className:"h-4 w-4 text-emerald-600"})}),"Hnh nh chng ch"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"max-w-2xl w-full",children:a.jsx("img",{src:e.certificateUrl,alt:e.certificationName,className:"w-full h-auto rounded-lg border border-gray-200 shadow-sm",onError:u=>{const d=u.target;d.src="/placeholder-certificate.jpg",d.alt="Khng th ti hnh nh"}})})})})]})]})]})}):null,nae=({certification:e,isOpen:t,onClose:n,rejectReason:r,setRejectReason:s,onConfirmReject:o,isRejecting:u})=>{const d=()=>{e&&r.trim()&&o(e.id,r.trim())};return a.jsx(Zt,{open:t,onOpenChange:n,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi chng ch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi chng ch ny? Hnh ng ny khng th hon tc."}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Chng ch: ",e.certificationName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["T chc cp: ",e.issuingOrganization]})]}),a.jsxs("div",{children:[a.jsx(Be,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi *"}),a.jsx(er,{id:"rejectReason",placeholder:"Nhp l do t chi chng ch ny...",value:r,onChange:f=>s(f.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:n,disabled:u,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:d,disabled:!r.trim()||u,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})})},rae=({certification:e,isOpen:t,onClose:n,onConfirmApprove:r,isApproving:s})=>{const o=()=>{e&&r(e.id)};return a.jsx(Zt,{open:t,onOpenChange:n,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt chng ch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt chng ch ny? Chng ch s c chuyn sang trng thi " duyt" v ngi dng c th s dng chng ch ny.'}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Chng ch: ",e.certificationName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["T chc cp: ",e.issuingOrganization]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:n,disabled:s,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:o,disabled:s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})})},By=e=>new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),aae=e=>{switch(e){case"pending":return{text:"Ch duyt",className:"text-yellow-600 border-yellow-600"};case"approved":return{text:" duyt",className:"text-green-600 border-green-600"};case"rejected":return{text:" t chi",className:"text-red-600 border-red-600"};default:return{text:"Unknown",className:""}}},iae=()=>{const[e]=iR(),t=e.get("tab")||"pending",[n,r]=p.useState(null),[s,o]=p.useState(null),[u,d]=p.useState(!1),[f,m]=p.useState(""),[g,x]=p.useState(!1),[b,j]=p.useState(!1),[S,w]=p.useState(!1),[N,E]=p.useState(!1),[A,T]=p.useState([]),[_,O]=p.useState([]),[R,D]=p.useState([]),[B,X]=p.useState([]),[Y,L]=p.useState(null),[F,re]=p.useState(!1),[ye,ve]=p.useState(!1),[H,I]=p.useState(!1),[K,de]=p.useState(""),[Se,P]=p.useState(!1),[q,ee]=p.useState(null),[ue,we]=p.useState({}),{toast:ae}=In(),ne=p.useCallback((ce,Oe)=>{let Ne="Cha c thng tin",We="Cha c thng tin",ut="Cha c thng tin",ht="Cha c thng tin";ce.role==="farmer"&&Oe[ce.id]&&(Ne=Oe[ce.id].name||"Cha c thng tin",We=`${ce.address}, ${ce.communes}, ${ce.province}`,ut="Cha c thng tin",ht="Cha c thng tin");const ft={0:"pending",1:"approved",2:"rejected"};return{id:ce.id,email:ce.email,fullName:`${ce.firstName} ${ce.lastName}`.trim(),phone:ce.phoneNumber||"Cha c",address:`${ce.address}, ${ce.communes}, ${ce.province}`,role:ce.role??"farmer",farmName:Ne,farmAddress:We,farmSize:ut,farmType:ht,submittedAt:ce.createdAt,status:ft[ce.status??0]||"pending",documents:[],verifications:ce.verifications||[]}},[]),V=p.useCallback(async({silent:ce=!1}={})=>{P(!0),ee(null);try{const[Oe,Ne]=await Promise.all([Vn.list(),$t.getFarms().catch(()=>({isSuccess:!1,data:[]}))]);if(Oe.isSuccess){const We=Oe.data,ut=Array.isArray(We)?We:We?.items??[],ht={};Ne.isSuccess&&Ne.data&&Array.isArray(Ne.data)&&Ne.data.forEach(st=>{st.userId&&!ht[st.userId]&&(ht[st.userId]={name:st.name})});const ft=ut.map(st=>ne(st,ht)),vt=ft.filter(st=>st.status==="pending"),wt=ft.filter(st=>st.status==="approved"),en=ft.filter(st=>st.status==="rejected");T(vt),O(wt),D(en),ce||ae({title:se.SUCCESS,description:Oi.FETCH_SUCCESS})}else{const We=Oe.message||Oi.FETCH_ERROR;ee(We),ce||ae({title:se.ERROR,description:We,variant:"destructive"})}}catch(Oe){const Ne=Oe instanceof Error?Oe.message:Oi.FETCH_ERROR;ee(Ne),console.error("Li khi ti danh sch ti khon:",Oe),ce||ae({title:se.ERROR,description:Ne,variant:"destructive"})}finally{P(!1)}},[ne,ae]),U=p.useCallback(async({silent:ce=!1}={})=>{P(!0),ee(null);try{const Oe=await Jo.getPending();if(Oe.isSuccess){const Ne=Array.isArray(Oe.data)?Oe.data:[];if(X(Ne),Ne.length>0)try{const We=[...new Set(Ne.map(ht=>ht.userId))],ut=await Vn.list();if(ut.isSuccess){const ht=ut.data,ft=Array.isArray(ht)?ht:ht?.items??[],vt={};ft.forEach(wt=>{We.includes(wt.id)&&(vt[wt.id]=wt)}),we(wt=>({...wt,...vt}))}}catch(We){console.error("Li khi ti thng tin ngi dng:",We)}ce||ae({title:se.SUCCESS,description:ki.FETCH_SUCCESS})}else{const Ne=Oe.message||ki.FETCH_ERROR;ee(Ne),ce||ae({title:se.ERROR,description:Ne,variant:"destructive"})}}catch(Oe){const Ne=Oe instanceof Error?Oe.message:ki.FETCH_ERROR;ee(Ne),console.error("Li khi ti danh sch chng ch:",Oe),ce||ae({title:se.ERROR,description:Ne,variant:"destructive"})}finally{P(!1)}},[ae]);p.useEffect(()=>{V({silent:!0}),U({silent:!0})},[V,U]);const M=ce=>{o(ce),j(!0)},W=async ce=>{w(!0);try{const Oe=await Vn.updateStatus(ce,{status:1,reason:"Ti khon  c duyt bi qun tr vin"});if(Oe.isSuccess)ae({title:se.SUCCESS,description:Oi.APPROVE_SUCCESS}),j(!1),o(null),await V({silent:!0});else{const Ne=Oe.message||Oi.APPROVE_ERROR;ee(Ne),ae({title:se.ERROR,description:Ne,variant:"destructive"})}}catch(Oe){console.error("Error approving account:",Oe);const Ne=Oe instanceof Error?Oe.message:Oi.APPROVE_ERROR;ee(Ne),ae({title:se.ERROR,description:Ne,variant:"destructive"})}finally{w(!1)}},$=async(ce,Oe)=>{E(!0);try{const Ne=await Vn.updateStatus(ce,{status:2,reason:Oe||"Ti khon b t chi bi qun tr vin"});if(Ne.isSuccess)ae({title:se.SUCCESS,description:Oi.REJECT_SUCCESS}),x(!1),m(""),o(null),await V({silent:!0});else{const We=Ne.message||Oi.REJECT_ERROR;ee(We),ae({title:se.ERROR,description:We,variant:"destructive"})}}catch(Ne){console.error("Error rejecting account:",Ne);const We=Ne instanceof Error?Ne.message:Oi.REJECT_ERROR;ee(We),ae({title:se.ERROR,description:We,variant:"destructive"})}finally{E(!1)}},J=ce=>{r(ce),d(!0)},G=ce=>{o(ce),x(!0)},z=()=>{r(null),d(!1)},Q=()=>{x(!1),m(""),o(null)},ie=ce=>{L(ce),I(!0)},Ce=async ce=>{w(!0);try{const Oe=await Jo.approve(ce,{status:1});if(Oe.isSuccess)ae({title:se.SUCCESS,description:ki.APPROVE_SUCCESS}),I(!1),L(null),await U({silent:!0});else{const Ne=Oe.message||ki.APPROVE_ERROR;ee(Ne),ae({title:se.ERROR,description:Ne,variant:"destructive"})}}catch(Oe){console.error("Error approving certification:",Oe);const Ne=Oe instanceof Error?Oe.message:ki.APPROVE_ERROR;ee(Ne),ae({title:se.ERROR,description:Ne,variant:"destructive"})}finally{w(!1)}},Ve=async(ce,Oe)=>{E(!0);try{const Ne=await Jo.approve(ce,{status:2,rejectionReason:Oe});if(Ne.isSuccess)ae({title:se.SUCCESS,description:ki.REJECT_SUCCESS}),ve(!1),de(""),await U({silent:!0});else{const We=Ne.message||ki.REJECT_ERROR;ee(We),ae({title:se.ERROR,description:We,variant:"destructive"})}}catch(Ne){console.error("Error rejecting certification:",Ne);const We=Ne instanceof Error?Ne.message:ki.REJECT_ERROR;ee(We),ae({title:se.ERROR,description:We,variant:"destructive"})}finally{E(!1)}},nt=ce=>{L(ce),re(!0)},ze=ce=>{L(ce),ve(!0)},Ze=()=>{L(null),re(!1)},mt=()=>{ve(!1),de("")},it=ce=>{const Oe=aae(ce);return a.jsx(De,{variant:"outline",className:Oe.className,children:Oe.text})},Ue=ce=>{switch(ce){case 0:return a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(De,{variant:"outline",children:"Unknown"})}};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Qun l xt duyt ti khon"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Duyt v qun l cc ti khon nng dn ang ch xt duyt"})]}),a.jsx(Qre,{pendingAccounts:A,approvedAccounts:_,rejectedAccounts:R,pendingCertifications:B,isLoading:Se,error:q,onViewAccount:J,onApproveAccount:M,onRejectAccount:G,onViewCertification:nt,onApproveCertification:ie,onRejectCertification:ze,isApproving:S,isRejecting:N,formatDate:By,getStatusBadge:it,getCertificationStatusBadge:Ue,defaultTab:t}),a.jsx(Zre,{account:n,isOpen:u,onClose:z,formatDate:By}),a.jsx(eae,{account:s,isOpen:b,onClose:()=>{j(!1),o(null)},onConfirmApprove:W,isApproving:S}),a.jsx(Jre,{account:s,isOpen:g,onClose:Q,rejectReason:f,setRejectReason:m,onConfirmReject:$,isRejecting:N}),a.jsx(tae,{certification:Y,user:Y?ue[Y.userId]:null,isOpen:F,onClose:Ze,formatDate:By,getStatusBadge:Ue}),a.jsx(nae,{certification:Y,isOpen:ye,onClose:mt,rejectReason:K,setRejectReason:de,onConfirmReject:Ve,isRejecting:N}),a.jsx(rae,{certification:Y,isOpen:H,onClose:()=>{I(!1),L(null)},onConfirmApprove:Ce,isApproving:S})]})};let Wo=null;const sae=300*1e3;function lae(){const e=br(),[t,n]=p.useState([]),[r,s]=p.useState(!1),[o,u]=p.useState({}),[d,f]=p.useState(!1),[m,g]=p.useState(""),x=10,[b,j]=p.useState(1),[S,w]=p.useState(null),{toast:N}=In(),E=L=>{e(`${et.ADMIN_CROPS}?farmId=${L}`)},A=p.useCallback(async L=>{f(!0);try{const re=[];for(let ye=0;ye<L.length;ye+=5){const ve=L.slice(ye,ye+5),H=await Promise.all(ve.map(async K=>{try{const de=await $t.getCropsByFarmId(K.id),Se=de.isSuccess&&Array.isArray(de.data)?de.data.length:0;return[K.id,Se]}catch{return[K.id,0]}}));re.push(...H.map(([K,de])=>[K,de]));const I=Object.fromEntries(re);u(K=>({...K,...I}))}}catch(F){console.error("Li khi ly s lng crop cho cc nng tri:",F),N({title:se.INFO,description:Cl.CROP_COUNT_ERROR})}finally{f(!1)}},[N]),T=p.useCallback(async({silent:L=!1}={})=>{s(!0),w(null);try{const F=await $t.getFarms();if(F.isSuccess&&F.data){let re={};const ye=Date.now();if(Wo&&ye-Wo.timestamp<sae)re=Wo.data;else try{const H=await Vn.list();if(H.isSuccess){const I=H.data,K=Array.isArray(I)?I:I?.items??[];re=Object.fromEntries(K.map(de=>[de.id,de])),Wo={data:re,timestamp:ye}}}catch(H){console.error("Li khi ly thng tin ngi dng:",H),Wo&&(re=Wo.data)}const ve=F.data.map(H=>{const I=re[H.userId],K=I?`${I.firstName||""} ${I.lastName||""}`.trim()||I.email:"Cha xc nh",de=I?.address?`${I.address}${I.communes?`, ${I.communes}`:""}${I.province?`, ${I.province}`:""}`.trim():"Cha cp nht";return{id:H.id,name:H.name,owner:K,location:de||"Cha cp nht",size:"Cha cp nht",type:"Cha cp nht",status:H.isActive?"active":"inactive",createdAt:H.createdAt,imageUrl:H.farmImage}});n(ve),A(ve),L||N({title:se.SUCCESS,description:Cl.FETCH_SUCCESS})}else{const re=F.message||Cl.FETCH_ERROR;w(re),N({title:se.ERROR,description:re,variant:"destructive"})}}catch(F){const re=F instanceof Error?F.message:Cl.FETCH_ERROR;w(re),N({title:se.ERROR,description:re,variant:"destructive"})}finally{s(!1)}},[N]);p.useEffect(()=>{T({silent:!0})},[T]);const _=p.useMemo(()=>{const L=m.trim().toLowerCase();return t.filter(F=>!L||F.name.toLowerCase().includes(L)||F.owner.toLowerCase().includes(L)||F.location.toLowerCase().includes(L))},[t,m]);p.useEffect(()=>{j(1)},[m]);const O=L=>new Date(L).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),R=L=>L==="active"?a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"}):a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng hot ng"}),D=Math.max(1,Math.ceil(_.length/x)),X=(Math.min(b,D)-1)*x,Y=_.slice(X,X+x);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Qun l nng tri"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Danh sch nng tri ca ngi dng"})]}),a.jsxs(dt,{className:"p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-1 sm:mb-2",children:"Danh sch nng tri"}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[r?"ang ti...":`Hin th ${_.length} / ${t.length} nng tri`,S&&a.jsxs("span",{className:"text-red-600",children:["  ",S]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-56 md:w-64",children:[a.jsx(ia,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"}),a.jsx(dn,{value:m,onChange:L=>g(L.target.value),placeholder:"Tm theo tn, ch s hu...",className:"pl-7 sm:pl-9 text-xs sm:text-sm"})]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>T(),disabled:r,className:"text-xs sm:text-sm",children:[a.jsx(Oa,{className:`h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-2 ${r?"animate-spin":""}`}),r?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:r?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left w-[18%]",children:"Tn nng tri"}),a.jsx(pe,{className:"text-left w-[15%]",children:"Ch s hu"}),a.jsx(pe,{className:"text-left w-[22%]",children:"a im"}),a.jsx(pe,{className:"text-left w-[8%]",children:"Din tch"}),a.jsx(pe,{className:"text-left w-[9%]",children:"Trng thi"}),a.jsx(pe,{className:"text-left w-[10%]",children:"Ngy to"}),a.jsx(pe,{className:"text-right w-[8%]",children:"L t"}),a.jsx(pe,{className:"text-right w-[10%]",children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((L,F)=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[18%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[15%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[22%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[8%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[9%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(je,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"text-right w-[8%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-12 ml-auto"})}),a.jsx(je,{className:"text-right w-[10%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 ml-auto"})})]},F))})]}):_.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left w-[18%]",children:"Tn nng tri"}),a.jsx(pe,{className:"text-left w-[15%]",children:"Ch s hu"}),a.jsx(pe,{className:"text-left w-[22%]",children:"a im"}),a.jsx(pe,{className:"text-left w-[9%]",children:"Trng thi"}),a.jsx(pe,{className:"text-left w-[10%]",children:"Ngy to"}),a.jsx(pe,{className:"text-right w-[8%]",children:"L t"}),a.jsx(pe,{className:"text-right w-[8%]",children:"Thao tc"})]})}),a.jsx(cn,{children:Y.map(L=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"font-medium min-h-[48px] w-[18%]",children:a.jsx("span",{className:"truncate max-w-[240px] text-gray-800 cursor-not-allowed",title:L.name,children:L.name})}),a.jsx(je,{className:"min-h-[48px] w-[15%]",children:a.jsx("div",{className:"truncate max-w-[200px]",title:L.owner,children:L.owner})}),a.jsx(je,{className:"min-h-[48px] w-[22%]",children:a.jsx("div",{className:"truncate max-w-[280px]",title:L.location,children:L.location})}),a.jsx(je,{className:"min-h-[48px] w-[9%]",children:R(L.status)}),a.jsx(je,{className:"text-sm min-h-[48px] w-[10%]",children:O(L.createdAt)}),a.jsxs(je,{className:"text-sm text-right min-h-[48px] w-[8%]",children:[o[L.id]??""," l"]}),a.jsx(je,{className:"text-right min-h-[48px] w-[10%]",children:a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>E(L.id),children:[a.jsx(xr,{className:"h-4 w-4 mr-2"}),"Xem v trng"]})})]},L.id))})]}),D>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",b,"/",D]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.max(1,L-1)),disabled:b<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.min(D,L+1)),disabled:b>=D,children:"Sau"})]})]})]}),a.jsxs("div",{className:"lg:hidden space-y-4",children:[Y.map(L=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[L.imageUrl&&a.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-full h-36 object-cover rounded mb-2"}),a.jsx("button",{onClick:()=>e(et.ADMIN_FARM_PROFILE.replace(":farmId",L.id)),className:"font-medium text-gray-900 truncate text-left text-blue-600 hover:text-blue-700 hover:underline",title:L.name,children:L.name}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",title:L.owner,children:["Ch s hu: ",L.owner]})]}),a.jsx("div",{className:"ml-2",children:R(L.status)})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{className:"truncate",title:L.location,children:[a.jsx("span",{className:"font-medium",children:"a im:"})," ",L.location]}),a.jsxs("div",{className:"flex gap-4 text-xs",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:"Din tch:"})," ",L.size]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",L.type]})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Ngy to:"})," ",O(L.createdAt)]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"S crop:"})," ",o[L.id]??""]}),a.jsx("div",{className:"pt-2",children:a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>E(L.id),children:[a.jsx(xr,{className:"h-4 w-4 mr-2"}),"Xem v trng"]})})]})]})},L.id)),D>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",b,"/",D]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.max(1,L-1)),disabled:b<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.min(D,L+1)),disabled:b>=D,children:"Sau"})]})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gR,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m?"Khng tm thy nng tri":"Cha c nng tri no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:m?"Th tm kim vi t kha khc":"Hin ti cha c nng tri no trong h thng"}),m&&a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>g(""),children:"Xa b lc"})]})})]})]})}function Uy(e){return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function Mi(e){return new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}function oae(e){switch(e){case"Draft":return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Bn nhp"});case"Pending":return a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"i xt duyt"});case"Rejected":return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:"B t chi"});case"Approved":return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"Chp nhn"});case"OnGoing":return a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:"ang din ra"});case"Completed":return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Hon thnh"});case"NoWinner":return a.jsx(De,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Khng ngi chin thng"});case"Cancelled":return a.jsx(De,{variant:"outline",className:"text-rose-600 border-rose-600",children:"Hy"});default:return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng xc nh"})}}function cae(){const{farmId:e}=gc(),t=br(),{toast:n}=In(),[r,s]=p.useState(null),[o,u]=p.useState([]),[d,f]=p.useState([]),[m,g]=p.useState(!0),[x,b]=p.useState(new Map),[j,S]=p.useState(null),[w,N]=p.useState(!1);return p.useEffect(()=>{(async()=>{if(e)try{g(!0);const A=await $t.getFarms();if(A.isSuccess&&A.data){const T=A.data.find(_=>_.id===e);if(T){s(T);const _=await $t.getCropsByFarmId(e);if(_.isSuccess&&_.data){const D=[];for(const B of _.data){const X=await $t.getHarvestsByCropId(B.id);let Y=X.isSuccess&&X.data?X.data:[],L;try{const ve=await $t.getCurrentHarvestByCropId(B.id);ve.isSuccess&&ve.data&&(L=ve.data)}catch{console.log(`Crop ${B.id} khng c current harvest`)}const F=[],re=new Map;for(const ve of Y)try{const H=await $t.getHarvestGradeDetailsByHarvestId(ve.id),I=H.isSuccess&&H.data?H.data.map(K=>({id:K.id,grade:K.grade?.toString(),quantity:K.quantity,unit:K.unit})):[];try{const K=await $t.getHarvestImagesByHarvestId(ve.id);K.isSuccess&&K.data&&re.set(ve.id,K.data)}catch(K){console.error(`Li ly images cho harvest ${ve.id}:`,K)}F.push({...ve,harvestGradeDetailDTOs:I})}catch(H){console.error(`Li ly grade detail cho harvest ${ve.id}:`,H),F.push(ve)}b(ve=>{const H=new Map(ve);return re.forEach((I,K)=>{H.set(K,I)}),H});const ye=F.sort((ve,H)=>{if(L){if(ve.id===L.id)return-1;if(H.id===L.id)return 1}return new Date(H.createdAt).getTime()-new Date(ve.createdAt).getTime()});D.push({...B,harvests:ye,currentHarvest:L})}u(D)}const O=["Pending","Approved","Rejected","OnGoing","Completed","NoWinner","Cancelled","Draft"],R=[];for(const D of O){const B=await lt.getEnglishAuctions(D,1,1e3);if(B.isSuccess&&B.data){const Y=(B.data.items||[]).filter(L=>L.farmerId===T.userId);for(const L of Y)try{const F=await cc.getReportsByAuctionId(L.id),re=F.isSuccess&&F.data?F.data.items:[];R.push({...L,reports:re})}catch(F){console.error(`Li ly reports cho auction ${L.id}:`,F),R.push({...L,reports:[]})}}}R.sort((D,B)=>new Date(B.createdAt).getTime()-new Date(D.createdAt).getTime()),f(R)}else n({title:se.ERROR,description:"Khng tm thy nng tri",variant:"destructive"}),t(et.ADMIN_FARMS)}}catch(A){const T=A instanceof Error?A.message:" xy ra li khi ti d liu";n({title:se.ERROR,description:T,variant:"destructive"})}finally{g(!1)}})()},[e,t,n]),m?a.jsx("div",{className:"mx-auto max-w-[1800px] p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(et.ADMIN_FARMS),className:"mb-4",children:[a.jsx(pc,{className:"w-4 h-4 mr-2"}),"Quay li"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"H S Nng Tri"})]}),a.jsx(dt,{className:"mb-6 p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[r.farmImage&&a.jsx("img",{src:r.farmImage,alt:r.name,className:"w-32 h-32 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(gR,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsx(De,{variant:"outline",className:r.isActive?"text-green-600 border-green-600":"text-gray-600 border-gray-600",children:r.isActive?"Hot ng":"Khng hot ng"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(xc,{className:"w-4 h-4"}),a.jsxs("span",{children:["User ID: ",r.userId]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Il,{className:"w-4 h-4"}),a.jsxs("span",{children:["Ngy to: ",Mi(r.createdAt)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Il,{className:"w-4 h-4"}),a.jsxs("span",{children:["Cp nht: ",r.updatedAt?Mi(r.updatedAt):"Cha cp nht"]})]})]}),(()=>{const E=d.filter(T=>T.status==="Completed"&&(T.winningPrice||T.currentPrice)),A=E.reduce((T,_)=>T+(_.winningPrice??_.currentPrice??0),0);return a.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fR,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Tng doanh thu t u gi"})]}),a.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:Je(A)}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["T ",E.length," phin u gi  hon tt"]})]})})()]})]})}),a.jsxs(dt,{className:"mb-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Hu,{className:"w-6 h-6 text-emerald-600"}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["L Trng (",o.length,")"]})]}),o.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c l trng no"}):a.jsx("div",{className:"space-y-6",children:o.map(E=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["L trng #",E.id.slice(0,8)]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Din tch:"})," ",E.area," m"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",E.custardAppleType]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"S cy:"})," ",E.treeCount]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian canh tc:"})," ",E.farmingDuration," ngy"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Ngy bt u:"})," ",Mi(E.startPlantingDate)]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"D kin thu hoch:"})," ",Mi(E.nearestHarvestDate)]})]}),E.note&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",E.note]})]})}),a.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(xR,{className:"w-5 h-5 text-blue-600"}),a.jsxs("h4",{className:"font-semibold text-gray-900",children:["V Thu Hoch (",E.harvests.length,")"]}),E.currentHarvest&&a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"C v hin ti"})]}),E.harvests.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c v thu hoch no"}):a.jsx("div",{className:"space-y-3",children:E.harvests.map(A=>{const T=E.currentHarvest?.id===A.id;return a.jsxs("div",{className:`p-4 rounded-lg border ${T?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Df,{className:`w-4 h-4 ${T?"text-green-600":"text-gray-600"}`}),a.jsx("span",{className:"font-semibold text-sm",children:T?"V hin ti":"V trc"}),T&&a.jsx(De,{variant:"outline",className:"text-xs text-green-600 border-green-600",children:"ang hot ng"})]}),a.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:[A.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm text-gray-700 mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy bt u:"}),a.jsx("span",{className:"ml-2",children:Mi(A.startDate)})]}),A.harvestDate&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy thu hoch:"}),a.jsx("span",{className:"ml-2",children:Mi(A.harvestDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Tng s lng:"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[A.totalQuantity," ",A.unit]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Gi bn:"}),a.jsx("span",{className:"ml-2 font-semibold text-green-600",children:Je(A.salePrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy to:"}),a.jsx("span",{className:"ml-2 text-xs",children:Uy(A.createdAt)})]}),A.updatedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Cp nht:"}),a.jsx("span",{className:"ml-2 text-xs",children:Uy(A.updatedAt)})]})]}),A.note&&a.jsxs("div",{className:"mb-3 p-2 bg-white rounded border border-gray-200",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Ghi ch:"}),a.jsx("p",{className:"text-sm text-gray-700 mt-1",children:A.note})]}),A.harvestGradeDetailDTOs&&A.harvestGradeDetailDTOs.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Chi tit phn loi:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:A.harvestGradeDetailDTOs.map((_,O)=>a.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Cp ",_.grade]}),a.jsxs(De,{variant:"outline",className:"text-xs",children:[_.quantity," ",_.unit]})]})},O))})]}),(()=>{const _=x.get(A.id)||[];return _.length===0?null:a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-base font-semibold text-gray-900",children:["Hnh nh (",_.length,"):"]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{S(A),N(!0)},className:"text-sm",children:[a.jsx(kf,{className:"w-4 h-4 mr-2"}),"Xem tt c"]})]}),a.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[_.slice(0,3).map(O=>a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("img",{src:O.imageUrl,alt:`Harvest ${A.id}`,className:"w-64 h-48 object-cover rounded-xl border-2 border-gray-200 hover:border-emerald-400 hover:shadow-xl transition-all cursor-pointer",onClick:()=>{S(A),N(!0)}}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-xl"})]},O.id)),_.length>3&&a.jsxs("div",{className:"w-64 h-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-gray-50 transition-all flex-shrink-0",onClick:()=>{S(A),N(!0)},children:[a.jsx(kf,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsxs("span",{className:"text-base font-semibold text-gray-600",children:["+",_.length-3]}),a.jsx("span",{className:"text-sm text-gray-500",children:"nh khc"})]})]})]})})()]},A.id)})})]})]},E.id))})]}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(db,{className:"w-6 h-6 text-emerald-600"}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Phin u Gi (",d.length,")"]})]}),(()=>{const A=d.filter(T=>T.status==="Completed"&&(T.winningPrice||T.currentPrice)).reduce((T,_)=>T+(_.winningPrice??_.currentPrice??0),0);return A>0?a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tng doanh thu"}),a.jsx("p",{className:"text-xl font-bold text-emerald-600",children:Je(A)})]}):null})()]}),d.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c phin u gi no"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(E=>a.jsx(dt,{className:"p-4 hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-emerald-300",onClick:()=>t(et.ADMIN_AUCTIONS_BY_ID.replace(":id",E.id)),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate mb-1",children:E.sessionCode}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:E.note||"Khng c ghi ch"})]}),oae(E.status)]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi khi im"}),a.jsx("span",{className:"text-sm font-bold text-blue-700",children:Je(E.startingPrice)})]}),E.currentPrice&&a.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi hin ti"}),a.jsx("span",{className:"text-sm font-bold text-green-700",children:Je(E.currentPrice)})]}),E.winningPrice&&a.jsxs("div",{className:"flex items-center justify-between p-2 bg-amber-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi thng"}),a.jsx("span",{className:"text-sm font-bold text-amber-700",children:Je(E.winningPrice)})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ngy bt u:"}),a.jsx("span",{className:"font-medium",children:Mi(E.publishDate)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ngy kt thc:"}),a.jsx("span",{className:"font-medium",children:Mi(E.endDate)})]}),E.reports.length>0&&a.jsxs("div",{className:"flex items-center gap-1 pt-1",children:[a.jsx(mR,{className:"w-3 h-3 text-orange-600"}),a.jsxs("span",{className:"text-orange-600 font-medium",children:[E.reports.length," bo co"]})]})]}),a.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[a.jsxs(oe,{size:"sm",variant:"outline",onClick:A=>{A.stopPropagation(),t(et.ADMIN_AUCTIONS_BY_ID.replace(":id",E.id))},className:"text-xs",children:[a.jsx(xr,{className:"w-3 h-3 mr-1"}),"Xem chi tit"]}),E.status==="Completed"&&(E.winningPrice||E.currentPrice)&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Doanh thu"}),a.jsx("p",{className:"text-sm font-bold text-emerald-600",children:Je(E.winningPrice??E.currentPrice??0)})]})]})]})},E.id))})]}),a.jsx(Zt,{open:w,onOpenChange:N,children:a.jsxs(Gt,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto p-6",children:[a.jsx(Jt,{className:"mb-4 pb-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Vt,{className:"text-lg font-semibold text-gray-900",children:["Hnh nh thu hoch",j&&a.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(Ngy bt u: ",Mi(j.startDate),")"]})]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>N(!1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:a.jsx(Xl,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"mt-4",children:j?(()=>{const E=x.get(j.id)||[];return E.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((A,T)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden rounded-lg border border-gray-200 bg-gray-50 hover:border-emerald-400 transition-all shadow-sm hover:shadow-lg",children:a.jsx("img",{src:A.imageUrl,alt:`Harvest image ${T+1}`,className:"w-full h-full object-contain p-2"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-lg pointer-events-none"}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:Uy(A.createdAt)})})]},A.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c hnh nh no cho v thu hoch ny."})]})})():a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti..."})]})})]})})]}):a.jsx("div",{className:"mx-auto max-w-[1800px] p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy nng tri"})})})}function uae(){const[e,t]=iR(),[n,r]=p.useState([]),[s,o]=p.useState([]),[u,d]=p.useState(!1),[f,m]=p.useState(null),[g,x]=p.useState(""),b=10,[j,S]=p.useState(1),[w,N]=p.useState(null),[E,A]=p.useState([]),[T,_]=p.useState(!1),[O,R]=p.useState(!1),[D,B]=p.useState(null),[X,Y]=p.useState(null),[L,F]=p.useState(null),{toast:re}=In(),ye=p.useCallback(async({silent:V=!1}={})=>{B(null);try{const U=await $t.getFarms();if(U.isSuccess&&U.data){const M=U.data.map(W=>({id:W.id,name:W.name,owner:"Cha cp nht",location:"Cha cp nht",size:"Cha cp nht",type:"Cha cp nht",status:W.isActive?"active":"inactive",createdAt:W.createdAt,imageUrl:W.farmImage}));r(M),V||re({title:se.SUCCESS,description:Cl.FETCH_SUCCESS})}else{const M=U.message||Cl.FETCH_ERROR;B(M),re({title:se.ERROR,description:M,variant:"destructive"})}}catch(U){const M=U instanceof Error?U.message:Cl.FETCH_ERROR;B(M),re({title:se.ERROR,description:M,variant:"destructive"})}},[re]),ve=p.useCallback(async(V,{silent:U=!1}={})=>{d(!0),Y(null);try{const M=V?n.filter($=>$.id===V):n;if(M.length===0){o([]),U||re({title:se.INFO,description:ef.NO_FARM_SELECTED});return}const W=[];for(const $ of M)try{const J=await $t.getCropsByFarmId($.id);if(J.isSuccess&&J.data){const G=J.data.map(z=>({id:z.id,name:`${z.custardAppleType} (${z.treeCount} cy)`,type:z.custardAppleType,area:`${z.area}`,plantedAt:z.startPlantingDate,expectedHarvestAt:z.nearestHarvestDate,status:"growing",description:z.note||void 0,treeCount:z.treeCount,farmingDuration:z.farmingDuration,farmId:$.id,farmName:$.name}));W.push(...G)}}catch(J){console.error(`Li khi ti cy trng ca nng tri ${$.name}:`,J),re({title:se.INFO,description:`${ef.PARTIAL_ERROR} (${$.name})`})}o(W),U||re({title:se.SUCCESS,description:ef.FETCH_SUCCESS})}catch(M){const W=M instanceof Error?M.message:ef.FETCH_ERROR;Y(W),re({title:se.ERROR,description:W,variant:"destructive"})}finally{d(!1)}},[n,re]);p.useEffect(()=>{ye({silent:!0})},[ye]),p.useEffect(()=>{if(n.length>0){const V=e.get("farmId");V&&(n.some(M=>M.id===V)?m(V):t({}))}},[n,e,t]),p.useEffect(()=>{n.length>0&&ve(f||void 0,{silent:!0})},[n,f,ve]);const H=V=>new Date(V).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),I=V=>V==="growing"?a.jsx(De,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:"ang sinh trng"}):V==="harvested"?a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:" thu hoch"}):V==="paused"?a.jsx(De,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Tm dng"}):null,K=V=>{m(V),S(1),t(V?{farmId:V}:{})},de=async V=>{N(V),R(!0),_(!0),F(null);try{const U=await $t.getHarvestsByCropId(V.id);U.isSuccess&&U.data?(A(U.data),re({title:se.SUCCESS,description:Wx.FETCH_SUCCESS})):(A([]),re({title:se.INFO,description:Wx.FETCH_ERROR}))}catch(U){const M=U instanceof Error?U.message:Wx.FETCH_ERROR;console.error("Li khi ti danh sch thu hoch:",U),A([]),F(M),re({title:se.ERROR,description:M,variant:"destructive"})}finally{_(!1)}},Se=()=>{R(!1),N(null),A([])},P=V=>V?new Date(V).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",q=f?s.filter(V=>V.farmId===f):s,ee=p.useMemo(()=>{const V=g.trim().toLowerCase();return q.filter(U=>!V||U.name.toLowerCase().includes(V)||U.farmName.toLowerCase().includes(V)||U.type.toLowerCase().includes(V)||U.description&&U.description.toLowerCase().includes(V))},[q,g]);p.useEffect(()=>{S(1)},[g,f]);const ue=Math.max(1,Math.ceil(ee.length/b)),ae=(Math.min(j,ue)-1)*b,ne=ee.slice(ae,ae+b);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"L trng"}),a.jsx("p",{className:"text-base text-gray-600",children:"Danh sch l trng ca cc nng tri"})]}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch l trng"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[u?"ang ti...":`Hin th ${ee.length} / ${s.length} l trng`,X&&a.jsxs("span",{className:"text-red-600",children:["  ",X]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(dn,{value:g,onChange:V=>x(V.target.value),placeholder:"Tm theo tn, nng tri, loi...",className:"pl-9"})]}),a.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>ve(f||void 0),disabled:u||n.length===0,children:[a.jsx(Oa,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),u?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${f?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:f||"",onChange:V=>{K(V.target.value||null),S(1)},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${f?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Tt c nng tri"}),n.map(V=>{const U=s.filter(M=>M.farmId===V.id).length;return a.jsxs("option",{value:V.id,children:[V.name," (",U,")"]},V.id)})]}),a.jsx(Um,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${f?"text-emerald-600":"text-gray-400"}`})]})}),D&&a.jsx("p",{className:"text-xs text-red-600 mt-2",children:D})]}),a.jsx("div",{className:"overflow-x-auto",children:u?a.jsx("div",{className:"min-w-[1000px]",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left w-[22%] min-w-[200px]",children:"L trng"}),a.jsx(pe,{className:"text-left w-[26%] min-w-[220px]",children:"Thng tin"}),a.jsx(pe,{className:"text-left hidden lg:table-cell w-[14%] min-w-[110px]",children:"Gieo trng"}),a.jsx(pe,{className:"text-left hidden xl:table-cell w-[14%] min-w-[130px]",children:"D kin thu hoch"}),a.jsx(pe,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(pe,{className:"text-right w-[14%] min-w-[120px] whitespace-nowrap",children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((V,U)=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[22%]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-24"})]})}),a.jsx(je,{className:"w-[26%]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse hidden md:block"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse hidden md:block w-32"})]})}),a.jsx(je,{className:"hidden lg:table-cell w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"hidden xl:table-cell w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(je,{className:"text-right w-[14%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-20 ml-auto"})})]},U))})]})}):ee.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-w-[900px]",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left w-[22%] min-w-[200px]",children:"L trng"}),a.jsx(pe,{className:"text-left w-[26%] min-w-[220px]",children:"Thng tin"}),a.jsx(pe,{className:"text-left hidden lg:table-cell w-[14%] min-w-[110px]",children:"Gieo trng"}),a.jsx(pe,{className:"text-left hidden xl:table-cell w-[14%] min-w-[130px]",children:"D kin thu hoch"}),a.jsx(pe,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(pe,{className:"text-right w-[14%] min-w-[120px] whitespace-nowrap",children:"Thao tc"})]})}),a.jsx(cn,{children:ne.map(V=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"min-h-[48px] w-[22%]",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:V.name}),a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:V.farmName})]})}),a.jsx(je,{className:"text-sm min-h-[48px] w-[26%]",children:a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{children:["Din tch: ",a.jsxs("span",{className:"font-medium",children:[V.area," m"]})]}),a.jsxs("div",{className:"hidden md:block",children:["S cy: ",a.jsx("span",{className:"font-medium",children:V.treeCount??""})]}),a.jsxs("div",{className:"hidden md:block text-xs text-gray-500",children:["Thi gian canh tc: ",V.farmingDuration?`${V.farmingDuration} ngy`:""]}),V.description&&a.jsxs("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:V.description,children:["M t: ",V.description]})]})}),a.jsx(je,{className:"text-sm min-h-[36px] hidden lg:table-cell w-[14%]",children:H(V.plantedAt)}),a.jsx(je,{className:"text-sm min-h-[36px] hidden xl:table-cell w-[14%]",children:H(V.expectedHarvestAt)}),a.jsx(je,{className:"min-h-[48px] w-[10%]",children:I(V.status)}),a.jsx(je,{className:"text-right min-h-[48px] min-w-[120px] whitespace-nowrap w-[14%]",children:a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>de(V),children:[a.jsx(xr,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Chi tit"})]})})]},V.id))})]})}),ue>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",j,"/",ue]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>S(V=>Math.max(1,V-1)),disabled:j<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>S(V=>Math.min(ue,V+1)),disabled:j>=ue,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g||f?"Khng tm thy v trng":"Cha c v trng no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:g||f?"Th tm kim vi t kha khc hoc chn nng tri khc":"Hin ti cha c v trng no trong h thng"}),(g||f)&&a.jsxs("div",{className:"flex gap-2 justify-center",children:[g&&a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>x(""),children:"Xa tm kim"}),f&&a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>K(null),children:"Xa b lc"})]})]})})]}),a.jsx(Zt,{open:O,onOpenChange:R,children:a.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Vt,{children:["Danh sch thu hoch - ",w?.name]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:Se,className:"h-6 w-6 p-0",children:a.jsx(Xl,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"mt-4",children:[L&&a.jsx("p",{className:"text-sm text-red-600 text-center mb-3",children:L}),T?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"ang ti danh sch thu hoch..."}):E.length>0?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[18%] min-w-[120px]",children:"Ngy bt u"}),a.jsx(pe,{className:"w-[18%] min-w-[120px]",children:"Ngy thu hoch"}),a.jsx(pe,{className:"w-[14%] min-w-[100px]",children:"S lng"}),a.jsx(pe,{className:"w-[10%] min-w-[80px]",children:"n v"}),a.jsx(pe,{className:"w-[16%] min-w-[120px]",children:"Gi bn"}),a.jsx(pe,{className:"w-[24%] min-w-[200px]",children:"Ghi ch"})]})}),a.jsx(cn,{children:E.map(V=>a.jsxs(at,{children:[a.jsx(je,{className:"text-xs w-[18%]",children:P(V.startDate)}),a.jsx(je,{className:"text-xs w-[18%]",children:V.harvestDate?P(V.harvestDate):a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Cha thu hoch"})}),a.jsx(je,{className:"text-xs w-[14%]",children:V.totalQuantity}),a.jsx(je,{className:"text-xs w-[10%]",children:V.unit}),a.jsx(je,{className:"text-xs w-[16%]",children:V.salePrice>0?Je(V.salePrice):""}),a.jsx(je,{className:"text-xs text-gray-600 w-[24%]",children:V.note||""})]},V.id))})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Cha c d liu thu hoch."})]})]})})]})}function dae(){const[e,t]=p.useState(1),[n,r]=p.useState([]),[s,o]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState({name:"",description:""}),[g,x]=p.useState(!1),[b,j]=p.useState(!1),[S,w]=p.useState(null),[N,E]=p.useState({name:"",description:""}),[A,T]=p.useState(!1),[_,O]=p.useState(null),[R,D]=p.useState(!1),[B,X]=p.useState(""),[Y,L]=p.useState(null),{toast:F}=In(),re=5,ye=p.useCallback(async({silent:V=!1}={})=>{o(!0),L(null);try{const U=await $t.getCustardAppleTypes();if(U.isSuccess&&U.data)r(U.data),V||F({title:se.SUCCESS,description:ja.FETCH_SUCCESS});else{const M=U.message||ja.FETCH_ERROR;L(M),F({title:se.ERROR,description:M,variant:"destructive"})}}catch(U){const M=U instanceof Error?U.message:ja.FETCH_ERROR;L(M),F({title:se.ERROR,description:M,variant:"destructive"})}finally{o(!1)}},[F]);p.useEffect(()=>{ye({silent:!0})},[ye]);const ve=p.useMemo(()=>{const V=B.trim().toLowerCase();return V?n.filter(U=>U.name.toLowerCase().includes(V)||(U.description||"").toLowerCase().includes(V)):n},[n,B]);p.useEffect(()=>{t(1)},[B]);const H=()=>m({name:"",description:""}),I=()=>{H(),d(!0)},K=(V,U)=>{m(M=>({...M,[V]:U}))},de=()=>{H(),d(!1)},Se=async()=>{if(!(!f.name.trim()||g)){x(!0);try{const V={name:f.name.trim(),description:f.description?.trim()||void 0},U=await $t.createCustardAppleType(V);if(U.isSuccess){await ye();const M=Math.max(1,Math.ceil((n.length+1)/re));t(M),de(),F({title:se.SUCCESS,description:ja.CREATE_SUCCESS})}else{const M=U.message||ja.CREATE_ERROR;F({title:se.ERROR,description:M,variant:"destructive"})}}catch(V){const U=V instanceof Error?V.message:ja.CREATE_ERROR;F({title:se.ERROR,description:U,variant:"destructive"})}finally{x(!1)}}},P=V=>{w(V.id),E({name:V.name,description:V.description||""}),j(!0)},q=()=>{j(!1),w(null),E({name:"",description:""})},ee=(V,U)=>{E(M=>({...M,[V]:U}))},ue=async()=>{if(!(!S||!N.name.trim()||A)){T(!0);try{const V={name:N.name.trim(),description:N.description?.trim()||void 0},U=await $t.updateCustardAppleType(S,V);if(U.isSuccess)await ye(),q(),F({title:se.SUCCESS,description:ja.UPDATE_SUCCESS});else{const M=U.message||ja.UPDATE_ERROR;F({title:se.ERROR,description:M,variant:"destructive"})}}catch(V){const U=V instanceof Error?V.message:ja.UPDATE_ERROR;F({title:se.ERROR,description:U,variant:"destructive"})}finally{T(!1)}}},we=V=>O(V),ae=async()=>{if(!(!_||R)){D(!0);try{const V=await $t.deleteCustardAppleType(_.id);if(V.isSuccess){await ye();const U=n.length-1,M=Math.max(1,Math.ceil(U/re));e>M&&t(Math.max(1,M)),S===_.id&&q(),O(null),F({title:se.SUCCESS,description:ja.DELETE_SUCCESS})}else{const U=V.message||ja.DELETE_ERROR;F({title:se.ERROR,description:U,variant:"destructive"})}}catch(V){const U=V instanceof Error?V.message:ja.DELETE_ERROR;F({title:se.ERROR,description:U,variant:"destructive"})}finally{D(!1)}}},ne=()=>O(null);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l loi mng cu"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"To v cp nht danh mc phc v cc quy trnh nng tri."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(dn,{value:B,onChange:V=>X(V.target.value),placeholder:"Tm theo tn hoc m t",className:"pl-9"})]}),!u&&a.jsx(oe,{onClick:I,children:"Thm loi mng cu"})]})]}),a.jsxs(dt,{className:"card-responsive",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch loi mng cu"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[s?"ang ti...":`C ${ve.length} loi`,Y?`  Li: ${Y}`:""]})]}),u&&a.jsx(oe,{variant:"outline",onClick:de,disabled:g,children:"Hy thm mi"})]}),u&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn loi"}),a.jsx(dn,{value:f.name,onChange:V=>K("name",V.target.value),placeholder:"V d: Mng cu B en"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(er,{rows:2,value:f.description,onChange:V=>K("description",V.target.value),placeholder:"c im ni bt, lu  canh tc, bo qun..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:de,disabled:g,children:"Hy"}),a.jsx(oe,{onClick:Se,disabled:g,children:g?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:s?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[30%] min-w-[160px] text-left",children:"Tn"}),a.jsx(pe,{className:"w-[50%] min-w-[240px] text-left",children:"M t"}),a.jsx(pe,{className:"text-right w-[20%] min-w-[140px]",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:3}).map((V,U)=>a.jsxs(at,{children:[a.jsx(je,{className:"py-5 w-[30%]",children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{className:"py-5 w-[50%]",children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{className:"py-5 text-right w-[20%]",children:a.jsx("div",{className:"ml-auto h-4 w-24 animate-pulse rounded bg-gray-200"})})]},U))})]}):ve.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[30%] min-w-[160px] text-left",children:"Tn"}),a.jsx(pe,{className:"w-[50%] min-w-[240px] text-left",children:"M t"}),a.jsx(pe,{className:"text-right w-[20%] min-w-[140px]",children:"Thao tc"})]})}),a.jsx(cn,{children:(()=>{const V=Math.max(1,Math.ceil(ve.length/re)),M=(Math.min(e,V)-1)*re;return ve.slice(M,M+re).map($=>a.jsxs(at,{children:[a.jsx(je,{className:"font-medium w-[30%]",children:$.name}),a.jsx(je,{className:"text-sm text-gray-600 w-[50%]",children:$.description||""}),a.jsx(je,{className:"text-right w-[20%]",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(oe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>P($),children:[a.jsx(qu,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(oe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>we($),children:[a.jsx(Jy,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},$.id))})()})]}),(()=>{if(ve.length<=re)return null;const V=Math.max(1,Math.ceil(ve.length/re)),U=e>1,M=e<V;return a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",e,"/",V]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>t(W=>Math.max(1,W-1)),disabled:!U,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>t(W=>Math.min(V,W+1)),disabled:!M,children:"Sau"})]})]})})()]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(vR,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c loi mng cu no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm loi mi  bt u phn loi sn phm cho h thng."}),a.jsx(oe,{onClick:I,children:"Thm loi u tin"})]})})]}),a.jsx(Zt,{open:b,onOpenChange:V=>{V||q()},children:a.jsxs(Gt,{className:"max-w-lg",children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Chnh sa loi mng cu"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"edit-custard-name",children:"Tn loi"}),a.jsx("input",{id:"edit-custard-name",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",value:N.name,onChange:V=>ee("name",V.target.value),placeholder:"Tn loi mng cu"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"edit-custard-description",children:"M t"}),a.jsx("textarea",{id:"edit-custard-description",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",rows:3,value:N.description,onChange:V=>ee("description",V.target.value),placeholder:"Cp nht thng tin m t, ghi ch..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:q,disabled:A,children:"Hy"}),a.jsx(oe,{onClick:ue,disabled:A,children:A?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Zt,{open:!!_,onOpenChange:V=>{V||ne()},children:a.jsxs(Gt,{className:"max-w-sm",children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Xa loi mng cu"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa loi mng cu ",a.jsx("span",{className:"font-semibold text-gray-900",children:_?.name}),"? Thao tc ny khng th hon tc."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:ne,disabled:R,children:"Hy"}),a.jsx(oe,{variant:"destructive",onClick:ae,disabled:R,children:R?"ang xa...":"Xa"})]})]})})]})}function hae(){const[e,t]=p.useState([]),[n,r]=p.useState(!1),s=5,[o,u]=p.useState(1),[d,f]=p.useState(null),[m,g]=p.useState([]),[x,b]=p.useState([]),[j,S]=p.useState(!1),[w,N]=p.useState(!1),[E,A]=p.useState(!1),T=async()=>{r(!0);try{const F=await $t.getHarvests();F.isSuccess&&F.data&&t(F.data)}catch(F){console.error("Li khi ti danh sch thu hoch:",F)}finally{r(!1)}};p.useEffect(()=>{T()},[]);const _=F=>F?new Date(F).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",O=async F=>{f(F),A(!0),S(!0),N(!0);try{const[re,ye]=await Promise.all([$t.getHarvestGradeDetailsByHarvestId(F.id),$t.getHarvestImagesByHarvestId(F.id).catch(()=>({isSuccess:!1,data:[]}))]);re.isSuccess&&re.data?g(re.data):g([]),ye.isSuccess&&ye.data?b(ye.data):b([])}catch(re){console.error("Li khi ti chi tit thu hoch:",re),g([]),b([])}finally{S(!1),N(!1)}},R=()=>{A(!1),f(null),g([]),b([])},D=e,B=Math.max(1,Math.ceil(D.length/s)),X=Math.min(o,B),Y=(X-1)*s,L=D.slice(Y,Y+s);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thu hoch"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Danh sch tt c cc v thu hoch"})]}),a.jsxs(dt,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch thu hoch"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:["C ",D.length," v thu hoch trong h thng"]})]}),a.jsx("div",{className:"overflow-x-auto",children:n?a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch thu hoch..."}):D.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[17%] min-w-[140px]",children:"Ngy bt u"}),a.jsx(pe,{className:"w-[17%] min-w-[140px]",children:"Ngy thu hoch"}),a.jsx(pe,{className:"w-[12%] min-w-[100px]",children:"S lng"}),a.jsx(pe,{className:"w-[10%] min-w-[80px]",children:"n v"}),a.jsx(pe,{className:"w-[14%] min-w-[120px]",children:"Gi bn"}),a.jsx(pe,{className:"w-[15%] min-w-[150px]",children:"Ghi ch"}),a.jsx(pe,{className:"w-[15%] min-w-[150px] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:L.map(F=>a.jsxs(at,{children:[a.jsx(je,{className:"text-xs w-[17%]",children:_(F.startDate)}),a.jsx(je,{className:"text-xs w-[17%]",children:F.harvestDate?_(F.harvestDate):a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Cha thu hoch"})}),a.jsx(je,{className:"text-xs w-[12%]",children:F.totalQuantity}),a.jsx(je,{className:"text-xs w-[10%]",children:F.unit}),a.jsx(je,{className:"text-xs w-[14%]",children:F.salePrice>0?Je(F.salePrice):""}),a.jsx(je,{className:"text-xs text-gray-600 w-[15%]",children:F.note||""}),a.jsx(je,{className:"text-right w-[15%]",children:a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>O(F),className:"text-xs",children:"Xem chi tit"})})]},F.id))})]}),D.length>s&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",X,"/",B]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>u(F=>Math.max(1,F-1)),disabled:X<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>u(F=>Math.min(B,F+1)),disabled:X>=B,children:"Sau"})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c d liu thu hoch."})})]}),a.jsx(Zt,{open:E,onOpenChange:A,children:a.jsxs(Gt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Vt,{children:["Chi tit phn loi thu hoch",d&&a.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(Ngy bt u: ",_(d.startDate),")"]})]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:R,className:"h-6 w-6 p-0",children:a.jsx(Xl,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Chi tit phn loi"}),j?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"ang ti chi tit phn loi..."}):m.length>0?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[20%] min-w-[100px]",children:"Cp "}),a.jsx(pe,{className:"w-[20%] min-w-[120px]",children:"S lng"}),a.jsx(pe,{className:"w-[15%] min-w-[80px]",children:"n v"}),a.jsx(pe,{className:"w-[45%] min-w-[200px]",children:"Ngy to"})]})}),a.jsx(cn,{children:m.map(F=>a.jsxs(at,{children:[a.jsx(je,{className:"text-xs w-[20%]",children:a.jsxs(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:["Cp ",F.grade]})}),a.jsx(je,{className:"text-xs w-[20%]",children:F.quantity}),a.jsx(je,{className:"text-xs w-[15%]",children:F.unit}),a.jsx(je,{className:"text-xs w-[45%]",children:_(F.createdAt)})]},F.id))})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Cha c d liu phn loi thu hoch."})]}),d&&a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Hnh nh (",x.length,")"]}),w?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti hnh nh..."})]}):x.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map((F,re)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden rounded-lg border border-gray-200 bg-gray-50 hover:border-emerald-400 transition-all shadow-sm hover:shadow-lg",children:a.jsx("img",{src:F.imageUrl,alt:`Harvest image ${re+1}`,className:"w-full h-full object-contain p-2"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-lg pointer-events-none"}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:_(F.createdAt)})})]},F.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kf,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c hnh nh no cho v thu hoch ny."})]})]})]})]})})]})}const $y=[{id:"ORD001",farm:"Nng tri A",customer:"Nguyn Vn A",total:15e4,status:"pending",createdAt:"2024-01-15T10:30:00Z",auctionId:"AUC-001",auctionTitle:"Phin u gi nng sn tun 45",winnerName:"Nguyn Vn A",payment:{depositPaid:!0,depositAmount:3e4,remainingPaid:!1,remainingAmount:12e4},farmerBank:{bankName:"Vietcombank",accountName:"Nguyen Van A",accountNumber:"0123456789"},buyerBank:{bankName:"Techcombank",accountName:"Le Thi B",accountNumber:"9876543210"},messages:[{from:"buyer",content:"Ti mun xc nhn thi gian giao hng d kin?",time:"2024-01-15T11:00:00Z"},{from:"farmer",content:"D kin ngy 18/01, ti s lin h shipper.",time:"2024-01-15T11:10:00Z"}]},{id:"ORD002",farm:"Nng tri B",customer:"Trn Th B",total:2e5,status:"confirmed",createdAt:"2024-01-14T14:20:00Z",auctionId:"AUC-002",auctionTitle:"u gi c bit cui thng",winnerName:"i l D",payment:{depositPaid:!0,depositAmount:5e4,remainingPaid:!0,remainingAmount:15e4},farmerBank:{bankName:"ACB",accountName:"Tran Thi B",accountNumber:"111222333"},buyerBank:{bankName:"VietinBank",accountName:"Cong ty D",accountNumber:"333222111"},messages:[{from:"buyer",content:"Hng nhn , cm n.",time:"2024-01-21T09:00:00Z"},{from:"farmer",content:"Cm n  ng h.",time:"2024-01-21T09:10:00Z"}]},{id:"ORD003",farm:"Nng tri C",customer:"L Vn C",total:3e5,status:"delivered",createdAt:"2024-01-13T09:15:00Z",auctionId:"AUC-003",auctionTitle:"Phin u gi s 3",winnerName:"Nh bn l E",payment:{depositPaid:!0,depositAmount:6e4,remainingPaid:!0,remainingAmount:24e4},farmerBank:{bankName:"MB Bank",accountName:"Le Van C",accountNumber:"555666777"},buyerBank:{bankName:"BIDV",accountName:"Nha ban le E",accountNumber:"777666555"},messages:[{from:"farmer",content:"n  giao thnh cng.",time:"2024-01-16T16:00:00Z"}],complaint:{by:"buyer",content:"Mt s tri b dp, mong h tr.",time:"2024-01-16T17:00:00Z"}}];function fae(){const[e,t]=p.useState(null),[n,r]=p.useState(!1),s=g=>{t(g),r(!0)},o=()=>{r(!1),t(null)},u=(g,x)=>{const b=x==="farmer"?g.farmerBank:g.buyerBank;if(!b)return;const j=`Ngn hng: ${b.bankName}
Ch TK: ${b.accountName}
S TK: ${b.accountNumber}`;navigator&&navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(j).catch(()=>{})},d=g=>new Date(g).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),f=g=>Je(g),m=g=>g==="pending"?a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch xc nhn"}):g==="confirmed"?a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:" xc nhn"}):g==="shipping"?a.jsx(De,{variant:"outline",className:"text-purple-600 border-purple-600",children:"ang giao"}):g==="delivered"?a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:" giao"}):g==="cancelled"?a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:" hy"}):a.jsx(De,{variant:"outline",children:"Unknown"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Qun l n hng"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Danh sch n hng ca cc nng tri"})]}),a.jsxs(dt,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold text-gray-900 mb-2",children:"Danh sch n hng"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:["C ",$y.length," n hng trong h thng"]})]}),a.jsxs("div",{className:"overflow-x-hidden",children:[a.jsx("div",{className:"hidden md:block",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[8%]",children:"M"}),a.jsx(pe,{className:"w-[14%]",children:"Nng tri"}),a.jsx(pe,{className:"w-[14%]",children:"Khch hng"}),a.jsx(pe,{className:"w-[10%]",children:"Tng"}),a.jsx(pe,{className:"w-[10%]",children:"Trng thi"}),a.jsx(pe,{className:"w-[10%]",children:"Ngy"}),a.jsx(pe,{className:"w-[12%]",children:"Cc"}),a.jsx(pe,{className:"w-[12%]",children:"Cn li"}),a.jsx(pe,{className:"w-[10%] text-right",children:" "})]})}),a.jsx(cn,{children:$y.map(g=>a.jsxs(at,{children:[a.jsx(je,{className:"font-mono text-xs w-[8%]",children:g.id}),a.jsx(je,{className:"w-[14%]",children:a.jsx("div",{className:"truncate max-w-[160px]",title:g.farm,children:g.farm})}),a.jsx(je,{className:"w-[14%]",children:a.jsx("div",{className:"truncate max-w-[160px]",title:g.customer,children:g.customer})}),a.jsx(je,{className:"font-medium text-xs w-[10%]",children:f(g.total)}),a.jsx(je,{className:"w-[10%]",children:m(g.status)}),a.jsx(je,{className:"text-xs w-[10%]",children:d(g.createdAt)}),a.jsx(je,{className:"w-[12%]",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-default select-none whitespace-nowrap text-xs",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${g.payment.depositPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-700",children:g.payment.depositPaid?" cc":"Cha cc"}),a.jsxs("span",{className:"hidden lg:inline text-gray-500",children:[" ",f(g.payment.depositAmount)]})]})}),a.jsx(je,{className:"w-[12%]",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-default select-none whitespace-nowrap text-xs",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${g.payment.remainingPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-700",children:g.payment.remainingPaid?" TT":"Cha TT"}),a.jsxs("span",{className:"hidden lg:inline text-gray-500",children:[" ",f(g.payment.remainingAmount)]})]})}),a.jsx(je,{className:"text-right whitespace-nowrap w-[10%]",children:a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>s(g),className:"h-7 px-2 text-xs",children:"Xem chi tit"})})]},g.id))})]})}),a.jsx("div",{className:"md:hidden space-y-3",children:$y.map(g=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",title:g.id,children:g.id}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",title:g.customer,children:["Khch hng: ",g.customer]})]}),a.jsx("div",{className:"ml-2",children:m(g.status)})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Nng tri:"}),a.jsx("span",{className:"truncate max-w-[150px]",title:g.farm,children:g.farm})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Tng tin:"}),a.jsx("span",{className:"font-medium text-green-600",children:f(g.total)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Cc:"}),a.jsxs("span",{className:"text-xs",children:[g.payment.depositPaid?" cc":"Cha cc","  ",f(g.payment.depositAmount)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Cn li:"}),a.jsxs("span",{className:"text-xs",children:[g.payment.remainingPaid?" TT":"Cha TT","  ",f(g.payment.remainingAmount)]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Ngy to:"})," ",d(g.createdAt)]}),a.jsx("div",{className:"pt-2 text-right",children:a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>s(g),children:"Xem chi tit"})})]})]})},g.id))})]})]}),n&&e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:o}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Chi tit n hng  ",e.id]}),a.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-gray-100",children:a.jsx(Xl,{className:"w-5 h-5 text-gray-600"})})]}),a.jsxs("div",{className:"p-5 space-y-5 max-h-[80vh] overflow-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Nng tri:"})," ",a.jsx("span",{className:"font-medium",children:e.farm})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Khch hng:"})," ",a.jsx("span",{className:"font-medium",children:e.customer})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tng tin:"})," ",a.jsx("span",{className:"font-medium text-green-600",children:f(e.total)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-500",children:"Trng thi:"})," ",m(e.status)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy to:"})," ",a.jsx("span",{className:"font-medium",children:d(e.createdAt)})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thng tin phin u gi"}),e.auctionId?a.jsxs("div",{className:"text-sm text-gray-700 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"M phin:"})," ",a.jsx("span",{className:"font-medium",children:e.auctionId})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-gray-500",children:"Tiu :"})," ",a.jsx("span",{className:"font-medium",children:e.auctionTitle})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngi thng:"})," ",a.jsx("span",{className:"font-medium",children:e.winnerName})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"n hng khng lin kt phin u gi."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thanh ton"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${e.payment.depositPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-500",children:"Cc:"}),a.jsx("span",{className:"font-medium",children:e.payment.depositPaid?" cc":"Cha cc"}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("span",{className:"font-medium",children:f(e.payment.depositAmount)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${e.payment.remainingPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-500",children:"Cn li:"}),a.jsx("span",{className:"font-medium",children:e.payment.remainingPaid?" thanh ton":"Cha thanh ton"}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("span",{className:"font-medium",children:f(e.payment.remainingAmount)})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Phn hi gia nng tri v ngi mua"}),e.messages&&e.messages.length>0?a.jsx("div",{className:"space-y-2 text-sm",children:e.messages.map((g,x)=>a.jsxs("div",{className:"border rounded p-2 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[a.jsx("span",{className:"font-medium",children:g.from==="farmer"?"Nng tri":"Ngi mua"}),a.jsx("span",{children:""}),a.jsx("span",{children:d(g.time)})]}),a.jsx("div",{className:"text-gray-800",children:g.content})]},x))}):a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c phn hi."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Khiu ni"}),e.complaint?a.jsxs("div",{className:"text-sm text-gray-700 border rounded p-3 bg-orange-50",children:[a.jsxs("div",{className:"mb-1 text-xs text-gray-600",children:["Bn khiu ni: ",a.jsx("span",{className:"font-medium",children:e.complaint.by==="farmer"?"Nng tri":"Ngi mua"}),"  ",d(e.complaint.time)]}),a.jsx("div",{className:"whitespace-pre-wrap",children:e.complaint.content})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c khiu ni."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thng tin chuyn khon"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Nng tri"}),e.farmerBank?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:["Ngn hng: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.bankName})]}),a.jsxs("div",{children:["Ch TK: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.accountName})]}),a.jsxs("div",{children:["S TK: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.accountNumber})]}),a.jsx(oe,{size:"sm",className:"mt-2",onClick:()=>u(e,"farmer"),children:"Sao chp thng tin"})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Cha c thng tin."})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Ngi mua"}),e.buyerBank?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:["Ngn hng: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.bankName})]}),a.jsxs("div",{children:["Ch TK: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.accountName})]}),a.jsxs("div",{children:["S TK: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.accountNumber})]}),a.jsx(oe,{size:"sm",className:"mt-2",onClick:()=>u(e,"buyer"),children:"Sao chp thng tin"})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Cha c thng tin."})]})]})]})]}),a.jsx("div",{className:"p-4 border-t flex justify-end",children:a.jsx(oe,{variant:"outline",onClick:o,children:"ng"})})]})]})]})}function mae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Qun l sn phm"})}function gae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Qun l n v vn chuyn"})}function pae({open:e,onOpenChange:t,children:n}){return a.jsxs("div",{role:"dialog","aria-modal":"true",className:zt("fixed inset-0 z-50 flex min-h-full items-center justify-center px-4 py-6 transition-all duration-200",e?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-md transition-opacity",onClick:()=>t(!1)}),a.jsx("div",{className:"relative z-10 w-full max-w-lg",children:n})]})}const C4=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:zt("rounded-3xl border border-white/30 bg-white/95 p-7 shadow-[0_30px_80px_rgba(15,118,110,0.18)] backdrop-blur-2xl","animate-in fade-in-0 zoom-in-95",e),...t}));C4.displayName="AlertDialogContent";const xae=({className:e,...t})=>a.jsx("div",{className:zt("space-y-2 text-center sm:text-left",e),...t}),A4=p.forwardRef(({className:e,...t},n)=>a.jsx("h2",{ref:n,className:zt("text-2xl font-bold tracking-tight text-slate-900",e),...t}));A4.displayName="AlertDialogTitle";const T4=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:zt("text-sm text-slate-500",e),...t}));T4.displayName="AlertDialogDescription";const _4=p.forwardRef(({className:e,...t},n)=>a.jsx(oe,{ref:n,variant:"outline",className:zt("w-full sm:w-auto",e),...t}));_4.displayName="AlertDialogCancel";const yae=p.forwardRef(({className:e,...t},n)=>a.jsx(oe,{ref:n,className:zt("w-full sm:w-auto",e),...t}));yae.displayName="AlertDialogAction";function Og({isOpen:e,onOpenChange:t,onConfirm:n,title:r,description:s,actionLabel:o,actionVariant:u,isLoading:d=!1,children:f}){const[m,g]=p.useState(!1),x=async()=>{g(!0);try{await n(),t(!1)}catch(w){console.error(w)}finally{g(!1)}},j=(()=>{switch(u){case"approve":return{icon:Ra,bgColor:"bg-emerald-600 hover:bg-emerald-700",borderColor:"border-emerald-200",textColor:"text-emerald-900",lightBg:"bg-emerald-50"};case"reject":return{icon:li,bgColor:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200",textColor:"text-red-900",lightBg:"bg-red-50"};case"pending":return{icon:zu,bgColor:"bg-amber-600 hover:bg-amber-700",borderColor:"border-amber-200",textColor:"text-amber-900",lightBg:"bg-amber-50"};default:return{icon:yL,bgColor:"bg-gray-600 hover:bg-gray-700",borderColor:"border-gray-200",textColor:"text-gray-900",lightBg:"bg-gray-50"}}})(),S=j.icon;return a.jsx(pae,{open:e,onOpenChange:t,children:a.jsxs(C4,{className:"max-w-md",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 mx-auto rounded-full ${j.lightBg}`,children:a.jsx(S,{className:`w-6 h-6 ${j.textColor}`})}),a.jsxs(xae,{className:"text-center",children:[a.jsx(A4,{className:"text-lg font-semibold",children:r}),a.jsx(T4,{className:"text-sm leading-relaxed mt-2",children:s})]}),f&&a.jsx("div",{className:"mt-4 space-y-3",children:f}),a.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[a.jsx(_4,{disabled:m||d,className:"px-4 py-2 font-medium",onClick:()=>{!m&&!d&&t(!1)},children:"Hy"}),a.jsx("button",{onClick:x,disabled:m||d,className:`${j.bgColor} text-white px-4 py-2 rounded-md font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:m||d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"ang x l..."]}):a.jsxs(a.Fragment,{children:[a.jsx(S,{className:"w-4 h-4"}),o]})})]})]})})}function j_(e){return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function vae(e){switch(e){case"Draft":return a.jsx(De,{variant:"outline",className:"text-slate-600 border-slate-300 bg-slate-50",children:"Bn nhp"});case"Pending":return a.jsx(De,{variant:"outline",className:"text-amber-700 border-amber-300 bg-amber-50",children:"Ch duyt"});case"Rejected":return a.jsx(De,{variant:"outline",className:"text-rose-700 border-rose-300 bg-rose-50",children:"T chi"});case"Approved":return a.jsx(De,{variant:"outline",className:"text-emerald-700 border-emerald-300 bg-emerald-50",children:" duyt"});case"OnGoing":return a.jsx(De,{variant:"outline",className:"text-sky-700 border-sky-300 bg-sky-50",children:"ang din ra"});case"Pause":return a.jsx(De,{variant:"outline",className:"text-orange-700 border-orange-300 bg-orange-50",children:"Tm dng"});case"Completed":return a.jsx(De,{variant:"outline",className:"text-indigo-700 border-indigo-300 bg-indigo-50",children:"Hon thnh"});case"NoWinner":return a.jsx(De,{variant:"outline",className:"text-fuchsia-700 border-fuchsia-300 bg-fuchsia-50",children:"Khng c ngi thng"});case"Cancelled":return a.jsx(De,{variant:"outline",className:"text-gray-700 border-gray-300 bg-gray-50",children:" hu"});default:return a.jsx(De,{variant:"outline",className:"text-slate-600 border-slate-300 bg-slate-50",children:"Khng xc nh"})}}function bae(){const e=br(),[t,n]=p.useState("all"),[r,s]=p.useState([]),[o,u]=p.useState(1),[d]=p.useState(10),[f,m]=p.useState(0),[g,x]=p.useState(0),[b,j]=p.useState(!1),[S,w]=p.useState(""),{toast:N}=In(),[E,A]=p.useState(""),[T,_]=p.useState(null),[O,R]=p.useState(""),[D,B]=p.useState("0"),[X,Y]=p.useState({}),[L,F]=p.useState({isOpen:!1,auctionId:null,actionType:null}),[re,ye]=p.useState({all:0,Draft:0,Pending:0,Rejected:0,Approved:0,OnGoing:0,Pause:0,Completed:0,NoWinner:0,Cancelled:0}),ve=p.useCallback(async({silent:M=!1}={})=>{j(!0);try{let W=[],$=0,J=0;const G=await $t.getFarms();if(!G.isSuccess||!G.data)throw new Error("Khng th ti danh sch nng tri");const z=G.data;if(t==="all"){const Q=["Pending","Approved","Rejected","OnGoing","Pause","Completed","NoWinner","Cancelled"],ie=await Promise.all(Q.map(ze=>lt.getEnglishAuctions(ze,1,1e3)));W=[],ie.forEach(ze=>{if(ze.isSuccess&&ze.data){const Ze=ze.data.items.map(mt=>{const it=z.find(Ue=>Ue.userId===mt.farmerId);return{...mt,farmName:it?it.name:"Unknown",farmId:it?it.id:void 0,uiStatus:mt.status,verified:!1}});W.push(...Ze),$+=ze.data.totalCount}});const Ce=(o-1)*d,Ve=Ce+d,nt=W.slice(Ce,Ve);J=Math.ceil(W.length/d),s(nt),m(J),x($)}else{const Q=await lt.getEnglishAuctions(t,o,d);if(Q.isSuccess&&Q.data){const ie=Q.data.items.map(Ce=>{const Ve=z.find(nt=>nt.userId===Ce.farmerId);return{...Ce,farmName:Ve?Ve.name:"Unknown",farmId:Ve?Ve.id:void 0,uiStatus:Ce.status,verified:!1}});s(ie),m(Q.data.totalPages),x(Q.data.totalCount)}else{const ie=Q.message||Et.FETCH_ERROR;N({title:se.ERROR,description:ie,variant:"destructive"});return}}M||N({title:se.SUCCESS,description:Et.FETCH_SUCCESS})}catch(W){const $=W instanceof Error?W.message:Et.FETCH_ERROR;console.error("Error fetching auctions:",W),N({title:se.ERROR,description:$,variant:"destructive"})}finally{j(!1)}},[o,d,t,N]);p.useEffect(()=>{ve({silent:!0})},[ve]);const H=p.useCallback(async()=>{const M=["all","Pending","Approved","Rejected","OnGoing","Pause","Completed","Draft","NoWinner","Cancelled"];try{const W=await Promise.all(M.map(async $=>{const J=await lt.getEnglishAuctions($==="all"?void 0:$,1,1),G=J.data,z=J.isSuccess&&G?G.totalCount:G?.items?.length??0;return[$,z]}));ye(Object.fromEntries(W))}catch(W){console.error("Khng th ti s lng phin theo trng thi:",W)}},[]);p.useEffect(()=>{H()},[H]),CP(()=>{ve({silent:!0}),H()},3e4,!0,!1);const I=p.useCallback(async M=>{try{const W=M.map(async G=>{try{const z=await lt.getAuctionExtendsByAuctionId(G);return z.isSuccess&&z.data?[G,z.data]:[G,[]]}catch(z){return console.error(`Error fetching extends for auction ${G}:`,z),[G,[]]}}),$=await Promise.all(W),J=Object.fromEntries($);Y(G=>({...G,...J}))}catch(W){console.error("Error fetching auction extends:",W)}},[]);p.useEffect(()=>{if(r.length>0){const W=r.map($=>$.id).filter($=>!X[$]);W.length>0&&I(W)}},[r,X,I]);const K=p.useCallback(M=>(X[M]||[]).reduce(($,J)=>$+J.extendDurationInMinutes,0),[X]),de=(M,W)=>{W==="pause"&&(A(""),_(null),R("")),W==="resume"&&B("0"),F({isOpen:!0,auctionId:M,actionType:W})},Se=async()=>{if(!L.auctionId||!L.actionType)return;if(L.actionType==="pause"){if(!T)throw N({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"}),new Error("PAUSE_REASON_CATEGORY_REQUIRED");if(T!=="other"&&!O)throw N({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_SPECIFIC_REQUIRED");const $=E.trim();if(!$)throw N({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_REQUIRED");try{const J=await lt.pauseEnglishAuction({auctionId:L.auctionId,reason:$});if(J.isSuccess)s(G=>G.map(z=>z.id===L.auctionId?{...z,status:"Pause",uiStatus:"Pause"}:z)),N({title:se.SUCCESS,description:Et.PAUSE_SUCCESS}),H(),ve({silent:!0});else{const G=J.message||Et.PAUSE_ERROR;N({title:se.ERROR,description:G,variant:"destructive"})}}catch(J){const G=J instanceof Error?J.message:Et.PAUSE_ERROR;throw console.error(J),N({title:se.ERROR,description:G,variant:"destructive"}),J}return}if(L.actionType==="resume"){const $=Math.max(0,Number(D)||0);try{const J=await lt.resumeEnglishAuction({auctionId:L.auctionId,extendMinute:$});if(J.isSuccess){if(s(G=>G.map(z=>z.id===L.auctionId?{...z,status:"OnGoing",uiStatus:"OnGoing"}:z)),L.auctionId)try{const G=await lt.getAuctionExtendsByAuctionId(L.auctionId);G.isSuccess&&G.data&&Y(z=>({...z,[L.auctionId]:G.data||[]}))}catch(G){console.error("Error refreshing auction extends:",G)}N({title:se.SUCCESS,description:Et.RESUME_SUCCESS}),H(),ve({silent:!0})}else{const G=J.message||Et.RESUME_ERROR;N({title:se.ERROR,description:G,variant:"destructive"})}}catch(J){const G=J instanceof Error?J.message:Et.RESUME_ERROR;throw console.error(J),N({title:se.ERROR,description:G,variant:"destructive"}),J}return}const W={approve:"Approved",reject:"Rejected",pending:"Pending",stop:"Completed",cancel:"Cancelled"}[L.actionType];try{const $=await lt.updateEnglishAuctionStatus(L.auctionId,W);if($.isSuccess)s(J=>J.map(G=>G.id===L.auctionId?{...G,status:W,uiStatus:W}:G)),N({title:se.SUCCESS,description:Et.STATUS_UPDATE_SUCCESS}),H(),ve({silent:!0});else{const J=$.message||Et.STATUS_UPDATE_ERROR;N({title:se.ERROR,description:J,variant:"destructive"}),H()}}catch($){const J=$ instanceof Error?$.message:Et.STATUS_UPDATE_ERROR;throw console.error($),N({title:se.ERROR,description:J,variant:"destructive"}),H(),$}},q=L.actionType?{approve:{title:"Xc nhn duyt phin u gi",description:"Bn c chc chn mun duyt phin u gi ny? Phin s c kch hot v c sn cho ngi dng.",actionLabel:"Duyt",variant:"approve"},reject:{title:"Xc nhn t chi phin u gi",description:"Bn c chc chn mun t chi phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"T chi",variant:"reject"},pending:{title:'t phin u gi v trng thi "i xt duyt"',description:'Bn c chc chn mun t li phin ny v trng thi "i xt duyt"?',actionLabel:"Xc nhn",variant:"pending"},stop:{title:"Xc nhn dng phin u gi",description:"Bn c chc chn mun dng phin u gi ny? Phin s kt thc ngay lp tc.",actionLabel:"Dng",variant:"reject"},cancel:{title:"Xc nhn hy phin u gi",description:"Bn c chc chn mun hy phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"Hy",variant:"reject"},pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s tm thi b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) v m li phin u gi.",actionLabel:"Tip tc",variant:"approve"}}[L.actionType]:null,ee=M=>{if(M){F(W=>({...W,isOpen:M}));return}F({isOpen:!1,auctionId:null,actionType:null}),A(""),_(null),R(""),B("0")},ue={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},we=(()=>{if(L.actionType==="pause"){const M=T,W=M&&M!=="other"?ue[M].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(ue).map(([$,J],G)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-category",value:$,checked:T===$,onChange:()=>{_($),R(""),A("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[G+1,". ",J.title]})})]})},$)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-category",value:"other",checked:T==="other",onChange:()=>{_("other"),R(""),A("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),M&&M!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:W.map(($,J)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-specific",value:$,checked:O===$,onChange:()=>{R($);const G=ue[M].title;A(`${G}: ${$}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:$})})]})},J))})]}),M==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(er,{id:"pause-reason",rows:3,value:E,onChange:$=>A($.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do tm dng s c ghi nhn trong lch s hot ng ca phin."})]})}return L.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"resume-extend",children:"Gia hn thm (pht)"}),a.jsx(dn,{id:"resume-extend",type:"number",min:0,value:D,onChange:M=>B(M.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"t 0 nu khng mun gia hn thi gian."})]}):null})(),ae=[{key:"all",label:"Tt c"},{key:"Pending",label:"i xt duyt"},{key:"Approved",label:" duyt"},{key:"Rejected",label:"T chi"},{key:"OnGoing",label:"ang din ra"},{key:"Pause",label:"Tm dng"}],ne=[{key:"Completed",label:"Hon thnh"},{key:"NoWinner",label:"Khng ngi chin thng"},{key:"Cancelled",label:"Hy"}],V=p.useMemo(()=>{const M=S.trim().toLowerCase();return r.filter(W=>!M||W.sessionCode.toLowerCase().includes(M)||W.farmName.toLowerCase().includes(M)||W.note.toLowerCase().includes(M)).sort((W,$)=>{const J=new Date(W.createdAt).getTime();return new Date($.createdAt).getTime()-J})},[r,S]),U=p.useMemo(()=>{if(t==="all"){const M=re.all??0,W=re.Draft??0;return Math.max(0,M-W)}return re[t]??0},[re,t]);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6 space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Qun l phin u gi"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Theo di danh sch phin, ph duyt hoc t chi."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-56 md:w-64",children:[a.jsx(ia,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"}),a.jsx(dn,{value:S,onChange:M=>w(M.target.value),placeholder:"Tm theo m phin hoc nng tri",className:"pl-7 sm:pl-9 text-xs sm:text-sm"})]}),a.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>ve(),disabled:b,className:"text-xs sm:text-sm",children:b?"ang ti...":"Lm mi"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[ae.map(M=>{const W=M.key==="all"?re.all??0:re[M.key]??0;return a.jsxs("button",{type:"button",onClick:()=>{n(M.key),u(1)},className:`rounded-xl sm:rounded-2xl border px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold transition ${t===M.key?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[M.label," ",a.jsx("span",{className:"ml-1 sm:ml-2 rounded-full bg-white px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs",children:W})]},M.key)}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${ne.find(M=>M.key===t)?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:ne.find(M=>M.key===t)?t:"",onChange:M=>{M.target.value?(n(M.target.value),u(1)):(n("all"),u(1))},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${ne.find(M=>M.key===t)?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Lc thm..."}),ne.map(M=>{const W=re[M.key]??0;return a.jsxs("option",{value:M.key,children:[M.label," (",W,")"]},M.key)})]}),a.jsx(Um,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${ne.find(M=>M.key===t)?"text-emerald-600":"text-gray-400"}`})]})]})]}),a.jsxs(dt,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch phin u gia"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:b?"ang ti...":`Hin th ${V.length} / ${U||g} phin`})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Trang ",o,"/",f||1]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[10%] whitespace-nowrap text-left",children:"M phin"}),a.jsx(pe,{className:"hidden md:table-cell w-[15%] whitespace-nowrap text-left",children:"Nng tri"}),a.jsx(pe,{className:"hidden md:table-cell w-[12%] whitespace-nowrap text-left",children:"Bt u"}),a.jsx(pe,{className:"hidden md:table-cell w-[12%] whitespace-nowrap text-left",children:"Kt thc"}),a.jsx(pe,{className:"w-[10%] text-left",children:"Trng thi"}),a.jsx(pe,{className:"w-[18%] text-left",children:"Thao tc"}),a.jsx(pe,{className:"w-[5%] text-left",children:" "})]})}),a.jsx(cn,{children:V.map(M=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[10%] font-mono text-xs whitespace-nowrap text-left",children:M.sessionCode}),a.jsx(je,{className:"w-[15%] text-xs truncate hidden md:table-cell text-left",children:M.farmName}),a.jsx(je,{className:"w-[12%] text-xs hidden md:table-cell whitespace-nowrap text-left",children:j_(M.publishDate)}),a.jsx(je,{className:"w-[12%] text-xs hidden md:table-cell text-left",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"whitespace-nowrap",children:j_(M.endDate)}),K(M.id)>0&&a.jsxs("span",{className:"text-green-600 text-xs mt-0.5",children:["(+",K(M.id)," pht)"]})]})}),a.jsx(je,{className:"w-[10%] text-left",children:vae(M.uiStatus)}),a.jsxs(je,{className:"w-[18%]",children:[M.uiStatus==="Pending"&&a.jsxs("div",{className:"flex gap-1.5 flex max-w-[180px]",children:[a.jsx(oe,{size:"sm",onClick:()=>de(M.id,"approve"),className:"bg-emerald-600 hover:bg-emerald-700 text-white flex-1 min-w-[90px] text-xs",children:" Duyt"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>de(M.id,"reject"),className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 flex-1 min-w-[90px] text-xs",children:" Khng duyt"})]}),M.uiStatus==="OnGoing"&&a.jsxs("div",{className:"flex gap-1.5 justify-start flex-wrap",children:[a.jsxs(oe,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-white",onClick:()=>de(M.id,"pause"),children:[a.jsx(Ll,{className:"w-4 h-4 mr-1.5"}),"Tm dng"]}),a.jsx(oe,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",onClick:()=>de(M.id,"cancel"),children:" Hy"})]}),M.uiStatus==="Pause"&&a.jsxs("div",{className:"flex gap-1.5 justify-start flex-wrap",children:[a.jsxs(oe,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>de(M.id,"resume"),children:[a.jsx(Bl,{className:"w-4 h-4 mr-1.5"}),"Tip tc"]}),a.jsx(oe,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>de(M.id,"cancel"),children:" Hy"})]}),M.uiStatus!=="Pending"&&M.uiStatus!=="OnGoing"&&M.uiStatus!=="Pause"&&a.jsx("span",{className:"text-sm text-gray-400",children:""})]}),a.jsx(je,{className:"w-[5%] text-left",children:a.jsx(oe,{size:"sm",variant:"outline",className:"text-xs px-2 py-1",onClick:()=>e(et.ADMIN_AUCTIONS_BY_ID.replace(":id",M.id)),children:"Chi tit"})})]},M.id))})]}),f>1&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm px-4",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",o,"/",f]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>u(M=>Math.max(1,M-1)),disabled:o<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>u(M=>Math.min(f,M+1)),disabled:o>=f,children:"Sau"})]})]})]})]}),q&&a.jsx(Og,{isOpen:L.isOpen,onOpenChange:ee,onConfirm:Se,title:q.title,description:q.description,actionLabel:q.actionLabel,actionVariant:q.variant,children:we})]})}function w_(e){return e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}function jae(e){return e?new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-"}function wae(e){switch(e){case"Draft":return a.jsx(De,{className:"bg-gray-100 text-gray-700",children:"Bn nhp"});case"Pending":return a.jsx(De,{className:"bg-yellow-100 text-yellow-700",children:"i xt duyt"});case"Rejected":return a.jsx(De,{className:"bg-red-100 text-red-700",children:"B t chi"});case"Approved":return a.jsx(De,{className:"bg-green-100 text-green-700",children:"Chp nhn"});case"OnGoing":return a.jsx(De,{className:"bg-blue-100 text-blue-700",children:"ang din ra"});case"Pause":return a.jsx(De,{className:"bg-amber-100 text-amber-700",children:"ang tm dng"});case"Completed":return a.jsx(De,{className:"bg-gray-100 text-gray-700",children:"Hon thnh"});case"NoWinner":return a.jsx(De,{className:"bg-orange-100 text-orange-700",children:"Khng c ngi chin thng"});case"Cancelled":return a.jsx(De,{className:"bg-rose-100 text-rose-700",children:"Hy"});default:return a.jsx(De,{className:"bg-gray-100 text-gray-700",children:"Khng xc nh"})}}function Bd({auction:e,farmName:t,totalExtendMinutes:n=0,priceChanged:r=!1}){const[s,o]=p.useState(!1),[u,d]=p.useState(e.currentPrice??null),[f,m]=p.useState(e.currentPrice??null);return p.useEffect(()=>{const g=e.currentPrice??null;if(g!==u&&g!==null&&u!==null){m(u),o(!0),d(g);const x=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(x)}else g!==u&&g!==null&&d(g)},[e.currentPrice,u]),p.useEffect(()=>{if(r){o(!0);const g=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(g)}},[r]),a.jsx(dt,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 overflow-hidden",children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-5 mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-blue-600 mb-2",children:"M phin"}),a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-3",children:e.sessionCode}),e.note&&a.jsxs("p",{className:"text-sm text-gray-600 max-w-3xl whitespace-nowrap",children:["Ghi ch: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.note})]})]}),wae(e.status)]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fR,{className:"w-5 h-5 text-green-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Gi Khi im"})]}),a.jsx("p",{className:"text-lg font-extrabold text-gray-900 whitespace-nowrap",children:Je(e.startingPrice,{unit:"VND"})})]}),a.jsxs("div",{className:`bg-white rounded-2xl p-4 border transition-all duration-500 ${s?"border-green-400 bg-green-50 shadow-lg shadow-green-200/50":"border-blue-100"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Us,{className:`w-5 h-5 transition-colors duration-300 ${s?"text-green-600":"text-blue-600"}`}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Gi Hin Ti"})]}),a.jsx("p",{className:`text-lg font-extrabold whitespace-nowrap transition-all duration-500 ${s?"scale-110 drop-shadow-lg":"text-gray-900 scale-100"}`,style:s?{animation:"priceUpdate 1.5s ease-in-out"}:{},children:u!=null?Je(u):e.currentPrice!==void 0&&e.currentPrice!==null?Je(e.currentPrice):"-"}),s&&f!==null&&u!==null&&u>f&&a.jsxs("div",{className:"mt-1 text-xs font-semibold text-green-600 opacity-0 animate-in fade-in duration-300",children:[" +",Je(u-f)]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(TB,{className:"w-5 h-5 text-orange-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Bc Gi"})]}),a.jsx("p",{className:"text-lg font-extrabold text-gray-900 whitespace-nowrap",children:Je(e.minBidIncrement)})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(zu,{className:"w-5 h-5 text-teal-600"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Bt u"})]}),a.jsx("p",{className:"text-base font-bold text-gray-900",children:w_(e.publishDate)})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Il,{className:"w-5 h-5 text-purple-600"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Kt Thc"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-base font-bold text-gray-900",children:w_(e.endDate)}),n>0&&a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["(+",n," pht)"]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Fu,{className:"w-5 h-5 text-indigo-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Nng Tri"})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900 truncate whitespace-nowrap",children:t})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-base",children:[a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Mua ngay: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.enableBuyNow?Je(e.buyNowPrice):"Khng"})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Chng cht gi cui: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.enableAntiSniping?`C (+${e.antiSnipingExtensionSeconds} giy)`:"Khng"})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"D thu hoch: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:jae(e.expectedHarvestDate)})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Tng lng d kin: "}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[e.expectedTotalQuantity," kg"]})]})})]})]})})}const N_=e=>{if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?"--":t.toLocaleDateString("vi-VN")};function Nae({harvests:e,farm:t,cropsById:n={},currentHarvestByCropId:r={}}){return e.length===0?a.jsx(dt,{children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Df,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Khng c l hng"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(QL,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"L Hng / Ma V"}),a.jsxs(De,{variant:"outline",className:"ml-2 px-3 py-1 border-blue-200 text-blue-700",children:[e.length," l"]})]}),a.jsx("div",{className:"grid gap-6",children:e.map((s,o)=>{const u=n[s.cropID],d=r[s.cropID],f=s.harvestGradeDetailDTOs??[],m=f.reduce((g,x)=>g+(x.quantity??0),0);return a.jsxs(dt,{className:"overflow-hidden border border-gray-200",children:[a.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-700 font-bold text-lg",children:["#",o+1]}),a.jsx("div",{children:a.jsxs("p",{className:"text-xl font-bold text-blue-700",children:["LOT-",s.id.slice(0,8).toUpperCase()]})})]}),s.note&&a.jsxs("div",{className:"flex items-start gap-2 pl-14",children:[a.jsx(Hi,{className:"h-3.5 w-3.5 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-500",children:s.note})]})]}),a.jsx("div",{className:"flex items-center gap-4 sm:gap-6",children:a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs mb-1",children:[a.jsx(Il,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:"Ngy bt u"})]}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(s.startDate).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})})]})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[minmax(0,58%)_minmax(0,42%)]",children:[a.jsxs("div",{className:"relative rounded-lg border border-emerald-200 bg-emerald-50/30 p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:a.jsx(Pu,{className:"h-5 w-5 text-emerald-600"})}),a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-emerald-700",children:"Thng tin trang tri"})]}),t?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Pu,{className:"h-4 w-4 text-emerald-600 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tn trang tri"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.name})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(fB,{className:"h-4 w-4 text-emerald-600 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Trng thi"}),a.jsx(De,{variant:"outline",className:t.isActive?"border-emerald-300 text-emerald-700 bg-emerald-50":"border-gray-300 text-gray-500 bg-gray-50",children:t.isActive?"ang hot ng":"Tm ngng"})]})]})]}):a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(Pu,{className:"h-4 w-4"}),"Khng c thng tin trang tri"]})]}),a.jsxs("div",{className:"relative rounded-lg border border-amber-200 bg-amber-50/30 p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:a.jsx(Hu,{className:"h-5 w-5 text-amber-600"})}),a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-amber-700",children:"Thng tin cy trng"})]}),u?a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-[repeat(auto-fit,minmax(200px,1fr))]",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Loi mng cu"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.custardAppleType||"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Din tch"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.area?`${u.area.toLocaleString("vi-VN")} m`:"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"S cy"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.treeCount?.toLocaleString("vi-VN")??"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Thi gian canh tc"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.farmingDuration?`${u.farmingDuration} ngy`:"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Ngy trng"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:N_(d?.startDate??u.startPlantingDate)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Ngy thu hoch"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:N_(d?.harvestDate||"--")})]})]}):a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(Hu,{className:"h-4 w-4"}),"Khng c thng tin cy trng"]})]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white overflow-hidden",children:[a.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:a.jsx(oR,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-blue-700",children:"Chi tit phn hng"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"S lng tng loi ca l hng"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 bg-white rounded-lg px-4 py-2.5 border border-blue-200",children:[a.jsx(Df,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Tng sn lng"}),a.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[m.toLocaleString("vi-VN")," ",f[0]?.unit??""]})]})]})]})}),f.length>0?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:f.map(g=>a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1.5",children:"Phn loi"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:g.grade||""})]}),a.jsx(De,{variant:"outline",className:"px-3 py-1.5 text-xs font-semibold rounded-full border-blue-300 text-blue-700 bg-blue-50 whitespace-nowrap",children:g.unit||"--"})]}),a.jsx("div",{className:"pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Sn lng"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.quantity?.toLocaleString("vi-VN")??0})]}),a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:g.unit})]})})]},g.id??g.grade))})}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Df,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c d liu phn hng cho l hng ny."})]})]})]})]},s.id)})})]})}function Sae({data:e=[],currentPrice:t=0,startingPrice:n=0}){const[r,s]=p.useState(!1);p.useEffect(()=>{s(!0)},[]);const o=Date.now(),u=e.length>0?e:[{time:o-1,price:n,label:"Bt u",fullTime:"Bt u"},{time:o,price:t||n,label:"Hin ti",fullTime:"Hin ti"}],d=u.length>0?Math.max(...u.map(j=>j.time)):null;p.useEffect(()=>{console.log("[PriceChart] Chart data updated:",u.length,"points",u),console.log("[PriceChart] Current price:",t,"Starting price:",n)},[u.length,t,n,e.length]);const m=(()=>{if(u.length===0)return t-n;if(e.length>0){const E=e[0]?.price??n,A=e.map(_=>_.price);return(A.length>0?Math.max(...A):t)-E}const j=u.filter(E=>E.label!=="Bt u"),S=j.length>0?j[0]?.price:n,w=u.map(E=>E.price);return(w.length>0?Math.max(...w):t)-S})(),g=t-n,x=n!==0?(g/n*100).toFixed(1):"0.0",b=Je(Math.abs(g));return r?a.jsx(dt,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Us,{className:"w-5 h-5 text-blue-600"}),"Biu  Gi"]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Thay i:"}),a.jsxs("span",{className:`text-lg font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:[g>0?"+":g<0?"-":"",b," (",x,"%)"]})]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 w-full",style:{height:"320px",minHeight:"320px"},children:a.jsx(pd,{width:"100%",height:300,children:a.jsxs(NP,{data:u,margin:{top:5,right:30,left:0,bottom:5},children:[a.jsx(Dd,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Md,{dataKey:"time",type:"number",scale:"time",stroke:"#9ca3af",style:{fontSize:"12px"},domain:["dataMin","dataMax"],tickFormatter:j=>new Date(j).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}),a.jsx(Pd,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:["dataMin - 1000","dataMax + 1000"]}),a.jsx(Rd,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelFormatter:(j,S)=>{const w=S&&S[0]?.payload,N=d!==null&&w?.time===d,E=S&&S[0]?.payload?.fullTime;if(E&&!N)return E;let A=null;if(w?.time)A=new Date(w.time);else{const T=typeof j=="number"?j:Number(j);!isNaN(T)&&T>0&&(A=new Date(T))}if(A&&!isNaN(A.getTime())){const T=String(A.getDate()).padStart(2,"0"),_=String(A.getMonth()+1).padStart(2,"0"),O=A.getFullYear();if(N)return`${T}/${_}/${O}`;const R=String(A.getHours()).padStart(2,"0"),D=String(A.getMinutes()).padStart(2,"0"),B=String(A.getSeconds()).padStart(2,"0");return`${R}:${D}:${B} ${T}/${_}/${O}`}return String(j||"")},formatter:(j,S,w)=>{const N=typeof j=="number"?j:Number(j)||0,E=w?.payload?.durationLabel,A=E?` (${E})`:"";return[`${Je(N)}${A}`,"Gi"]},labelStyle:{color:"#1f2937"}}),a.jsx(vw,{type:"stepAfter",dataKey:"price",name:"Gi u",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,strokeWidth:2,stroke:"#3b82f6",fill:"#fff"},activeDot:{r:6}})]})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center border border-blue-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Khi im"}),a.jsx("p",{className:"text-lg font-bold text-blue-700",children:Je(n)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center border border-green-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Hin Ti"}),a.jsx("p",{className:"text-lg font-bold text-green-700",children:Je(t)})]}),a.jsxs("div",{className:`rounded-lg p-3 text-center border ${m>=0?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Mc Gi  Tng Trong Ngy"}),a.jsxs("p",{className:`text-lg font-bold ${m>=0?"text-orange-700":"text-red-700"}`,children:[m>0?"+":"",Je(m)]})]})]})]})}):a.jsx(dt,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("div",{children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Us,{className:"w-5 h-5 text-blue-600"}),"Biu  Gi"]})})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 h-80 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"ang ti biu ..."})})]})})}const zy=`${zm.replace(/\/+$/,"")}/api/messaging-service/hubs/global`;class Eae{connection=null;currentAuctionId=null;isConnecting=!1;handlers={};lastProcessedBidId=null;lastProcessedBidTime=0;lastProcessedBuyNowId=null;lastProcessedBuyNowTime=0;getToken(){return typeof window>"u"?null:localStorage.getItem("authToken")}async connect(t,n){if(this.connection&&this.currentAuctionId===t){this.handlers=n,this.registerHandlers();return}this.connection&&await this.disconnect();const r=this.getToken();if(!r){console.warn("[SignalR] No auth token found, cannot connect");return}this.currentAuctionId=t,this.isConnecting=!0,this.handlers=n,console.log("[SignalR] Connecting to hub:",zy,"for auction:",t),this.connection=new PR().withUrl(zy,{transport:Mn.LongPolling,accessTokenFactory:()=>r??""}).withAutomaticReconnect([0,2e3,5e3,1e4]).configureLogging(_e.Information).build(),this.registerHandlers(),this.connection.onreconnected(()=>{console.log("[SignalR] Reconnected, resubscribing to auction:",this.currentAuctionId),this.currentAuctionId&&this.subscribeToAuction(this.currentAuctionId).catch(console.error)});try{await this.connection.start(),console.log("[SignalR] Connected successfully"),await this.subscribeToAuction(t)}catch(s){throw console.error("[SignalR] Failed to connect to hub:",s),console.error("[SignalR] Hub URL was:",zy),console.error("[SignalR] Error details:",s instanceof Error?s.message:String(s)),s}finally{this.isConnecting=!1}}registerHandlers(){if(this.connection){if(this.connection.off("BidPlaced"),this.connection.off("bidplaced"),this.connection.off("BuyNow"),this.connection.off("buynow"),this.connection.off("NewNotification"),this.connection.off("SystemNotification"),this.handlers.bidPlaced){const t=n=>{const r=Date.now();if(this.lastProcessedBidId===n.bidId&&r-this.lastProcessedBidTime<200){console.log("[SignalR] Duplicate BidPlaced event ignored:",n.bidId,"Time diff:",r-this.lastProcessedBidTime,"ms");return}this.lastProcessedBidId=n.bidId,this.lastProcessedBidTime=r,console.log("[SignalR] Received BidPlaced event:",n),this.handlers.bidPlaced?.(n)};this.connection.on("BidPlaced",t),this.connection.on("bidplaced",t)}if(this.handlers.buyNow){const t=n=>{const r=Date.now();if(this.lastProcessedBuyNowId===n.bidId&&r-this.lastProcessedBuyNowTime<200){console.log("[SignalR] Duplicate BuyNow event ignored:",n.bidId,"Time diff:",r-this.lastProcessedBuyNowTime,"ms");return}this.lastProcessedBuyNowId=n.bidId,this.lastProcessedBuyNowTime=r,console.log("[SignalR] Received BuyNow event:",n),this.handlers.buyNow?.(n)};this.connection.on("BuyNow",t),this.connection.on("buynow",t)}this.handlers.newNotification&&this.connection.on("NewNotification",t=>{console.log("[SignalR] Received NewNotification event:",t),this.handlers.newNotification?.(t)}),this.handlers.systemNotification&&this.connection.on("SystemNotification",t=>{console.log("[SignalR] Received SystemNotification event:",t),this.handlers.systemNotification?.(t)})}}async subscribeToAuction(t){if(!this.connection||this.connection.state!==Ft.Connected){console.warn("[SignalR] Cannot subscribe: connection not ready");return}try{console.log("[SignalR] Subscribing to auction group:",t),await this.connection.invoke("JoinAuctionGroup",t),console.log("[SignalR] Successfully subscribed to auction:",t)}catch(n){console.error("[SignalR] Failed to subscribe to auction:",n)}}async disconnect(){if(!this.isConnecting&&this.connection)try{await this.connection.stop(),console.log("[SignalR] Disconnected")}catch(t){console.error("[SignalR] Failed to stop connection:",t)}finally{this.connection=null,this.currentAuctionId=null,this.handlers={},this.lastProcessedBidId=null,this.lastProcessedBidTime=0,this.lastProcessedBuyNowId=null,this.lastProcessedBuyNowTime=0}}async joinGroup(t){console.log("[SignalR] joinGroup called (legacy), use connect() instead")}async leaveGroup(t){console.log("[SignalR] leaveGroup called (legacy), use disconnect() instead")}on(t,n){return console.warn("[SignalR] Using legacy on() method. Consider using connect() instead."),t==="BidPlaced"?this.handlers.bidPlaced=n:t==="BuyNow"?this.handlers.buyNow=n:t==="NewNotification"?this.handlers.newNotification=n:t==="SystemNotification"&&(this.handlers.systemNotification=n),()=>{t==="BidPlaced"?delete this.handlers.bidPlaced:t==="BuyNow"?delete this.handlers.buyNow:t==="NewNotification"?delete this.handlers.newNotification:t==="SystemNotification"&&delete this.handlers.systemNotification}}off(t,n){t==="BidPlaced"?delete this.handlers.bidPlaced:t==="BuyNow"&&delete this.handlers.buyNow}}const di=new Eae,Uf=e=>{if(typeof e=="number"&&!Number.isNaN(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e.replace(/,/g,""));if(!Number.isNaN(t))return t}},Hy=e=>{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){const t=e.trim().toLowerCase();if(["true","1","yes"].includes(t))return!0;if(["false","0","no"].includes(t))return!1}},km=e=>{if(!e)return null;try{const t=typeof e=="string"?JSON.parse(e):e;if(t&&typeof t=="object")return t}catch{}return null},Cae=e=>{if(!e)return null;const t=e.Bid??e.bid??e.BID??(typeof e=="object"?e:null);return t&&typeof t=="object"?t:null},R4=e=>{const t=km(e.newEntity)??km(e.oldEntity);if(!t)return null;const n=Cae(t);if(!n)return null;const r=Uf(n.BidAmount??n.bidAmount??n.amount??n.price)??Uf(t.currentPrice??t.newPrice??t.price??t.amount),s=Uf(n.AutoBidMaxLimit??n.autoBidMaxLimit),o=Hy(n.IsAutoBid??n.isAutoBid),u=Hy(n.IsWinning??n.isWinning),d=Hy(n.IsCancelled??n.isCancelled);return r===void 0&&s===void 0&&o===void 0&&u===void 0&&d===void 0?null:{bidAmount:r,autoBidMaxLimit:s,isAutoBid:o,isWinning:u,isCancelled:d}},Aae=e=>{const t=R4(e);if(t?.bidAmount!==void 0)return t.bidAmount;const n=km(e.newEntity)??km(e.oldEntity);return n?Uf(n.currentPrice??n.newPrice??n.price??n.amount)??null:null},S_=e=>e.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),Tae=e=>{const t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),u=e.getFullYear();return`${t}:${n}:${r} ${s}/${o}/${u}`},E_=e=>{const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}/${n}/${r}`},qy=e=>{if(e<=0||Number.isNaN(e))return"< 1 giy";const t=Math.floor(e/1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),s=t%60,o=[];return n&&o.push(`${n} gi`),r&&o.push(`${r} pht`),(s||o.length===0)&&o.push(`${s} giy`),o.join(" ")};function _ae(){const{id:e}=gc(),t=br(),n=zr(),[r,s]=p.useState(null),[o,u]=p.useState([]),[d,f]=p.useState("Unknown"),[m,g]=p.useState(null),[x,b]=p.useState({}),[j,S]=p.useState({}),[w,N]=p.useState(!0),[E,A]=p.useState(!1),[T,_]=p.useState({isOpen:!1,actionType:null}),[O,R]=p.useState(""),[D,B]=p.useState(null),[X,Y]=p.useState(""),[L,F]=p.useState("0"),[re,ye]=p.useState([]),[ve,H]=p.useState([]),[I,K]=p.useState(!1),[,de]=p.useState(0),[,Se]=p.useState(new Set),{toast:P}=In(),q=p.useCallback(async G=>{try{const z=await lt.getAuctionExtendsByAuctionId(G);z.isSuccess&&z.data&&ye(z.data)}catch(z){console.error("Error fetching auction extends:",z)}},[]),ee=p.useCallback(async(G,z,Q,ie)=>{const Ce=await lt.getBidLogsByAuctionId(G);if(Ce.isSuccess&&Ce.data){const Ve=new Set(Ce.data.map(ce=>ce.bidId||ce.id).filter(Boolean));Se(Ve);const Ze=[...Ce.data].sort((ce,Oe)=>new Date(ce.dateTimeUpdate).getTime()-new Date(Oe.dateTimeUpdate).getTime()).map(ce=>{const Oe=Aae(ce);if(!Oe||Number.isNaN(Oe))return null;let Ne;ce.dateTimeUpdate?(Ne=new Date(ce.dateTimeUpdate),isNaN(Ne.getTime())&&(console.warn("[AuctionDetailPage] Invalid dateTimeUpdate, using current time:",ce.dateTimeUpdate),Ne=new Date)):(console.warn("[AuctionDetailPage] Missing dateTimeUpdate, using current time"),Ne=new Date);const We=S_(Ne),ut=Tae(Ne);return{time:Ne.getTime(),label:We,price:Oe,fullTime:ut,durationMs:0,durationLabel:""}}).filter(ce=>ce!==null);for(let ce=0;ce<Ze.length;ce++){const Oe=Ze[ce],Ne=Ze[ce+1],ut=(Ne?Ne.time:ie?new Date(ie).getTime():Date.now())-Oe.time;Oe.durationMs=ut,Oe.durationLabel=qy(ut)}if(Ze.length>0){const ce=Ze[Ze.length-1],Oe=new Date(ce.time);ce.fullTime=E_(Oe)}const mt=z||Q||ie,it=mt?new Date(mt).getTime():Date.now(),Ue=r?.startingPrice&&it?[{time:it,label:"Bt u",price:r.startingPrice,fullTime:"Bt u",durationMs:Ze[0]?Ze[0].time-it:0,durationLabel:Ze[0]?qy(Ze[0].time-it):""}]:[];H([...Ue,...Ze])}},[r?.startingPrice]);p.useEffect(()=>{if(!e){console.log("[AuctionDetailPage] No auction ID, skipping SignalR setup");return}return console.log("[AuctionDetailPage] Setting up SignalR for auction:",e),di.connect(e,{bidPlaced:G=>{if(G.auctionId!==e){console.log("[AuctionDetailPage] Event auctionId mismatch, ignoring:",G.auctionId,"vs",e);return}console.log("[AuctionDetailPage] Processing BidPlaced event for auction:",e),K(!0),setTimeout(()=>K(!1),1e3),s(z=>z?(console.log("[AuctionDetailPage] Updating price from",z.currentPrice,"to",G.newPrice),{...z,currentPrice:G.newPrice}):(console.warn("[AuctionDetailPage] No auction data to update"),z)),H(z=>{let Q;typeof G.placedAt=="string"?(Q=new Date(G.placedAt),isNaN(Q.getTime())&&(console.warn("[AuctionDetailPage] Invalid placedAt date, using current time:",G.placedAt),Q=new Date)):typeof G.placedAt=="number"?Q=new Date(G.placedAt):(console.warn("[AuctionDetailPage] Unknown placedAt format, using current time"),Q=new Date);const ie=Q.getTime(),Ce=S_(Q),Ve=E_(Q),nt=[...z];if(nt.length>0){const mt=nt.length-1,it={...nt[mt]};it.durationMs=ie-it.time,it.durationLabel=qy(it.durationMs||0),nt[mt]=it}const ze={time:ie,label:Ce,price:G.newPrice,fullTime:Ve,durationMs:0,durationLabel:"ang gi"};console.log("[AuctionDetailPage] Adding new chart data point:",ze),console.log("[AuctionDetailPage] Previous chart data length:",z.length);const Ze=[...nt,ze];return console.log("[AuctionDetailPage] Updated chart data length:",Ze.length),Ze}),ee(G.auctionId,r?.publishDate,r?.createdAt,r?.endDate).catch(z=>console.error("[AuctionDetailPage] Failed to refresh bid logs after BidPlaced:",z)),de(z=>{const Q=z+1;return console.log("[AuctionDetailPage] Refresh trigger updated to:",Q),Q}),Se(z=>{if(z.has(G.bidId))return z;const Q=new Set(z);return Q.add(G.bidId),P({title:"C lt t gi mi",description:`${G.userName}  t gi ${G.newPrice.toLocaleString("vi-VN")} VN`}),Q})},buyNow:G=>{if(G.auctionId!==e){console.log("[AuctionDetailPage] Event auctionId mismatch, ignoring:",G.auctionId,"vs",e);return}console.log("[AuctionDetailPage] Processing BuyNow event for auction:",e),s(z=>z&&{...z,status:"Completed",currentPrice:G.buyNowPrice}),P({title:" mua ngay",description:`${G.userName}  mua ngay vi gi ${G.buyNowPrice.toLocaleString("vi-VN")} VN`,variant:"default"}),G.auctionId&&lt.getEnglishAuctionById(G.auctionId).then(z=>{z.isSuccess&&z.data&&(s(z.data),ee(G.auctionId,z.data.publishDate,z.data.createdAt,z.data.endDate).catch(console.error))})}}).then(()=>{console.log("[AuctionDetailPage] SignalR connected successfully")}).catch(G=>{console.error("[AuctionDetailPage] Failed to init realtime auction connection:",G)}),()=>{console.log("[AuctionDetailPage] Cleaning up SignalR connection for auction:",e),di.disconnect().catch(console.error)}},[e,P]),p.useEffect(()=>{(async()=>{if(e)try{N(!0);const z=await lt.getEnglishAuctionById(e);if(!z.isSuccess||!z.data)return;const Q=z.data;s(Q);const ie=await lt.getHarvestsByAuctionSessionId(Q.id),Ce=ie.isSuccess&&ie.data?ie.data.map(Ze=>Ze.harvestId):[],Ve=[],nt={};for(const Ze of Ce){const mt=await $t.getHarvestById(Ze);if(mt.isSuccess&&mt.data){const it=mt.data;let Ue=[];try{const Ne=await $t.getHarvestGradeDetailsByHarvestId(it.id);Ne.isSuccess&&Ne.data&&(Ue=Ne.data)}catch(Ne){console.error(`Li ly grade detail cho harvest ${it.id}:`,Ne)}const ce=Ue.map(Ne=>({id:Ne.id,grade:Ne.grade?.toString(),quantity:Ne.quantity,unit:Ne.unit}));Ve.push({...it,harvestGradeDetailDTOs:ce});const Oe=await $t.getCurrentHarvestByCropId(it.cropID);Oe.isSuccess&&Oe.data&&(nt[it.cropID]=Oe.data)}}u(Ve),S(nt);const ze=await $t.getFarms();if(ze.isSuccess&&ze.data){const Ze=ze.data.find(mt=>mt.userId===Q.farmerId);if(Ze){f(Ze.name),g(Ze);const mt=await $t.getCropsByFarmId(Ze.id);if(mt.isSuccess&&mt.data){const it=mt.data.reduce((Ue,ce)=>(Ue[ce.id]=ce,Ue),{});b(it)}}}await q(Q.id),await ee(Q.id,Q.publishDate,Q.createdAt,Q.endDate)}finally{N(!1)}})()},[ee,q,e]),p.useEffect(()=>{if(!e||r?.status!=="OnGoing")return;const G=setInterval(()=>{ee(e,r.publishDate,r.createdAt,r.endDate).catch(z=>console.error("[AuctionDetailPage] Poll refresh bid logs failed:",z))},5e3);return()=>clearInterval(G)},[r?.createdAt,r?.endDate,r?.publishDate,r?.status,ee,e]);const ue=p.useCallback(()=>e?re.filter(G=>G.auctionId===e).reduce((G,z)=>G+z.extendDurationInMinutes,0):0,[re,e]);if(w)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})});if(!r)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})});const we=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",ae=G=>{e&&(G==="overview"?t(`/admin/auctions/${e}`):G==="activity-history"?t(`/admin/auctions/${e}/activity-history`):G==="bid-history"?t(`/admin/auctions/${e}/bid-history`):G==="winner"?t(`/admin/auctions/${e}/winner`):G==="reports"&&t(`/admin/auctions/${e}/reports`))},ne=G=>{G==="pause"&&(R(""),B(null),Y("")),G==="resume"&&F("0"),_({isOpen:!0,actionType:G})},V=async()=>{if(!e||!T.actionType)return;if(T.actionType==="pause"){if(!D)throw P({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"}),new Error("PAUSE_REASON_CATEGORY_REQUIRED");if(D!=="other"&&!X)throw P({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_SPECIFIC_REQUIRED");const Q=O.trim();if(!Q)throw P({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_REQUIRED");try{A(!0);const ie=await lt.pauseEnglishAuction({auctionId:e,reason:Q});if(ie.isSuccess){const Ce=await lt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),P({title:se.SUCCESS,description:Et.PAUSE_SUCCESS})}else P({title:se.ERROR,description:ie.message||Et.PAUSE_ERROR,variant:"destructive"})}catch(ie){const Ce=ie instanceof Error?ie.message:Et.PAUSE_ERROR;throw P({title:se.ERROR,description:Ce,variant:"destructive"}),ie}finally{A(!1)}return}if(T.actionType==="resume"){const Q=Math.max(0,Number(L)||0);try{A(!0);const ie=await lt.resumeEnglishAuction({auctionId:e,extendMinute:Q});if(ie.isSuccess){const Ce=await lt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),e&&await q(e),P({title:se.SUCCESS,description:Et.RESUME_SUCCESS})}else P({title:se.ERROR,description:ie.message||Et.RESUME_ERROR,variant:"destructive"})}catch(ie){const Ce=ie instanceof Error?ie.message:Et.RESUME_ERROR;throw P({title:se.ERROR,description:Ce,variant:"destructive"}),ie}finally{A(!1)}return}const z={approve:"Approved",reject:"Rejected",stop:"Completed",cancel:"Cancelled"}[T.actionType];try{A(!0);const Q=await lt.updateEnglishAuctionStatus(e,z);if(Q.isSuccess){const ie=await lt.getEnglishAuctionById(e);ie.isSuccess&&ie.data&&s(ie.data),P({title:se.SUCCESS,description:Et.STATUS_UPDATE_SUCCESS||"Cp nht trng thi thnh cng"})}else P({title:se.ERROR,description:Q.message||Et.STATUS_UPDATE_ERROR||"Khng th cp nht trng thi",variant:"destructive"})}catch(Q){const ie=Q instanceof Error?Q.message:" xy ra li khi cp nht trng thi";throw P({title:se.ERROR,description:ie,variant:"destructive"}),Q}finally{A(!1)}},U=()=>T.actionType?{approve:{title:"Xc nhn duyt phin u gi",description:"Bn c chc chn mun duyt phin u gi ny? Phin s c kch hot v c sn cho ngi dng.",actionLabel:"Duyt",variant:"approve"},reject:{title:"Xc nhn t chi phin u gi",description:"Bn c chc chn mun t chi phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"T chi",variant:"reject"},stop:{title:"Xc nhn dng phin u gi",description:"Bn c chc chn mun dng phin u gi ny? Phin s c kt thc ngay lp tc.",actionLabel:"Dng",variant:"reject"},cancel:{title:"Xc nhn hy phin u gi",description:"Bn c chc chn mun hy phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"Hy",variant:"reject"},pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[T.actionType]:null,M={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},W=(()=>{if(T.actionType==="pause"){const G=D,z=G&&G!=="other"?M[G].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(M).map(([Q,ie],Ce)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-category",value:Q,checked:D===Q,onChange:()=>{B(Q),Y(""),R("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Ce+1,". ",ie.title]})})]})},Q)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-category",value:"other",checked:D==="other",onChange:()=>{B("other"),Y(""),R("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),G&&G!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:z.map((Q,ie)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-specific",value:Q,checked:X===Q,onChange:()=>{Y(Q);const Ce=M[G].title;R(`${Ce}: ${Q}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Q})})]})},ie))})]}),G==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(er,{id:"detail-pause-reason",rows:3,value:O,onChange:Q=>R(Q.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return T.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"detail-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(dn,{id:"detail-resume-extend",type:"number",min:0,value:L,onChange:G=>F(G.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),$=U(),J=G=>{if(G){_(z=>({...z,isOpen:G}));return}_({isOpen:!1,actionType:null}),R(""),B(null),Y(""),F("0")};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="Pending"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>ne("approve"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:[a.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Duyt"]}),a.jsxs(oe,{onClick:()=>ne("reject"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",disabled:E,children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Khng duyt"]})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>ne("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:E,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(oe,{onClick:()=>ne("cancel"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:E,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>ne("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(oe,{onClick:()=>ne("cancel"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:E,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Qs,{value:we(),onValueChange:ae,className:"w-full",children:a.jsxs(is,{children:[a.jsx(Dt,{value:"overview",children:"Tng Quan"}),a.jsx(Dt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Dt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Dt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Dt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Bd,{auction:r,farmName:d,totalExtendMinutes:ue(),priceChanged:I}),a.jsx(Sae,{data:ve,currentPrice:r.currentPrice||r.startingPrice,startingPrice:r.startingPrice}),a.jsx(Nae,{harvests:o,farm:m,cropsById:x,currentHarvestByCropId:j})]}),T.actionType&&$&&a.jsx(Og,{isOpen:T.isOpen,onOpenChange:J,onConfirm:V,title:$.title,description:$.description,actionLabel:$.actionLabel,actionVariant:$.variant,isLoading:E,children:W})]})}function Rae(){const{id:e}=gc(),t=br(),n=zr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[j,S]=p.useState("all"),[w,N]=p.useState([]),[E,A]=p.useState([]),[T,_]=p.useState(!1),[,O]=p.useState(new Set),[R,D]=p.useState(!1),[B,X]=p.useState({isOpen:!1,actionType:null}),[Y,L]=p.useState(""),[F,re]=p.useState(null),[ye,ve]=p.useState(""),[H,I]=p.useState("0"),{toast:K}=In(),de=p.useCallback(async(Q,ie)=>{try{b(!0);let Ce;if(ie){if(Ce=await lt.getAuctionLogsByType(ie),Ce.isSuccess&&Ce.data){const nt=[...Ce.data.filter(ze=>ze.auctionPostId===Q)].sort((ze,Ze)=>new Date(Ze.dateTimeUpdate).getTime()-new Date(ze.dateTimeUpdate).getTime());g(nt)}}else if(Ce=await lt.getAuctionLogsByAuctionId(Q),Ce.isSuccess&&Ce.data){const Ve=[...Ce.data].sort((nt,ze)=>new Date(ze.dateTimeUpdate).getTime()-new Date(nt.dateTimeUpdate).getTime());g(Ve)}Ce&&!Ce.isSuccess&&K({title:se.ERROR,description:Ce.message||"Khng th ti lch s hot ng",variant:"destructive"})}catch(Ce){const Ve=Ce instanceof Error?Ce.message:" xy ra li khi ti lch s hot ng";K({title:se.ERROR,description:Ve,variant:"destructive"})}finally{b(!1)}},[K]);p.useEffect(()=>{if(e)return di.connect(e,{bidPlaced:Q=>{Q.auctionId===e&&(s(ie=>ie&&{...ie,currentPrice:Q.newPrice}),_(!0),setTimeout(()=>_(!1),1e3),O(ie=>{if(ie.has(Q.bidId))return ie;const Ce=new Set(ie);return Ce.add(Q.bidId),K({title:"C lt t gi mi",description:`${Q.userName}  t gi ${Q.newPrice.toLocaleString("vi-VN")} VN`}),Ce}),de(e,j==="all"?void 0:j))},buyNow:Q=>{Q.auctionId===e&&(de(e,j==="all"?void 0:j),s(ie=>ie&&{...ie,currentPrice:Q.buyNowPrice,status:"Completed"}))}}).catch(Q=>{console.error("[AuctionActivityHistoryPage] Failed to init realtime connection:",Q)}),()=>{di.disconnect().catch(console.error)}},[e,j,de]);const Se=async Q=>{try{const ie=await lt.getAuctionPausesByAuctionId(Q);ie.isSuccess&&ie.data&&N(ie.data)}catch(ie){console.error("Error fetching pause sessions:",ie)}},P=async Q=>{try{const ie=await lt.getAuctionExtendsByAuctionId(Q);ie.isSuccess&&ie.data&&A(ie.data)}catch(ie){console.error("Error fetching auction extends:",ie)}};p.useEffect(()=>{if(!e)return;(async()=>{try{f(!0);const ie=await lt.getEnglishAuctionById(e);if(ie.isSuccess&&ie.data){if(s(ie.data),ie.data.farmerId)try{const Ce=await $t.getFarms();if(Ce.isSuccess&&Ce.data){const Ve=Ce.data.find(nt=>nt.userId===ie.data?.farmerId);Ve&&u(Ve.name)}}catch(Ce){console.error("Error fetching farm:",Ce)}}else K({title:se.ERROR,description:ie.message||"Khng th ti thng tin phin u gi",variant:"destructive"})}catch(ie){const Ce=ie instanceof Error?ie.message:" xy ra li khi ti thng tin phin u gi";K({title:se.ERROR,description:Ce,variant:"destructive"})}finally{f(!1)}})()},[e,K]),p.useEffect(()=>{e&&(Se(e),P(e))},[e]),p.useEffect(()=>{e&&de(e,j==="all"?void 0:j)},[j,e,de]);const q=Q=>{switch(Q){case"Create":return a.jsx(Hi,{className:"w-4 h-4"});case"StatusChange":return a.jsx(qu,{className:"w-4 h-4"});case"Publish":return a.jsx(tB,{className:"w-4 h-4"});case"Update":return a.jsx(qu,{className:"w-4 h-4"});case"Delete":return a.jsx(zi,{className:"w-4 h-4"});case"Pause":return a.jsx(Ll,{className:"w-4 h-4"});case"Resume":return a.jsx(Bl,{className:"w-4 h-4"});case"Extend":return a.jsx(Us,{className:"w-4 h-4"});case"End":return a.jsx(zu,{className:"w-4 h-4"});default:return a.jsx(zu,{className:"w-4 h-4"})}},ee=Q=>{switch(Q){case"Create":return a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:"To mi"});case"StatusChange":return a.jsx(De,{variant:"outline",className:"text-purple-600 border-purple-600",children:"Thay i trng thi"});case"Publish":return a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"Xut bn"});case"Update":return a.jsx(De,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Cp nht"});case"Delete":return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:"Xa"});case"Pause":return a.jsx(De,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Tm dng"});case"Resume":return a.jsx(De,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:"Tip tc"});case"Extend":return a.jsx(De,{variant:"outline",className:"text-teal-600 border-teal-600",children:"Gia hn"});case"End":return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Kt thc"});default:return a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:Q})}},ue=Q=>{if(Q.type!=="Pause"&&Q.type!=="Resume")return null;const ie=new Date(Q.dateTimeUpdate).getTime();return w.filter(Ve=>{const nt=new Date(Ve.pauseStartAt).getTime();return Math.abs(nt-ie)<300*1e3}).sort((Ve,nt)=>{const ze=Math.abs(new Date(Ve.pauseStartAt).getTime()-ie),Ze=Math.abs(new Date(nt.pauseStartAt).getTime()-ie);return ze-Ze})[0]||null},we=Q=>{if(Q.type!=="Extend"&&Q.type!=="Resume")return null;const ie=new Date(Q.dateTimeUpdate).getTime();return E.filter(Ve=>{const nt=new Date(Ve.createdAt).getTime();return Math.abs(nt-ie)<300*1e3}).sort((Ve,nt)=>{const ze=Math.abs(new Date(Ve.createdAt).getTime()-ie),Ze=Math.abs(new Date(nt.createdAt).getTime()-ie);return ze-Ze})[0]||null},ae=Q=>new Date(Q).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),ne=E.reduce((Q,ie)=>Q+ie.extendDurationInMinutes,0),V=Q=>{Q==="pause"&&(L(""),re(null),ve("")),Q==="resume"&&I("0"),X({isOpen:!0,actionType:Q})},U=async()=>{if(!(!e||!B.actionType)){if(B.actionType==="pause"){if(!F){K({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(F!=="other"&&!ye){K({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const Q=Y.trim();if(!Q){K({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{D(!0);const ie=await lt.pauseEnglishAuction({auctionId:e,reason:Q});if(ie.isSuccess){const Ce=await lt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),K({title:se.SUCCESS,description:Et.PAUSE_SUCCESS}),X({isOpen:!1,actionType:null}),L(""),re(null),ve("")}else K({title:se.ERROR,description:ie.message||Et.PAUSE_ERROR,variant:"destructive"})}catch(ie){const Ce=ie instanceof Error?ie.message:Et.PAUSE_ERROR;K({title:se.ERROR,description:Ce,variant:"destructive"})}finally{D(!1)}return}if(B.actionType==="resume"){const Q=Math.max(0,Number(H)||0);try{D(!0);const ie=await lt.resumeEnglishAuction({auctionId:e,extendMinute:Q});if(ie.isSuccess){const Ce=await lt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),await P(e),K({title:se.SUCCESS,description:Et.RESUME_SUCCESS}),X({isOpen:!1,actionType:null}),I("0")}else K({title:se.ERROR,description:ie.message||Et.RESUME_ERROR,variant:"destructive"})}catch(ie){const Ce=ie instanceof Error?ie.message:Et.RESUME_ERROR;K({title:se.ERROR,description:Ce,variant:"destructive"})}finally{D(!1)}return}}},M={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},W=(()=>{if(B.actionType==="pause"){const Q=F,ie=Q&&Q!=="other"?M[Q].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(M).map(([Ce,Ve],nt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-category",value:Ce,checked:F===Ce,onChange:()=>{re(Ce),ve(""),L("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[nt+1,". ",Ve.title]})})]})},Ce)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-category",value:"other",checked:F==="other",onChange:()=>{re("other"),ve(""),L("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),Q&&Q!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:ie.map((Ce,Ve)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-specific",value:Ce,checked:ye===Ce,onChange:()=>{ve(Ce);const nt=M[Q].title;L(`${nt}: ${Ce}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Ce})})]})},Ve))})]}),Q==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(er,{rows:3,value:Y,onChange:Ce=>L(Ce.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return B.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"activity-history-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(dn,{id:"activity-history-resume-extend",type:"number",min:0,value:H,onChange:Q=>I(Q.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),J=B.actionType?{pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[B.actionType]:null,G=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",z=Q=>{e&&(Q==="overview"?t(`/admin/auctions/${e}`):Q==="activity-history"?t(`/admin/auctions/${e}/activity-history`):Q==="bid-history"?t(`/admin/auctions/${e}/bid-history`):Q==="winner"?t(`/admin/auctions/${e}/winner`):Q==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>V("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:R,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(oe,{onClick:()=>V("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:R,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>V("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:R,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(oe,{onClick:()=>V("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:R,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Qs,{value:G(),onValueChange:z,className:"w-full",children:a.jsxs(is,{children:[a.jsx(Dt,{value:"overview",children:"Tng Quan"}),a.jsx(Dt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Dt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Dt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Dt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Bd,{auction:r,farmName:o,totalExtendMinutes:ne,priceChanged:T}),a.jsx(dt,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Hi,{className:"w-5 h-5 text-blue-600"}),"Lch S Hot ng"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"ang ti...":`Tng ${m.length} hot ng`})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cd,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:j,onChange:Q=>S(Q.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c loi"}),a.jsx("option",{value:"Create",children:"To mi"}),a.jsx("option",{value:"Update",children:"Cp nht"}),a.jsx("option",{value:"Delete",children:"Xa"}),a.jsx("option",{value:"Publish",children:"Xut bn"}),a.jsx("option",{value:"End",children:"Kt thc"}),a.jsx("option",{value:"StatusChange",children:"Thay i trng thi"}),a.jsx("option",{value:"Extend",children:"Gia hn"}),a.jsx("option",{value:"Pause",children:"Tm dng"}),a.jsx("option",{value:"Resume",children:"Tip tc"})]})]})})]}),x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti lch s..."})}):m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Cha c hot ng no"})}):a.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:m.map(Q=>a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:q(Q.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee(Q.type),a.jsx("span",{className:"text-xs text-gray-500",children:ae(Q.dateTimeUpdate)})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[Q.type==="StatusChange"&&Q.oldEntity&&Q.newEntity&&a.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Thay i trng thi:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Trc:"}),a.jsx(De,{variant:"outline",className:"text-xs",children:(()=>{try{const ie=JSON.parse(Q.oldEntity);return{0:"Draft",1:"Pending",2:"Rejected",3:"Approved",4:"OnGoing",5:"Completed",6:"NoWinner",7:"Cancelled",8:"Pause"}[ie.status]||`Status ${ie.status}`}catch{return"N/A"}})()}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:"Sau:"}),a.jsx(De,{variant:"outline",className:"text-xs",children:(()=>{try{const ie=JSON.parse(Q.newEntity);return{0:"Draft",1:"Pending",2:"Rejected",3:"Approved",4:"OnGoing",5:"Completed",6:"NoWinner",7:"Cancelled",8:"Pause"}[ie.status]||`Status ${ie.status}`}catch{return"N/A"}})()})]})]}),Q.type==="Publish"&&a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c xut bn"}),Q.type==="Create"&&a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c to mi"}),Q.type==="Pause"&&(()=>{const ie=ue(Q);if(!ie)return a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c tm dng"});let Ce=ie.pauseDurationInMinutes;if(Ce===null&&ie.pauseEndAt){const Ve=new Date(ie.pauseStartAt).getTime(),nt=new Date(ie.pauseEndAt).getTime();Ce=Math.round((nt-Ve)/(1e3*60))}return a.jsxs("div",{className:"bg-orange-50 p-3 rounded border border-orange-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-orange-700 mb-2",children:"Chi tit tm dng:"}),a.jsxs("div",{className:"space-y-1 text-xs text-orange-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"L do:"})," ",ie.reason]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bt u:"})," ",ae(ie.pauseStartAt)]}),ie.pauseEndAt&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",ae(ie.pauseEndAt)]}),Ce!==null&&Ce>0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian tm dng:"})," ",Ce," pht"]}),ie.note&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",ie.note]})]})]})})(),Q.type==="Resume"&&(()=>{const ie=ue(Q),Ce=we(Q);let Ve=ie?.pauseDurationInMinutes??null;if(Ve===null&&ie?.pauseEndAt){const nt=new Date(ie.pauseStartAt).getTime(),ze=new Date(ie.pauseEndAt).getTime();Ve=Math.round((ze-nt)/(1e3*60))}return a.jsxs("div",{className:"bg-emerald-50 p-3 rounded border border-emerald-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-700 mb-2",children:"Chi tit tip tc:"}),a.jsxs("div",{className:"space-y-1 text-xs text-emerald-600",children:[ie&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bt u tm dng:"})," ",ae(ie.pauseStartAt)]}),ie.pauseEndAt&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Kt thc tm dng:"})," ",ae(ie.pauseEndAt)]}),Ve!==null&&Ve>0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian tm dng:"})," ",Ve," pht"]}),ie.note&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",ie.note]})]}),Ce&&Ce.extendDurationInMinutes>0&&a.jsxs("p",{className:"mt-2 pt-2 border-t border-emerald-300",children:[a.jsx("span",{className:"font-medium",children:"Gia hn thm:"})," ",Ce.extendDurationInMinutes," pht"]})]})]})})(),Q.type==="Extend"&&(()=>{const ie=we(Q);return ie?a.jsxs("div",{className:"bg-teal-50 p-3 rounded border border-teal-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-teal-700 mb-2",children:"Chi tit gia hn:"}),a.jsxs("div",{className:"space-y-1 text-xs text-teal-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian gia hn:"})," ",ie.extendDurationInMinutes," pht"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",ie.extendType]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian to:"})," ",ae(ie.createdAt)]})]})]}):a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c gia hn"})})()]})]})]},Q.id))})]})})]}),B.actionType&&J&&a.jsx(Og,{isOpen:B.isOpen,onOpenChange:Q=>{Q||(X({isOpen:!1,actionType:null}),L(""),re(null),ve(""),I("0"))},onConfirm:U,title:J.title,description:J.description,actionLabel:J.actionLabel,actionVariant:J.variant,isLoading:R,children:W})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}function Oae(){const{id:e}=gc(),t=br(),n=zr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[j,S]=p.useState([]),[w,N]=p.useState(!1),[E,A]=p.useState(!1),[,T]=p.useState(new Set),[_,O]=p.useState(!1),[R,D]=p.useState({isOpen:!1,actionType:null}),[B,X]=p.useState(""),[Y,L]=p.useState(null),[F,re]=p.useState(""),[ye,ve]=p.useState("0"),{toast:H}=In(),I=M=>{if(M<=0||Number.isNaN(M))return"< 1 giy";const W=Math.floor(M/1e3),$=Math.floor(W/3600),J=Math.floor(W%3600/60),G=W%60,z=[];return $&&z.push(`${$} gi`),J&&z.push(`${J} pht`),(G||z.length===0)&&z.push(`${G} giy`),z.join(" ")},K=(M,W)=>{const $=new Date(W.dateTimeUpdate).getTime();if(Number.isNaN($))return"Khng xc nh";if(M===0){const z=Date.now()-$;return z>0?`${I(z)} (cha b vt)`:"< 1 giy"}const J=m[M-1];if(!J)return"Khng xc nh";const G=new Date(J.dateTimeUpdate).getTime();return Number.isNaN(G)||G<=$?"< 1 giy":I(G-$)},de=p.useCallback(async(M,W=!1)=>{try{W||b(!0);const $=await lt.getBidLogsByAuctionId(M);if($.isSuccess&&$.data){const J=[...$.data].sort((z,Q)=>new Date(Q.dateTimeUpdate).getTime()-new Date(z.dateTimeUpdate).getTime());g(J);const G=new Set(J.map(z=>z.bidId||z.id).filter(Boolean));T(G)}else W||H({title:se.ERROR,description:$.message||"Khng th ti lch s t gi",variant:"destructive"})}catch($){const J=$ instanceof Error?$.message:" xy ra li khi ti lch s t gi";W||H({title:se.ERROR,description:J,variant:"destructive"})}finally{W||b(!1)}},[H]);p.useEffect(()=>{if(!e){console.log("[AuctionBidHistoryPage] No auction ID, skipping SignalR setup");return}let M=!0;return(async()=>{try{console.log("[AuctionBidHistoryPage]  Setting up SignalR connection for current price updates:",e),await di.connect(e,{bidPlaced:$=>{if(M){if(console.log("[AuctionBidHistoryPage]  BidPlaced event received for price update:",{auctionId:$.auctionId,bidId:$.bidId,userName:$.userName,newPrice:$.newPrice,currentAuctionId:e}),$.auctionId!==e){console.log("[AuctionBidHistoryPage]  Event auctionId mismatch, ignoring");return}s(J=>J&&{...J,currentPrice:$.newPrice}),N(!0),setTimeout(()=>N(!1),1e3),T(J=>{if(J.has($.bidId))return J;const G=new Set(J);return G.add($.bidId),H({title:"C lt t gi mi",description:`${$.userName}  t gi ${$.newPrice.toLocaleString("vi-VN")} VN`}),G})}}}),M&&console.log("[AuctionBidHistoryPage]  SignalR connected successfully for price updates:",e)}catch($){console.error("[AuctionBidHistoryPage]  Failed to init SignalR connection for price updates:",$)}})(),()=>{M=!1,console.log("[AuctionBidHistoryPage]  Cleaning up SignalR connection for auction:",e),di.disconnect().catch(console.error)}},[e,H]),p.useEffect(()=>{(async()=>{if(e)try{f(!0);const W=await lt.getEnglishAuctionById(e);if(!W.isSuccess||!W.data)return;const $=W.data;s($);const J=await $t.getFarms();if(J.isSuccess&&J.data){const G=J.data.find(z=>z.userId===$.farmerId);G&&u(G.name)}await de(e,!0),await Se(e)}finally{f(!1)}})()},[e,de]),p.useEffect(()=>{if(!e||!r){A(!1);return}const M=r.status==="OnGoing"||r.status==="Pending"||r.status==="Approved";if(A(M),!M)return;console.log("[AuctionBidHistoryPage]  Setting up auto-reload for bid logs (polling every 5s)");const W=setInterval(()=>{de(e,!0)},5e3);return()=>{console.log("[AuctionBidHistoryPage]  Cleaning up auto-reload interval"),clearInterval(W)}},[e,r,de]);const Se=async M=>{try{const W=await lt.getAuctionExtendsByAuctionId(M);W.isSuccess&&W.data&&S(W.data)}catch(W){console.error("Error fetching auction extends:",W)}},P=j.reduce((M,W)=>M+W.extendDurationInMinutes,0),q=M=>{M==="pause"&&(X(""),L(null),re("")),M==="resume"&&ve("0"),D({isOpen:!0,actionType:M})},ee=async()=>{if(!(!e||!R.actionType)){if(R.actionType==="pause"){if(!Y){H({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(Y!=="other"&&!F){H({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const M=B.trim();if(!M){H({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{O(!0);const W=await lt.pauseEnglishAuction({auctionId:e,reason:M});if(W.isSuccess){const $=await lt.getEnglishAuctionById(e);$.isSuccess&&$.data&&s($.data),H({title:se.SUCCESS,description:Et.PAUSE_SUCCESS}),D({isOpen:!1,actionType:null}),X(""),L(null),re("")}else H({title:se.ERROR,description:W.message||Et.PAUSE_ERROR,variant:"destructive"})}catch(W){const $=W instanceof Error?W.message:Et.PAUSE_ERROR;H({title:se.ERROR,description:$,variant:"destructive"})}finally{O(!1)}return}if(R.actionType==="resume"){const M=Math.max(0,Number(ye)||0);try{O(!0);const W=await lt.resumeEnglishAuction({auctionId:e,extendMinute:M});if(W.isSuccess){const $=await lt.getEnglishAuctionById(e);$.isSuccess&&$.data&&s($.data),await Se(e),H({title:se.SUCCESS,description:Et.RESUME_SUCCESS}),D({isOpen:!1,actionType:null}),ve("0")}else H({title:se.ERROR,description:W.message||Et.RESUME_ERROR,variant:"destructive"})}catch(W){const $=W instanceof Error?W.message:Et.RESUME_ERROR;H({title:se.ERROR,description:$,variant:"destructive"})}finally{O(!1)}return}}},ue={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},we=(()=>{if(R.actionType==="pause"){const M=Y,W=M&&M!=="other"?ue[M].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(ue).map(([$,J],G)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-category",value:$,checked:Y===$,onChange:()=>{L($),re(""),X("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[G+1,". ",J.title]})})]})},$)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-category",value:"other",checked:Y==="other",onChange:()=>{L("other"),re(""),X("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),M&&M!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:W.map(($,J)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-specific",value:$,checked:F===$,onChange:()=>{re($);const G=ue[M].title;X(`${G}: ${$}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:$})})]})},J))})]}),M==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(er,{rows:3,value:B,onChange:$=>X($.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return R.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"bid-history-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(dn,{id:"bid-history-resume-extend",type:"number",min:0,value:ye,onChange:M=>ve(M.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),ne=R.actionType?{pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[R.actionType]:null,V=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",U=M=>{e&&(M==="overview"?t(`/admin/auctions/${e}`):M==="activity-history"?t(`/admin/auctions/${e}/activity-history`):M==="bid-history"?t(`/admin/auctions/${e}/bid-history`):M==="winner"?t(`/admin/auctions/${e}/winner`):M==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>q("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:_,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(oe,{onClick:()=>q("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:_,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>q("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:_,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(oe,{onClick:()=>q("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:_,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Qs,{value:V(),onValueChange:U,className:"w-full",children:a.jsxs(is,{children:[a.jsx(Dt,{value:"overview",children:"Tng Quan"}),a.jsx(Dt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Dt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Dt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Dt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Bd,{auction:r,farmName:o,totalExtendMinutes:P,priceChanged:w}),a.jsx(dt,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Hi,{className:"w-5 h-5 text-blue-600"}),"Lch S t Gi",E&&a.jsx("span",{className:"flex items-center gap-1 text-xs font-normal text-blue-600 bg-blue-50 px-2 py-1 rounded",children:a.jsx(Oa,{className:"w-3 h-3 animate-spin"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"ang ti...":`Tng ${m.length} lt t gi`})]})}),x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti danh sch t gi..."})}):m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Cha c lt t gi no cho phin u gi ny"})}):a.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs("tr",{children:[a.jsx(pe,{children:"STT"}),a.jsx(pe,{children:"Thng li"}),a.jsx(pe,{className:"text-right",children:"Gi t"}),a.jsx(pe,{className:"text-center",children:"T ng"}),a.jsx(pe,{className:"text-right",children:"Gii hn t ng t gi"}),a.jsx(pe,{className:"text-right",children:"Gi v tr cao nht"})]})}),a.jsx(cn,{children:m.map((M,W)=>{const $=R4(M),J=K(W,M),G=`${M.id||M.bidId||"unknown"}-${M.dateTimeUpdate||"no-date"}`;return a.jsxs(at,{children:[a.jsx(je,{children:W+1}),a.jsx(je,{className:"text-sm text-gray-900",children:M.userName?.trim()||"Unknown"}),a.jsx(je,{className:"text-right font-semibold text-emerald-700",children:$?.bidAmount!==void 0?Je($.bidAmount):""}),a.jsx(je,{className:"text-center",children:$?.isAutoBid?"C":"Khng"}),a.jsx(je,{className:"text-right",children:$&&$.autoBidMaxLimit&&$.autoBidMaxLimit>0?Je($.autoBidMaxLimit):""}),a.jsx(je,{className:"text-right text-sm text-gray-700",children:J})]},G)})})]})})]})})]}),R.actionType&&ne&&a.jsx(Og,{isOpen:R.isOpen,onOpenChange:M=>{M||(D({isOpen:!1,actionType:null}),X(""),L(null),re(""),ve("0"))},onConfirm:ee,title:ne.title,description:ne.description,actionLabel:ne.actionLabel,actionVariant:ne.variant,isLoading:_,children:we})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}function kae({winner:e}){return e?a.jsx(dt,{className:"overflow-hidden border-2 border-amber-300 bg-gradient-to-br from-amber-50 to-orange-50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(qE,{className:"w-6 h-6 text-amber-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Ngi Thng u Gi"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Tn Thng Li"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.name})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(De,{className:"bg-green-100 text-green-700 flex items-center gap-1",children:[a.jsx(Ra,{className:"w-4 h-4"})," Chin Thng"]})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Thng"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:Je(e.finalPrice)})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"S Ln u Gi"}),a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.bidCount," ln"]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-amber-200 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(hb,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pR,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"in Thoi"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.phone})]})]})]})]})}):a.jsx(dt,{className:"bg-gray-50 border-gray-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(qE,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Cha c ngi thng u gi"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Phin u gi vn ang din ra hoc cha c kt qu"})]})})}function Dae(){const{id:e}=gc(),t=br(),n=zr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[,j]=p.useState(new Set),{toast:S}=In(),[w,N]=p.useState(void 0),E=p.useCallback(async R=>{try{const D=await lt.getAuctionExtendsByAuctionId(R);D.isSuccess&&D.data&&g(D.data)}catch(D){console.error("Error fetching auction extends:",D)}},[]),A=p.useCallback(async()=>{if(e)try{const R=await lt.getEnglishAuctionById(e);if(!R.isSuccess||!R.data)return;const D=R.data;s(D);const B=await $t.getFarms();if(B.isSuccess&&B.data){const X=B.data.find(Y=>Y.userId===D.farmerId);X&&u(X.name)}if(D.winnerId&&D.winningPrice)try{const X=await Vn.getById(D.winnerId);if(X.isSuccess&&X.data){const Y=X.data,L=await lt.getBidLogsByAuctionId(e);let F=0;L.isSuccess&&L.data&&(F=L.data.filter(ye=>ye.userId===D.winnerId).length);const re=`${Y.firstName||""} ${Y.lastName||""}`.trim()||Y.email||D.winnerId;N({id:Y.id,name:re,email:Y.email||"",phone:Y.phoneNumber||"",finalPrice:D.winningPrice,bidCount:F,winTime:new Date(D.updatedAt||D.endDate)})}}catch(X){console.error("Error fetching winner info:",X),D.winnerId&&D.winningPrice&&N({id:D.winnerId,name:D.winnerId,email:"",phone:"",finalPrice:D.winningPrice,bidCount:0,winTime:new Date(D.updatedAt||D.endDate)})}else N(void 0);await E(e)}catch(R){console.error("Error fetching winner data:",R)}},[e,E]);p.useEffect(()=>{if(e)return di.connect(e,{bidPlaced:R=>{R.auctionId===e&&(s(D=>D&&{...D,currentPrice:R.newPrice}),b(!0),setTimeout(()=>b(!1),1e3),j(D=>{if(D.has(R.bidId))return D;const B=new Set(D);return B.add(R.bidId),S({title:"C lt t gi mi",description:`${R.userName}  t gi ${R.newPrice.toLocaleString("vi-VN")} VN`}),B}),setTimeout(()=>{A()},500))},buyNow:R=>{R.auctionId===e&&A()}}).catch(R=>{console.error("[AuctionWinnerPage] Failed to init realtime connection:",R)}),()=>{di.disconnect().catch(console.error)}},[e,A]),p.useEffect(()=>{(async()=>{if(e)try{f(!0),await A()}finally{f(!1)}})()},[e,A]);const T=m.reduce((R,D)=>R+D.extendDurationInMinutes,0),_=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",O=R=>{e&&(R==="overview"?t(`/admin/auctions/${e}`):R==="activity-history"?t(`/admin/auctions/${e}/activity-history`):R==="bid-history"?t(`/admin/auctions/${e}/bid-history`):R==="winner"?t(`/admin/auctions/${e}/winner`):R==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("div",{className:"flex items-center justify-between gap-3 mb-6",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]})}),a.jsx(Qs,{value:_(),onValueChange:O,className:"w-full",children:a.jsxs(is,{children:[a.jsx(Dt,{value:"overview",children:"Tng Quan"}),a.jsx(Dt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Dt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Dt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Dt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Bd,{auction:r,farmName:o,totalExtendMinutes:T,priceChanged:x}),a.jsx(kae,{winner:w})]})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}const Mae="https://gateway.a-379.store",C_=new ud(Mae),Pae=1,Iae=10,Dm={async list(e={}){const{pageNumber:t=Pae,pageSize:n=Iae,status:r,searchValue:s}=e;return C_.get(Ie.buyRequest.list,{cache:!1,params:{pageNumber:t,pageSize:n,...r!==void 0&&{status:r},...s&&{searchValue:s}}})},async getById(e){return C_.get(Ie.buyRequest.detail(e),{cache:!1})}},Lae="https://gateway.a-379.store",ri=new ud(Lae),Os={async getCategories(){return ri.get(Ie.policy.categories.list,{cache:!1})},async getCategoryById(e){return ri.get(Ie.policy.categories.detail(e),{cache:!1})},async createCategory(e){return ri.post(Ie.policy.categories.create,e)},async updateCategory(e,t){return ri.put(Ie.policy.categories.update(e),t)},async deleteCategory(e){return ri.delete(Ie.policy.categories.delete(e))},async getCategoryItems(e){return ri.get(Ie.policy.categories.items(e),{cache:!1})},async getItemById(e){return ri.get(Ie.policy.items.detail(e),{cache:!1})},async createItem(e){return ri.post(Ie.policy.items.create,e)},async updateItem(e,t){return ri.put(Ie.policy.items.update(e),t)},async deleteItem(e){return ri.delete(Ie.policy.items.delete(e))}},Bae=["Pending","InReview","Resolved","ActionTaken","Rejected"],Uae=["Fraud","FalseInformation","TechnicalIssue","PolicyViolated","Other"],Tf={Fraud:"Gian ln",FalseInformation:"Thng tin sai",TechnicalIssue:"Li k thut",PolicyViolated:"Vi phm chnh sch",Other:"Khc"};function $ae(){const{id:e}=gc(),t=br(),n=zr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState({}),[x,b]=p.useState(null),[j,S]=p.useState(!1),[w,N]=p.useState(null),[E,A]=p.useState(null),[T,_]=p.useState(""),[O,R]=p.useState(1),[D,B]=p.useState(10),[X,Y]=p.useState([]),[L,F]=p.useState(!1),[,re]=p.useState(new Set),[ye,ve]=p.useState({}),[H,I]=p.useState(!1),[K,de]=p.useState(null),[Se,P]=p.useState(null),[q,ee]=p.useState(!1),[ue,we]=p.useState({isOpen:!1,actionType:null}),[ae,ne]=p.useState(""),[V,U]=p.useState(null),[M,W]=p.useState(""),[$,J]=p.useState("0"),{toast:G}=In(),z=p.useCallback(async()=>{if(e)try{const Ae=await lt.getEnglishAuctionById(e);if(!Ae.isSuccess||!Ae.data)return;const Le=Ae.data;s(Le);const $e=await $t.getFarms();if($e.isSuccess&&$e.data){const bt=$e.data.find(jt=>jt.userId===Le.farmerId);bt&&u(bt.name)}await ie(e)}catch(Ae){console.error("Error fetching auction data:",Ae)}},[e]),Q=p.useCallback(async(Ae={})=>{if(!e)return;const{silent:Le=!1}=Ae;try{Le||S(!0),A(null);const $e=await cc.getReportsByAuctionId(e);$e.data&&(b($e.data),Le||G({title:se.SUCCESS,description:ta.FETCH_SUCCESS}))}catch($e){const bt=$e instanceof Error&&$e.message?$e.message:ta.FETCH_ERROR;A(bt),Le||G({title:se.ERROR,description:bt,variant:"destructive"})}finally{Le||S(!1)}},[e,G]);p.useEffect(()=>{if(!e)return;let Ae=!0,Le=0;const $e=3,bt=async()=>{try{console.log("[AuctionReportsPage]  Setting up SignalR connection for auction:",e),await di.connect(e,{bidPlaced:jt=>{!Ae||jt.auctionId!==e||(s(Nt=>Nt&&{...Nt,currentPrice:jt.newPrice}),F(!0),setTimeout(()=>F(!1),1e3),re(Nt=>{if(Nt.has(jt.bidId))return Nt;const Rr=new Set(Nt);return Rr.add(jt.bidId),G({title:"C lt t gi mi",description:`${jt.userName}  t gi ${jt.newPrice.toLocaleString("vi-VN")} VN`}),Rr}),z(),setTimeout(()=>{Ae&&(Q({silent:!0}),setTimeout(()=>{Ae&&Q({silent:!0})},1e3))},1500))},buyNow:jt=>{!Ae||jt.auctionId!==e||(z(),setTimeout(()=>{Ae&&(Q({silent:!0}),setTimeout(()=>{Ae&&Q({silent:!0})},1e3))},1500))}}),Ae&&(console.log("[AuctionReportsPage]  SignalR connected successfully for auction:",e),Le=0)}catch(jt){if(console.error("[AuctionReportsPage]  Failed to init realtime connection:",jt),Ae&&Le<$e){Le++;const Nt=Math.min(1e3*Math.pow(2,Le-1),5e3);console.log(`[AuctionReportsPage]  Retrying SignalR connection (${Le}/${$e}) in ${Nt}ms...`),setTimeout(()=>{Ae&&bt()},Nt)}}};return bt(),()=>{Ae=!1,console.log("[AuctionReportsPage]  Cleaning up SignalR connection for auction:",e),di.disconnect().catch(console.error)}},[e,z,Q,G]),p.useEffect(()=>{(async()=>{try{const Le=await Vn.list();if(Le.isSuccess&&Le.data){const $e=Le.data,bt=Array.isArray($e)?$e:$e?.items??[],jt={};bt.forEach(Nt=>{jt[Nt.id]=`${Nt.firstName} ${Nt.lastName}`.trim()||Nt.email}),ve(jt)}}catch(Le){console.error("Error fetching users:",Le)}})()},[]),p.useEffect(()=>{(async()=>{if(e)try{f(!0),await z()}finally{f(!1)}})()},[e,z]);const ie=async Ae=>{try{const Le=await lt.getAuctionExtendsByAuctionId(Ae);Le.isSuccess&&Le.data&&Y(Le.data)}catch(Le){console.error("Error fetching auction extends:",Le)}},Ce=(Ae,Le)=>{g($e=>({...$e,[Ae]:Le||void 0})),R(1)};p.useEffect(()=>{e&&Q({silent:!0})},[Q,e]);const Ve=Ae=>{R(Le=>Math.max(1,Le+(Ae==="next"?1:-1)))},nt=Ae=>{B(Ae),R(1)},ze=(Ae,Le)=>{de(Ae),P(Le),I(!0)},Ze=async()=>{if(!(!K||!Se))try{N(K.id),A(null),await cc.updateReportStatus(K.id,Se),G({title:se.SUCCESS,description:ta.UPDATE_SUCCESS}),I(!1),de(null),P(null),await Q({silent:!0})}catch(Ae){const Le=Ae instanceof Error&&Ae.message?Ae.message:ta.UPDATE_ERROR;A(Le),G({title:se.ERROR,description:Le,variant:"destructive"})}finally{N(null)}},mt=Ae=>{Ae==="pause"&&(ne(""),U(null),W("")),Ae==="resume"&&J("0"),we({isOpen:!0,actionType:Ae})},it=async()=>{if(!(!e||!ue.actionType)){if(ue.actionType==="pause"){if(!V){G({title:se.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(V!=="other"&&!M){G({title:se.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const Ae=ae.trim();if(!Ae){G({title:se.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{ee(!0);const Le=await lt.pauseEnglishAuction({auctionId:e,reason:Ae});if(Le.isSuccess){const $e=await lt.getEnglishAuctionById(e);$e.isSuccess&&$e.data&&s($e.data),G({title:se.SUCCESS,description:Et.PAUSE_SUCCESS}),we({isOpen:!1,actionType:null}),ne(""),U(null),W("")}else G({title:se.ERROR,description:Le.message||Et.PAUSE_ERROR,variant:"destructive"})}catch(Le){const $e=Le instanceof Error?Le.message:Et.PAUSE_ERROR;G({title:se.ERROR,description:$e,variant:"destructive"})}finally{ee(!1)}return}if(ue.actionType==="resume"){const Ae=Math.max(0,Number($)||0);try{ee(!0);const Le=await lt.resumeEnglishAuction({auctionId:e,extendMinute:Ae});if(Le.isSuccess){const $e=await lt.getEnglishAuctionById(e);$e.isSuccess&&$e.data&&s($e.data),await ie(e),G({title:se.SUCCESS,description:Et.RESUME_SUCCESS}),we({isOpen:!1,actionType:null}),J("0")}else G({title:se.ERROR,description:Le.message||Et.RESUME_ERROR,variant:"destructive"})}catch(Le){const $e=Le instanceof Error?Le.message:Et.RESUME_ERROR;G({title:se.ERROR,description:$e,variant:"destructive"})}finally{ee(!1)}return}}},Ue={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},ce=(()=>{if(ue.actionType==="pause"){const Ae=V,Le=Ae&&Ae!=="other"?Ue[Ae].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(Ue).map(([$e,bt],jt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-category",value:$e,checked:V===$e,onChange:()=>{U($e),W(""),ne("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[jt+1,". ",bt.title]})})]})},$e)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-category",value:"other",checked:V==="other",onChange:()=>{U("other"),W(""),ne("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),Ae&&Ae!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:Le.map(($e,bt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-specific",value:$e,checked:M===$e,onChange:()=>{W($e);const jt=Ue[Ae].title;ne(`${jt}: ${$e}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:$e})})]})},bt))})]}),Ae==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(er,{rows:3,value:ae,onChange:$e=>ne($e.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return ue.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"reports-resume-extend",children:"Gia hn thm (pht)"}),a.jsx("input",{id:"reports-resume-extend",type:"number",min:0,value:$,onChange:Ae=>J(Ae.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),Oe=p.useMemo(()=>{if(!x?.items)return[];let Ae=x.items;m.status&&(Ae=Ae.filter($e=>$e.reportStatus===m.status)),m.type&&(Ae=Ae.filter($e=>$e.reportType===m.type));const Le=T.trim().toLowerCase();return Le&&(Ae=Ae.filter($e=>$e.note.toLowerCase().includes(Le)||$e.auctionId.toLowerCase().includes(Le)||$e.reporterId.toLowerCase().includes(Le)||Tf[$e.reportType].toLowerCase().includes(Le))),Ae},[x,T,m.status,m.type]),Ne=Oe.length,We=Math.max(1,Math.ceil(Ne/D)),ut=(O-1)*D,ht=Oe.slice(ut,ut+D),ft=Ae=>{switch(Ae){case"Pending":return a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:Aa[Ae]});case"InReview":return a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:Aa[Ae]});case"Resolved":return a.jsx(De,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:Aa[Ae]});case"ActionTaken":return a.jsx(De,{variant:"outline",className:"text-purple-600 border-purple-600",children:Aa[Ae]});case"Rejected":return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:Aa[Ae]});default:return a.jsx(De,{variant:"outline",children:Ae})}},vt=Ae=>new Date(Ae).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),wt=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",en=Ae=>{e&&(Ae==="overview"?t(`/admin/auctions/${e}`):Ae==="activity-history"?t(`/admin/auctions/${e}/activity-history`):Ae==="bid-history"?t(`/admin/auctions/${e}/bid-history`):Ae==="winner"?t(`/admin/auctions/${e}/winner`):Ae==="reports"&&t(`/admin/auctions/${e}/reports`))};if(d)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})});if(!r)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})});const st=X.reduce((Ae,Le)=>Ae+Le.extendDurationInMinutes,0);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(pc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>mt("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:q,children:[a.jsx(Ll,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(oe,{onClick:()=>mt("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:q,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(oe,{onClick:()=>mt("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:q,children:[a.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(oe,{onClick:()=>mt("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:q,children:[a.jsx(zi,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Qs,{value:wt(),onValueChange:en,className:"w-full",children:a.jsxs(is,{children:[a.jsx(Dt,{value:"overview",children:"Tng Quan"}),a.jsx(Dt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(Dt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(Dt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(Dt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Bd,{auction:r,farmName:o,totalExtendMinutes:st,priceChanged:L}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"B lc"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:m.status??"",onChange:Ae=>Ce("status",Ae.target.value||void 0),children:[a.jsx("option",{value:"",children:"Tt c"}),Bae.map(Ae=>a.jsx("option",{value:Ae,children:Aa[Ae]},Ae))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi bo co"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:m.type??"",onChange:Ae=>Ce("type",Ae.target.value||void 0),children:[a.jsx("option",{value:"",children:"Tt c"}),Uae.map(Ae=>a.jsx("option",{value:Ae,children:Tf[Ae]},Ae))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kch thc trang"}),a.jsx("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:D,onChange:Ae=>nt(Number(Ae.target.value)),children:[10,20,50].map(Ae=>a.jsxs("option",{value:Ae,children:[Ae," kt qu"]},Ae))})]})]})]}),E&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:E})]}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch bo co"}),a.jsx("p",{className:"text-sm text-gray-600",children:j?"ang ti...":x?`Hin th ${ht.length} / ${Ne} bo co (tng ${x.totalCount})`:"Cha c d liu"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(dn,{value:T,onChange:Ae=>_(Ae.target.value),placeholder:"Tm theo ni dung, m phin...",className:"pl-9"})]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Q(),disabled:j,children:[a.jsx(Oa,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),j?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:j?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left w-[12%] min-w-[110px]",children:"Loi bo co"}),a.jsx(pe,{className:"text-left w-[20%] min-w-[180px]",children:"Ni dung"}),a.jsx(pe,{className:"text-left w-[15%] min-w-[140px]",children:"M phin u gi"}),a.jsx(pe,{className:"text-left w-[15%] min-w-[140px]",children:"Ngi bo co"}),a.jsx(pe,{className:"text-left w-[10%] min-w-[110px]",children:"Trng thi"}),a.jsx(pe,{className:"text-left w-[13%] min-w-[130px]",children:"Ngy to"}),a.jsx(pe,{className:"text-right w-[15%] min-w-[150px]",children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((Ae,Le)=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[28%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[18%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(je,{className:"w-[13%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:"text-right w-[17%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 ml-auto"})})]},Le))})]}):ht.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left w-[14%] min-w-[130px]",children:"Loi bo co"}),a.jsx(pe,{className:"text-left w-[28%] min-w-[220px]",children:"Ni dung"}),a.jsx(pe,{className:"text-left w-[18%] min-w-[160px]",children:"Ngi bo co"}),a.jsx(pe,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(pe,{className:"text-left w-[13%] min-w-[140px]",children:"Ngy to"}),a.jsx(pe,{className:"text-right w-[17%] min-w-[180px]",children:"Thao tc"})]})}),a.jsx(cn,{children:ht.map(Ae=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"min-h-[48px] w-[12%]",children:a.jsx("div",{className:"font-medium text-gray-900",children:Tf[Ae.reportType]})}),a.jsx(je,{className:"min-h-[48px] w-[20%]",children:a.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",title:Ae.note,children:Ae.note})}),a.jsx(je,{className:"text-sm min-h-[48px] w-[15%]",children:a.jsx("div",{className:"truncate max-w-[200px]",title:ye[Ae.reporterId]||Ae.reporterId,children:ye[Ae.reporterId]||Ae.reporterId})}),a.jsx(je,{className:"min-h-[48px] w-[10%]",children:ft(Ae.reportStatus)}),a.jsx(je,{className:"text-sm min-h-[48px] w-[13%]",children:vt(Ae.createdAt)}),a.jsx(je,{className:"text-right min-h-[48px] w-[15%]",children:Ae.reportStatus==="Pending"?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>ze(Ae,"InReview"),disabled:!!w,className:"text-emerald-600 border-emerald-600 hover:bg-emerald-50",children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Xem xt"]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>ze(Ae,"Rejected"),disabled:!!w,className:"text-red-600 border-red-600 hover:bg-red-50",children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"T chi"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:""})})]},Ae.id))})]}),We>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",O," / ",We]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>Ve("prev"),disabled:j||O<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>Ve("next"),disabled:j||O>=We,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx($m,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:T?"Khng tm thy bo co":"Cha c bo co no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:T?"Th tm kim vi t kha khc hoc xa b lc":"Hin ti cha c bo co no cho phin u gi ny"}),T&&a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>_(""),children:"Xa tm kim"})]})})]})]}),a.jsx(Zt,{open:H,onOpenChange:I,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:Se==="InReview"?"text-emerald-600":"text-red-600",children:Se==="InReview"?"Xc nhn xem xt bo co":"Xc nhn t chi bo co"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:Se==="InReview"?"Bn c chc chn mun chuyn bo co ny sang trng thi 'ang xem xt'?":"Bn c chc chn mun t chi bo co ny? Hnh ng ny khng th hon tc."}),K&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Loi: ",Tf[K.reportType]]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",title:K.note,children:K.note}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ngi bo co: ",ye[K.reporterId]||K.reporterId]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:()=>{I(!1),de(null),P(null)},disabled:!!w,children:"Hy"}),a.jsx(oe,{onClick:Ze,disabled:!!w,className:Se==="InReview"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:w?a.jsxs(a.Fragment,{children:[a.jsx(Oa,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:Se==="InReview"?a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Xc nhn xem xt"]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"Xc nhn t chi"]})})})]})]})]})}),ue.actionType&&a.jsx(Zt,{open:ue.isOpen,onOpenChange:Ae=>{Ae||(we({isOpen:!1,actionType:null}),ne(""),U(null),W(""),J("0"))},children:a.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:ue.actionType==="pause"?"text-amber-600":"text-emerald-600",children:ue.actionType==="pause"?"Tm dng phin u gi":"Tip tc phin u gi"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:ue.actionType==="pause"?"Nhp l do tm dng, phin s b kha vi ngi tham gia.":"Thit lp thi gian gia hn (nu cn) ri m li phin."}),ce,a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:()=>{we({isOpen:!1,actionType:null}),ne(""),U(null),W(""),J("0")},disabled:q,children:"Hy"}),a.jsx(oe,{onClick:it,disabled:q,className:ue.actionType==="pause"?"bg-amber-500 hover:bg-amber-600 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white",children:q?a.jsxs(a.Fragment,{children:[a.jsx(Oa,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:ue.actionType==="pause"?a.jsxs(a.Fragment,{children:[a.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Tm dng"]}):a.jsxs(a.Fragment,{children:[a.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Tip tc"]})})})]})]})]})})]})}function zae(){const{token:e}=Ks(),n=(()=>{try{const o=localStorage.getItem("currentUser");if(o)return JSON.parse(o)}catch(o){console.error("Li khi c thng tin ngi dng:",o)}return null})(),r=o=>o?new Date(o).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",s=o=>o?a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600",children:"C"}):a.jsx(De,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Ci t h thng"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Thng tin ti khon ca bn"})]}),a.jsxs(dt,{className:"card-responsive",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-responsive-xl font-semibold text-gray-900 mb-2",children:"Thng tin c nhn"})}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:n.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"H"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.firstName||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.lastName||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"H v tn"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:`${n.firstName} ${n.lastName}`.trim()||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S in thoi"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.phoneNumber||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"a ch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.address||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"X/Phng"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.communes||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tnh/Thnh ph"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.province||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vai tr ID"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:n.roleId||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vai tr"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:typeof n.role=="string"?n.role:n.roleObject?.name||n.roleObject?.fullName||n.roleId||""})]}),n.roleObject&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Chi tit vai tr"}),a.jsx("div",{className:"mt-1",children:a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:n.roleObject?.name||n.roleObject?.fullName||n.roleId||(typeof n.role=="string"?n.role:"")})})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Trng thi ti khon"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email  xc nhn"}),a.jsx("div",{className:"mt-1",children:s(n.emailConfirmed)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S in thoi  xc nhn"}),a.jsx("div",{className:"mt-1",children:s(n.phoneNumberConfirmed)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Xc thc hai yu t"}),a.jsx("div",{className:"mt-1",children:s(n.twoFactorEnabled)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Kha ti khon"}),a.jsx("div",{className:"mt-1",children:s(n.lockoutEnabled)})]}),n.lockoutEnd&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy ht hn kha"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.lockoutEnd)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S ln ng nhp sai"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.accessFailedCount||0})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thng tin h thng"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.createdAt)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.updatedAt)})]}),e&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Token (n mt phn)"}),a.jsxs("p",{className:"text-sm text-gray-900 mt-1 font-mono break-all",children:[e.substring(0,20),"...",e.substring(e.length-20)]})]})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ngi dng."})]})]})}function Hae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Tr gip & lin h"})}const qae=["Pending","InReview","Resolved","ActionTaken","Rejected"],Fae=["Fraud","FalseInformation","TechnicalIssue","PolicyViolated","Other"],_f={Fraud:"Gian ln",FalseInformation:"Thng tin sai",TechnicalIssue:"Li k thut",PolicyViolated:"Vi phm chnh sch",Other:"Khc"},Lr="text-left px-3 py-2 text-xs whitespace-nowrap",Br="px-3 py-2 text-xs align-top";function Kae(){const[e,t]=p.useState({pageNumber:1,pageSize:10}),[n,r]=p.useState(null),[s,o]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState(null),[g,x]=p.useState(""),[b,j]=p.useState({}),[S,w]=p.useState({}),[N,E]=p.useState(!1),[A,T]=p.useState(null),[_,O]=p.useState(null),{toast:R}=In(),D=(I,K)=>{t(de=>({...de,[I]:K||void 0,pageNumber:1}))},B=p.useCallback(async(I={})=>{const{silent:K=!1}=I;try{o(!0),m(null);const de=await cc.getReports(e);de.data&&(r(de.data),K||R({title:se.SUCCESS,description:ta.FETCH_SUCCESS}))}catch(de){const Se=de instanceof Error&&de.message?de.message:ta.FETCH_ERROR;m(Se),R({title:se.ERROR,description:Se,variant:"destructive"})}finally{o(!1)}},[e,R]);p.useEffect(()=>{(async()=>{try{const K={};let de=1,Se=!0;const P=100;for(;Se;){const ee=await lt.getEnglishAuctions(void 0,de,P);if(ee.isSuccess&&ee.data?.items){const ue=ee.data.items;ue.forEach(we=>{K[we.id]=we.sessionCode||we.id}),Se=ue.length===P,de++}else Se=!1}j(K);const q=await Vn.list();if(q.isSuccess&&q.data){const ee=q.data,ue=Array.isArray(ee)?ee:ee?.items??[],we={};ue.forEach(ae=>{we[ae.id]=`${ae.firstName} ${ae.lastName}`.trim()||ae.email}),w(we)}}catch(K){console.error("Error fetching auction and user data:",K)}})()},[]),p.useEffect(()=>{B({silent:!0})},[B]);const X=I=>{t(K=>({...K,pageNumber:Math.max(1,(K.pageNumber??1)+(I==="next"?1:-1))}))},Y=(I,K)=>{T(I),O(K),E(!0)},L=async()=>{if(!(!A||!_))try{d(A.id),m(null),await cc.updateReportStatus(A.id,_),R({title:se.SUCCESS,description:ta.UPDATE_SUCCESS}),E(!1),T(null),O(null),await B({silent:!0})}catch(I){const K=I instanceof Error&&I.message?I.message:ta.UPDATE_ERROR;m(K),R({title:se.ERROR,description:K,variant:"destructive"})}finally{d(null)}},F=p.useCallback(I=>b[I]||I,[b]),re=p.useCallback(I=>S[I]||I,[S]),ye=p.useMemo(()=>{if(!n?.items)return[];const I=g.trim().toLowerCase();return(I?n.items.filter(de=>de.note.toLowerCase().includes(I)||de.auctionId.toLowerCase().includes(I)||F(de.auctionId).toLowerCase().includes(I)||de.reporterId.toLowerCase().includes(I)||re(de.reporterId).toLowerCase().includes(I)||_f[de.reportType].toLowerCase().includes(I)):n.items).sort((de,Se)=>{const P=new Date(de.createdAt).getTime();return new Date(Se.createdAt).getTime()-P})},[n,g,F,re]),ve=I=>{switch(I){case"Pending":return a.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:Aa[I]});case"InReview":return a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600",children:Aa[I]});case"Resolved":return a.jsx(De,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:Aa[I]});case"ActionTaken":return a.jsx(De,{variant:"outline",className:"text-purple-600 border-purple-600",children:Aa[I]});case"Rejected":return a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600",children:Aa[I]});default:return a.jsx(De,{variant:"outline",children:I})}},H=I=>new Date(I).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bo co"}),a.jsx("p",{className:"text-base text-gray-600",children:"Qun l bo co v cp nht trng thi x l."})]}),a.jsxs(dt,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch bo co"}),a.jsx("p",{className:"text-sm text-gray-600",children:s?"ang ti...":n?`Hin th ${ye.length} / ${n.totalCount} bo co`:"Cha c d liu"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(dn,{value:g,onChange:I=>x(I.target.value),placeholder:"Tm theo ni dung, m phin...",className:"pl-9"})]}),a.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>B(),disabled:s,children:[a.jsx(Oa,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"ang ti...":"Lm mi"]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>D("status",void 0),className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${e.status?"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700":"border-emerald-500 bg-emerald-50 text-emerald-700"}`,children:["Tt c trng thi",n&&a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:n.totalCount})]}),qae.map(I=>{const K=n?.items?.filter(de=>de.reportStatus===I).length??0;return a.jsxs("button",{type:"button",onClick:()=>D("status",I),className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${e.status===I?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[Aa[I],n&&a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:K})]},I)}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${e.type?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:e.type??"",onChange:I=>D("type",I.target.value||void 0),className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${e.type?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Tt c loi bo co"}),Fae.map(I=>{const K=n?.items?.filter(de=>de.reportType===I).length??0;return a.jsxs("option",{value:I,children:[_f[I]," ",n&&`(${K})`]},I)})]}),a.jsx(Um,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${e.type?"text-emerald-600":"text-gray-400"}`})]})]}),f&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:f})]}),a.jsx("div",{className:"overflow-x-auto",children:s?a.jsxs(ln,{className:"text-xs",children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:`${Lr} w-[12%] min-w-[90px]`,children:"Loi bo co"}),a.jsx(pe,{className:`${Lr} w-[2%] min-w-[150px]`,children:"Ni dung"}),a.jsx(pe,{className:`${Lr} w-[15%] min-w-[120px]`,children:"M phin u gi"}),a.jsx(pe,{className:`${Lr} w-[10%] min-w-[120px]`,children:"Ngi bo co"}),a.jsx(pe,{className:`${Lr} w-[10%] min-w-[100px]`,children:"Trng thi"}),a.jsx(pe,{className:`${Lr} w-[13%] min-w-[120px]`,children:"Ngy to"}),a.jsx(pe,{className:`${Lr} text-right w-[15%] min-w-[140px]`,children:"Thao tc"})]})}),a.jsx(cn,{children:[...Array(5)].map((I,K)=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:`${Br} w-[12%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Br} w-[20%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Br} w-[15%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Br} w-[15%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Br} w-[10%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-16"})}),a.jsx(je,{className:`${Br} w-[13%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(je,{className:`${Br} text-right w-[15%]`,children:a.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-20 ml-auto"})})]},K))})]}):ye.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{className:"text-xs",children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:`${Lr} w-[12%] min-w-[90px]`,children:"Loi bo co"}),a.jsx(pe,{className:`${Lr} w-[20%] min-w-[150px]`,children:"Ni dung"}),a.jsx(pe,{className:`${Lr} w-[15%] min-w-[120px]`,children:"M phin u gi"}),a.jsx(pe,{className:`${Lr} w-[15%] min-w-[120px]`,children:"Ngi bo co"}),a.jsx(pe,{className:`${Lr} w-[10%] min-w-[100px]`,children:"Trng thi"}),a.jsx(pe,{className:`${Lr} w-[13%] min-w-[120px]`,children:"Ngy to"}),a.jsx(pe,{className:`${Lr} text-right w-[15%] min-w-[140px]`,children:"Thao tc"})]})}),a.jsx(cn,{children:ye.map(I=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:`${Br} w-[12%]`,children:a.jsx("div",{className:"font-medium text-gray-900 truncate",children:_f[I.reportType]})}),a.jsx(je,{className:`${Br} w-[20%]`,children:a.jsx("div",{className:"text-xs text-gray-700 line-clamp-2",title:I.note,children:I.note})}),a.jsx(je,{className:`${Br} w-[15%]`,children:a.jsx("div",{className:"truncate max-w-[200px]",title:F(I.auctionId),children:F(I.auctionId)})}),a.jsx(je,{className:`${Br} w-[15%]`,children:a.jsx("div",{className:"truncate max-w-[200px]",title:re(I.reporterId),children:re(I.reporterId)})}),a.jsx(je,{className:`${Br} w-[10%]`,children:ve(I.reportStatus)}),a.jsx(je,{className:`${Br} w-[13%]`,children:H(I.createdAt)}),a.jsx(je,{className:`${Br} text-right w-[15%]`,children:I.reportStatus==="Pending"?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(oe,{size:"sm",onClick:()=>Y(I,"InReview"),disabled:!!u,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Xem xt"]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Y(I,"Rejected"),disabled:!!u,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"T chi"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:""})})]},I.id))})]}),n&&n.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",n.pageNumber," / ",n.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>X("prev"),disabled:s||n.previousPage===!1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>X("next"),disabled:s||n.nextPage===!1,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx($m,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"Khng tm thy bo co":"Cha c bo co no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:g?"Th tm kim vi t kha khc hoc xa b lc":"Hin ti cha c bo co no trong h thng"}),g&&a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>x(""),children:"Xa tm kim"})]})})]}),a.jsx(Zt,{open:N,onOpenChange:E,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:_==="InReview"?"text-emerald-600":"text-red-600",children:_==="InReview"?"Xc nhn xem xt bo co":"Xc nhn t chi bo co"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:_==="InReview"?"Bn c chc chn mun chuyn bo co ny sang trng thi 'ang xem xt'?":"Bn c chc chn mun t chi bo co ny? Hnh ng ny khng th hon tc."}),A&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Loi: ",_f[A.reportType]]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",title:A.note,children:A.note}),a.jsxs("p",{className:"text-xs text-gray-500",children:["M phin: ",F(A.auctionId)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:()=>{E(!1),T(null),O(null)},disabled:!!u,children:"Hy"}),a.jsx(oe,{onClick:L,disabled:!!u,className:_==="InReview"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Oa,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:_==="InReview"?a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Xc nhn xem xt"]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),"Xc nhn t chi"]})})})]})]})]})})]})}const Gae={0:"Hot ng",1:"Tm ngng",2:" ng"},Vae={0:"Ch duyt",1:" duyt",2:" t chi",3:" hon thnh",4:" hy"},A_={0:"PayOS",1:"Wallet"},Wae=e=>{const t={0:"text-green-600 border-green-600",1:"text-yellow-600 border-yellow-600",2:"text-red-600 border-red-600"};return a.jsx(De,{variant:"outline",className:t[e],children:Gae[e]})},T_=e=>{const t={0:"text-yellow-600 border-yellow-600 bg-yellow-50",1:"text-blue-600 border-blue-600 bg-blue-50",2:"text-red-600 border-red-600 bg-red-50",3:"text-green-600 border-green-600 bg-green-50",4:"text-gray-600 border-gray-600 bg-gray-50"};return a.jsx(De,{variant:"outline",className:t[e],children:Vae[e]})},ks=e=>new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),__=e=>{if(!e)return"";let t=e.replace(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,"");return t=t.replace(/auction\s*:?\s*[0-9a-f-]+/gi,""),t=t.replace(/auctionId\s*:?\s*[0-9a-f-]+/gi,""),t=t.replace(/\s*[,:]\s*/g," ").replace(/\s+/g," ").trim(),t||""};function Yae(){const{toast:e}=In(),t=br(),[n,r]=p.useState(null),[s,o]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[g,x]=p.useState(""),[b,j]=p.useState("all"),[S,w]=p.useState(""),[N,E]=p.useState(""),[A,T]=p.useState([]),[_,O]=p.useState(!1),[R,D]=p.useState(""),[B,X]=p.useState("all"),[Y,L]=p.useState(1),[F,re]=p.useState(1),ye=10,[ve,H]=p.useState(!1),[I,K]=p.useState(!1),[de,Se]=p.useState(!1),[P,q]=p.useState(null),[ee,ue]=p.useState(""),[we,ae]=p.useState(null),[ne,V]=p.useState(null),[U,M]=p.useState(!1),[W,$]=p.useState(null),[J,G]=p.useState(!1),[z,Q]=p.useState(null),[ie,Ce]=p.useState(!1),[Ve,nt]=p.useState(null),[ze,Ze]=p.useState(!1),[mt,it]=p.useState(null),[Ue,ce]=p.useState(null),[Oe,Ne]=p.useState(!1),[We,ut]=p.useState(!1),[ht,ft]=p.useState(null),[vt,wt]=p.useState(null),[en,st]=p.useState(null),[Ae,Le]=p.useState(null),[$e,bt]=p.useState(!1),[jt,Nt]=p.useState(null),[Rr,ua]=p.useState(!1),Hr="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",eo=p.useCallback(async()=>{try{console.log("[WalletPage] Fetching system wallet...");const fe=await vn.getSystemWallet();return console.log("[WalletPage] System wallet response:",fe),fe.isSuccess&&fe.data?(console.log("[WalletPage] Wallet data:",fe.data),r(fe.data),fe.data):(console.error("[WalletPage] Failed to get wallet:",fe.message),e({title:se.ERROR,description:fe.message||"Khng th ti thng tin v",variant:"destructive"}),null)}catch(fe){console.error("[WalletPage] Error fetching wallet:",fe);const Me=fe instanceof Error?fe.message:" xy ra li khi ti thng tin v";return e({title:se.ERROR,description:Me,variant:"destructive"}),null}},[e]),Zs=p.useCallback(async fe=>{try{m(!0),console.log("[WalletPage] Fetching ledgers for wallet:",fe);const Me=await vn.getLedgersByWallet(fe);if(console.log("[WalletPage] Ledgers response:",Me),Me.isSuccess&&Me.data){console.log("[WalletPage] Ledgers data:",Me.data);const Pe=[...Me.data].sort((tn,nn)=>tn.createdAt&&nn.createdAt?new Date(nn.createdAt).getTime()-new Date(tn.createdAt).getTime():nn.balanceAfter-tn.balanceAfter);o(Pe)}else console.error("[WalletPage] Failed to get ledgers:",Me.message),e({title:se.ERROR,description:Me.message||"Khng th ti lch s giao dch",variant:"destructive"})}catch(Me){console.error("[WalletPage] Error fetching ledgers:",Me);const Pe=Me instanceof Error?Me.message:" xy ra li khi ti lch s giao dch";e({title:se.ERROR,description:Pe,variant:"destructive"})}finally{m(!1)}},[e]),jr=p.useCallback(async()=>{try{O(!0);const fe=await vn.getWithdrawRequests();if(fe.isSuccess&&fe.data){const Me=[...fe.data].sort((Pe,tn)=>Pe.createdAt&&tn.createdAt?new Date(tn.createdAt).getTime()-new Date(Pe.createdAt).getTime():0);T(Me)}else e({title:se.ERROR,description:fe.message||"Khng th ti danh sch yu cu rt tin",variant:"destructive"})}catch(fe){const Me=fe instanceof Error?fe.message:" xy ra li khi ti danh sch yu cu rt tin";e({title:se.ERROR,description:Me,variant:"destructive"})}finally{O(!1)}},[e]),Xa=p.useCallback(fe=>{q(fe),K(!0)},[]),ss=p.useCallback(async()=>{if(P)try{ae(P.id);const fe=await vn.approveWithdrawRequest(P.id);fe.isSuccess&&fe.data?(e({title:se.SUCCESS,description:"Duyt yu cu rt tin thnh cng",variant:"default"}),K(!1),q(null),await jr()):e({title:se.ERROR,description:fe.message||"Khng th duyt yu cu rt tin",variant:"destructive"})}catch(fe){const Me=fe instanceof Error?fe.message:" xy ra li khi duyt yu cu rt tin";e({title:se.ERROR,description:Me,variant:"destructive"})}finally{ae(null)}},[e,jr,P]),Oc=p.useCallback(async(fe,Me)=>{try{ae(fe);const Pe=await vn.rejectWithdrawRequest(fe,Me?{reason:Me}:void 0);Pe.isSuccess&&Pe.data?(e({title:se.SUCCESS,description:"T chi yu cu rt tin thnh cng",variant:"default"}),H(!1),ue(""),q(null),await jr()):e({title:se.ERROR,description:Pe.message||"Khng th t chi yu cu rt tin",variant:"destructive"})}catch(Pe){const tn=Pe instanceof Error?Pe.message:" xy ra li khi t chi yu cu rt tin";e({title:se.ERROR,description:tn,variant:"destructive"})}finally{ae(null)}},[e,jr]),Js=p.useCallback(fe=>{q(fe),Se(!0)},[]),to=p.useCallback(async()=>{if(P)try{ae(P.id);const fe=await vn.completeWithdrawRequest(P.id);fe.isSuccess&&fe.data?(e({title:se.SUCCESS,description:"Hon thnh yu cu rt tin thnh cng",variant:"default"}),Se(!1),q(null),await jr()):e({title:se.ERROR,description:fe.message||"Khng th hon thnh yu cu rt tin",variant:"destructive"})}catch(fe){const Me=fe instanceof Error?fe.message:" xy ra li khi hon thnh yu cu rt tin";e({title:se.ERROR,description:Me,variant:"destructive"})}finally{ae(null)}},[e,jr,P]);p.useEffect(()=>{(async()=>{d(!0);const Me=await eo();Me&&await Zs(Me.id),d(!1)})()},[]),p.useEffect(()=>{jr()},[jr]);const Qa=p.useCallback(async fe=>{try{const Me=await vn.getWithdrawRequestById(fe);if(Me.isSuccess&&Me.data){if(V(Me.data),Me.data.userId)try{Ce(!0);const Pe=await Vn.getById(Me.data.userId);Pe.isSuccess&&Pe.data&&Q(Pe.data)}catch(Pe){console.error("Error fetching user info:",Pe)}finally{Ce(!1)}if(Me.data.walletId)try{Ze(!0);const Pe=await vn.getWalletById(Me.data.walletId);Pe.isSuccess&&Pe.data&&nt(Pe.data)}catch(Pe){console.error("Error fetching wallet info:",Pe)}finally{Ze(!1)}if(Me.data.userBankAccountId)try{G(!0);const Pe=await vn.getUserBankAccountById(Me.data.userBankAccountId);Pe.isSuccess&&Pe.data&&$(Pe.data)}catch(Pe){console.error("Error fetching bank account:",Pe)}finally{G(!1)}}}catch{e({title:se.ERROR,description:"Khng th ti chi tit yu cu rt tin",variant:"destructive"})}},[e]),no=()=>{(async()=>{d(!0);const Me=await eo();Me&&await Zs(Me.id),d(!1)})(),jr()},el=async fe=>{q(fe),$(null),Q(null),nt(null),M(!0),await Qa(fe.id)},ro=p.useCallback(async fe=>{if(ft(null),wt(null),st(null),Le(null),!(!fe.fromWalletId&&!fe.toWalletId))try{if(bt(!0),fe.fromWalletId)try{const Me=await vn.getWalletById(fe.fromWalletId);if(Me.isSuccess&&Me.data&&(ft(Me.data),Me.data.userId)){const Pe=await Vn.getById(Me.data.userId);Pe.isSuccess&&Pe.data&&st(Pe.data)}}catch(Me){console.error("Error fetching from wallet/user:",Me)}if(fe.toWalletId)try{const Me=await vn.getWalletById(fe.toWalletId);if(Me.isSuccess&&Me.data&&(wt(Me.data),Me.data.userId)){const Pe=await Vn.getById(Me.data.userId);Pe.isSuccess&&Pe.data&&Le(Pe.data)}}catch(Me){console.error("Error fetching to wallet/user:",Me)}}finally{bt(!1)}},[]),he=p.useCallback(async fe=>{Nt(null);try{if(ua(!0),console.log("[loadRelatedEntityInfo] Transaction:",{transactionType:fe.transactionType,escrowId:fe.escrowId,relatedEntityId:fe.relatedEntityId,relatedEntityType:fe.relatedEntityType}),(fe.transactionType===1||fe.transactionType===6)&&fe.escrowId&&fe.escrowId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow:",fe.escrowId);const Me=await vn.getEscrowById(fe.escrowId);if(console.log("[loadRelatedEntityInfo] Escrow response:",Me),Me.isSuccess&&Me.data){const Pe=Me.data;if(console.log("[loadRelatedEntityInfo] Escrow data:",Pe),Pe.auctionId&&Pe.auctionId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow by auctionId:",Pe.auctionId);const tn=await vn.getEscrowByAuctionId(Pe.auctionId);console.log("[loadRelatedEntityInfo] Escrow by auction response:",tn);const nn=await lt.getEnglishAuctionById(Pe.auctionId);if(nn.isSuccess&&nn.data){console.log("[loadRelatedEntityInfo] Auction loaded successfully:",nn.data),Nt(nn.data);return}}catch(tn){console.error("[loadRelatedEntityInfo] Error fetching escrow/auction or auction:",tn)}if(Pe.buyRequestId&&Pe.buyRequestId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow by buyRequestId:",Pe.buyRequestId);const tn=await vn.getEscrowByBuyRequestId(Pe.buyRequestId);console.log("[loadRelatedEntityInfo] Escrow by buyRequest response:",tn)}catch(tn){console.error("[loadRelatedEntityInfo] Error fetching escrow/buyrequest:",tn)}!Pe.auctionId&&!Pe.buyRequestId&&console.log("[loadRelatedEntityInfo] Escrow does not have auctionId or buyRequestId, trying fallback")}else console.warn("[loadRelatedEntityInfo] Escrow API failed:",Me.message)}catch(Me){console.error("[loadRelatedEntityInfo] Error fetching escrow detail:",Me)}if(fe.relatedEntityId&&fe.relatedEntityId!=="00000000-0000-0000-0000-000000000000"&&(fe.relatedEntityType||(fe.transactionType===7||fe.transactionType===8||fe.transactionType===9?"Auction":null))==="Auction"&&fe.relatedEntityId)try{console.log("[loadRelatedEntityInfo] Loading auction from relatedEntityId:",fe.relatedEntityId);const Pe=await lt.getEnglishAuctionById(fe.relatedEntityId);if(Pe.isSuccess&&Pe.data){console.log("[loadRelatedEntityInfo] Auction loaded from relatedEntityId:",Pe.data),Nt(Pe.data);return}}catch(Pe){console.error("[loadRelatedEntityInfo] Error fetching auction detail:",Pe)}}finally{ua(!1)}},[]),Ye=p.useCallback(async fe=>{$(null),Q(null),nt(null),M(!0);try{const Me=await vn.getWithdrawRequestById(fe);if(Me.isSuccess&&Me.data){if(q(Me.data),V(Me.data),Me.data.userId)try{Ce(!0);const Pe=await Vn.getById(Me.data.userId);Pe.isSuccess&&Pe.data&&Q(Pe.data)}catch(Pe){console.error("Error fetching user info:",Pe)}finally{Ce(!1)}if(Me.data.walletId)try{Ze(!0);const Pe=await vn.getWalletById(Me.data.walletId);Pe.isSuccess&&Pe.data&&nt(Pe.data)}catch(Pe){console.error("Error fetching wallet info:",Pe)}finally{Ze(!1)}if(Me.data.userBankAccountId)try{G(!0);const Pe=await vn.getUserBankAccountById(Me.data.userBankAccountId);Pe.isSuccess&&Pe.data&&$(Pe.data)}catch(Pe){console.error("Error fetching bank account:",Pe)}finally{G(!1)}}else e({title:se.ERROR,description:Me.message||"Khng th ti chi tit yu cu rt tin",variant:"destructive"})}catch(Me){const Pe=Me instanceof Error?Me.message:" xy ra li khi ti chi tit yu cu rt tin";e({title:se.ERROR,description:Pe,variant:"destructive"})}},[e]),Rt=p.useMemo(()=>{let fe=s;if(g){const Me=g.toLowerCase();fe=fe.filter(Pe=>Pe.description.toLowerCase().includes(Me)||Pe.transactionId.toLowerCase().includes(Me)||Pe.walletId.toLowerCase().includes(Me))}if(b!=="all"&&(fe=fe.filter(Me=>Me.direction===Number(b))),S){const Me=new Date(S);Me.setHours(0,0,0,0),fe=fe.filter(Pe=>{if(!Pe.createdAt)return!1;const tn=new Date(Pe.createdAt);return tn.setHours(0,0,0,0),tn>=Me})}if(N){const Me=new Date(N);Me.setHours(23,59,59,999),fe=fe.filter(Pe=>Pe.createdAt?new Date(Pe.createdAt)<=Me:!1)}return fe},[s,g,b,S,N]),qr=p.useMemo(()=>{let fe=A;if(R){const Me=R.toLowerCase();fe=fe.filter(Pe=>Pe.id.toLowerCase().includes(Me)||Pe.userId.toLowerCase().includes(Me)||Pe.walletId.toLowerCase().includes(Me)||Pe.userBankAccountId.toLowerCase().includes(Me))}return B!=="all"&&(fe=fe.filter(Me=>Me.status===B)),fe},[A,R,B]),ao=p.useMemo(()=>{const fe=(Y-1)*ye;return Rt.slice(fe,fe+ye)},[Rt,Y]),Ud=p.useMemo(()=>{const fe=(F-1)*ye;return qr.slice(fe,fe+ye)},[qr,F]),io=Math.max(1,Math.ceil(Rt.length/ye)),tl=Math.max(1,Math.ceil(qr.length/ye));p.useEffect(()=>{L(1)},[g,b,S,N]),p.useEffect(()=>{re(1)},[R,B]);const nl=fe=>{q(fe),ue(""),H(!0)},kc=()=>{P&&Oc(P.id,ee)};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l v"}),a.jsx("p",{className:"text-gray-600",children:"Qun l s d, lch s giao dch v yu cu rt tin"})]}),a.jsx(dt,{className:"mb-6",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"S d hin ti"}),u?a.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}):a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:n?Je(n.balance):""}),n&&a.jsx("div",{className:"mt-3 flex items-center gap-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Trng thi:"})," ",Wae(n.walletStatus)]})})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(oe,{variant:"outline",onClick:no,disabled:u||f||_,children:[a.jsx(Oa,{className:`w-4 h-4 mr-2 ${u||f||_?"animate-spin":""}`}),"Lm mi"]})})]})})}),a.jsxs(Qs,{defaultValue:"system-wallet",className:"w-full",children:[a.jsxs(is,{className:"mb-6",children:[a.jsx(Dt,{value:"system-wallet",children:"V h thng"}),a.jsx(Dt,{value:"withdraw-requests",children:"Yu cu rt tin"})]}),a.jsx(Ui,{value:"system-wallet",children:a.jsx(dt,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Lch s giao dch"}),a.jsx("p",{className:"text-sm text-gray-600",children:f?"ang ti...":a.jsxs(a.Fragment,{children:["Hin th ",ao.length," / ",Rt.length," giao dch (Tng ",s.length,")"]})})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(dn,{placeholder:"Tm kim theo m t, m giao dch...",value:g,onChange:fe=>x(fe.target.value),className:"pl-10"})]}),a.jsx("div",{children:a.jsxs("select",{value:b,onChange:fe=>{const Me=fe.target.value;j(Me==="all"?"all":Number(Me))},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c giao dch"}),a.jsx("option",{value:"1",children:"Tin vo"}),a.jsx("option",{value:"2",children:"Tin ra"})]})}),a.jsx("div",{children:a.jsx(dn,{type:"date",placeholder:"T ngy",value:S,onChange:fe=>w(fe.target.value),className:"w-full"})}),a.jsx("div",{children:a.jsx(dn,{type:"date",placeholder:"n ngy",value:N,onChange:fe=>E(fe.target.value),className:"w-full",min:S||void 0})})]}),(g||b!=="all"||S||N)&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{x(""),j("all"),w(""),E("")},className:"h-8 px-3 text-xs",children:[a.jsx(Xl,{className:"w-3 h-3 mr-1"}),"Xa b lc"]})})]}),f?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti lch s giao dch..."})}):Rt.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Cha c giao dch no"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[15%]",children:"S tin"}),a.jsx(pe,{className:"w-[15%]",children:"S d sau"}),a.jsx(pe,{className:"w-[30%]",children:"M t"}),a.jsx(pe,{className:"w-[20%]",children:"Thi gian"}),a.jsx(pe,{className:"w-[20%] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:ao.map((fe,Me)=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{children:a.jsxs("span",{className:`font-semibold ${fe.direction===1?"text-green-600":"text-red-600"}`,children:[fe.direction===1?"+":"-",Je(fe.amount)]})}),a.jsx(je,{children:a.jsx("span",{className:"font-medium text-gray-900",children:Je(fe.balanceAfter)})}),a.jsx(je,{children:a.jsx("div",{className:"truncate max-w-[300px]",title:__(fe.description),children:__(fe.description)})}),a.jsx(je,{children:fe.createdAt?a.jsx("span",{className:"text-sm text-gray-600",children:ks(fe.createdAt)}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx(je,{className:"text-right",children:a.jsxs(oe,{variant:"outline",size:"sm",onClick:async()=>{it(fe.transactionId),ut(!0),Ne(!0);try{const Pe=await vn.getTransactionById(fe.transactionId);Pe.isSuccess&&Pe.data&&(ce(Pe.data),await ro(Pe.data),await he(Pe.data))}catch{e({title:se.ERROR,description:"Khng th ti thng tin giao dch",variant:"destructive"})}finally{Ne(!1)}},className:"h-8 px-3 text-xs",children:[a.jsx(xr,{className:"w-3 h-3 mr-1"}),"Xem chi tit"]})})]},fe.id||`${fe.transactionId}-${Me}`))})]})}),!f&&Rt.length>0&&io>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 sm:gap-4 mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Trang ",Y," / ",io]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>L(fe=>Math.max(1,fe-1)),disabled:Y===1,className:"text-xs sm:text-sm",children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>L(fe=>Math.min(io,fe+1)),disabled:Y===io,className:"text-xs sm:text-sm",children:"Sau"})]})]})]})})}),a.jsx(Ui,{value:"withdraw-requests",children:a.jsx(dt,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Yu cu rt tin"}),a.jsx("p",{className:"text-sm text-gray-600",children:_?"ang ti...":`Hin th ${Ud.length} / ${qr.length} yu cu`})]})}),a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(dn,{placeholder:"Tm kim theo s tin, l do...",value:R,onChange:fe=>D(fe.target.value),className:"pl-10"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("select",{value:B,onChange:fe=>X(fe.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:0,children:"Ch duyt"}),a.jsx("option",{value:1,children:" duyt"}),a.jsx("option",{value:2,children:" t chi"}),a.jsx("option",{value:3,children:" hon thnh"}),a.jsx("option",{value:4,children:" hy"})]})})]}),_?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pn,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-500",children:"ang ti danh sch yu cu rt tin..."})]}):qr.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Khng tm thy yu cu rt tin no"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[15%]",children:"S tin"}),a.jsx(pe,{className:"w-[15%]",children:"Trng thi"}),a.jsx(pe,{className:"w-[18%]",children:"Ngy to"}),a.jsx(pe,{className:"w-[20%]",children:"L do"}),a.jsx(pe,{className:"w-[32%] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:Ud.map(fe=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{children:a.jsx("span",{className:"font-semibold text-gray-900",children:Je(fe.amount)})}),a.jsx(je,{children:T_(fe.status)}),a.jsx(je,{children:a.jsx("span",{className:"text-sm text-gray-600",children:ks(fe.createdAt)})}),a.jsx(je,{children:a.jsx("span",{className:"text-sm text-gray-600",children:fe.reason||""})}),a.jsx(je,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>el(fe),className:"h-8 px-3 text-xs",children:[a.jsx(xr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),fe.status===0&&a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx(oe,{size:"sm",onClick:()=>Xa(fe),disabled:!!we,className:"bg-emerald-600 hover:bg-emerald-700 text-white flex-1 min-w-[90px] text-xs",children:" Duyt"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>nl(fe),disabled:!!we,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 flex-1 min-w-[90px] text-xs",children:" T chi"})]}),fe.status===1&&a.jsxs(oe,{size:"sm",onClick:()=>Js(fe),disabled:!!we,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:[a.jsx(Ra,{className:"w-3 h-3 mr-1"}),"Hon thnh"]})]})})]},fe.id))})]})}),!_&&qr.length>0&&tl>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 sm:gap-4 mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Trang ",F," / ",tl]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>re(fe=>Math.max(1,fe-1)),disabled:F===1,className:"text-xs sm:text-sm",children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>re(fe=>Math.min(tl,fe+1)),disabled:F===tl,className:"text-xs sm:text-sm",children:"Sau"})]})]})]})})})]}),a.jsx(Zt,{open:I,onOpenChange:K,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt yu cu rt tin ny? Yu cu s c chuyn sang trng thi " duyt".'}),P&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",Je(P.amount)]}),P.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:P.reason,children:["L do: ",P.reason]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:()=>{K(!1),q(null)},disabled:!!we,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:ss,disabled:!!we,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:we===P?.id?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})}),a.jsx(Zt,{open:de,onOpenChange:Se,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-blue-600",children:"Xc nhn hon thnh yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun hon thnh yu cu rt tin ny? Yu cu s c chuyn sang trng thi " hon thnh" v tin s c chuyn vo ti khon ngn hng.'}),P&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",Je(P.amount)]}),P.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:P.reason,children:["L do: ",P.reason]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:()=>{Se(!1),q(null)},disabled:!!we,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:to,disabled:!!we,className:"bg-blue-600 hover:bg-blue-700 text-white min-h-[40px] px-4",children:we===P?.id?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang hon thnh..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Xc nhn hon thnh"]})})]})]})]})}),a.jsx(Zt,{open:ve,onOpenChange:H,children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi yu cu rt tin ny? Hnh ng ny khng th hon tc."}),P&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",Je(P.amount)]}),P.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:P.reason,children:["L do: ",P.reason]})]}),a.jsxs("div",{children:[a.jsx(Be,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi (ty chn)"}),a.jsx(er,{id:"rejectReason",placeholder:"Nhp l do t chi yu cu rt tin ny...",value:ee,onChange:fe=>ue(fe.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(oe,{variant:"outline",onClick:()=>{H(!1),ue(""),q(null)},disabled:!!we,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(oe,{onClick:kc,disabled:!!we,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:we===P?.id?a.jsxs(a.Fragment,{children:[a.jsx(Pn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(li,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})}),a.jsx(Zt,{open:U,onOpenChange:M,children:a.jsx(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:P&&a.jsxs(a.Fragment,{children:[a.jsx(Jt,{className:"pb-4 border-b border-gray-200",children:a.jsx(Vt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit yu cu rt tin"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thng tin ngi dng"}),ie?a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(Pn,{className:"w-4 h-4 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin ngi dng..."})]}):z?a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[z.firstName," ",z.lastName]})}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs text-gray-600",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:z.email})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs text-gray-600",children:"S in thoi"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:z.phoneNumber||""})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Be,{className:"text-xs text-gray-600",children:"a ch"}),a.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[z.address,", ",z.communes,", ",z.province]})]})]})]})}):a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ngi dng"})})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"S tin"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:Je(ne?.amount||P.amount)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:T_(ne?.status||P.status)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thng tin ti khon ngn hng"}),J?a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(Pn,{className:"w-4 h-4 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin ngn hng..."})]}):W?a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[W.bank?.logo&&a.jsx("img",{src:W.bank.logo,alt:W.bank.name,className:"w-10 h-10 object-contain"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:W.bank?.name||W.bank?.shortName||"N/A"}),W.bank?.code&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Code: ",W.bank.code]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs text-gray-600",children:"S ti khon"}),a.jsx("p",{className:"text-sm font-mono text-gray-900 mt-1",children:W.accountNumber})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs text-gray-600",children:"Tn ch ti khon"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:W.accountName})]})]}),W.isPrimary&&a.jsx("div",{className:"mt-2",children:a.jsx(De,{variant:"outline",className:"text-blue-600 border-blue-600 bg-blue-50",children:"Ti khon chnh"})})]})]})}):a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ti khon ngn hng"})})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"L do"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:ne?.reason||P.reason||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:ks(ne?.createdAt||P.createdAt)})]}),ne?.updatedAt&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:ks(ne.updatedAt)})]})]})]})})}),a.jsx(Zt,{open:We,onOpenChange:fe=>{fe||(ut(!1),it(null),ce(null),ft(null),wt(null),st(null),Le(null),Nt(null))},children:a.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Jt,{className:"pb-4 border-b border-gray-200",children:[a.jsx(Vt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit giao dch"}),Ue&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["S tin: ",Je(Ue.amount)," |"," ","Loi tin: ",Ue.currency]})]}),a.jsx("div",{className:"space-y-6",children:Oe?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pn,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-500",children:"ang ti thng tin giao dch..."})]}):Ue?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Code"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ue.code||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ue.desc||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:Ue.success?a.jsx(De,{variant:"outline",className:"text-green-600 border-green-600 bg-green-50",children:"Thnh cng"}):a.jsx(De,{variant:"outline",className:"text-red-600 border-red-600 bg-red-50",children:"Tht bi"})})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Order Code"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ue.orderCode||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"S tin"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:Je(Ue.amount)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Loi tin"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ue.currency})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Loi thanh ton"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A_[Ue.paymentType]!==void 0?A_[Ue.paymentType]:`Type ${Ue.paymentType}`})]})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thi gian giao dch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Ue.transactionDateTime&&Ue.transactionDateTime!=="0001-01-01T00:00:00"?ks(Ue.transactionDateTime):""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:ks(Ue.createdAt)})]}),Ue.updatedAt&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:ks(Ue.updatedAt)})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thng tin ngi gi / ngi nhn"}),$e?a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin v v ngi dng..."]}):a.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngi gi"}),a.jsx("p",{className:"font-medium text-gray-900",children:Ue.fromWalletId===Hr?"V h thng":en?`${en.firstName} ${en.lastName}`:ht?`Wallet ${ht.userId}`:Ue.fromWalletId||""})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngi nhn"}),a.jsx("p",{className:"font-medium text-gray-900",children:Ue.toWalletId===Hr?"V h thng":Ae?`${Ae.firstName} ${Ae.lastName}`:vt?`Wallet ${vt.id}`:Ue.toWalletId||""})]})]})]}),(Ue.relatedEntityId||(Ue.transactionType===1||Ue.transactionType===6)&&Ue.escrowId&&Ue.escrowId!=="00000000-0000-0000-0000-000000000000")&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2 space-y-3",children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"i tng lin quan"}),Rr?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin i tng lin quan..."]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm",children:a.jsxs("p",{className:"text-gray-700",children:["Loi:"," ",a.jsx("span",{className:"font-medium",children:Ue.relatedEntityType||(jt||Ue.transactionType===7||Ue.transactionType===8||Ue.transactionType===9?"Auction":Ue.transactionType===1||Ue.transactionType===6?"Auction/BuyRequest":"")})]})}),jt&&a.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-200 space-y-2",children:[a.jsxs("p",{className:"text-sm font-semibold text-emerald-900",children:["Phin u gi #",jt.sessionCode]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gi khi im:"})," ",a.jsx("span",{className:"font-medium",children:Je(jt.startingPrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gi hin ti:"})," ",a.jsx("span",{className:"font-medium",children:jt.currentPrice?Je(jt.currentPrice):""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Trng thi:"})," ",a.jsx(De,{variant:"outline",className:"text-xs",children:jt.status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy kt thc:"})," ",a.jsx("span",{className:"font-medium",children:ks(jt.endDate)})]})]})]}),(jt||Ue.relatedEntityType==="Auction"||Ue.transactionType===7||Ue.transactionType===8||Ue.transactionType===9||Ue.transactionType===1||Ue.transactionType===6)&&a.jsx(oe,{size:"sm",variant:"outline",className:"text-emerald-700 border-emerald-600 hover:bg-emerald-50",onClick:()=>{Ue.relatedEntityId&&t(`/admin/auctions/${Ue.relatedEntityId}`)},children:"i ti phin u gi"}),Ue.relatedEntityType==="BuyRequest"&&a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Yu cu mua ID: ",a.jsx("span",{className:"font-mono",children:Ue.relatedEntityId})]})})]})]}),Ue.relatedEntityId&&(Ue.relatedEntityType==="WithdrawRequest"||Ue.transactionType===5)&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Giao dch ny lin quan ti mt yu cu rt tin. Bn c th m chi tit  xem y  thng tin."}),a.jsx(oe,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>{ut(!1),Ue.relatedEntityId&&Ye(Ue.relatedEntityId)},children:"Xem chi tit yu cu rt tin"})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Khng th ti thng tin giao dch"})})})]})})]})}const Xae={0:"Ch phn hi",1:"Hai bn  ng ",2:"Ngi dng t chi",3:"Admin ang x l",4:" kt thc"},Qae={0:"bg-amber-100 text-amber-800 border-amber-200",1:"bg-emerald-100 text-emerald-800 border-emerald-200",2:"bg-red-100 text-red-700 border-red-200",3:"bg-blue-100 text-blue-800 border-blue-200",4:"bg-slate-100 text-slate-800 border-slate-200"},Zae={Draft:"Bn nhp",Pending:"Ch duyt",Rejected:" t chi",Approved:" duyt",OnGoing:"ang din ra",Pause:"Tm dng",Completed:" hon thnh",NoWinner:"Khng c ngi thng",Cancelled:" hy"},R_={Pending:"ang ch x l",Accepted:" chp nhn",Approved:" chp nhn",Rejected:" t chi",Completed:" hon thnh",Canceled:" hy",Cancelled:" hy",0:"ang ch x l",1:" chp nhn",2:" t chi",3:" hon thnh",4:" hy"},O_=e=>a.jsx(De,{variant:"outline",className:Qae[e],children:Xae[e]}),Jae=e=>Zae[e]??e,eie=e=>{if(e==null)return"";const t=String(e),n=t.toLowerCase();return R_[n==="pending"?"Pending":n==="accepted"?"Accepted":n==="approved"?"Approved":n==="rejected"?"Rejected":n==="completed"?"Completed":n==="canceled"||n==="cancelled"?"Canceled":t]??R_[t]??t},jl=e=>e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",tie=e=>e==null||Number.isNaN(e)?"":`${new Intl.NumberFormat("vi-VN").format(e)} kg`;function nie(){const{toast:e}=In(),[t,n]=p.useState([]),[r,s]=p.useState(!0),[o,u]=p.useState("all"),[d,f]=p.useState(""),[m,g]=p.useState(1),[x]=p.useState(10),[b,j]=p.useState(1),[S,w]=p.useState(0),[N,E]=p.useState({}),[A,T]=p.useState(null),[_,O]=p.useState(null),[R,D]=p.useState({}),[B,X]=p.useState({}),[Y,L]=p.useState(null),[F,re]=p.useState(null),[ye,ve]=p.useState(!1),[H,I]=p.useState(!1),[K,de]=p.useState(!1),[Se,P]=p.useState(""),[q,ee]=p.useState(""),[ue,we]=p.useState(!0),[ae,ne]=p.useState(!1),[V,U]=p.useState(null),[M,W]=p.useState(""),[$,J]=p.useState(!1),G=p.useCallback(async(ce,Oe)=>{try{s(!0);const Ne=await El.getDisputes({pageNumber:ce,pageSize:x,status:Oe==="all"?void 0:Oe});if(Ne.isSuccess&&Ne.data){const We={Pending:0,Approved:1,Rejected:2,InAdminReview:3,Resolved:4,0:0,1:1,2:2,3:3,4:4},ut=Ne.data.data.map(Le=>{const $e=Le.distupeStatus??Le.disputeStatus;let bt;return typeof $e=="string"?bt=We[$e]??Number($e):bt=$e??0,{...Le,disputeStatus:bt,isWholesalerCreated:Le.isWholeSalerCreated??Le.isWholesalerCreated??!1}});n(ut),j(Ne.data.totalPages),w(Ne.data.totalCount);const ht=ut.map(async Le=>{try{const $e=await El.getResolveByEscrowId(Le.escrowId);if($e.isSuccess&&$e.data){const bt=Array.isArray($e.data)?$e.data[0]:$e.data;if(bt)return{disputeId:Le.id,resolveInfo:bt}}}catch{}return null}),ft=await Promise.all(ht),vt={};ft.forEach(Le=>{Le&&(vt[Le.disputeId]=Le.resolveInfo)}),E(Le=>({...Le,...vt}));const wt=ut.map(async Le=>{try{const $e=await vn.getEscrowById(Le.escrowId);if($e.isSuccess&&$e.data){const bt=$e.data,jt="00000000-0000-0000-0000-000000000000";if(bt.auctionId&&bt.auctionId!==jt)try{const Nt=await lt.getEnglishAuctionById(bt.auctionId);if(Nt.isSuccess&&Nt.data)return{disputeId:Le.id,type:"auction",data:Nt.data}}catch(Nt){console.error(`Failed to load auction for dispute ${Le.id}:`,Nt)}else if(bt.buyRequestId&&bt.buyRequestId!==jt)try{const Nt=await Dm.getById(bt.buyRequestId);if(Nt.isSuccess&&Nt.data)return{disputeId:Le.id,type:"buyRequest",data:Nt.data}}catch(Nt){console.error(`Failed to load buy request for dispute ${Le.id}:`,Nt)}}}catch{}return null}),en=await Promise.all(wt),st={},Ae={};en.forEach(Le=>{Le&&(Le.type==="auction"?st[Le.disputeId]=Le.data:Le.type==="buyRequest"&&(Ae[Le.disputeId]=Le.data))}),D(Le=>({...Le,...st})),X(Le=>({...Le,...Ae}))}else e({title:se.ERROR,description:Ne.message||"Khng th ti danh sch tranh chp",variant:"destructive"})}catch(Ne){const We=Ne instanceof Error?Ne.message:" xy ra li khi ti danh sch tranh chp";e({title:se.ERROR,description:We,variant:"destructive"})}finally{s(!1)}},[x,e]);p.useEffect(()=>{G(m,o)},[G,m,o]);const z=p.useMemo(()=>{let ce=t;if(d){const Oe=d.toLowerCase();ce=ce.filter(Ne=>Ne.id.toLowerCase().includes(Oe)||Ne.escrowId.toLowerCase().includes(Oe)||(Ne.disputeMessage||"").toLowerCase().includes(Oe))}return ce},[t,d]),Q=p.useCallback(async ce=>{if(ce){J(!0),T(null),O(null);try{const Oe=await vn.getEscrowById(ce);if(Oe.isSuccess&&Oe.data){const Ne=Oe.data,We="00000000-0000-0000-0000-000000000000";if(Ne.auctionId&&Ne.auctionId!==We){const ut=await lt.getEnglishAuctionById(Ne.auctionId);ut.isSuccess&&ut.data&&T(ut.data)}else if(Ne.buyRequestId&&Ne.buyRequestId!==We){const ut=await Dm.getById(Ne.buyRequestId);ut.isSuccess&&ut.data&&O(ut.data)}}else e({title:se.ERROR,description:Oe.message||"Khng th ti thng tin escrow",variant:"destructive"})}catch(Oe){const Ne=Oe instanceof Error?Oe.message:" xy ra li khi ti thng tin escrow";e({title:se.ERROR,description:Ne,variant:"destructive"})}finally{J(!1)}}},[e]),ie=async ce=>{const Oe={...ce,disputeStatus:typeof ce.disputeStatus=="string"?Number(ce.disputeStatus):ce.disputeStatus};L(Oe),re(null),T(null),O(null),P(""),ee(""),we(!0),de(!0),Q(Oe.escrowId);try{ve(!0);const Ne=await El.getResolveByEscrowId(Oe.escrowId);if(Ne.isSuccess&&Ne.data){const We=Array.isArray(Ne.data)?Ne.data[0]:Ne.data;We&&(re(We),P(We.adminNote||""),ee(We.refundAmount.toString()),E(ut=>({...ut,[Oe.id]:We})))}}catch{}finally{ve(!1)}},Ce=ce=>{U(ce),W(""),ne(!0)},Ve=async(ce,Oe)=>{const Ne=V;if(!Ne)return;if(Number(Ne.disputeStatus)!==1){e({title:se.ERROR,description:'Ch c th chuyn trng thi t "Hai bn  ng " sang "Admin ang x l"',variant:"destructive"});return}const ut=M||Se||"Chuyn sang trng thi admin ang xem xt";if(!ut.trim()){e({title:se.ERROR,description:"Vui lng nhp ghi ch trc khi cp nht trng thi",variant:"destructive"});return}try{I(!0),console.log("Updating dispute status:",{disputeId:Ne.id,currentStatus:Ne.disputeStatus,newStatus:3,note:ut});const ht=await El.updateDisputeStatus(Ne.id,{status:3,adminNote:ut});if(console.log("Update status response:",ht),ht.isSuccess&&ht.data){const ft=ht.data;console.log("Raw response data:",ft),console.log("distupeStatus:",ft.distupeStatus),console.log("disputeStatus:",ft.disputeStatus);const vt=typeof ft.distupeStatus<"u"?Number(ft.distupeStatus):typeof ft.disputeStatus<"u"?Number(ft.disputeStatus):3;console.log("Normalized status:",vt);const wt={...ft,disputeStatus:vt,isWholesalerCreated:ft.isWholeSalerCreated??ft.isWholesalerCreated??!1};e({title:se.SUCCESS,description:' cp nht trng thi t "Hai bn  ng " sang "Admin ang x l"'}),Y?.id===Ne.id&&L(wt),ne(!1),U(null),W(""),await G(m,o)}else e({title:se.ERROR,description:ht.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"})}catch(ht){const ft=ht instanceof Error?ht.message:" xy ra li khi cp nht trng thi tranh chp";e({title:se.ERROR,description:ft,variant:"destructive"})}finally{I(!1)}},nt=async(ce,Oe)=>{const Ne=V||Y;if(!Ne)return;if(Number(Ne.disputeStatus)!==1){e({title:se.ERROR,description:'Ch c th chuyn trng thi t "Hai bn  ng " sang " kt thc"',variant:"destructive"});return}if(!(F||N[Ne.id])){e({title:se.ERROR,description:"Cha c thng tin gii quyt tranh chp. Vui lng to gii quyt trc.",variant:"destructive"});return}const ht=M||Se||"Kt thc tranh chp";if(!ht.trim()){e({title:se.ERROR,description:"Vui lng nhp ghi ch trc khi cp nht trng thi",variant:"destructive"});return}try{I(!0);const ft=await El.updateDisputeStatus(Ne.id,{status:4,adminNote:ht});if(ft.isSuccess&&ft.data){const vt=ft.data,wt=typeof vt.distupeStatus<"u"?Number(vt.distupeStatus):typeof vt.disputeStatus<"u"?Number(vt.disputeStatus):4,en={...vt,disputeStatus:wt,isWholesalerCreated:vt.isWholeSalerCreated??vt.isWholesalerCreated??!1};e({title:se.SUCCESS,description:' cp nht trng thi t "Hai bn  ng " sang " kt thc"'}),Y?.id===Ne.id&&L(en),ne(!1),U(null),W(""),await G(m,o)}else e({title:se.ERROR,description:ft.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"})}catch(ft){const vt=ft instanceof Error?ft.message:" xy ra li khi cp nht trng thi tranh chp";e({title:se.ERROR,description:vt,variant:"destructive"})}finally{I(!1)}},ze=async()=>{if(!Y)return;const ce=Number(q||"0");if(Number.isNaN(ce)||ce<0){e({title:se.ERROR,description:"S tin hon phi l s khng m",variant:"destructive"});return}if(!Se.trim()){e({title:se.ERROR,description:"Vui lng nhp ghi ch quyt nh ca admin",variant:"destructive"});return}try{I(!0);const Oe=await El.createDisputeResolve({escrowId:Y.escrowId,refundAmount:ce,isFinalDecision:ue,adminNote:Se});if(Oe.isSuccess&&Oe.data){const Ne=Oe.data;e({title:se.SUCCESS,description:" to bn ghi gii quyt tranh chp thnh cng"}),re(Ne),E(We=>({...We,[Y.id]:Ne})),await G(m,o)}else{const Ne=Oe.message||"Khng th to bn ghi gii quyt tranh chp";let We=Ne;if(Ne.includes("exceed")||Ne.includes("vt qu")){const ut=Ne.match(/\((\d+)\)/),ht=ut?Number(ut[1]):null;We=`S tin hon (${Je(ce)}) khng c vt qu tng s tin escrow${ht?` (${Je(ht)})`:""}. Vui lng nhp li s tin hon.`}else Ne.includes("auction")&&(We="Escrow ny khng c lin kt vi auction. Vui lng kim tra li thng tin escrow.");e({title:se.ERROR,description:We,variant:"destructive"})}}catch(Oe){const Ne=Oe instanceof Error?Oe.message:" xy ra li khi to bn ghi gii quyt tranh chp";e({title:se.ERROR,description:Ne,variant:"destructive"})}finally{I(!1)}},Ze=Y&&(Number(Y.disputeStatus)===1||Number(Y.disputeStatus)===3),mt=Y&&Number(Y.disputeStatus)===4,it=Y&&Number(Y.disputeStatus)===3,Ue=ce=>{ce<1||ce>b||ce===m||g(ce)};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l tranh chp"}),a.jsx("p",{className:"text-gray-600",children:"Theo di v x l cc tranh chp gia Nng dn v Thng li lin quan."})]}),a.jsx(dt,{className:"mb-6",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Zy,{className:"w-5 h-5 text-emerald-600"}),"Danh sch tranh chp"]}),a.jsx("p",{className:"text-sm text-gray-600",children:r?"ang ti...":`Tng ${S} tranh chp`})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(dn,{placeholder:"Tm theo ID, M giao dch, ni dung...",value:d,onChange:ce=>f(ce.target.value),className:"pl-10"})]}),a.jsxs("select",{value:o,onChange:ce=>u(ce.target.value==="all"?"all":Number(ce.target.value)),className:"w-full sm:w-[220px] px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:0,children:"Ch phn hi"}),a.jsx("option",{value:1,children:"Hai bn  ng "}),a.jsx("option",{value:2,children:"Ngi dng t chi"}),a.jsx("option",{value:3,children:"Admin ang x l"}),a.jsx("option",{value:4,children:" kt thc"})]}),a.jsxs(oe,{variant:"outline",onClick:()=>G(m,o),disabled:r,children:[a.jsx(Oa,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"Lm mi"]})]})]}),r?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(Pn,{className:"w-8 h-8 text-emerald-500 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"ang ti danh sch tranh chp..."})]}):z.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(Zy,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"Cha c tranh chp no ph hp b lc"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Khi c tranh chp mi, chng s xut hin ti y  bn x l."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"w-[18%]",children:"ID"}),a.jsx(pe,{className:"w-[16%] text-right",children:"S tin tranh chp mong mun"}),a.jsx(pe,{className:"w-[14%]",children:"Trng thi"}),a.jsx(pe,{className:"w-[18%]",children:"Thi gian to / cp nht"}),a.jsx(pe,{className:"w-[18%] text-center",children:"Cp nht trng thi"}),a.jsx(pe,{className:"w-[16%] text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:z.map(ce=>{const Oe={Pending:0,Approved:1,Rejected:2,InAdminReview:3,Resolved:4};let Ne;typeof ce.disputeStatus=="string"?Ne=Oe[ce.disputeStatus]??Number(ce.disputeStatus):Ne=ce.disputeStatus;const We=Ne===1,ut=Ne===3,ht=N[ce.id],ft=typeof ht?.refundAmount=="number"&&ht.refundAmount>0,vt=R[ce.id],wt=B[ce.id];let en="";if(vt){const st=vt.sessionCode||vt.id;en=st.startsWith("AUC-")?st:`AUC-${st}`}else if(wt){const st=wt.requestCode||wt.id;en=st.toUpperCase().startsWith("BR")?st:`BR-${st}`}else en=ce.escrowId.slice(0,8)+"...";return a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-mono text-xs text-gray-700 truncate max-w-[220px]",children:en}),ce.disputeMessage&&a.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[220px] mt-1",children:ce.disputeMessage})]})}),a.jsx(je,{className:"text-right",children:a.jsx("span",{className:"font-semibold text-gray-900",children:(()=>{if(ht&&typeof ht.refundAmount=="number")return Je(ht.refundAmount);const st=ce;return typeof st.desiredAmount=="number"?Je(st.desiredAmount):typeof st.disputeAmount=="number"?Je(st.disputeAmount):typeof st.refundAmount=="number"?Je(st.refundAmount):""})()})}),a.jsx(je,{children:O_(ce.disputeStatus)}),a.jsx(je,{children:a.jsxs("div",{className:"flex flex-col text-xs text-gray-600",children:[a.jsxs("span",{children:["To: ",jl(ce.createdAt)]}),a.jsxs("span",{children:["Cp nht: ",jl(ce.updatedAt)]})]})}),a.jsx(je,{className:"text-center",children:We?ft?a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>Ce(ce),disabled:H,className:"text-xs border-emerald-600 text-emerald-600 hover:bg-emerald-50",children:"Kt thc tranh chp"}):a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>Ce(ce),disabled:H,className:"text-xs border-purple-600 text-purple-600 hover:bg-purple-50",children:"Chuyn sang Admin xem xt"}):ut?a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>ie(ce),disabled:H,className:"text-xs border-blue-600 text-blue-600 hover:bg-blue-50",children:"X l tranh chp"}):a.jsx("span",{className:"text-xs text-gray-400",children:""})}),a.jsx(je,{className:"text-right",children:a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>ie(ce),className:"text-xs",children:[a.jsx(xr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})})})]},ce.id)})})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{children:["Trang ",m,"/",b,"  ",S," tranh chp"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Ue(m-1),disabled:m<=1,children:[a.jsx(uR,{className:"h-4 w-4 mr-1.5"}),"Trc"]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Ue(m+1),disabled:m>=b,children:["Sau",a.jsx(dR,{className:"h-4 w-4 ml-1.5"})]})]})]})]})]})}),a.jsx(Zt,{open:K,onOpenChange:ce=>{de(ce),ce||(L(null),re(null),T(null),O(null),P(""),ee(""),we(!0))},children:a.jsx(Gt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:Y&&a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Chi tit tranh chp"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:O_(Y.disputeStatus)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Sn lng (kg)"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:tie(Y.actualAmount)})]}),(()=>{let ce=null;if(F&&typeof F.refundAmount=="number")ce=F.refundAmount;else{const Oe=Y;typeof Oe.desiredAmount=="number"?ce=Oe.desiredAmount:typeof Oe.disputeAmount=="number"?ce=Oe.disputeAmount:typeof Oe.refundAmount=="number"&&(ce=Oe.refundAmount)}return ce!==null?a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"S tin tranh chp mong mun"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:Je(ce)})]}):null})(),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thi gian to"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:jl(Y.createdAt)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thi gian cp nht"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:jl(Y.updatedAt)})]}),Y.resolvedAt&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thi gian kt thc"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:jl(Y.resolvedAt)})]})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Ni dung tranh chp"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:Y.disputeMessage||""})]}),Y.attachments&&Y.attachments.length>0&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Hnh nh nh km"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:Y.attachments.map(ce=>a.jsxs("a",{href:ce.url,target:"_blank",rel:"noreferrer",className:"block group",children:[a.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100 border border-gray-200 group-hover:border-emerald-500 transition-colors",children:a.jsx("img",{src:ce.url,alt:"Dispute attachment",className:"w-full h-full object-cover"})}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:ce.id})]},ce.id))})]}),($||A||_)&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700",children:"Thng tin phin u gi / yu cu mua"}),$&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin"}),"ang ti d liu lin quan..."]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A&&a.jsxs("div",{className:"rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-3 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-900 mb-2",children:"Phin u gi"}),a.jsxs("div",{className:"space-y-1 text-sm text-emerald-900",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-emerald-800",children:"M phin:"}),a.jsx("span",{className:"font-mono text-xs",children:A.sessionCode})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-emerald-800",children:"Gi khi im:"}),a.jsx("span",{className:"font-semibold",children:Je(A.startingPrice)})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-emerald-800",children:"Gi hin ti:"}),a.jsx("span",{className:"font-semibold",children:A.currentPrice?Je(A.currentPrice):""})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-emerald-800",children:"Gi thng:"}),a.jsx("span",{className:"font-semibold",children:A.winningPrice?Je(A.winningPrice):""})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-emerald-800",children:"Trng thi:"}),a.jsx("span",{className:"font-semibold",children:Jae(A.status)})]})]})]}),_&&a.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50 px-4 py-3 shadow-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Yu cu mua hng"}),a.jsxs("div",{className:"space-y-1 text-sm text-blue-900",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-blue-800",children:"M yu cu:"}),a.jsx("span",{className:"font-mono text-xs",children:_.requestCode||_.id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-blue-800",children:"Gi k vng:"}),a.jsx("span",{className:"font-semibold",children:_.expectedPrice?Je(_.expectedPrice):""})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-blue-800",children:"Sn lng mong mun:"}),a.jsx("span",{className:"font-semibold",children:_.totalQuantity?`${_.totalQuantity.toLocaleString("vi-VN")} kg`:""})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"text-blue-800",children:"Trng thi:"}),a.jsx("span",{className:"font-semibold",children:eie(_.status)})]}),_.message&&a.jsxs("div",{className:"pt-1 text-xs text-blue-800",children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",a.jsx("span",{className:"text-blue-900",children:_.message})]})]})]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-4",children:[ye&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(Pn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin gii quyt..."]}),(()=>{const ce=F&&typeof F.refundAmount=="number"&&F.refundAmount>0;return mt&&F?a.jsxs("div",{className:"rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-3",children:[a.jsx("p",{className:"font-semibold text-sm text-emerald-900 mb-3",children:"Thng tin gii quyt tranh chp"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S tin hon: "}),a.jsx("span",{className:"text-gray-900",children:Je(F.refundAmount)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch ca admin: "}),a.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-line",children:F.adminNote||""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Quyt nh cui cng: "}),a.jsx("span",{className:"text-gray-900",children:F.isFinalDecision?"C":"Khng"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy to: "}),a.jsx("span",{className:"text-gray-900",children:jl(F.createdAt)})]})]})]}):it||Number(Y.disputeStatus)===1&&!ce?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Be,{htmlFor:"adminNote",className:"text-sm font-medium text-gray-700",children:"Ghi ch ca admin"}),a.jsx(er,{id:"adminNote",rows:4,placeholder:"Ghi li nhn nh, quyt nh x l tranh chp...",value:Se,onChange:Oe=>P(Oe.target.value),className:"mt-1",disabled:ye})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{htmlFor:"refundAmount",className:"text-sm font-medium text-gray-700",children:"S tin hon (VND)"}),a.jsx(dn,{id:"refundAmount",type:"number",min:0,step:1e3,placeholder:"Nhp s tin hon...",value:q,onChange:Oe=>ee(Oe.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Quyt nh cui cng"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("input",{type:"checkbox",id:"isFinalDecision",checked:ue,onChange:Oe=>we(Oe.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),a.jsx(Be,{htmlFor:"isFinalDecision",className:"text-sm text-gray-700 cursor-pointer",children:"y l quyt nh cui cng"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"nh du nu y l quyt nh cui cng ca admin."})]})]})]}):F?a.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50 px-4 py-3",children:[a.jsx("p",{className:"font-semibold text-sm text-blue-900 mb-3",children:"Thng tin gii quyt tranh chp"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S tin hon: "}),a.jsx("span",{className:"text-gray-900",children:Je(F.refundAmount)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch ca admin: "}),a.jsx("p",{className:"text-gray-900 mt-1 whitespace-pre-line",children:F.adminNote||""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Quyt nh cui cng: "}),a.jsx("span",{className:"text-gray-900",children:F.isFinalDecision?"C":"Khng"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy to: "}),a.jsx("span",{className:"text-gray-900",children:jl(F.createdAt)})]})]})]}):null})()]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("p",{children:"- Rejected  InAdminReview  Resolved (khng c li trng thi)"}),a.jsx("p",{children:"- Approved / Resolved l trng thi cui cng, khng chnh sa li."})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{type:"button",variant:"outline",onClick:()=>de(!1),disabled:H,children:"ng"}),Ze&&a.jsx(oe,{type:"button",onClick:ze,disabled:H,children:H?"ang to...":"To gii quyt tranh chp"})]})]})]})]})})}),a.jsx(Zt,{open:ae,onOpenChange:ce=>{ne(ce),ce||(U(null),W(""))},children:a.jsxs(Gt,{className:"max-w-md",children:[a.jsxs(Jt,{children:[a.jsx(Vt,{className:"text-xl font-semibold text-gray-900",children:"Cp nht trng thi tranh chp"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:V&&(()=>{const ce=N[V.id];return ce&&typeof ce.refundAmount=="number"&&ce.refundAmount>0?'Chuyn t "Hai bn  ng " sang " kt thc"':'Chuyn t "Hai bn  ng " sang "Admin ang x l"'})()})]}),V&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(Be,{htmlFor:"updateStatusNote",className:"text-sm font-medium text-gray-700",children:["Ghi ch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(er,{id:"updateStatusNote",rows:4,placeholder:"Nhp ghi ch v vic chuyn trng thi...",value:M,onChange:ce=>W(ce.target.value),className:"mt-1"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ghi ch ny s c lu li trong lch s cp nht trng thi."})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(oe,{variant:"outline",onClick:()=>{ne(!1),U(null),W("")},disabled:H,children:"Hy"}),a.jsx(oe,{onClick:()=>{const ce=N[V.id];ce&&typeof ce.refundAmount=="number"&&ce.refundAmount>0?nt():Ve()},disabled:H||!M.trim(),className:(()=>{const ce=N[V.id];return ce&&typeof ce.refundAmount=="number"&&ce.refundAmount>0?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-purple-600 hover:bg-purple-700 text-white"})(),children:H?"ang cp nht...":(()=>{const ce=N[V.id];return ce&&typeof ce.refundAmount=="number"&&ce.refundAmount>0?"Kt thc tranh chp":"Cp nht trng thi"})()})]})]})]})})]})}const k_={Pending:"ang ch x l",Accepted:" chp nhn",Approved:" chp nhn",Rejected:" t chi",Completed:" hon thnh",Canceled:" hy",Cancelled:" hy",0:"ang ch x l",1:" chp nhn",2:" t chi",3:" hon thnh",4:" hy"},D_={Pending:"bg-amber-100 text-amber-800 border-amber-200",Accepted:"bg-emerald-100 text-emerald-800 border-emerald-200",Approved:"bg-emerald-100 text-emerald-800 border-emerald-200",Rejected:"bg-red-100 text-red-700 border-red-200",Completed:"bg-blue-100 text-blue-800 border-blue-200",Canceled:"bg-slate-100 text-slate-800 border-slate-200",Cancelled:"bg-slate-100 text-slate-800 border-slate-200",0:"bg-amber-100 text-amber-800 border-amber-200",1:"bg-emerald-100 text-emerald-800 border-emerald-200",2:"bg-red-100 text-red-700 border-red-200",3:"bg-blue-100 text-blue-800 border-blue-200",4:"bg-slate-100 text-slate-800 border-slate-200"},M_=e=>{if(e==null)return a.jsx(De,{variant:"outline",children:""});const t=String(e),n=t.toLowerCase(),r=n==="pending"?"Pending":n==="accepted"?"Accepted":n==="approved"?"Approved":n==="rejected"?"Rejected":n==="completed"?"Completed":n==="canceled"||n==="cancelled"?"Canceled":t,s=k_[r]??k_[t]??"Khng xc nh",o=D_[r]??D_[t]??"text-gray-700 border-gray-200 bg-gray-100";return a.jsx(De,{variant:"outline",className:o,children:s})},Yo=e=>e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",P_=(e,t)=>{if(e==null||Number.isNaN(e))return"";const n=new Intl.NumberFormat("vi-VN").format(e);return t?`${n} ${t}`:`${n} kg`};function rie(){const{toast:e}=In(),[t,n]=p.useState([]),[r,s]=p.useState(!0),[o,u]=p.useState(""),[d,f]=p.useState(1),[m]=p.useState(10),[g,x]=p.useState(0),[b,j]=p.useState(0),[S,w]=p.useState({}),[N,E]=p.useState(null),[A,T]=p.useState(!1),[_,O]=p.useState(!1),[R,D]=p.useState(null),[B,X]=p.useState(null),[Y,L]=p.useState(null),[F,re]=p.useState(null),ye=p.useCallback(async(I,K)=>{try{s(!0);const de={pageNumber:I,pageSize:m,...K&&K.trim()&&{searchValue:K.trim()}},Se=await Dm.list(de);if(Se.isSuccess&&Se.data){const P=Se.data;n(P.items??[]),x(P.totalCount??0),j(P.totalPages??0)}else e({title:se.ERROR,description:Se.message||"Khng th ti danh sch yu cu mua",variant:"destructive"})}catch(de){const Se=de instanceof Error?de.message:" xy ra li khi ti danh sch yu cu mua";e({title:se.ERROR,description:Se,variant:"destructive"})}finally{s(!1)}},[m,e]);p.useEffect(()=>{ye(d,o)},[ye,d,o]),p.useEffect(()=>{(async()=>{try{const K=await Vn.list();if(K.isSuccess&&K.data){const de=Array.isArray(K.data)?K.data:K.data.items??[],Se={};de.forEach(P=>{const q=`${P.firstName} ${P.lastName}`.trim();Se[P.id]=q||P.email||P.id}),w(Se)}}catch(K){console.error("Error loading users for buy requests:",K)}})()},[]);const ve=async I=>{E(I),T(!0),O(!0),D(null),X(null),L(null),re(null);try{const K=await Dm.getById(I.id);if(K.isSuccess&&K.data){const de=K.data;if(E(de),de.farmerId)try{const Se=await Vn.list();if(Se.isSuccess&&Se.data){const q=(Array.isArray(Se.data)?Se.data:Se.data.items??[]).find(ee=>ee.id===de.farmerId);q&&D(q)}}catch(Se){console.error("Error loading farmer info:",Se)}if(de.wholesalerId)try{const Se=await Vn.list();if(Se.isSuccess&&Se.data){const q=(Array.isArray(Se.data)?Se.data:Se.data.items??[]).find(ee=>ee.id===de.wholesalerId);q&&X(q)}}catch(Se){console.error("Error loading wholesaler info:",Se)}if(de.harvestId)try{const Se=await $t.getHarvestById(de.harvestId);Se.isSuccess&&Se.data&&L(Se.data)}catch(Se){console.error("Error loading harvest info:",Se)}try{const Se=await vn.getEscrowByBuyRequestId(de.id);Se.isSuccess&&Se.data&&re(Se.data)}catch{console.log("Escrow not found for buy request:",de.id)}}}catch(K){const de=K instanceof Error?K.message:" xy ra li khi ti chi tit yu cu mua";e({title:se.ERROR,description:de,variant:"destructive"})}finally{O(!1)}},H=p.useMemo(()=>t,[t]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[a.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-2",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2 sm:gap-3",children:a.jsx("span",{className:"truncate",children:"Yu cu mua"})}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 ml-0 sm:ml-[36px] md:ml-[52px]",children:"Qun l v xem xt cc yu cu mua hng t thng li"})]})})}),a.jsx(dt,{className:"mb-4 sm:mb-6",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(dn,{type:"text",placeholder:"Tm kim theo m yu cu, tn ngi dng...",value:o,onChange:I=>{u(I.target.value),f(1)},className:"pl-9 text-sm sm:text-base"})]}),a.jsxs(oe,{variant:"outline",onClick:()=>ye(d,o),disabled:r,className:"text-xs sm:text-sm",children:[a.jsx(Oa,{className:`w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 ${r?"animate-spin":""}`}),"Lm mi"]})]})})}),a.jsx(dt,{children:r?a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(Pn,{className:"w-6 h-6 animate-spin text-blue-600"})}):H.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[a.jsx(yR,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Khng c yu cu mua no"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-xs sm:text-sm",children:"M yu cu"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"Ngi mua"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"Ngi bn"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"Gi mong mun"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"Ngy yu cu"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"Trng thi"}),a.jsx(pe,{className:"text-xs sm:text-sm text-center",children:"Thao tc"})]})}),a.jsx(cn,{children:H.map(I=>a.jsxs(at,{className:"hover:bg-gray-50",children:[a.jsx(je,{className:"text-xs sm:text-sm font-medium",children:I.requestCode||I.id.slice(0,8)}),a.jsx(je,{className:"text-xs sm:text-sm",children:I.wholesalerId?S[I.wholesalerId]||`ID: ${I.wholesalerId.slice(0,8)}...`:""}),a.jsx(je,{className:"text-xs sm:text-sm",children:I.farmerId?S[I.farmerId]||`ID: ${I.farmerId.slice(0,8)}...`:""}),a.jsx(je,{className:"text-xs sm:text-sm",children:I.expectedPrice?Je(I.expectedPrice):""}),a.jsx(je,{className:"text-xs sm:text-sm",children:Yo(I.createdAt)}),a.jsx(je,{children:M_(I.status)}),a.jsx(je,{className:"text-center",children:a.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>ve(I),className:"text-xs sm:text-sm",children:[a.jsx(xr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Chi tit"]})})]},I.id))})]})}),b>1&&a.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-t border-gray-200",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:["Trang ",d," / ",b," (",g," yu cu)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>f(I=>Math.max(1,I-1)),disabled:d===1||r,className:"text-xs sm:text-sm",children:[a.jsx(uR,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Trc"]}),a.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>f(I=>Math.min(b,I+1)),disabled:d===b||r,className:"text-xs sm:text-sm",children:["Sau",a.jsx(dR,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]})]})]})}),a.jsx(Zt,{open:A,onOpenChange:T,children:a.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{children:a.jsx(Vt,{className:"text-lg sm:text-xl",children:"Chi tit yu cu mua"})}),_?a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(Pn,{className:"w-6 h-6 animate-spin text-blue-600"})}):N?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"M yu cu"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:N.requestCode||N.id})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:M_(N.status)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Gi mong mun"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:N.expectedPrice?Je(N.expectedPrice):""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ngy yu cu"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Yo(N.createdAt)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ngy cn hng"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Yo(N.requiredDate)})]}),N.message&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ghi ch"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:N.message})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Thng tin ngi bn (Farmer)"}),R?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Tn"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:`${R.firstName} ${R.lastName}`.trim()||R.email})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:R.email})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"S in thoi"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:R.phoneNumber||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"a ch"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:R.address||""})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin..."})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Thng tin ngi mua (Wholesaler)"}),B?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Tn"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:`${B.firstName} ${B.lastName}`.trim()||B.email})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:B.email})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"S in thoi"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:B.phoneNumber||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"a ch"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:B.address||""})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin..."})]}),Y&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Thng tin v thu hoch"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Tng s lng"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:P_(Y.totalQuantity,Y.unit)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Gi bn"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Je(Y.salePrice)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ngy thu hoch"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Yo(Y.harvestDate)})]}),Y.note&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ghi ch"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Y.note})]})]})]}),N.details&&N.details.length>0&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Chi tit theo cp "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-xs sm:text-sm",children:"Cp "}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"S lng"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"Gi"}),a.jsx(pe,{className:"text-xs sm:text-sm",children:"n v"})]})}),a.jsx(cn,{children:N.details.map((I,K)=>a.jsxs(at,{children:[a.jsxs(je,{className:"text-xs sm:text-sm",children:["Cp ",I.grade??""]}),a.jsx(je,{className:"text-xs sm:text-sm",children:P_(I.quantity,I.unit)}),a.jsx(je,{className:"text-xs sm:text-sm",children:I.price?Je(I.price):""}),a.jsx(je,{className:"text-xs sm:text-sm",children:I.unit||""})]},I.id||K))})]})})]}),F&&a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Trng thi tin (Escrow)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"S tin k qu"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Je(F.amount)})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:F.status==="0"||F.status==="Pending"?"Ch thanh ton":F.status==="1"||F.status==="Paid"?" thanh ton":F.status==="2"||F.status==="Refunded"?" hon tin":F.status||""})]}),a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Yo(F.createdAt)})]}),F.updatedAt&&F.updatedAt!==F.createdAt&&a.jsxs("div",{children:[a.jsx(Be,{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-900",children:Yo(F.updatedAt)})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng tm thy thng tin yu cu mua"})})]})})]})}function aie(){const{toast:e}=In(),[t,n]=p.useState("categories"),[r,s]=p.useState([]),[o,u]=p.useState(!1),[d,f]=p.useState(1),[m,g]=p.useState(""),[x,b]=p.useState(!1),[j,S]=p.useState({name:"",description:""}),[w,N]=p.useState(!1),[E,A]=p.useState(!1),[T,_]=p.useState(null),[O,R]=p.useState({name:"",description:"",isActive:!0}),[D,B]=p.useState(!1),[X,Y]=p.useState(null),[L,F]=p.useState(!1),[re,ye]=p.useState([]),[ve,H]=p.useState(!1),[I,K]=p.useState(1),[de,Se]=p.useState(""),[P,q]=p.useState(null),[ee,ue]=p.useState(!1),[we,ae]=p.useState({categoryId:"",content:"",description:""}),[ne,V]=p.useState(!1),[U,M]=p.useState(!1),[W,$]=p.useState(null),[J,G]=p.useState({categoryId:"",content:"",description:"",isActive:!0}),[z,Q]=p.useState(!1),[ie,Ce]=p.useState(null),[Ve,nt]=p.useState(!1),ze=10,Ze=p.useCallback(async({silent:he=!1}={})=>{u(!0);try{const Ye=await Os.getCategories();Ye.isSuccess&&Ye.data?(s(Ye.data),he||e({title:se.SUCCESS,description:"Ly danh sch danh mc chnh sch thnh cng"})):e({title:se.ERROR,description:Ye.message||"Li khi ly danh sch danh mc",variant:"destructive"})}catch(Ye){e({title:se.ERROR,description:Ye instanceof Error?Ye.message:"Li khi ly danh sch danh mc",variant:"destructive"})}finally{u(!1)}},[e]),mt=p.useCallback(async({silent:he=!1}={})=>{if(!P){ye([]);return}H(!0);try{const Ye=await Os.getCategoryItems(P);Ye.isSuccess&&Ye.data?(ye(Ye.data),he||e({title:se.SUCCESS,description:"Ly danh sch chnh sch thnh cng"})):e({title:se.ERROR,description:Ye.message||"Li khi ly danh sch chnh sch",variant:"destructive"})}catch(Ye){e({title:se.ERROR,description:Ye instanceof Error?Ye.message:"Li khi ly danh sch chnh sch",variant:"destructive"})}finally{H(!1)}},[P,e]);p.useEffect(()=>{Ze({silent:!0})},[Ze]),p.useEffect(()=>{t==="items"&&P&&mt({silent:!0})},[t,P,mt]);const it=p.useMemo(()=>{const he=m.trim().toLowerCase();return he?r.filter(Ye=>Ye.name.toLowerCase().includes(he)||Ye.description.toLowerCase().includes(he)):r},[r,m]),Ue=p.useMemo(()=>{const he=de.trim().toLowerCase();return he?re.filter(Ye=>Ye.description.toLowerCase().includes(he)||Ye.content.toLowerCase().includes(he)||Ye.categoryName.toLowerCase().includes(he)):re},[re,de]),ce=()=>S({name:"",description:""}),Oe=()=>{ce(),b(!0)},Ne=(he,Ye)=>{S(Rt=>({...Rt,[he]:Ye}))},We=()=>{ce(),b(!1)},ut=async()=>{if(!(!j.name.trim()||w)){N(!0);try{const he=await Os.createCategory({name:j.name.trim(),description:j.description.trim()});if(he.isSuccess){await Ze();const Ye=Math.max(1,Math.ceil((r.length+1)/ze));f(Ye),We(),e({title:se.SUCCESS,description:"To danh mc chnh sch thnh cng"})}else e({title:se.ERROR,description:he.message||"Li khi to danh mc",variant:"destructive"})}catch(he){e({title:se.ERROR,description:he instanceof Error?he.message:"Li khi to danh mc",variant:"destructive"})}finally{N(!1)}}},ht=he=>{_(he.id),R({name:he.name,description:he.description,isActive:he.isActive}),A(!0)},ft=()=>{A(!1),_(null),R({name:"",description:"",isActive:!0})},vt=(he,Ye)=>{R(Rt=>({...Rt,[he]:Ye}))},wt=async()=>{if(!(!T||!O.name.trim()||D)){B(!0);try{const he=await Os.updateCategory(T,{name:O.name.trim(),description:O.description.trim(),isActive:O.isActive});he.isSuccess?(await Ze(),ft(),e({title:se.SUCCESS,description:"Cp nht danh mc chnh sch thnh cng"})):e({title:se.ERROR,description:he.message||"Li khi cp nht danh mc",variant:"destructive"})}catch(he){e({title:se.ERROR,description:he instanceof Error?he.message:"Li khi cp nht danh mc",variant:"destructive"})}finally{B(!1)}}},en=he=>Y(he),st=async()=>{if(!(!X||L)){F(!0);try{const he=await Os.deleteCategory(X.id);if(he.isSuccess){await Ze();const Ye=r.length-1,Rt=Math.max(1,Math.ceil(Ye/ze));d>Rt&&f(Math.max(1,Rt)),T===X.id&&ft(),Y(null),e({title:se.SUCCESS,description:"Xa danh mc chnh sch thnh cng"})}else e({title:se.ERROR,description:he.message||"Li khi xa danh mc",variant:"destructive"})}catch(he){e({title:se.ERROR,description:he instanceof Error?he.message:"Li khi xa danh mc",variant:"destructive"})}finally{F(!1)}}},Ae=()=>Y(null),Le=()=>ae({categoryId:P||"",content:"",description:""}),$e=()=>{if(!P){e({title:se.ERROR,description:"Vui lng chn danh mc trc",variant:"destructive"});return}Le(),ue(!0)},bt=(he,Ye)=>{ae(Rt=>({...Rt,[he]:Ye}))},jt=()=>{Le(),ue(!1)},Nt=async()=>{if(!(!we.categoryId||!we.content.trim()||ne)){V(!0);try{const he=await Os.createItem({categoryId:we.categoryId,content:we.content.trim(),description:we.description.trim()});if(he.isSuccess){await mt();const Ye=Math.max(1,Math.ceil((re.length+1)/ze));K(Ye),jt(),e({title:se.SUCCESS,description:"To chnh sch thnh cng"})}else e({title:se.ERROR,description:he.message||"Li khi to chnh sch",variant:"destructive"})}catch(he){e({title:se.ERROR,description:he instanceof Error?he.message:"Li khi to chnh sch",variant:"destructive"})}finally{V(!1)}}},Rr=async he=>{$(he.id),G({categoryId:he.categoryId,content:he.content,description:he.description,isActive:he.isActive}),M(!0)},ua=()=>{M(!1),$(null),G({categoryId:"",content:"",description:"",isActive:!0})},Hr=(he,Ye)=>{G(Rt=>({...Rt,[he]:Ye}))},eo=async()=>{if(!(!W||!J.content.trim()||z)){Q(!0);try{const he=await Os.updateItem(W,{categoryId:J.categoryId,content:J.content.trim(),description:J.description.trim(),isActive:J.isActive});he.isSuccess?(await mt(),ua(),e({title:se.SUCCESS,description:"Cp nht chnh sch thnh cng"})):e({title:se.ERROR,description:he.message||"Li khi cp nht chnh sch",variant:"destructive"})}catch(he){e({title:se.ERROR,description:he instanceof Error?he.message:"Li khi cp nht chnh sch",variant:"destructive"})}finally{Q(!1)}}},Zs=he=>Ce(he),jr=async()=>{if(!(!ie||Ve)){nt(!0);try{const he=await Os.deleteItem(ie.id);if(he.isSuccess){await mt();const Ye=re.length-1,Rt=Math.max(1,Math.ceil(Ye/ze));I>Rt&&K(Math.max(1,Rt)),W===ie.id&&ua(),Ce(null),e({title:se.SUCCESS,description:"Xa chnh sch thnh cng"})}else e({title:se.ERROR,description:he.message||"Li khi xa chnh sch",variant:"destructive"})}catch(he){e({title:se.ERROR,description:he instanceof Error?he.message:"Li khi xa chnh sch",variant:"destructive"})}finally{nt(!1)}}},Xa=()=>Ce(null),ss=Math.max(1,Math.ceil(it.length/ze)),Js=(Math.min(d,ss)-1)*ze,to=it.slice(Js,Js+ze),Qa=Math.max(1,Math.ceil(Ue.length/ze)),el=(Math.min(I,Qa)-1)*ze,ro=Ue.slice(el,el+ze);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l chnh sch"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Qun l danh mc v ni dung chnh sch ca h thng"})]}),a.jsx(dt,{className:"card-responsive",children:a.jsxs(Qs,{value:t,onValueChange:he=>n(he),children:[a.jsxs(is,{className:"mb-6",children:[a.jsx(Dt,{value:"categories",children:"Danh mc chnh sch"}),a.jsx(Dt,{value:"items",children:"Ni dung chnh sch"})]}),a.jsxs(Ui,{value:"categories",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch danh mc"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:o?"ang ti...":`C ${it.length} danh mc`})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(dn,{value:m,onChange:he=>g(he.target.value),placeholder:"Tm theo tn hoc m t",className:"pl-9"})]}),!x&&a.jsxs(oe,{onClick:Oe,children:[a.jsx(HE,{className:"h-4 w-4 mr-2"}),"Thm danh mc"]})]})]}),x&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn danh mc"}),a.jsx(dn,{value:j.name,onChange:he=>Ne("name",he.target.value),placeholder:"V d: Chnh sch bo mt"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(er,{rows:2,value:j.description,onChange:he=>Ne("description",he.target.value),placeholder:"M t v danh mc chnh sch"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:We,disabled:w,children:"Hy"}),a.jsx(oe,{onClick:ut,disabled:w,children:w?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:o?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left",children:"Tn"}),a.jsx(pe,{className:"text-left",children:"M t"}),a.jsx(pe,{className:"text-center",children:"Trng thi"}),a.jsx(pe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:3}).map((he,Ye)=>a.jsxs(at,{children:[a.jsx(je,{children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-16 animate-pulse rounded bg-gray-200 mx-auto"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-200 ml-auto"})})]},Ye))})]}):it.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left",children:"Tn"}),a.jsx(pe,{className:"text-left",children:"M t"}),a.jsx(pe,{className:"text-center",children:"Trng thi"}),a.jsx(pe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:to.map(he=>a.jsxs(at,{children:[a.jsx(je,{className:"font-medium",children:he.name}),a.jsx(je,{className:"text-sm text-gray-600",children:he.description||""}),a.jsx(je,{className:"text-center",children:a.jsx(De,{variant:he.isActive?"default":"outline",children:he.isActive?"Hot ng":"Tm dng"})}),a.jsx(je,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(oe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>ht(he),children:[a.jsx(qu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(oe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>en(he),children:[a.jsx(Jy,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},he.id))})]}),it.length>ze&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",d,"/",ss]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f(he=>Math.max(1,he-1)),disabled:d<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f(he=>Math.min(ss,he+1)),disabled:d>=ss,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(Hi,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c danh mc no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm danh mc mi  bt u qun l chnh sch."}),a.jsx(oe,{onClick:Oe,children:"Thm danh mc u tin"})]})})]}),a.jsxs(Ui,{value:"items",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch chnh sch"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:ve?"ang ti...":`C ${Ue.length} chnh sch`})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("div",{className:"relative w-full sm:w-48",children:a.jsxs("select",{value:P||"",onChange:he=>{q(he.target.value||null),K(1)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Tt c danh mc"}),r.map(he=>a.jsx("option",{value:he.id,children:he.name},he.id))]})}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(dn,{value:de,onChange:he=>Se(he.target.value),placeholder:"Tm theo ni dung",className:"pl-9"})]}),!ee&&a.jsxs(oe,{onClick:$e,disabled:!P,children:[a.jsx(HE,{className:"h-4 w-4 mr-2"}),"Thm chnh sch"]})]})]}),ee&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Danh mc"}),a.jsxs("select",{value:we.categoryId,onChange:he=>bt("categoryId",he.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Chn danh mc"}),r.map(he=>a.jsx("option",{value:he.id,children:he.name},he.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ni dung"}),a.jsx(er,{rows:4,value:we.content,onChange:he=>bt("content",he.target.value),placeholder:"Ni dung chnh sch"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(er,{rows:2,value:we.description,onChange:he=>bt("description",he.target.value),placeholder:"M t ngn gn v chnh sch"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:jt,disabled:ne,children:"Hy"}),a.jsx(oe,{onClick:Nt,disabled:ne,children:ne?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:!P&&t==="items"?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-gray-50 p-4",children:a.jsx(Hi,{className:"h-6 w-6 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chn danh mc"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Vui lng chn danh mc  xem danh sch chnh sch."})]}):ve?a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left",children:"Danh mc"}),a.jsx(pe,{className:"text-left",children:"M t"}),a.jsx(pe,{className:"text-left",children:"Ni dung"}),a.jsx(pe,{className:"text-center",children:"Trng thi"}),a.jsx(pe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:Array.from({length:3}).map((he,Ye)=>a.jsxs(at,{children:[a.jsx(je,{children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-gray-200"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-16 animate-pulse rounded bg-gray-200 mx-auto"})}),a.jsx(je,{children:a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-200 ml-auto"})})]},Ye))})]}):Ue.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(ln,{children:[a.jsx(on,{children:a.jsxs(at,{children:[a.jsx(pe,{className:"text-left",children:"Danh mc"}),a.jsx(pe,{className:"text-left",children:"M t"}),a.jsx(pe,{className:"text-left",children:"Ni dung"}),a.jsx(pe,{className:"text-center",children:"Trng thi"}),a.jsx(pe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(cn,{children:ro.map(he=>a.jsxs(at,{children:[a.jsx(je,{className:"font-medium",children:he.categoryName}),a.jsx(je,{className:"text-sm text-gray-600",children:he.description||""}),a.jsx(je,{className:"text-sm text-gray-600 max-w-md truncate",children:he.content||""}),a.jsx(je,{className:"text-center",children:a.jsx(De,{variant:he.isActive?"default":"outline",children:he.isActive?"Hot ng":"Tm dng"})}),a.jsx(je,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(oe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>Rr(he),children:[a.jsx(qu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(oe,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>Zs(he),children:[a.jsx(Jy,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},he.id))})]}),Ue.length>ze&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",I,"/",Qa]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>K(he=>Math.max(1,he-1)),disabled:I<=1,children:"Trc"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>K(he=>Math.min(Qa,he+1)),disabled:I>=Qa,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(Hi,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c chnh sch no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm chnh sch mi  bt u qun l ni dung."}),a.jsx(oe,{onClick:$e,disabled:!P,children:"Thm chnh sch u tin"})]})})]})]})}),a.jsx(Zt,{open:E,onOpenChange:he=>{he||ft()},children:a.jsxs(Gt,{className:"max-w-lg",children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Chnh sa danh mc chnh sch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn danh mc"}),a.jsx(dn,{value:O.name,onChange:he=>vt("name",he.target.value),placeholder:"Tn danh mc"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(er,{rows:3,value:O.description,onChange:he=>vt("description",he.target.value),placeholder:"M t danh mc"})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:O.isActive,onChange:he=>vt("isActive",he.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hot ng"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:ft,disabled:D,children:"Hy"}),a.jsx(oe,{onClick:wt,disabled:D,children:D?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Zt,{open:!!X,onOpenChange:he=>{he||Ae()},children:a.jsxs(Gt,{className:"max-w-sm",children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Xa danh mc chnh sch"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa danh mc"," ",a.jsx("span",{className:"font-semibold text-gray-900",children:X?.name}),"? Thao tc ny khng th hon tc."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:Ae,disabled:L,children:"Hy"}),a.jsx(oe,{variant:"destructive",onClick:st,disabled:L,children:L?"ang xa...":"Xa"})]})]})}),a.jsx(Zt,{open:U,onOpenChange:he=>{he||ua()},children:a.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Chnh sa chnh sch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Danh mc"}),a.jsxs("select",{value:J.categoryId,onChange:he=>Hr("categoryId",he.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Chn danh mc"}),r.map(he=>a.jsx("option",{value:he.id,children:he.name},he.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ni dung"}),a.jsx(er,{rows:6,value:J.content,onChange:he=>Hr("content",he.target.value),placeholder:"Ni dung chnh sch"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(er,{rows:3,value:J.description,onChange:he=>Hr("description",he.target.value),placeholder:"M t chnh sch"})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:J.isActive,onChange:he=>Hr("isActive",he.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hot ng"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:ua,disabled:z,children:"Hy"}),a.jsx(oe,{onClick:eo,disabled:z,children:z?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Zt,{open:!!ie,onOpenChange:he=>{he||Xa()},children:a.jsxs(Gt,{className:"max-w-sm",children:[a.jsx(Jt,{children:a.jsx(Vt,{children:"Xa chnh sch"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bn c chc mun xa chnh sch ny? Thao tc ny khng th hon tc."}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(oe,{variant:"outline",onClick:Xa,disabled:Ve,children:"Hy"}),a.jsx(oe,{variant:"destructive",onClick:jr,disabled:Ve,children:Ve?"ang xa...":"Xa"})]})]})})]})}function yn({children:e}){const{user:t,loading:n}=Ks();return n?null:t&&t.role==="admin"?a.jsx(a.Fragment,{children:e}):a.jsx(Yy,{to:et.ADMIN_LOGIN,replace:!0})}function iie(){const{user:e}=Ks();return a.jsx(vU,{children:a.jsx(L3,{children:a.jsxs(f3,{children:[a.jsx(an,{path:et.ADMIN_DASHBOARD,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Xte,{})})})}),a.jsx(an,{path:et.ADMIN_USERS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(kre,{})})})}),a.jsx(an,{path:et.ADMIN_APPROVAL,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(iae,{})})})}),a.jsx(an,{path:et.ADMIN_FARMS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(lae,{})})})}),a.jsx(an,{path:et.ADMIN_FARM_PROFILE,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(cae,{})})})}),a.jsx(an,{path:et.ADMIN_CROPS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(uae,{})})})}),a.jsx(an,{path:et.ADMIN_CATEGORIES,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(dae,{})})})}),a.jsx(an,{path:et.ADMIN_HARVESTS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(hae,{})})})}),a.jsx(an,{path:et.ADMIN_ORDERS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(fae,{})})})}),a.jsx(an,{path:et.ADMIN_REPORTS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Kae,{})})})}),a.jsx(an,{path:et.ADMIN_PRODUCTS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(mae,{})})})}),a.jsx(an,{path:et.ADMIN_SHIPPERS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(gae,{})})})}),a.jsx(an,{path:et.ADMIN_AUCTIONS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(bae,{})})})}),a.jsx(an,{path:et.ADMIN_AUCTIONS_BY_ID,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(_ae,{})})})}),a.jsx(an,{path:et.ADMIN_AUCTIONS_BY_ID_ACTIVITY_HISTORY,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Rae,{})})})}),a.jsx(an,{path:et.ADMIN_AUCTIONS_BY_ID_BID_HISTORY,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Oae,{})})})}),a.jsx(an,{path:et.ADMIN_AUCTIONS_BY_ID_WINNER,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Dae,{})})})}),a.jsx(an,{path:et.ADMIN_AUCTIONS_BY_ID_REPORTS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx($ae,{})})})}),a.jsx(an,{path:"/admin/settings",element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(zae,{})})})}),a.jsx(an,{path:"/admin/help",element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Hae,{})})})}),a.jsx(an,{path:et.ADMIN_WALLET,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(Yae,{})})})}),a.jsx(an,{path:et.ADMIN_DISPUTES,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(nie,{})})})}),a.jsx(an,{path:et.ADMIN_BUY_REQUESTS,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(rie,{})})})}),a.jsx(an,{path:et.ADMIN_POLICY,element:a.jsx(yn,{children:a.jsx(xn,{children:a.jsx(aie,{})})})}),a.jsx(an,{path:et.ADMIN_LOGIN,element:e&&e.role==="admin"?a.jsx(Yy,{to:et.ADMIN_DASHBOARD,replace:!0}):a.jsx(C$,{})}),a.jsx(an,{path:"*",element:a.jsx(Yy,{to:et.ADMIN_LOGIN,replace:!0})})]})})})}const sie=new j5({defaultOptions:{queries:{refetchOnWindowFocus:!0,refetchOnReconnect:!0,staleTime:30*1e3,gcTime:300*1e3}}});Y6.createRoot(document.getElementById("root")).render(a.jsx(p.StrictMode,{children:a.jsx(N5,{client:sie,children:a.jsx(V3,{children:a.jsx(iie,{})})})}));
