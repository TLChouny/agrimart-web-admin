function C6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kx={exports:{}},gu={};var uE;function A6(){if(uE)return gu;uE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:u,ref:s!==void 0?s:null,props:o}}return gu.Fragment=t,gu.jsx=n,gu.jsxs=n,gu}var dE;function T6(){return dE||(dE=1,kx.exports=A6()),kx.exports}var a=T6(),Dx={exports:{}},ot={};var hE;function _6(){if(hE)return ot;hE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function j(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function E(B,K,le){this.props=B,this.context=K,this.refs=N,this.updater=le||S}E.prototype.isReactComponent={},E.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=E.prototype;function T(B,K,le){this.props=B,this.context=K,this.refs=N,this.updater=le||S}var _=T.prototype=new A;_.constructor=T,w(_,E.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function k(){}var R={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(B,K,le){var Y=le.ref;return{$$typeof:e,type:B,key:K,ref:Y!==void 0?Y:null,props:le}}function re(B,K){return F(B.type,K,B.props)}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function G(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(le){return K[le]})}var J=/\/+/g;function je(B,K){return typeof B=="object"&&B!==null&&B.key!=null?G(""+B.key):K.toString(36)}function ge(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(k,k):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,K,le,Y,se){var we=typeof B;(we==="undefined"||we==="boolean")&&(B=null);var fe=!1;if(B===null)fe=!0;else switch(we){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(B.$$typeof){case e:case t:fe=!0;break;case g:return fe=B._init,$(fe(B._payload),K,le,Y,se)}}if(fe)return se=se(B),fe=Y===""?"."+je(B,0):Y,O(se)?(le="",fe!=null&&(le=fe.replace(J,"$&/")+"/"),$(se,K,le,"",function(I){return I})):se!=null&&(L(se)&&(se=re(se,le+(se.key==null||B&&B.key===se.key?"":(""+se.key).replace(J,"$&/")+"/")+fe)),K.push(se)),1;fe=0;var q=Y===""?".":Y+":";if(O(B))for(var H=0;H<B.length;H++)Y=B[H],we=q+je(Y,H),fe+=$(Y,K,le,we,se);else if(H=j(B),typeof H=="function")for(B=H.call(B),H=0;!(Y=B.next()).done;)Y=Y.value,we=q+je(Y,H++),fe+=$(Y,K,le,we,se);else if(we==="object"){if(typeof B.then=="function")return $(ge(B),K,le,Y,se);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function U(B,K,le){if(B==null)return B;var Y=[],se=0;return $(B,Y,"","",function(we){return K.call(le,we,se++)}),Y}function V(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(le){(B._status===0||B._status===-1)&&(B._status=1,B._result=le)},function(le){(B._status===0||B._status===-1)&&(B._status=2,B._result=le)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var pe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ke={map:U,forEach:function(B,K,le){U(B,function(){K.apply(this,arguments)},le)},count:function(B){var K=0;return U(B,function(){K++}),K},toArray:function(B){return U(B,function(K){return K})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ot.Activity=x,ot.Children=ke,ot.Component=E,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=T,ot.StrictMode=r,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ot.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},ot.cache=function(B){return function(){return B.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(B,K,le){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Y=w({},B.props),se=B.key;if(K!=null)for(we in K.key!==void 0&&(se=""+K.key),K)!P.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(Y[we]=K[we]);var we=arguments.length-2;if(we===1)Y.children=le;else if(1<we){for(var fe=Array(we),q=0;q<we;q++)fe[q]=arguments[q+2];Y.children=fe}return F(B.type,se,Y)},ot.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},ot.createElement=function(B,K,le){var Y,se={},we=null;if(K!=null)for(Y in K.key!==void 0&&(we=""+K.key),K)P.call(K,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(se[Y]=K[Y]);var fe=arguments.length-2;if(fe===1)se.children=le;else if(1<fe){for(var q=Array(fe),H=0;H<fe;H++)q[H]=arguments[H+2];se.children=q}if(B&&B.defaultProps)for(Y in fe=B.defaultProps,fe)se[Y]===void 0&&(se[Y]=fe[Y]);return F(B,we,se)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(B){return{$$typeof:d,render:B}},ot.isValidElement=L,ot.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:V}},ot.memo=function(B,K){return{$$typeof:m,type:B,compare:K===void 0?null:K}},ot.startTransition=function(B){var K=R.T,le={};R.T=le;try{var Y=B(),se=R.S;se!==null&&se(le,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(k,pe)}catch(we){pe(we)}finally{K!==null&&le.types!==null&&(K.types=le.types),R.T=K}},ot.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ot.use=function(B){return R.H.use(B)},ot.useActionState=function(B,K,le){return R.H.useActionState(B,K,le)},ot.useCallback=function(B,K){return R.H.useCallback(B,K)},ot.useContext=function(B){return R.H.useContext(B)},ot.useDebugValue=function(){},ot.useDeferredValue=function(B,K){return R.H.useDeferredValue(B,K)},ot.useEffect=function(B,K){return R.H.useEffect(B,K)},ot.useEffectEvent=function(B){return R.H.useEffectEvent(B)},ot.useId=function(){return R.H.useId()},ot.useImperativeHandle=function(B,K,le){return R.H.useImperativeHandle(B,K,le)},ot.useInsertionEffect=function(B,K){return R.H.useInsertionEffect(B,K)},ot.useLayoutEffect=function(B,K){return R.H.useLayoutEffect(B,K)},ot.useMemo=function(B,K){return R.H.useMemo(B,K)},ot.useOptimistic=function(B,K){return R.H.useOptimistic(B,K)},ot.useReducer=function(B,K,le){return R.H.useReducer(B,K,le)},ot.useRef=function(B){return R.H.useRef(B)},ot.useState=function(B){return R.H.useState(B)},ot.useSyncExternalStore=function(B,K,le){return R.H.useSyncExternalStore(B,K,le)},ot.useTransition=function(){return R.H.useTransition()},ot.version="19.2.0",ot}var fE;function ac(){return fE||(fE=1,Dx.exports=_6()),Dx.exports}var p=ac();const Rs=oi(p),Gy=C6({__proto__:null,default:Rs},[p]);var Px={exports:{}},pu={},Mx={exports:{}},Ix={};var mE;function R6(){return mE||(mE=1,(function(e){function t($,U){var V=$.length;$.push(U);e:for(;0<V;){var pe=V-1>>>1,ke=$[pe];if(0<s(ke,U))$[pe]=U,$[V]=ke,V=pe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],V=$.pop();if(V!==U){$[0]=V;e:for(var pe=0,ke=$.length,B=ke>>>1;pe<B;){var K=2*(pe+1)-1,le=$[K],Y=K+1,se=$[Y];if(0>s(le,V))Y<ke&&0>s(se,le)?($[pe]=se,$[Y]=V,pe=Y):($[pe]=le,$[K]=V,pe=K);else if(Y<ke&&0>s(se,V))$[pe]=se,$[Y]=V,pe=Y;else break e}}return U}function s($,U){var V=$.sortIndex-U.sortIndex;return V!==0?V:$.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,x=null,b=3,j=!1,S=!1,w=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function _($){for(var U=n(m);U!==null;){if(U.callback===null)r(m);else if(U.startTime<=$)r(m),U.sortIndex=U.expirationTime,t(f,U);else break;U=n(m)}}function O($){if(w=!1,_($),!S)if(n(f)!==null)S=!0,k||(k=!0,G());else{var U=n(m);U!==null&&ge(O,U.startTime-$)}}var k=!1,R=-1,P=5,F=-1;function re(){return N?!0:!(e.unstable_now()-F<P)}function L(){if(N=!1,k){var $=e.unstable_now();F=$;var U=!0;try{e:{S=!1,w&&(w=!1,A(R),R=-1),j=!0;var V=b;try{t:{for(_($),x=n(f);x!==null&&!(x.expirationTime>$&&re());){var pe=x.callback;if(typeof pe=="function"){x.callback=null,b=x.priorityLevel;var ke=pe(x.expirationTime<=$);if($=e.unstable_now(),typeof ke=="function"){x.callback=ke,_($),U=!0;break t}x===n(f)&&r(f),_($)}else r(f);x=n(f)}if(x!==null)U=!0;else{var B=n(m);B!==null&&ge(O,B.startTime-$),U=!1}}break e}finally{x=null,b=V,j=!1}U=void 0}}finally{U?G():k=!1}}}var G;if(typeof T=="function")G=function(){T(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,je=J.port2;J.port1.onmessage=L,G=function(){je.postMessage(null)}}else G=function(){E(L,0)};function ge($,U){R=E(function(){$(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var V=b;b=U;try{return $()}finally{b=V}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=b;b=$;try{return U()}finally{b=V}},e.unstable_scheduleCallback=function($,U,V){var pe=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?pe+V:pe):V=pe,$){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=V+ke,$={id:g++,callback:U,priorityLevel:$,startTime:V,expirationTime:ke,sortIndex:-1},V>pe?($.sortIndex=V,t(m,$),n(f)===null&&$===n(m)&&(w?(A(R),R=-1):w=!0,ge(O,V-pe))):($.sortIndex=ke,t(f,$),S||j||(S=!0,k||(k=!0,G()))),$},e.unstable_shouldYield=re,e.unstable_wrapCallback=function($){var U=b;return function(){var V=b;b=U;try{return $.apply(this,arguments)}finally{b=V}}}})(Ix)),Ix}var gE;function O6(){return gE||(gE=1,Mx.exports=R6()),Mx.exports}var Lx={exports:{}},lr={};var pE;function k6(){if(pE)return lr;pE=1;var e=ac();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,g)},lr.flushSync=function(f){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=g,r.d.f()}},lr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:j}):g==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},lr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},lr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);r.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},lr.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,m){return f(m)},lr.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},lr.useFormStatus=function(){return u.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var xE;function S_(){if(xE)return Lx.exports;xE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lx.exports=k6(),Lx.exports}var vE;function D6(){if(vE)return pu;vE=1;var e=O6(),t=ac(),n=S_();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function u(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var c=i,h=l;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return f(v),i;if(y===h)return f(v),l;y=y.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=y;else{for(var C=!1,D=v.child;D;){if(D===c){C=!0,c=v,h=y;break}if(D===h){C=!0,h=v,c=y;break}D=D.sibling}if(!C){for(D=y.child;D;){if(D===c){C=!0,c=y,h=v;break}if(D===h){C=!0,h=y,c=v;break}D=D.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:l}function g(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=g(i),l!==null)return l;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case T:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case _:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return l=i.displayName||null,l!==null?l:je(i.type)||"Memo";case P:l=i._payload,i=i._init;try{return je(i(l))}catch{}}return null}var ge=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},pe=[],ke=-1;function B(i){return{current:i}}function K(i){0>ke||(i.current=pe[ke],pe[ke]=null,ke--)}function le(i,l){ke++,pe[ke]=i.current,i.current=l}var Y=B(null),se=B(null),we=B(null),fe=B(null);function q(i,l){switch(le(we,l),le(se,i),le(Y,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?DS(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=DS(l),i=PS(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(Y),le(Y,i)}function H(){K(Y),K(se),K(we)}function I(i){i.memoizedState!==null&&le(fe,i);var l=Y.current,c=PS(l,i.type);l!==c&&(le(se,i),le(Y,c))}function ee(i){se.current===i&&(K(Y),K(se)),fe.current===i&&(K(fe),du._currentValue=V)}var z,ve;function te(i){if(z===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||"",ve=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+ve}var W=!1;function Q(i,l){if(!i||W)return"";W=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ye){var me=ye}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(ye){me=ye}i.call(_e.prototype)}}else{try{throw Error()}catch(ye){me=ye}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ye){if(ye&&me&&typeof ye.stack=="string")return[ye.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],D=y[1];if(C&&D){var X=C.split(`
`),de=D.split(`
`);for(v=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;if(h===X.length||v===de.length)for(h=X.length-1,v=de.length-1;1<=h&&0<=v&&X[h]!==de[v];)v--;for(;1<=h&&0<=v;h--,v--)if(X[h]!==de[v]){if(h!==1||v!==1)do if(h--,v--,0>v||X[h]!==de[v]){var Ee=`
`+X[h].replace(" at new "," at ");return i.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",i.displayName)),Ee}while(1<=h&&0<=v);break}}}finally{W=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?te(c):""}function ne(i,l){switch(i.tag){case 26:case 27:case 5:return te(i.type);case 16:return te("Lazy");case 13:return i.child!==l&&l!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return Q(i.type,!1);case 11:return Q(i.type.render,!1);case 1:return Q(i.type,!0);case 31:return te("Activity");default:return""}}function Ce(i){try{var l="",c=null;do l+=ne(i,c),c=i,i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Fe=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,it=e.unstable_requestPaint,Pe=e.unstable_now,Le=e.unstable_getCurrentPriorityLevel,Me=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,It=e.unstable_LowPriority,ln=e.unstable_IdlePriority,Yn=e.log,Cn=e.unstable_setDisableYieldValue,Xn=null,Nt=null;function gr(i){if(typeof Yn=="function"&&Cn(i),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Xn,i)}catch{}}var zt=Math.clz32?Math.clz32:Ve,Se=Math.log,$e=Math.LN2;function Ve(i){return i>>>=0,i===0?32:31-(Se(i)/$e|0)|0}var Vt=256,Rt=262144,St=4194304;function Cr(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,l,c){var h=i.pendingLanes;if(h===0)return 0;var v=0,y=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var D=h&134217727;return D!==0?(h=D&~y,h!==0?v=Cr(h):(C&=D,C!==0?v=Cr(C):c||(c=D&~i,c!==0&&(v=Cr(c))))):(D=h&~y,D!==0?v=Cr(D):C!==0?v=Cr(C):c||(c=h&~i,c!==0&&(v=Cr(c)))),v===0?0:l!==0&&l!==v&&(l&y)===0&&(y=v&-v,c=l&-l,y>=c||y===32&&(c&4194048)!==0)?l:v}function ra(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Sc(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function Ys(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function Ga(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ns(i,l,c,h,v,y){var C=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var D=i.entanglements,X=i.expirationTimes,de=i.hiddenUpdates;for(c=C&~c;0<c;){var Ee=31-zt(c),_e=1<<Ee;D[Ee]=0,X[Ee]=-1;var me=de[Ee];if(me!==null)for(de[Ee]=null,Ee=0;Ee<me.length;Ee++){var ye=me[Ee];ye!==null&&(ye.lane&=-536870913)}c&=~_e}h!==0&&Ec(i,h,0),y!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~l))}function Ec(i,l,c){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-zt(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function Xs(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var h=31-zt(c),v=1<<h;v&l|i[h]&l&&(i[h]|=l),c&=~v}}function Wl(i,l){var c=l&-l;return c=(c&42)!==0?1:aa(c),(c&(i.suspendedLanes|l))!==0?0:c}function aa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qs(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:rE(i.type))}function Yl(i,l){var c=U.p;try{return U.p=i,l()}finally{U.p=c}}var M=Math.random().toString(36).slice(2),oe="__reactFiber$"+M,Ne="__reactProps$"+M,Ht="__reactContainer$"+M,ia="__reactEvents$"+M,g4="__reactListeners$"+M,p4="__reactHandles$"+M,bw="__reactResources$"+M,Cc="__reactMarker$"+M;function Sg(i){delete i[oe],delete i[Ne],delete i[ia],delete i[g4],delete i[p4]}function Xl(i){var l=i[oe];if(l)return l;for(var c=i.parentNode;c;){if(l=c[Ht]||c[oe]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=zS(i);i!==null;){if(c=i[oe])return c;i=zS(i)}return l}i=c,c=i.parentNode}return null}function Ql(i){if(i=i[oe]||i[Ht]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function Ac(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function Zl(i){var l=i[bw];return l||(l=i[bw]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Fn(i){i[Cc]=!0}var jw=new Set,ww={};function Zs(i,l){Jl(i,l),Jl(i+"Capture",l)}function Jl(i,l){for(ww[i]=l,i=0;i<l.length;i++)jw.add(l[i])}var x4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nw={},Sw={};function v4(i){return Fe.call(Sw,i)?!0:Fe.call(Nw,i)?!1:x4.test(i)?Sw[i]=!0:(Nw[i]=!0,!1)}function Dd(i,l,c){if(v4(l))if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+c)}}function Pd(i,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+c)}}function ci(i,l,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(l,c,""+h)}}function sa(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ew(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function y4(i,l,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,y=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Eg(i){if(!i._valueTracker){var l=Ew(i)?"checked":"value";i._valueTracker=y4(i,l,""+i[l])}}function Cw(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return i&&(h=Ew(i)?i.checked?"true":"false":i.value),i=h,i!==c?(l.setValue(i),!0):!1}function Md(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var b4=/[\n"\\]/g;function la(i){return i.replace(b4,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Cg(i,l,c,h,v,y,C,D){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),l!=null?C==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+sa(l)):i.value!==""+sa(l)&&(i.value=""+sa(l)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),l!=null?Ag(i,C,sa(l)):c!=null?Ag(i,C,sa(c)):h!=null&&i.removeAttribute("value"),v==null&&y!=null&&(i.defaultChecked=!!y),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+sa(D):i.removeAttribute("name")}function Aw(i,l,c,h,v,y,C,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),l!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){Eg(i);return}c=c!=null?""+sa(c):"",l=l!=null?""+sa(l):c,D||l===i.value||(i.value=l),i.defaultValue=l}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=D?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),Eg(i)}function Ag(i,l,c){l==="number"&&Md(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function eo(i,l,c,h){if(i=i.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=l.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&h&&(i[c].defaultSelected=!0)}else{for(c=""+sa(c),l=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function Tw(i,l,c){if(l!=null&&(l=""+sa(l),l!==i.value&&(i.value=l),c==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=c!=null?""+sa(c):""}function _w(i,l,c,h){if(l==null){if(h!=null){if(c!=null)throw Error(r(92));if(ge(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),l=c}c=sa(l),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Eg(i)}function to(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var j4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rw(i,l,c){var h=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,c):typeof c!="number"||c===0||j4.has(l)?l==="float"?i.cssFloat=c:i[l]=(""+c).trim():i[l]=c+"px"}function Ow(i,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in l)h=l[v],l.hasOwnProperty(v)&&c[v]!==h&&Rw(i,v,h)}else for(var y in l)l.hasOwnProperty(y)&&Rw(i,y,l[y])}function Tg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),N4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Id(i){return N4.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ui(){}var _g=null;function Rg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var no=null,ro=null;function kw(i){var l=Ql(i);if(l&&(i=l.stateNode)){var c=i[Ne]||null;e:switch(i=l.stateNode,l.type){case"input":if(Cg(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+la(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==i&&h.form===i.form){var v=h[Ne]||null;if(!v)throw Error(r(90));Cg(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<c.length;l++)h=c[l],h.form===i.form&&Cw(h)}break e;case"textarea":Tw(i,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&eo(i,!!c.multiple,l,!1)}}}var Og=!1;function Dw(i,l,c){if(Og)return i(l,c);Og=!0;try{var h=i(l);return h}finally{if(Og=!1,(no!==null||ro!==null)&&(Nh(),no&&(l=no,i=ro,ro=no=null,kw(l),i)))for(l=0;l<i.length;l++)kw(i[l])}}function Tc(i,l){var c=i.stateNode;if(c===null)return null;var h=c[Ne]||null;if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=!1;if(di)try{var _c={};Object.defineProperty(_c,"passive",{get:function(){kg=!0}}),window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{kg=!1}var as=null,Dg=null,Ld=null;function Pw(){if(Ld)return Ld;var i,l=Dg,c=l.length,h,v="value"in as?as.value:as.textContent,y=v.length;for(i=0;i<c&&l[i]===v[i];i++);var C=c-i;for(h=1;h<=C&&l[c-h]===v[y-h];h++);return Ld=v.slice(i,1<h?1-h:void 0)}function Bd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function $d(){return!0}function Mw(){return!1}function Ar(i){function l(c,h,v,y,C){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(c=i[D],this[D]=c?c(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$d:Mw,this.isPropagationStopped=Mw,this}return x(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),l}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=Ar(Js),Rc=x({},Js,{view:0,detail:0}),S4=Ar(Rc),Pg,Mg,Oc,zd=x({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oc&&(Oc&&i.type==="mousemove"?(Pg=i.screenX-Oc.screenX,Mg=i.screenY-Oc.screenY):Mg=Pg=0,Oc=i),Pg)},movementY:function(i){return"movementY"in i?i.movementY:Mg}}),Iw=Ar(zd),E4=x({},zd,{dataTransfer:0}),C4=Ar(E4),A4=x({},Rc,{relatedTarget:0}),Ig=Ar(A4),T4=x({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),_4=Ar(T4),R4=x({},Js,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),O4=Ar(R4),k4=x({},Js,{data:0}),Lw=Ar(k4),D4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I4(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=M4[i])?!!l[i]:!1}function Lg(){return I4}var L4=x({},Rc,{key:function(i){if(i.key){var l=D4[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Bd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?P4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lg,charCode:function(i){return i.type==="keypress"?Bd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),B4=Ar(L4),$4=x({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bw=Ar($4),U4=x({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lg}),z4=Ar(U4),H4=x({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),q4=Ar(H4),F4=x({},zd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K4=Ar(F4),G4=x({},Js,{newState:0,oldState:0}),V4=Ar(G4),W4=[9,13,27,32],Bg=di&&"CompositionEvent"in window,kc=null;di&&"documentMode"in document&&(kc=document.documentMode);var Y4=di&&"TextEvent"in window&&!kc,$w=di&&(!Bg||kc&&8<kc&&11>=kc),Uw=" ",zw=!1;function Hw(i,l){switch(i){case"keyup":return W4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ao=!1;function X4(i,l){switch(i){case"compositionend":return qw(l);case"keypress":return l.which!==32?null:(zw=!0,Uw);case"textInput":return i=l.data,i===Uw&&zw?null:i;default:return null}}function Q4(i,l){if(ao)return i==="compositionend"||!Bg&&Hw(i,l)?(i=Pw(),Ld=Dg=as=null,ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return $w&&l.locale!=="ko"?null:l.data;default:return null}}var Z4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Z4[i.type]:l==="textarea"}function Kw(i,l,c,h){no?ro?ro.push(h):ro=[h]:no=h,l=Rh(l,"onChange"),0<l.length&&(c=new Ud("onChange","change",null,c,h),i.push({event:c,listeners:l}))}var Dc=null,Pc=null;function J4(i){AS(i,0)}function Hd(i){var l=Ac(i);if(Cw(l))return i}function Gw(i,l){if(i==="change")return l}var Vw=!1;if(di){var $g;if(di){var Ug="oninput"in document;if(!Ug){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),Ug=typeof Ww.oninput=="function"}$g=Ug}else $g=!1;Vw=$g&&(!document.documentMode||9<document.documentMode)}function Yw(){Dc&&(Dc.detachEvent("onpropertychange",Xw),Pc=Dc=null)}function Xw(i){if(i.propertyName==="value"&&Hd(Pc)){var l=[];Kw(l,Pc,i,Rg(i)),Dw(J4,l)}}function eI(i,l,c){i==="focusin"?(Yw(),Dc=l,Pc=c,Dc.attachEvent("onpropertychange",Xw)):i==="focusout"&&Yw()}function tI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hd(Pc)}function nI(i,l){if(i==="click")return Hd(l)}function rI(i,l){if(i==="input"||i==="change")return Hd(l)}function aI(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Br=typeof Object.is=="function"?Object.is:aI;function Mc(i,l){if(Br(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!Fe.call(l,v)||!Br(i[v],l[v]))return!1}return!0}function Qw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zw(i,l){var c=Qw(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=l&&h>=l)return{node:c,offset:l-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Qw(c)}}function Jw(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Jw(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function eN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Md(i.document);l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=Md(i.document)}return l}function zg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var iI=di&&"documentMode"in document&&11>=document.documentMode,io=null,Hg=null,Ic=null,qg=!1;function tN(i,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qg||io==null||io!==Md(h)||(h=io,"selectionStart"in h&&zg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ic&&Mc(Ic,h)||(Ic=h,h=Rh(Hg,"onSelect"),0<h.length&&(l=new Ud("onSelect","select",null,l,c),i.push({event:l,listeners:h}),l.target=io)))}function el(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var so={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},Fg={},nN={};di&&(nN=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function tl(i){if(Fg[i])return Fg[i];if(!so[i])return i;var l=so[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in nN)return Fg[i]=l[c];return i}var rN=tl("animationend"),aN=tl("animationiteration"),iN=tl("animationstart"),sI=tl("transitionrun"),lI=tl("transitionstart"),oI=tl("transitioncancel"),sN=tl("transitionend"),lN=new Map,Kg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kg.push("scrollEnd");function Pa(i,l){lN.set(i,l),Zs(l,[i])}var qd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oa=[],lo=0,Gg=0;function Fd(){for(var i=lo,l=Gg=lo=0;l<i;){var c=oa[l];oa[l++]=null;var h=oa[l];oa[l++]=null;var v=oa[l];oa[l++]=null;var y=oa[l];if(oa[l++]=null,h!==null&&v!==null){var C=h.pending;C===null?v.next=v:(v.next=C.next,C.next=v),h.pending=v}y!==0&&oN(c,v,y)}}function Kd(i,l,c,h){oa[lo++]=i,oa[lo++]=l,oa[lo++]=c,oa[lo++]=h,Gg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Vg(i,l,c,h){return Kd(i,l,c,h),Gd(i)}function nl(i,l){return Kd(i,null,null,l),Gd(i)}function oN(i,l,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var v=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(v=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,v&&l!==null&&(v=31-zt(c),i=y.hiddenUpdates,h=i[v],h===null?i[v]=[l]:h.push(l),l.lane=c|536870912),y):null}function Gd(i){if(50<au)throw au=0,nx=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var oo={};function cI(i,l,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(i,l,c,h){return new cI(i,l,c,h)}function Wg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hi(i,l){var c=i.alternate;return c===null?(c=$r(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function cN(i,l){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,l=c.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Vd(i,l,c,h,v,y){var C=0;if(h=i,typeof i=="function")Wg(i)&&(C=1);else if(typeof i=="string")C=m6(i,c,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=$r(31,c,l,v),i.elementType=F,i.lanes=y,i;case w:return rl(c.children,v,y,l);case N:C=8,v|=24;break;case E:return i=$r(12,c,l,v|2),i.elementType=E,i.lanes=y,i;case O:return i=$r(13,c,l,v),i.elementType=O,i.lanes=y,i;case k:return i=$r(19,c,l,v),i.elementType=k,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:C=10;break e;case A:C=9;break e;case _:C=11;break e;case R:C=14;break e;case P:C=16,h=null;break e}C=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return l=$r(C,c,l,v),l.elementType=i,l.type=h,l.lanes=y,l}function rl(i,l,c,h){return i=$r(7,i,h,l),i.lanes=c,i}function Yg(i,l,c){return i=$r(6,i,null,l),i.lanes=c,i}function uN(i){var l=$r(18,null,null,0);return l.stateNode=i,l}function Xg(i,l,c){return l=$r(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var dN=new WeakMap;function ca(i,l){if(typeof i=="object"&&i!==null){var c=dN.get(i);return c!==void 0?c:(l={value:i,source:l,stack:Ce(l)},dN.set(i,l),l)}return{value:i,source:l,stack:Ce(l)}}var co=[],uo=0,Wd=null,Lc=0,ua=[],da=0,is=null,Va=1,Wa="";function fi(i,l){co[uo++]=Lc,co[uo++]=Wd,Wd=i,Lc=l}function hN(i,l,c){ua[da++]=Va,ua[da++]=Wa,ua[da++]=is,is=i;var h=Va;i=Wa;var v=32-zt(h)-1;h&=~(1<<v),c+=1;var y=32-zt(l)+v;if(30<y){var C=v-v%5;y=(h&(1<<C)-1).toString(32),h>>=C,v-=C,Va=1<<32-zt(l)+v|c<<v|h,Wa=y+i}else Va=1<<y|c<<v|h,Wa=i}function Qg(i){i.return!==null&&(fi(i,1),hN(i,1,0))}function Zg(i){for(;i===Wd;)Wd=co[--uo],co[uo]=null,Lc=co[--uo],co[uo]=null;for(;i===is;)is=ua[--da],ua[da]=null,Wa=ua[--da],ua[da]=null,Va=ua[--da],ua[da]=null}function fN(i,l){ua[da++]=Va,ua[da++]=Wa,ua[da++]=is,Va=l.id,Wa=l.overflow,is=i}var Qn=null,Jt=null,vt=!1,ss=null,ha=!1,Jg=Error(r(519));function ls(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(ca(l,i)),Jg}function mN(i){var l=i.stateNode,c=i.type,h=i.memoizedProps;switch(l[oe]=i,l[Ne]=h,c){case"dialog":gt("cancel",l),gt("close",l);break;case"iframe":case"object":case"embed":gt("load",l);break;case"video":case"audio":for(c=0;c<su.length;c++)gt(su[c],l);break;case"source":gt("error",l);break;case"img":case"image":case"link":gt("error",l),gt("load",l);break;case"details":gt("toggle",l);break;case"input":gt("invalid",l),Aw(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":gt("invalid",l);break;case"textarea":gt("invalid",l),_w(l,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||h.suppressHydrationWarning===!0||OS(l.textContent,c)?(h.popover!=null&&(gt("beforetoggle",l),gt("toggle",l)),h.onScroll!=null&&gt("scroll",l),h.onScrollEnd!=null&&gt("scrollend",l),h.onClick!=null&&(l.onclick=ui),l=!0):l=!1,l||ls(i,!0)}function gN(i){for(Qn=i.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Qn=Qn.return}}function ho(i){if(i!==Qn)return!1;if(!vt)return gN(i),vt=!0,!1;var l=i.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||xx(i.type,i.memoizedProps)),c=!c),c&&Jt&&ls(i),gN(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Jt=US(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Jt=US(i)}else l===27?(l=Jt,js(i.type)?(i=wx,wx=null,Jt=i):Jt=l):Jt=Qn?ma(i.stateNode.nextSibling):null;return!0}function al(){Jt=Qn=null,vt=!1}function ep(){var i=ss;return i!==null&&(Or===null?Or=i:Or.push.apply(Or,i),ss=null),i}function Bc(i){ss===null?ss=[i]:ss.push(i)}var tp=B(null),il=null,mi=null;function os(i,l,c){le(tp,l._currentValue),l._currentValue=c}function gi(i){i._currentValue=tp.current,K(tp)}function np(i,l,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===c)break;i=i.return}}function rp(i,l,c,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var y=v.dependencies;if(y!==null){var C=v.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=v;for(var X=0;X<l.length;X++)if(D.context===l[X]){y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),np(y.return,c,i),h||(C=null);break e}y=D.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=c,y=C.alternate,y!==null&&(y.lanes|=c),np(C,c,i),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===i){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function fo(i,l,c,h){i=null;for(var v=l,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var D=v.type;Br(v.pendingProps.value,C.value)||(i!==null?i.push(D):i=[D])}}else if(v===fe.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}v=v.return}i!==null&&rp(l,i,c,h),l.flags|=262144}function Yd(i){for(i=i.firstContext;i!==null;){if(!Br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sl(i){il=i,mi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return pN(il,i)}function Xd(i,l){return il===null&&sl(i),pN(i,l)}function pN(i,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},mi===null){if(i===null)throw Error(r(308));mi=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else mi=mi.next=l;return c}var uI=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(c){return c()})}},dI=e.unstable_scheduleCallback,hI=e.unstable_NormalPriority,An={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new uI,data:new Map,refCount:0}}function $c(i){i.refCount--,i.refCount===0&&dI(hI,function(){i.controller.abort()})}var Uc=null,ip=0,mo=0,go=null;function fI(i,l){if(Uc===null){var c=Uc=[];ip=0,mo=ox(),go={status:"pending",value:void 0,then:function(h){c.push(h)}}}return ip++,l.then(xN,xN),l}function xN(){if(--ip===0&&Uc!==null){go!==null&&(go.status="fulfilled");var i=Uc;Uc=null,mo=0,go=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function mI(i,l){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var v=0;v<c.length;v++)(0,c[v])(l)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var vN=$.S;$.S=function(i,l){tS=Pe(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&fI(i,l),vN!==null&&vN(i,l)};var ll=B(null);function sp(){var i=ll.current;return i!==null?i:qt.pooledCache}function Qd(i,l){l===null?le(ll,ll.current):le(ll,l.pool)}function yN(){var i=sp();return i===null?null:{parent:An._currentValue,pool:i}}var po=Error(r(460)),lp=Error(r(474)),Zd=Error(r(542)),Jd={then:function(){}};function bN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jN(i,l,c){switch(c=i[c],c===void 0?i.push(l):c!==l&&(l.then(ui,ui),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,NN(i),i;default:if(typeof l.status=="string")l.then(ui,ui);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=h}},function(h){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,NN(i),i}throw cl=l,po}}function ol(i){try{var l=i._init;return l(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(cl=c,po):c}}var cl=null;function wN(){if(cl===null)throw Error(r(459));var i=cl;return cl=null,i}function NN(i){if(i===po||i===Zd)throw Error(r(483))}var xo=null,zc=0;function eh(i){var l=zc;return zc+=1,xo===null&&(xo=[]),jN(xo,i,l)}function Hc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function th(i,l){throw l.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function SN(i){function l(ae,Z){if(i){var ue=ae.deletions;ue===null?(ae.deletions=[Z],ae.flags|=16):ue.push(Z)}}function c(ae,Z){if(!i)return null;for(;Z!==null;)l(ae,Z),Z=Z.sibling;return null}function h(ae){for(var Z=new Map;ae!==null;)ae.key!==null?Z.set(ae.key,ae):Z.set(ae.index,ae),ae=ae.sibling;return Z}function v(ae,Z){return ae=hi(ae,Z),ae.index=0,ae.sibling=null,ae}function y(ae,Z,ue){return ae.index=ue,i?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<Z?(ae.flags|=67108866,Z):ue):(ae.flags|=67108866,Z)):(ae.flags|=1048576,Z)}function C(ae){return i&&ae.alternate===null&&(ae.flags|=67108866),ae}function D(ae,Z,ue,Te){return Z===null||Z.tag!==6?(Z=Yg(ue,ae.mode,Te),Z.return=ae,Z):(Z=v(Z,ue),Z.return=ae,Z)}function X(ae,Z,ue,Te){var Qe=ue.type;return Qe===w?Ee(ae,Z,ue.props.children,Te,ue.key):Z!==null&&(Z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===P&&ol(Qe)===Z.type)?(Z=v(Z,ue.props),Hc(Z,ue),Z.return=ae,Z):(Z=Vd(ue.type,ue.key,ue.props,null,ae.mode,Te),Hc(Z,ue),Z.return=ae,Z)}function de(ae,Z,ue,Te){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ue.containerInfo||Z.stateNode.implementation!==ue.implementation?(Z=Xg(ue,ae.mode,Te),Z.return=ae,Z):(Z=v(Z,ue.children||[]),Z.return=ae,Z)}function Ee(ae,Z,ue,Te,Qe){return Z===null||Z.tag!==7?(Z=rl(ue,ae.mode,Te,Qe),Z.return=ae,Z):(Z=v(Z,ue),Z.return=ae,Z)}function _e(ae,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Yg(""+Z,ae.mode,ue),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return ue=Vd(Z.type,Z.key,Z.props,null,ae.mode,ue),Hc(ue,Z),ue.return=ae,ue;case S:return Z=Xg(Z,ae.mode,ue),Z.return=ae,Z;case P:return Z=ol(Z),_e(ae,Z,ue)}if(ge(Z)||G(Z))return Z=rl(Z,ae.mode,ue,null),Z.return=ae,Z;if(typeof Z.then=="function")return _e(ae,eh(Z),ue);if(Z.$$typeof===T)return _e(ae,Xd(ae,Z),ue);th(ae,Z)}return null}function me(ae,Z,ue,Te){var Qe=Z!==null?Z.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Qe!==null?null:D(ae,Z,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return ue.key===Qe?X(ae,Z,ue,Te):null;case S:return ue.key===Qe?de(ae,Z,ue,Te):null;case P:return ue=ol(ue),me(ae,Z,ue,Te)}if(ge(ue)||G(ue))return Qe!==null?null:Ee(ae,Z,ue,Te,null);if(typeof ue.then=="function")return me(ae,Z,eh(ue),Te);if(ue.$$typeof===T)return me(ae,Z,Xd(ae,ue),Te);th(ae,ue)}return null}function ye(ae,Z,ue,Te,Qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ae=ae.get(ue)||null,D(Z,ae,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case j:return ae=ae.get(Te.key===null?ue:Te.key)||null,X(Z,ae,Te,Qe);case S:return ae=ae.get(Te.key===null?ue:Te.key)||null,de(Z,ae,Te,Qe);case P:return Te=ol(Te),ye(ae,Z,ue,Te,Qe)}if(ge(Te)||G(Te))return ae=ae.get(ue)||null,Ee(Z,ae,Te,Qe,null);if(typeof Te.then=="function")return ye(ae,Z,ue,eh(Te),Qe);if(Te.$$typeof===T)return ye(ae,Z,ue,Xd(Z,Te),Qe);th(Z,Te)}return null}function Ue(ae,Z,ue,Te){for(var Qe=null,Et=null,We=Z,dt=Z=0,xt=null;We!==null&&dt<ue.length;dt++){We.index>dt?(xt=We,We=null):xt=We.sibling;var Ct=me(ae,We,ue[dt],Te);if(Ct===null){We===null&&(We=xt);break}i&&We&&Ct.alternate===null&&l(ae,We),Z=y(Ct,Z,dt),Et===null?Qe=Ct:Et.sibling=Ct,Et=Ct,We=xt}if(dt===ue.length)return c(ae,We),vt&&fi(ae,dt),Qe;if(We===null){for(;dt<ue.length;dt++)We=_e(ae,ue[dt],Te),We!==null&&(Z=y(We,Z,dt),Et===null?Qe=We:Et.sibling=We,Et=We);return vt&&fi(ae,dt),Qe}for(We=h(We);dt<ue.length;dt++)xt=ye(We,ae,dt,ue[dt],Te),xt!==null&&(i&&xt.alternate!==null&&We.delete(xt.key===null?dt:xt.key),Z=y(xt,Z,dt),Et===null?Qe=xt:Et.sibling=xt,Et=xt);return i&&We.forEach(function(Cs){return l(ae,Cs)}),vt&&fi(ae,dt),Qe}function Je(ae,Z,ue,Te){if(ue==null)throw Error(r(151));for(var Qe=null,Et=null,We=Z,dt=Z=0,xt=null,Ct=ue.next();We!==null&&!Ct.done;dt++,Ct=ue.next()){We.index>dt?(xt=We,We=null):xt=We.sibling;var Cs=me(ae,We,Ct.value,Te);if(Cs===null){We===null&&(We=xt);break}i&&We&&Cs.alternate===null&&l(ae,We),Z=y(Cs,Z,dt),Et===null?Qe=Cs:Et.sibling=Cs,Et=Cs,We=xt}if(Ct.done)return c(ae,We),vt&&fi(ae,dt),Qe;if(We===null){for(;!Ct.done;dt++,Ct=ue.next())Ct=_e(ae,Ct.value,Te),Ct!==null&&(Z=y(Ct,Z,dt),Et===null?Qe=Ct:Et.sibling=Ct,Et=Ct);return vt&&fi(ae,dt),Qe}for(We=h(We);!Ct.done;dt++,Ct=ue.next())Ct=ye(We,ae,dt,Ct.value,Te),Ct!==null&&(i&&Ct.alternate!==null&&We.delete(Ct.key===null?dt:Ct.key),Z=y(Ct,Z,dt),Et===null?Qe=Ct:Et.sibling=Ct,Et=Ct);return i&&We.forEach(function(E6){return l(ae,E6)}),vt&&fi(ae,dt),Qe}function $t(ae,Z,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===w&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:e:{for(var Qe=ue.key;Z!==null;){if(Z.key===Qe){if(Qe=ue.type,Qe===w){if(Z.tag===7){c(ae,Z.sibling),Te=v(Z,ue.props.children),Te.return=ae,ae=Te;break e}}else if(Z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===P&&ol(Qe)===Z.type){c(ae,Z.sibling),Te=v(Z,ue.props),Hc(Te,ue),Te.return=ae,ae=Te;break e}c(ae,Z);break}else l(ae,Z);Z=Z.sibling}ue.type===w?(Te=rl(ue.props.children,ae.mode,Te,ue.key),Te.return=ae,ae=Te):(Te=Vd(ue.type,ue.key,ue.props,null,ae.mode,Te),Hc(Te,ue),Te.return=ae,ae=Te)}return C(ae);case S:e:{for(Qe=ue.key;Z!==null;){if(Z.key===Qe)if(Z.tag===4&&Z.stateNode.containerInfo===ue.containerInfo&&Z.stateNode.implementation===ue.implementation){c(ae,Z.sibling),Te=v(Z,ue.children||[]),Te.return=ae,ae=Te;break e}else{c(ae,Z);break}else l(ae,Z);Z=Z.sibling}Te=Xg(ue,ae.mode,Te),Te.return=ae,ae=Te}return C(ae);case P:return ue=ol(ue),$t(ae,Z,ue,Te)}if(ge(ue))return Ue(ae,Z,ue,Te);if(G(ue)){if(Qe=G(ue),typeof Qe!="function")throw Error(r(150));return ue=Qe.call(ue),Je(ae,Z,ue,Te)}if(typeof ue.then=="function")return $t(ae,Z,eh(ue),Te);if(ue.$$typeof===T)return $t(ae,Z,Xd(ae,ue),Te);th(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,Z!==null&&Z.tag===6?(c(ae,Z.sibling),Te=v(Z,ue),Te.return=ae,ae=Te):(c(ae,Z),Te=Yg(ue,ae.mode,Te),Te.return=ae,ae=Te),C(ae)):c(ae,Z)}return function(ae,Z,ue,Te){try{zc=0;var Qe=$t(ae,Z,ue,Te);return xo=null,Qe}catch(We){if(We===po||We===Zd)throw We;var Et=$r(29,We,null,ae.mode);return Et.lanes=Te,Et.return=ae,Et}finally{}}}var ul=SN(!0),EN=SN(!1),cs=!1;function op(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function us(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ds(i,l,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Tt&2)!==0){var v=h.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),h.pending=l,l=Gd(i),oN(i,null,c),l}return Kd(i,h,l,c),Gd(i)}function qc(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,Xs(i,c)}}function up(i,l){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?v=y=C:y=y.next=C,c=c.next}while(c!==null);y===null?v=y=l:y=y.next=l}else v=y=l;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}var dp=!1;function Fc(){if(dp){var i=go;if(i!==null)throw i}}function Kc(i,l,c,h){dp=!1;var v=i.updateQueue;cs=!1;var y=v.firstBaseUpdate,C=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var X=D,de=X.next;X.next=null,C===null?y=de:C.next=de,C=X;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,D=Ee.lastBaseUpdate,D!==C&&(D===null?Ee.firstBaseUpdate=de:D.next=de,Ee.lastBaseUpdate=X))}if(y!==null){var _e=v.baseState;C=0,Ee=de=X=null,D=y;do{var me=D.lane&-536870913,ye=me!==D.lane;if(ye?(pt&me)===me:(h&me)===me){me!==0&&me===mo&&(dp=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ue=i,Je=D;me=l;var $t=c;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){_e=Ue.call($t,_e,me);break e}_e=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,me=typeof Ue=="function"?Ue.call($t,_e,me):Ue,me==null)break e;_e=x({},_e,me);break e;case 2:cs=!0}}me=D.callback,me!==null&&(i.flags|=64,ye&&(i.flags|=8192),ye=v.callbacks,ye===null?v.callbacks=[me]:ye.push(me))}else ye={lane:me,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Ee===null?(de=Ee=ye,X=_e):Ee=Ee.next=ye,C|=me;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ye=D,D=ye.next,ye.next=null,v.lastBaseUpdate=ye,v.shared.pending=null}}while(!0);Ee===null&&(X=_e),v.baseState=X,v.firstBaseUpdate=de,v.lastBaseUpdate=Ee,y===null&&(v.shared.lanes=0),ps|=C,i.lanes=C,i.memoizedState=_e}}function CN(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function AN(i,l){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)CN(c[i],l)}var vo=B(null),nh=B(0);function TN(i,l){i=Si,le(nh,i),le(vo,l),Si=i|l.baseLanes}function hp(){le(nh,Si),le(vo,vo.current)}function fp(){Si=nh.current,K(vo),K(nh)}var Ur=B(null),fa=null;function hs(i){var l=i.alternate;le(wn,wn.current&1),le(Ur,i),fa===null&&(l===null||vo.current!==null||l.memoizedState!==null)&&(fa=i)}function mp(i){le(wn,wn.current),le(Ur,i),fa===null&&(fa=i)}function _N(i){i.tag===22?(le(wn,wn.current),le(Ur,i),fa===null&&(fa=i)):fs()}function fs(){le(wn,wn.current),le(Ur,Ur.current)}function zr(i){K(Ur),fa===i&&(fa=null),K(wn)}var wn=B(0);function rh(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||bx(c)||jx(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var pi=0,ut=null,Lt=null,Tn=null,ah=!1,yo=!1,dl=!1,ih=0,Gc=0,bo=null,gI=0;function yn(){throw Error(r(321))}function gp(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!Br(i[c],l[c]))return!1;return!0}function pp(i,l,c,h,v,y){return pi=y,ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=i===null||i.memoizedState===null?h1:Op,dl=!1,y=c(h,v),dl=!1,yo&&(y=ON(l,c,h,v)),RN(i),y}function RN(i){$.H=Yc;var l=Lt!==null&&Lt.next!==null;if(pi=0,Tn=Lt=ut=null,ah=!1,Gc=0,bo=null,l)throw Error(r(300));i===null||_n||(i=i.dependencies,i!==null&&Yd(i)&&(_n=!0))}function ON(i,l,c,h){ut=i;var v=0;do{if(yo&&(bo=null),Gc=0,yo=!1,25<=v)throw Error(r(301));if(v+=1,Tn=Lt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=f1,y=l(c,h)}while(yo);return y}function pI(){var i=$.H,l=i.useState()[0];return l=typeof l.then=="function"?Vc(l):l,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(ut.flags|=1024),l}function xp(){var i=ih!==0;return ih=0,i}function vp(i,l,c){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~c}function yp(i){if(ah){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ah=!1}pi=0,Tn=Lt=ut=null,yo=!1,Gc=ih=0,bo=null}function pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?ut.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function Nn(){if(Lt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var l=Tn===null?ut.memoizedState:Tn.next;if(l!==null)Tn=l,Lt=i;else{if(i===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Tn===null?ut.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(i){var l=Gc;return Gc+=1,bo===null&&(bo=[]),i=jN(bo,i,l),l=ut,(Tn===null?l.memoizedState:Tn.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?h1:Op),i}function lh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vc(i);if(i.$$typeof===T)return Zn(i)}throw Error(r(438,String(i)))}function bp(i){var l=null,c=ut.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var h=ut.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=sh(),ut.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(i),h=0;h<i;h++)c[h]=re;return l.index++,c}function xi(i,l){return typeof l=="function"?l(i):l}function oh(i){var l=Nn();return jp(l,Lt,i)}function jp(i,l,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=i.baseQueue,y=h.pending;if(y!==null){if(v!==null){var C=v.next;v.next=y.next,y.next=C}l.baseQueue=v=y,h.pending=null}if(y=i.baseState,v===null)i.memoizedState=y;else{l=v.next;var D=C=null,X=null,de=l,Ee=!1;do{var _e=de.lane&-536870913;if(_e!==de.lane?(pt&_e)===_e:(pi&_e)===_e){var me=de.revertLane;if(me===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),_e===mo&&(Ee=!0);else if((pi&me)===me){de=de.next,me===mo&&(Ee=!0);continue}else _e={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},X===null?(D=X=_e,C=y):X=X.next=_e,ut.lanes|=me,ps|=me;_e=de.action,dl&&c(y,_e),y=de.hasEagerState?de.eagerState:c(y,_e)}else me={lane:_e,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},X===null?(D=X=me,C=y):X=X.next=me,ut.lanes|=_e,ps|=_e;de=de.next}while(de!==null&&de!==l);if(X===null?C=y:X.next=D,!Br(y,i.memoizedState)&&(_n=!0,Ee&&(c=go,c!==null)))throw c;i.memoizedState=y,i.baseState=C,i.baseQueue=X,h.lastRenderedState=y}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function wp(i){var l=Nn(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,v=c.pending,y=l.memoizedState;if(v!==null){c.pending=null;var C=v=v.next;do y=i(y,C.action),C=C.next;while(C!==v);Br(y,l.memoizedState)||(_n=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,h]}function kN(i,l,c){var h=ut,v=Nn(),y=vt;if(y){if(c===void 0)throw Error(r(407));c=c()}else c=l();var C=!Br((Lt||v).memoizedState,c);if(C&&(v.memoizedState=c,_n=!0),v=v.queue,Ep(MN.bind(null,h,v,i),[i]),v.getSnapshot!==l||C||Tn!==null&&Tn.memoizedState.tag&1){if(h.flags|=2048,jo(9,{destroy:void 0},PN.bind(null,h,v,c,l),null),qt===null)throw Error(r(349));y||(pi&127)!==0||DN(h,l,c)}return c}function DN(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=ut.updateQueue,l===null?(l=sh(),ut.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function PN(i,l,c,h){l.value=c,l.getSnapshot=h,IN(l)&&LN(i)}function MN(i,l,c){return c(function(){IN(l)&&LN(i)})}function IN(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!Br(i,c)}catch{return!0}}function LN(i){var l=nl(i,2);l!==null&&kr(l,i,2)}function Np(i){var l=pr();if(typeof i=="function"){var c=i;if(i=c(),dl){gr(!0);try{c()}finally{gr(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:i},l}function BN(i,l,c,h){return i.baseState=c,jp(i,Lt,typeof h=="function"?h:xi)}function xI(i,l,c,h,v){if(dh(i))throw Error(r(485));if(i=l.action,i!==null){var y={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};$.T!==null?c(!0):y.isTransition=!1,h(y),c=l.pending,c===null?(y.next=l.pending=y,$N(l,y)):(y.next=c.next,l.pending=c.next=y)}}function $N(i,l){var c=l.action,h=l.payload,v=i.state;if(l.isTransition){var y=$.T,C={};$.T=C;try{var D=c(v,h),X=$.S;X!==null&&X(C,D),UN(i,l,D)}catch(de){Sp(i,l,de)}finally{y!==null&&C.types!==null&&(y.types=C.types),$.T=y}}else try{y=c(v,h),UN(i,l,y)}catch(de){Sp(i,l,de)}}function UN(i,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){zN(i,l,h)},function(h){return Sp(i,l,h)}):zN(i,l,c)}function zN(i,l,c){l.status="fulfilled",l.value=c,HN(l),i.state=c,l=i.pending,l!==null&&(c=l.next,c===l?i.pending=null:(c=c.next,l.next=c,$N(i,c)))}function Sp(i,l,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=c,HN(l),l=l.next;while(l!==h)}i.action=null}function HN(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function qN(i,l){return l}function FN(i,l){if(vt){var c=qt.formState;if(c!==null){e:{var h=ut;if(vt){if(Jt){t:{for(var v=Jt,y=ha;v.nodeType!==8;){if(!y){v=null;break t}if(v=ma(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){Jt=ma(v.nextSibling),h=v.data==="F!";break e}}ls(h)}h=!1}h&&(l=c[0])}}return c=pr(),c.memoizedState=c.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qN,lastRenderedState:l},c.queue=h,c=c1.bind(null,ut,h),h.dispatch=c,h=Np(!1),y=Rp.bind(null,ut,!1,h.queue),h=pr(),v={state:l,dispatch:null,action:i,pending:null},h.queue=v,c=xI.bind(null,ut,v,y,c),v.dispatch=c,h.memoizedState=i,[l,c,!1]}function KN(i){var l=Nn();return GN(l,Lt,i)}function GN(i,l,c){if(l=jp(i,l,qN)[0],i=oh(xi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Vc(l)}catch(C){throw C===po?Zd:C}else h=l;l=Nn();var v=l.queue,y=v.dispatch;return c!==l.memoizedState&&(ut.flags|=2048,jo(9,{destroy:void 0},vI.bind(null,v,c),null)),[h,y,i]}function vI(i,l){i.action=l}function VN(i){var l=Nn(),c=Lt;if(c!==null)return GN(l,c,i);Nn(),l=l.memoizedState,c=Nn();var h=c.queue.dispatch;return c.memoizedState=i,[l,h,!1]}function jo(i,l,c,h){return i={tag:i,create:c,deps:h,inst:l,next:null},l=ut.updateQueue,l===null&&(l=sh(),ut.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,l.lastEffect=i),i}function WN(){return Nn().memoizedState}function ch(i,l,c,h){var v=pr();ut.flags|=i,v.memoizedState=jo(1|l,{destroy:void 0},c,h===void 0?null:h)}function uh(i,l,c,h){var v=Nn();h=h===void 0?null:h;var y=v.memoizedState.inst;Lt!==null&&h!==null&&gp(h,Lt.memoizedState.deps)?v.memoizedState=jo(l,y,c,h):(ut.flags|=i,v.memoizedState=jo(1|l,y,c,h))}function YN(i,l){ch(8390656,8,i,l)}function Ep(i,l){uh(2048,8,i,l)}function yI(i){ut.flags|=4;var l=ut.updateQueue;if(l===null)l=sh(),ut.updateQueue=l,l.events=[i];else{var c=l.events;c===null?l.events=[i]:c.push(i)}}function XN(i){var l=Nn().memoizedState;return yI({ref:l,nextImpl:i}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function QN(i,l){return uh(4,2,i,l)}function ZN(i,l){return uh(4,4,i,l)}function JN(i,l){if(typeof l=="function"){i=i();var c=l(i);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function e1(i,l,c){c=c!=null?c.concat([i]):null,uh(4,4,JN.bind(null,l,i),c)}function Cp(){}function t1(i,l){var c=Nn();l=l===void 0?null:l;var h=c.memoizedState;return l!==null&&gp(l,h[1])?h[0]:(c.memoizedState=[i,l],i)}function n1(i,l){var c=Nn();l=l===void 0?null:l;var h=c.memoizedState;if(l!==null&&gp(l,h[1]))return h[0];if(h=i(),dl){gr(!0);try{i()}finally{gr(!1)}}return c.memoizedState=[h,l],h}function Ap(i,l,c){return c===void 0||(pi&1073741824)!==0&&(pt&261930)===0?i.memoizedState=l:(i.memoizedState=c,i=rS(),ut.lanes|=i,ps|=i,c)}function r1(i,l,c,h){return Br(c,l)?c:vo.current!==null?(i=Ap(i,c,h),Br(i,l)||(_n=!0),i):(pi&42)===0||(pi&1073741824)!==0&&(pt&261930)===0?(_n=!0,i.memoizedState=c):(i=rS(),ut.lanes|=i,ps|=i,l)}function a1(i,l,c,h,v){var y=U.p;U.p=y!==0&&8>y?y:8;var C=$.T,D={};$.T=D,Rp(i,!1,l,c);try{var X=v(),de=$.S;if(de!==null&&de(D,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ee=mI(X,h);Wc(i,l,Ee,Fr(i))}else Wc(i,l,h,Fr(i))}catch(_e){Wc(i,l,{then:function(){},status:"rejected",reason:_e},Fr())}finally{U.p=y,C!==null&&D.types!==null&&(C.types=D.types),$.T=C}}function bI(){}function Tp(i,l,c,h){if(i.tag!==5)throw Error(r(476));var v=i1(i).queue;a1(i,v,l,V,c===null?bI:function(){return s1(i),c(h)})}function i1(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:V},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:c},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function s1(i){var l=i1(i);l.next===null&&(l=i.alternate.memoizedState),Wc(i,l.next.queue,{},Fr())}function _p(){return Zn(du)}function l1(){return Nn().memoizedState}function o1(){return Nn().memoizedState}function jI(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var c=Fr();i=us(c);var h=ds(l,i,c);h!==null&&(kr(h,l,c),qc(h,l,c)),l={cache:ap()},i.payload=l;return}l=l.return}}function wI(i,l,c){var h=Fr();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},dh(i)?u1(l,c):(c=Vg(i,l,c,h),c!==null&&(kr(c,i,h),d1(c,l,h)))}function c1(i,l,c){var h=Fr();Wc(i,l,c,h)}function Wc(i,l,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(dh(i))u1(l,v);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var C=l.lastRenderedState,D=y(C,c);if(v.hasEagerState=!0,v.eagerState=D,Br(D,C))return Kd(i,l,v,0),qt===null&&Fd(),!1}catch{}finally{}if(c=Vg(i,l,v,h),c!==null)return kr(c,i,h),d1(c,l,h),!0}return!1}function Rp(i,l,c,h){if(h={lane:2,revertLane:ox(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},dh(i)){if(l)throw Error(r(479))}else l=Vg(i,c,h,2),l!==null&&kr(l,i,2)}function dh(i){var l=i.alternate;return i===ut||l!==null&&l===ut}function u1(i,l){yo=ah=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function d1(i,l,c){if((c&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,Xs(i,c)}}var Yc={readContext:Zn,use:lh,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};Yc.useEffectEvent=yn;var h1={readContext:Zn,use:lh,useCallback:function(i,l){return pr().memoizedState=[i,l===void 0?null:l],i},useContext:Zn,useEffect:YN,useImperativeHandle:function(i,l,c){c=c!=null?c.concat([i]):null,ch(4194308,4,JN.bind(null,l,i),c)},useLayoutEffect:function(i,l){return ch(4194308,4,i,l)},useInsertionEffect:function(i,l){ch(4,2,i,l)},useMemo:function(i,l){var c=pr();l=l===void 0?null:l;var h=i();if(dl){gr(!0);try{i()}finally{gr(!1)}}return c.memoizedState=[h,l],h},useReducer:function(i,l,c){var h=pr();if(c!==void 0){var v=c(l);if(dl){gr(!0);try{c(l)}finally{gr(!1)}}}else v=l;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=wI.bind(null,ut,i),[h.memoizedState,i]},useRef:function(i){var l=pr();return i={current:i},l.memoizedState=i},useState:function(i){i=Np(i);var l=i.queue,c=c1.bind(null,ut,l);return l.dispatch=c,[i.memoizedState,c]},useDebugValue:Cp,useDeferredValue:function(i,l){var c=pr();return Ap(c,i,l)},useTransition:function(){var i=Np(!1);return i=a1.bind(null,ut,i.queue,!0,!1),pr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,c){var h=ut,v=pr();if(vt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),qt===null)throw Error(r(349));(pt&127)!==0||DN(h,l,c)}v.memoizedState=c;var y={value:c,getSnapshot:l};return v.queue=y,YN(MN.bind(null,h,y,i),[i]),h.flags|=2048,jo(9,{destroy:void 0},PN.bind(null,h,y,c,l),null),c},useId:function(){var i=pr(),l=qt.identifierPrefix;if(vt){var c=Wa,h=Va;c=(h&~(1<<32-zt(h)-1)).toString(32)+c,l="_"+l+"R_"+c,c=ih++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=gI++,l="_"+l+"r_"+c.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:_p,useFormState:FN,useActionState:FN,useOptimistic:function(i){var l=pr();l.memoizedState=l.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Rp.bind(null,ut,!0,c),c.dispatch=l,[i,l]},useMemoCache:bp,useCacheRefresh:function(){return pr().memoizedState=jI.bind(null,ut)},useEffectEvent:function(i){var l=pr(),c={impl:i};return l.memoizedState=c,function(){if((Tt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Op={readContext:Zn,use:lh,useCallback:t1,useContext:Zn,useEffect:Ep,useImperativeHandle:e1,useInsertionEffect:QN,useLayoutEffect:ZN,useMemo:n1,useReducer:oh,useRef:WN,useState:function(){return oh(xi)},useDebugValue:Cp,useDeferredValue:function(i,l){var c=Nn();return r1(c,Lt.memoizedState,i,l)},useTransition:function(){var i=oh(xi)[0],l=Nn().memoizedState;return[typeof i=="boolean"?i:Vc(i),l]},useSyncExternalStore:kN,useId:l1,useHostTransitionStatus:_p,useFormState:KN,useActionState:KN,useOptimistic:function(i,l){var c=Nn();return BN(c,Lt,i,l)},useMemoCache:bp,useCacheRefresh:o1};Op.useEffectEvent=XN;var f1={readContext:Zn,use:lh,useCallback:t1,useContext:Zn,useEffect:Ep,useImperativeHandle:e1,useInsertionEffect:QN,useLayoutEffect:ZN,useMemo:n1,useReducer:wp,useRef:WN,useState:function(){return wp(xi)},useDebugValue:Cp,useDeferredValue:function(i,l){var c=Nn();return Lt===null?Ap(c,i,l):r1(c,Lt.memoizedState,i,l)},useTransition:function(){var i=wp(xi)[0],l=Nn().memoizedState;return[typeof i=="boolean"?i:Vc(i),l]},useSyncExternalStore:kN,useId:l1,useHostTransitionStatus:_p,useFormState:VN,useActionState:VN,useOptimistic:function(i,l){var c=Nn();return Lt!==null?BN(c,Lt,i,l):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:bp,useCacheRefresh:o1};f1.useEffectEvent=XN;function kp(i,l,c,h){l=i.memoizedState,c=c(h,l),c=c==null?l:x({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Dp={enqueueSetState:function(i,l,c){i=i._reactInternals;var h=Fr(),v=us(h);v.payload=l,c!=null&&(v.callback=c),l=ds(i,v,h),l!==null&&(kr(l,i,h),qc(l,i,h))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var h=Fr(),v=us(h);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=ds(i,v,h),l!==null&&(kr(l,i,h),qc(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=Fr(),h=us(c);h.tag=2,l!=null&&(h.callback=l),l=ds(i,h,c),l!==null&&(kr(l,i,c),qc(l,i,c))}};function m1(i,l,c,h,v,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,C):l.prototype&&l.prototype.isPureReactComponent?!Mc(c,h)||!Mc(v,y):!0}function g1(i,l,c,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==i&&Dp.enqueueReplaceState(l,l.state,null)}function hl(i,l){var c=l;if("ref"in l){c={};for(var h in l)h!=="ref"&&(c[h]=l[h])}if(i=i.defaultProps){c===l&&(c=x({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function p1(i){qd(i)}function x1(i){console.error(i)}function v1(i){qd(i)}function hh(i,l){try{var c=i.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function y1(i,l,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Pp(i,l,c){return c=us(c),c.tag=3,c.payload={element:null},c.callback=function(){hh(i,l)},c}function b1(i){return i=us(i),i.tag=3,i}function j1(i,l,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var y=h.value;i.payload=function(){return v(y)},i.callback=function(){y1(l,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){y1(l,c,h),typeof v!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function NI(i,l,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=c.alternate,l!==null&&fo(l,c,v,!0),c=Ur.current,c!==null){switch(c.tag){case 31:case 13:return fa===null?Sh():c.alternate===null&&bn===0&&(bn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===Jd?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([h]):l.add(h),ix(i,h,v)),!1;case 22:return c.flags|=65536,h===Jd?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([h]):c.add(h)),ix(i,h,v)),!1}throw Error(r(435,c.tag))}return ix(i,h,v),Sh(),!1}if(vt)return l=Ur.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,h!==Jg&&(i=Error(r(422),{cause:h}),Bc(ca(i,c)))):(h!==Jg&&(l=Error(r(423),{cause:h}),Bc(ca(l,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=ca(h,c),v=Pp(i.stateNode,h,v),up(i,v),bn!==4&&(bn=2)),!1;var y=Error(r(520),{cause:h});if(y=ca(y,c),ru===null?ru=[y]:ru.push(y),bn!==4&&(bn=2),l===null)return!0;h=ca(h,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=Pp(c.stateNode,h,i),up(c,i),!1;case 1:if(l=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xs===null||!xs.has(y))))return c.flags|=65536,v&=-v,c.lanes|=v,v=b1(v),j1(v,i,c,h),up(c,v),!1}c=c.return}while(c!==null);return!1}var Mp=Error(r(461)),_n=!1;function Jn(i,l,c,h){l.child=i===null?EN(l,null,c,h):ul(l,i.child,c,h)}function w1(i,l,c,h,v){c=c.render;var y=l.ref;if("ref"in h){var C={};for(var D in h)D!=="ref"&&(C[D]=h[D])}else C=h;return sl(l),h=pp(i,l,c,C,y,v),D=xp(),i!==null&&!_n?(vp(i,l,v),vi(i,l,v)):(vt&&D&&Qg(l),l.flags|=1,Jn(i,l,h,v),l.child)}function N1(i,l,c,h,v){if(i===null){var y=c.type;return typeof y=="function"&&!Wg(y)&&y.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=y,S1(i,l,y,h,v)):(i=Vd(c.type,null,h,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,!qp(i,v)){var C=y.memoizedProps;if(c=c.compare,c=c!==null?c:Mc,c(C,h)&&i.ref===l.ref)return vi(i,l,v)}return l.flags|=1,i=hi(y,h),i.ref=l.ref,i.return=l,l.child=i}function S1(i,l,c,h,v){if(i!==null){var y=i.memoizedProps;if(Mc(y,h)&&i.ref===l.ref)if(_n=!1,l.pendingProps=h=y,qp(i,v))(i.flags&131072)!==0&&(_n=!0);else return l.lanes=i.lanes,vi(i,l,v)}return Ip(i,l,c,h,v)}function E1(i,l,c,h){var v=h.children,y=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(h=l.child=i.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~y}else h=0,l.child=null;return C1(i,l,y,c,h)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qd(l,y!==null?y.cachePool:null),y!==null?TN(l,y):hp(),_N(l);else return h=l.lanes=536870912,C1(i,l,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(Qd(l,y.cachePool),TN(l,y),fs(),l.memoizedState=null):(i!==null&&Qd(l,null),hp(),fs());return Jn(i,l,v,c),l.child}function Xc(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function C1(i,l,c,h,v){var y=sp();return y=y===null?null:{parent:An._currentValue,pool:y},l.memoizedState={baseLanes:c,cachePool:y},i!==null&&Qd(l,null),hp(),_N(l),i!==null&&fo(i,l,h,!0),l.childLanes=v,null}function fh(i,l){return l=gh({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function A1(i,l,c){return ul(l,i.child,null,c),i=fh(l,l.pendingProps),i.flags|=2,zr(l),l.memoizedState=null,i}function SI(i,l,c){var h=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(vt){if(h.mode==="hidden")return i=fh(l,h),l.lanes=536870912,Xc(null,i);if(mp(l),(i=Jt)?(i=$S(i,ha),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:is!==null?{id:Va,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},c=uN(i),c.return=l,l.child=c,Qn=l,Jt=null)):i=null,i===null)throw ls(l);return l.lanes=536870912,null}return fh(l,h)}var y=i.memoizedState;if(y!==null){var C=y.dehydrated;if(mp(l),v)if(l.flags&256)l.flags&=-257,l=A1(i,l,c);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(_n||fo(i,l,c,!1),v=(c&i.childLanes)!==0,_n||v){if(h=qt,h!==null&&(C=Wl(h,c),C!==0&&C!==y.retryLane))throw y.retryLane=C,nl(i,C),kr(h,i,C),Mp;Sh(),l=A1(i,l,c)}else i=y.treeContext,Jt=ma(C.nextSibling),Qn=l,vt=!0,ss=null,ha=!1,i!==null&&fN(l,i),l=fh(l,h),l.flags|=4096;return l}return i=hi(i.child,{mode:h.mode,children:h.children}),i.ref=l.ref,l.child=i,i.return=l,i}function mh(i,l){var c=l.ref;if(c===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(l.flags|=4194816)}}function Ip(i,l,c,h,v){return sl(l),c=pp(i,l,c,h,void 0,v),h=xp(),i!==null&&!_n?(vp(i,l,v),vi(i,l,v)):(vt&&h&&Qg(l),l.flags|=1,Jn(i,l,c,v),l.child)}function T1(i,l,c,h,v,y){return sl(l),l.updateQueue=null,c=ON(l,h,c,v),RN(i),h=xp(),i!==null&&!_n?(vp(i,l,y),vi(i,l,y)):(vt&&h&&Qg(l),l.flags|=1,Jn(i,l,c,y),l.child)}function _1(i,l,c,h,v){if(sl(l),l.stateNode===null){var y=oo,C=c.contextType;typeof C=="object"&&C!==null&&(y=Zn(C)),y=new c(h,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Dp,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=h,y.state=l.memoizedState,y.refs={},op(l),C=c.contextType,y.context=typeof C=="object"&&C!==null?Zn(C):oo,y.state=l.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(kp(l,c,C,h),y.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Dp.enqueueReplaceState(y,y.state,null),Kc(l,h,y,v),Fc(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){y=l.stateNode;var D=l.memoizedProps,X=hl(c,D);y.props=X;var de=y.context,Ee=c.contextType;C=oo,typeof Ee=="object"&&Ee!==null&&(C=Zn(Ee));var _e=c.getDerivedStateFromProps;Ee=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,Ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||de!==C)&&g1(l,y,h,C),cs=!1;var me=l.memoizedState;y.state=me,Kc(l,h,y,v),Fc(),de=l.memoizedState,D||me!==de||cs?(typeof _e=="function"&&(kp(l,c,_e,h),de=l.memoizedState),(X=cs||m1(l,c,X,h,me,de,C))?(Ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=de),y.props=h,y.state=de,y.context=C,h=X):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{y=l.stateNode,cp(i,l),C=l.memoizedProps,Ee=hl(c,C),y.props=Ee,_e=l.pendingProps,me=y.context,de=c.contextType,X=oo,typeof de=="object"&&de!==null&&(X=Zn(de)),D=c.getDerivedStateFromProps,(de=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==_e||me!==X)&&g1(l,y,h,X),cs=!1,me=l.memoizedState,y.state=me,Kc(l,h,y,v),Fc();var ye=l.memoizedState;C!==_e||me!==ye||cs||i!==null&&i.dependencies!==null&&Yd(i.dependencies)?(typeof D=="function"&&(kp(l,c,D,h),ye=l.memoizedState),(Ee=cs||m1(l,c,Ee,h,me,ye,X)||i!==null&&i.dependencies!==null&&Yd(i.dependencies))?(de||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ye,X),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ye,X)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&me===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&me===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=ye),y.props=h,y.state=ye,y.context=X,h=Ee):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&me===i.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&me===i.memoizedState||(l.flags|=1024),h=!1)}return y=h,mh(i,l),h=(l.flags&128)!==0,y||h?(y=l.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,i!==null&&h?(l.child=ul(l,i.child,null,v),l.child=ul(l,null,c,v)):Jn(i,l,c,v),l.memoizedState=y.state,i=l.child):i=vi(i,l,v),i}function R1(i,l,c,h){return al(),l.flags|=256,Jn(i,l,c,h),l.child}var Lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(i){return{baseLanes:i,cachePool:yN()}}function $p(i,l,c){return i=i!==null?i.childLanes&~c:0,l&&(i|=qr),i}function O1(i,l,c){var h=l.pendingProps,v=!1,y=(l.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(wn.current&2)!==0),C&&(v=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,i===null){if(vt){if(v?hs(l):fs(),(i=Jt)?(i=$S(i,ha),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:is!==null?{id:Va,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},c=uN(i),c.return=l,l.child=c,Qn=l,Jt=null)):i=null,i===null)throw ls(l);return jx(i)?l.lanes=32:l.lanes=536870912,null}var D=h.children;return h=h.fallback,v?(fs(),v=l.mode,D=gh({mode:"hidden",children:D},v),h=rl(h,v,c,null),D.return=l,h.return=l,D.sibling=h,l.child=D,h=l.child,h.memoizedState=Bp(c),h.childLanes=$p(i,C,c),l.memoizedState=Lp,Xc(null,h)):(hs(l),Up(l,D))}var X=i.memoizedState;if(X!==null&&(D=X.dehydrated,D!==null)){if(y)l.flags&256?(hs(l),l.flags&=-257,l=zp(i,l,c)):l.memoizedState!==null?(fs(),l.child=i.child,l.flags|=128,l=null):(fs(),D=h.fallback,v=l.mode,h=gh({mode:"visible",children:h.children},v),D=rl(D,v,c,null),D.flags|=2,h.return=l,D.return=l,h.sibling=D,l.child=h,ul(l,i.child,null,c),h=l.child,h.memoizedState=Bp(c),h.childLanes=$p(i,C,c),l.memoizedState=Lp,l=Xc(null,h));else if(hs(l),jx(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var de=C.dgst;C=de,h=Error(r(419)),h.stack="",h.digest=C,Bc({value:h,source:null,stack:null}),l=zp(i,l,c)}else if(_n||fo(i,l,c,!1),C=(c&i.childLanes)!==0,_n||C){if(C=qt,C!==null&&(h=Wl(C,c),h!==0&&h!==X.retryLane))throw X.retryLane=h,nl(i,h),kr(C,i,h),Mp;bx(D)||Sh(),l=zp(i,l,c)}else bx(D)?(l.flags|=192,l.child=i.child,l=null):(i=X.treeContext,Jt=ma(D.nextSibling),Qn=l,vt=!0,ss=null,ha=!1,i!==null&&fN(l,i),l=Up(l,h.children),l.flags|=4096);return l}return v?(fs(),D=h.fallback,v=l.mode,X=i.child,de=X.sibling,h=hi(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,de!==null?D=hi(de,D):(D=rl(D,v,c,null),D.flags|=2),D.return=l,h.return=l,h.sibling=D,l.child=h,Xc(null,h),h=l.child,D=i.child.memoizedState,D===null?D=Bp(c):(v=D.cachePool,v!==null?(X=An._currentValue,v=v.parent!==X?{parent:X,pool:X}:v):v=yN(),D={baseLanes:D.baseLanes|c,cachePool:v}),h.memoizedState=D,h.childLanes=$p(i,C,c),l.memoizedState=Lp,Xc(i.child,h)):(hs(l),c=i.child,i=c.sibling,c=hi(c,{mode:"visible",children:h.children}),c.return=l,c.sibling=null,i!==null&&(C=l.deletions,C===null?(l.deletions=[i],l.flags|=16):C.push(i)),l.child=c,l.memoizedState=null,c)}function Up(i,l){return l=gh({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function gh(i,l){return i=$r(22,i,null,l),i.lanes=0,i}function zp(i,l,c){return ul(l,i.child,null,c),i=Up(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function k1(i,l,c){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),np(i.return,l,c)}function Hp(i,l,c,h,v,y){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:y}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=v,C.treeForkCount=y)}function D1(i,l,c){var h=l.pendingProps,v=h.revealOrder,y=h.tail;h=h.children;var C=wn.current,D=(C&2)!==0;if(D?(C=C&1|2,l.flags|=128):C&=1,le(wn,C),Jn(i,l,h,c),h=vt?Lc:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&k1(i,c,l);else if(i.tag===19)k1(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=l.child,v=null;c!==null;)i=c.alternate,i!==null&&rh(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),Hp(l,!1,v,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&rh(i)===null){l.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}Hp(l,!0,c,null,y,h);break;case"together":Hp(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function vi(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),ps|=l.lanes,(c&l.childLanes)===0)if(i!==null){if(fo(i,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,c=hi(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=hi(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function qp(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Yd(i)))}function EI(i,l,c){switch(l.tag){case 3:q(l,l.stateNode.containerInfo),os(l,An,i.memoizedState.cache),al();break;case 27:case 5:I(l);break;case 4:q(l,l.stateNode.containerInfo);break;case 10:os(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,mp(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(hs(l),l.flags|=128,null):(c&l.child.childLanes)!==0?O1(i,l,c):(hs(l),i=vi(i,l,c),i!==null?i.sibling:null);hs(l);break;case 19:var v=(i.flags&128)!==0;if(h=(c&l.childLanes)!==0,h||(fo(i,l,c,!1),h=(c&l.childLanes)!==0),v){if(h)return D1(i,l,c);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),le(wn,wn.current),h)break;return null;case 22:return l.lanes=0,E1(i,l,c,l.pendingProps);case 24:os(l,An,i.memoizedState.cache)}return vi(i,l,c)}function P1(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps)_n=!0;else{if(!qp(i,c)&&(l.flags&128)===0)return _n=!1,EI(i,l,c);_n=(i.flags&131072)!==0}else _n=!1,vt&&(l.flags&1048576)!==0&&hN(l,Lc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(i=ol(l.elementType),l.type=i,typeof i=="function")Wg(i)?(h=hl(i,h),l.tag=1,l=_1(null,l,i,h,c)):(l.tag=0,l=Ip(null,l,i,h,c));else{if(i!=null){var v=i.$$typeof;if(v===_){l.tag=11,l=w1(null,l,i,h,c);break e}else if(v===R){l.tag=14,l=N1(null,l,i,h,c);break e}}throw l=je(i)||i,Error(r(306,l,""))}}return l;case 0:return Ip(i,l,l.type,l.pendingProps,c);case 1:return h=l.type,v=hl(h,l.pendingProps),_1(i,l,h,v,c);case 3:e:{if(q(l,l.stateNode.containerInfo),i===null)throw Error(r(387));h=l.pendingProps;var y=l.memoizedState;v=y.element,cp(i,l),Kc(l,h,null,c);var C=l.memoizedState;if(h=C.cache,os(l,An,h),h!==y.cache&&rp(l,[An],c,!0),Fc(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=R1(i,l,h,c);break e}else if(h!==v){v=ca(Error(r(424)),l),Bc(v),l=R1(i,l,h,c);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Jt=ma(i.firstChild),Qn=l,vt=!0,ss=null,ha=!0,c=EN(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(al(),h===v){l=vi(i,l,c);break e}Jn(i,l,h,c)}l=l.child}return l;case 26:return mh(i,l),i===null?(c=KS(l.type,null,l.pendingProps,null))?l.memoizedState=c:vt||(c=l.type,i=l.pendingProps,h=Oh(we.current).createElement(c),h[oe]=l,h[Ne]=i,er(h,c,i),Fn(h),l.stateNode=h):l.memoizedState=KS(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return I(l),i===null&&vt&&(h=l.stateNode=HS(l.type,l.pendingProps,we.current),Qn=l,ha=!0,v=Jt,js(l.type)?(wx=v,Jt=ma(h.firstChild)):Jt=v),Jn(i,l,l.pendingProps.children,c),mh(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&vt&&((v=h=Jt)&&(h=t6(h,l.type,l.pendingProps,ha),h!==null?(l.stateNode=h,Qn=l,Jt=ma(h.firstChild),ha=!1,v=!0):v=!1),v||ls(l)),I(l),v=l.type,y=l.pendingProps,C=i!==null?i.memoizedProps:null,h=y.children,xx(v,y)?h=null:C!==null&&xx(v,C)&&(l.flags|=32),l.memoizedState!==null&&(v=pp(i,l,pI,null,null,c),du._currentValue=v),mh(i,l),Jn(i,l,h,c),l.child;case 6:return i===null&&vt&&((i=c=Jt)&&(c=n6(c,l.pendingProps,ha),c!==null?(l.stateNode=c,Qn=l,Jt=null,i=!0):i=!1),i||ls(l)),null;case 13:return O1(i,l,c);case 4:return q(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=ul(l,null,h,c):Jn(i,l,h,c),l.child;case 11:return w1(i,l,l.type,l.pendingProps,c);case 7:return Jn(i,l,l.pendingProps,c),l.child;case 8:return Jn(i,l,l.pendingProps.children,c),l.child;case 12:return Jn(i,l,l.pendingProps.children,c),l.child;case 10:return h=l.pendingProps,os(l,l.type,h.value),Jn(i,l,h.children,c),l.child;case 9:return v=l.type._context,h=l.pendingProps.children,sl(l),v=Zn(v),h=h(v),l.flags|=1,Jn(i,l,h,c),l.child;case 14:return N1(i,l,l.type,l.pendingProps,c);case 15:return S1(i,l,l.type,l.pendingProps,c);case 19:return D1(i,l,c);case 31:return SI(i,l,c);case 22:return E1(i,l,c,l.pendingProps);case 24:return sl(l),h=Zn(An),i===null?(v=sp(),v===null&&(v=qt,y=ap(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=c),v=y),l.memoizedState={parent:h,cache:v},op(l),os(l,An,v)):((i.lanes&c)!==0&&(cp(i,l),Kc(l,null,null,c),Fc()),v=i.memoizedState,y=l.memoizedState,v.parent!==h?(v={parent:h,cache:h},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),os(l,An,h)):(h=y.cache,os(l,An,h),h!==v.cache&&rp(l,[An],c,!0))),Jn(i,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function yi(i){i.flags|=4}function Fp(i,l,c,h,v){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(lS())i.flags|=8192;else throw cl=Jd,lp}else i.flags&=-16777217}function M1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!XS(l))if(lS())i.flags|=8192;else throw cl=Jd,lp}function ph(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Vl():536870912,i.lanes|=l,Eo|=l)}function Qc(i,l){if(!vt)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function en(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(l)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=c,l}function CI(i,l,c){var h=l.pendingProps;switch(Zg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(l),null;case 1:return en(l),null;case 3:return c=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),gi(An),H(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ho(l)?yi(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ep())),en(l),null;case 26:var v=l.type,y=l.memoizedState;return i===null?(yi(l),y!==null?(en(l),M1(l,y)):(en(l),Fp(l,v,null,h,c))):y?y!==i.memoizedState?(yi(l),en(l),M1(l,y)):(en(l),l.flags&=-16777217):(i=i.memoizedProps,i!==h&&yi(l),en(l),Fp(l,v,i,h,c)),null;case 27:if(ee(l),c=we.current,v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&yi(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return en(l),null}i=Y.current,ho(l)?mN(l):(i=HS(v,h,c),l.stateNode=i,yi(l))}return en(l),null;case 5:if(ee(l),v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&yi(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return en(l),null}if(y=Y.current,ho(l))mN(l);else{var C=Oh(we.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?C.createElement(v,{is:h.is}):C.createElement(v)}}y[oe]=l,y[Ne]=h;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=y;e:switch(er(y,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&yi(l)}}return en(l),Fp(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,c),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&yi(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(i=we.current,ho(l)){if(i=l.stateNode,c=l.memoizedProps,h=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[oe]=l,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||OS(i.nodeValue,c)),i||ls(l,!0)}else i=Oh(i).createTextNode(h),i[oe]=l,l.stateNode=i}return en(l),null;case 31:if(c=l.memoizedState,i===null||i.memoizedState!==null){if(h=ho(l),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[oe]=l}else al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;en(l),i=!1}else c=ep(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return l.flags&256?(zr(l),l):(zr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return en(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ho(l),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[oe]=l}else al(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;en(l),v=!1}else v=ep(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(zr(l),l):(zr(l),null)}return zr(l),(l.flags&128)!==0?(l.lanes=c,l):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=l.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==v&&(h.flags|=2048)),c!==i&&c&&(l.child.flags|=8192),ph(l,l.updateQueue),en(l),null);case 4:return H(),i===null&&hx(l.stateNode.containerInfo),en(l),null;case 10:return gi(l.type),en(l),null;case 19:if(K(wn),h=l.memoizedState,h===null)return en(l),null;if(v=(l.flags&128)!==0,y=h.rendering,y===null)if(v)Qc(h,!1);else{if(bn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(y=rh(i),y!==null){for(l.flags|=128,Qc(h,!1),i=y.updateQueue,l.updateQueue=i,ph(l,i),l.subtreeFlags=0,i=c,c=l.child;c!==null;)cN(c,i),c=c.sibling;return le(wn,wn.current&1|2),vt&&fi(l,h.treeForkCount),l.child}i=i.sibling}h.tail!==null&&Pe()>jh&&(l.flags|=128,v=!0,Qc(h,!1),l.lanes=4194304)}else{if(!v)if(i=rh(y),i!==null){if(l.flags|=128,v=!0,i=i.updateQueue,l.updateQueue=i,ph(l,i),Qc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!vt)return en(l),null}else 2*Pe()-h.renderingStartTime>jh&&c!==536870912&&(l.flags|=128,v=!0,Qc(h,!1),l.lanes=4194304);h.isBackwards?(y.sibling=l.child,l.child=y):(i=h.last,i!==null?i.sibling=y:l.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Pe(),i.sibling=null,c=wn.current,le(wn,v?c&1|2:c&1),vt&&fi(l,h.treeForkCount),i):(en(l),null);case 22:case 23:return zr(l),fp(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(c&536870912)!==0&&(l.flags&128)===0&&(en(l),l.subtreeFlags&6&&(l.flags|=8192)):en(l),c=l.updateQueue,c!==null&&ph(l,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048),i!==null&&K(ll),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),gi(An),en(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function AI(i,l){switch(Zg(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return gi(An),H(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ee(l),null;case 31:if(l.memoizedState!==null){if(zr(l),l.alternate===null)throw Error(r(340));al()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(zr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));al()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return K(wn),null;case 4:return H(),null;case 10:return gi(l.type),null;case 22:case 23:return zr(l),fp(),i!==null&&K(ll),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return gi(An),null;case 25:return null;default:return null}}function I1(i,l){switch(Zg(l),l.tag){case 3:gi(An),H();break;case 26:case 27:case 5:ee(l);break;case 4:H();break;case 31:l.memoizedState!==null&&zr(l);break;case 13:zr(l);break;case 19:K(wn);break;case 10:gi(l.type);break;case 22:case 23:zr(l),fp(),i!==null&&K(ll);break;case 24:gi(An)}}function Zc(i,l){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&i)===i){h=void 0;var y=c.create,C=c.inst;h=y(),C.destroy=h}c=c.next}while(c!==v)}}catch(D){Dt(l,l.return,D)}}function ms(i,l,c){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var y=v.next;h=y;do{if((h.tag&i)===i){var C=h.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,v=l;var X=c,de=D;try{de()}catch(Ee){Dt(v,X,Ee)}}}h=h.next}while(h!==y)}}catch(Ee){Dt(l,l.return,Ee)}}function L1(i){var l=i.updateQueue;if(l!==null){var c=i.stateNode;try{AN(l,c)}catch(h){Dt(i,i.return,h)}}}function B1(i,l,c){c.props=hl(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Dt(i,l,h)}}function Jc(i,l){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(v){Dt(i,l,v)}}function Ya(i,l){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){Dt(i,l,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Dt(i,l,v)}else c.current=null}function $1(i){var l=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){Dt(i,i.return,v)}}function Kp(i,l,c){try{var h=i.stateNode;YI(h,i.type,c,l),h[Ne]=l}catch(v){Dt(i,i.return,v)}}function U1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&js(i.type)||i.tag===4}function Gp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||U1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&js(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(i),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=ui));else if(h!==4&&(h===27&&js(i.type)&&(c=i.stateNode,l=null),i=i.child,i!==null))for(Vp(i,l,c),i=i.sibling;i!==null;)Vp(i,l,c),i=i.sibling}function xh(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(h!==4&&(h===27&&js(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(xh(i,l,c),i=i.sibling;i!==null;)xh(i,l,c),i=i.sibling}function z1(i){var l=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);er(l,h,c),l[oe]=i,l[Ne]=c}catch(y){Dt(i,i.return,y)}}var bi=!1,Rn=!1,Wp=!1,H1=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function TI(i,l){if(i=i.containerInfo,gx=Bh,i=eN(i),zg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var C=0,D=-1,X=-1,de=0,Ee=0,_e=i,me=null;t:for(;;){for(var ye;_e!==c||v!==0&&_e.nodeType!==3||(D=C+v),_e!==y||h!==0&&_e.nodeType!==3||(X=C+h),_e.nodeType===3&&(C+=_e.nodeValue.length),(ye=_e.firstChild)!==null;)me=_e,_e=ye;for(;;){if(_e===i)break t;if(me===c&&++de===v&&(D=C),me===y&&++Ee===h&&(X=C),(ye=_e.nextSibling)!==null)break;_e=me,me=_e.parentNode}_e=ye}c=D===-1||X===-1?null:{start:D,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(px={focusedElem:i,selectionRange:c},Bh=!1,Kn=l;Kn!==null;)if(l=Kn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Kn=i;else for(;Kn!==null;){switch(l=Kn,y=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=l,v=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Ue=hl(c.type,v);i=h.getSnapshotBeforeUpdate(Ue,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Je){Dt(c,c.return,Je)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,c=i.nodeType,c===9)yx(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":yx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Kn=i;break}Kn=l.return}}function q1(i,l,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:wi(i,c),h&4&&Zc(5,c);break;case 1:if(wi(i,c),h&4)if(i=c.stateNode,l===null)try{i.componentDidMount()}catch(C){Dt(c,c.return,C)}else{var v=hl(c.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(v,l,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Dt(c,c.return,C)}}h&64&&L1(c),h&512&&Jc(c,c.return);break;case 3:if(wi(i,c),h&64&&(i=c.updateQueue,i!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{AN(i,l)}catch(C){Dt(c,c.return,C)}}break;case 27:l===null&&h&4&&z1(c);case 26:case 5:wi(i,c),l===null&&h&4&&$1(c),h&512&&Jc(c,c.return);break;case 12:wi(i,c);break;case 31:wi(i,c),h&4&&G1(i,c);break;case 13:wi(i,c),h&4&&V1(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=LI.bind(null,c),r6(i,c))));break;case 22:if(h=c.memoizedState!==null||bi,!h){l=l!==null&&l.memoizedState!==null||Rn,v=bi;var y=Rn;bi=h,(Rn=l)&&!y?Ni(i,c,(c.subtreeFlags&8772)!==0):wi(i,c),bi=v,Rn=y}break;case 30:break;default:wi(i,c)}}function F1(i){var l=i.alternate;l!==null&&(i.alternate=null,F1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Sg(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var on=null,Tr=!1;function ji(i,l,c){for(c=c.child;c!==null;)K1(i,l,c),c=c.sibling}function K1(i,l,c){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Xn,c)}catch{}switch(c.tag){case 26:Rn||Ya(c,l),ji(i,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rn||Ya(c,l);var h=on,v=Tr;js(c.type)&&(on=c.stateNode,Tr=!1),ji(i,l,c),ou(c.stateNode),on=h,Tr=v;break;case 5:Rn||Ya(c,l);case 6:if(h=on,v=Tr,on=null,ji(i,l,c),on=h,Tr=v,on!==null)if(Tr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(c.stateNode)}catch(y){Dt(c,l,y)}else try{on.removeChild(c.stateNode)}catch(y){Dt(c,l,y)}break;case 18:on!==null&&(Tr?(i=on,LS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Do(i)):LS(on,c.stateNode));break;case 4:h=on,v=Tr,on=c.stateNode.containerInfo,Tr=!0,ji(i,l,c),on=h,Tr=v;break;case 0:case 11:case 14:case 15:ms(2,c,l),Rn||ms(4,c,l),ji(i,l,c);break;case 1:Rn||(Ya(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"&&B1(c,l,h)),ji(i,l,c);break;case 21:ji(i,l,c);break;case 22:Rn=(h=Rn)||c.memoizedState!==null,ji(i,l,c),Rn=h;break;default:ji(i,l,c)}}function G1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Do(i)}catch(c){Dt(l,l.return,c)}}}function V1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(c){Dt(l,l.return,c)}}function _I(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new H1),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new H1),l;default:throw Error(r(435,i.tag))}}function vh(i,l){var c=_I(i);l.forEach(function(h){if(!c.has(h)){c.add(h);var v=BI.bind(null,i,h);h.then(v,v)}})}function _r(i,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],y=i,C=l,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(js(D.type)){on=D.stateNode,Tr=!1;break e}break;case 5:on=D.stateNode,Tr=!1;break e;case 3:case 4:on=D.stateNode.containerInfo,Tr=!0;break e}D=D.return}if(on===null)throw Error(r(160));K1(y,C,v),on=null,Tr=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)W1(l,i),l=l.sibling}var Ma=null;function W1(i,l){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_r(l,i),Rr(i),h&4&&(ms(3,i,i.return),Zc(3,i),ms(5,i,i.return));break;case 1:_r(l,i),Rr(i),h&512&&(Rn||c===null||Ya(c,c.return)),h&64&&bi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Ma;if(_r(l,i),Rr(i),h&512&&(Rn||c===null||Ya(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":y=v.getElementsByTagName("title")[0],(!y||y[Cc]||y[oe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(h),v.head.insertBefore(y,v.querySelector("head > title"))),er(y,h,c),y[oe]=i,Fn(y),h=y;break e;case"link":var C=WS("link","href",v).get(h+(c.href||""));if(C){for(var D=0;D<C.length;D++)if(y=C[D],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(D,1);break t}}y=v.createElement(h),er(y,h,c),v.head.appendChild(y);break;case"meta":if(C=WS("meta","content",v).get(h+(c.content||""))){for(D=0;D<C.length;D++)if(y=C[D],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(D,1);break t}}y=v.createElement(h),er(y,h,c),v.head.appendChild(y);break;default:throw Error(r(468,h))}y[oe]=i,Fn(y),h=y}i.stateNode=h}else YS(v,i.type,i.stateNode);else i.stateNode=VS(v,h,i.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?YS(v,i.type,i.stateNode):VS(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Kp(i,i.memoizedProps,c.memoizedProps)}break;case 27:_r(l,i),Rr(i),h&512&&(Rn||c===null||Ya(c,c.return)),c!==null&&h&4&&Kp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(_r(l,i),Rr(i),h&512&&(Rn||c===null||Ya(c,c.return)),i.flags&32){v=i.stateNode;try{to(v,"")}catch(Ue){Dt(i,i.return,Ue)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,Kp(i,v,c!==null?c.memoizedProps:v)),h&1024&&(Wp=!0);break;case 6:if(_r(l,i),Rr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Ue){Dt(i,i.return,Ue)}}break;case 3:if(Ph=null,v=Ma,Ma=kh(l.containerInfo),_r(l,i),Ma=v,Rr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Do(l.containerInfo)}catch(Ue){Dt(i,i.return,Ue)}Wp&&(Wp=!1,Y1(i));break;case 4:h=Ma,Ma=kh(i.stateNode.containerInfo),_r(l,i),Rr(i),Ma=h;break;case 12:_r(l,i),Rr(i);break;case 31:_r(l,i),Rr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,vh(i,h)));break;case 13:_r(l,i),Rr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(bh=Pe()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,vh(i,h)));break;case 22:v=i.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,de=bi,Ee=Rn;if(bi=de||v,Rn=Ee||X,_r(l,i),Rn=Ee,bi=de,Rr(i),h&8192)e:for(l=i.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(c===null||X||bi||Rn||fl(i)),c=null,l=i;;){if(l.tag===5||l.tag===26){if(c===null){X=c=l;try{if(y=X.stateNode,v)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=X.stateNode;var _e=X.memoizedProps.style,me=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;D.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ue){Dt(X,X.return,Ue)}}}else if(l.tag===6){if(c===null){X=l;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Ue){Dt(X,X.return,Ue)}}}else if(l.tag===18){if(c===null){X=l;try{var ye=X.stateNode;v?BS(ye,!0):BS(X.stateNode,!1)}catch(Ue){Dt(X,X.return,Ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,vh(i,c))));break;case 19:_r(l,i),Rr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,vh(i,h)));break;case 30:break;case 21:break;default:_r(l,i),Rr(i)}}function Rr(i){var l=i.flags;if(l&2){try{for(var c,h=i.return;h!==null;){if(U1(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,y=Gp(i);xh(i,y,v);break;case 5:var C=c.stateNode;c.flags&32&&(to(C,""),c.flags&=-33);var D=Gp(i);xh(i,D,C);break;case 3:case 4:var X=c.stateNode.containerInfo,de=Gp(i);Vp(i,de,X);break;default:throw Error(r(161))}}catch(Ee){Dt(i,i.return,Ee)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Y1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Y1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function wi(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)q1(i,l.alternate,l),l=l.sibling}function fl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:ms(4,l,l.return),fl(l);break;case 1:Ya(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&B1(l,l.return,c),fl(l);break;case 27:ou(l.stateNode);case 26:case 5:Ya(l,l.return),fl(l);break;case 22:l.memoizedState===null&&fl(l);break;case 30:fl(l);break;default:fl(l)}i=i.sibling}}function Ni(i,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,v=i,y=l,C=y.flags;switch(y.tag){case 0:case 11:case 15:Ni(v,y,c),Zc(4,y);break;case 1:if(Ni(v,y,c),h=y,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(de){Dt(h,h.return,de)}if(h=y,v=h.updateQueue,v!==null){var D=h.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)CN(X[v],D)}catch(de){Dt(h,h.return,de)}}c&&C&64&&L1(y),Jc(y,y.return);break;case 27:z1(y);case 26:case 5:Ni(v,y,c),c&&h===null&&C&4&&$1(y),Jc(y,y.return);break;case 12:Ni(v,y,c);break;case 31:Ni(v,y,c),c&&C&4&&G1(v,y);break;case 13:Ni(v,y,c),c&&C&4&&V1(v,y);break;case 22:y.memoizedState===null&&Ni(v,y,c),Jc(y,y.return);break;case 30:break;default:Ni(v,y,c)}l=l.sibling}}function Yp(i,l){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&$c(c))}function Xp(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&$c(i))}function Ia(i,l,c,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)X1(i,l,c,h),l=l.sibling}function X1(i,l,c,h){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ia(i,l,c,h),v&2048&&Zc(9,l);break;case 1:Ia(i,l,c,h);break;case 3:Ia(i,l,c,h),v&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&$c(i)));break;case 12:if(v&2048){Ia(i,l,c,h),i=l.stateNode;try{var y=l.memoizedProps,C=y.id,D=y.onPostCommit;typeof D=="function"&&D(C,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Dt(l,l.return,X)}}else Ia(i,l,c,h);break;case 31:Ia(i,l,c,h);break;case 13:Ia(i,l,c,h);break;case 23:break;case 22:y=l.stateNode,C=l.alternate,l.memoizedState!==null?y._visibility&2?Ia(i,l,c,h):eu(i,l):y._visibility&2?Ia(i,l,c,h):(y._visibility|=2,wo(i,l,c,h,(l.subtreeFlags&10256)!==0||!1)),v&2048&&Yp(C,l);break;case 24:Ia(i,l,c,h),v&2048&&Xp(l.alternate,l);break;default:Ia(i,l,c,h)}}function wo(i,l,c,h,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=i,C=l,D=c,X=h,de=C.flags;switch(C.tag){case 0:case 11:case 15:wo(y,C,D,X,v),Zc(8,C);break;case 23:break;case 22:var Ee=C.stateNode;C.memoizedState!==null?Ee._visibility&2?wo(y,C,D,X,v):eu(y,C):(Ee._visibility|=2,wo(y,C,D,X,v)),v&&de&2048&&Yp(C.alternate,C);break;case 24:wo(y,C,D,X,v),v&&de&2048&&Xp(C.alternate,C);break;default:wo(y,C,D,X,v)}l=l.sibling}}function eu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=i,h=l,v=h.flags;switch(h.tag){case 22:eu(c,h),v&2048&&Yp(h.alternate,h);break;case 24:eu(c,h),v&2048&&Xp(h.alternate,h);break;default:eu(c,h)}l=l.sibling}}var tu=8192;function No(i,l,c){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)Q1(i,l,c),i=i.sibling}function Q1(i,l,c){switch(i.tag){case 26:No(i,l,c),i.flags&tu&&i.memoizedState!==null&&g6(c,Ma,i.memoizedState,i.memoizedProps);break;case 5:No(i,l,c);break;case 3:case 4:var h=Ma;Ma=kh(i.stateNode.containerInfo),No(i,l,c),Ma=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=tu,tu=16777216,No(i,l,c),tu=h):No(i,l,c));break;default:No(i,l,c)}}function Z1(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function nu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Kn=h,eS(h,i)}Z1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J1(i),i=i.sibling}function J1(i){switch(i.tag){case 0:case 11:case 15:nu(i),i.flags&2048&&ms(9,i,i.return);break;case 3:nu(i);break;case 12:nu(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,yh(i)):nu(i);break;default:nu(i)}}function yh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];Kn=h,eS(h,i)}Z1(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:ms(8,l,l.return),yh(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,yh(l));break;default:yh(l)}i=i.sibling}}function eS(i,l){for(;Kn!==null;){var c=Kn;switch(c.tag){case 0:case 11:case 15:ms(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:$c(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Kn=h;else e:for(c=i;Kn!==null;){h=Kn;var v=h.sibling,y=h.return;if(F1(h),h===c){Kn=null;break e}if(v!==null){v.return=y,Kn=v;break e}Kn=y}}}var RI={getCacheForType:function(i){var l=Zn(An),c=l.data.get(i);return c===void 0&&(c=i(),l.data.set(i,c)),c},cacheSignal:function(){return Zn(An).controller.signal}},OI=typeof WeakMap=="function"?WeakMap:Map,Tt=0,qt=null,mt=null,pt=0,kt=0,Hr=null,gs=!1,So=!1,Qp=!1,Si=0,bn=0,ps=0,ml=0,Zp=0,qr=0,Eo=0,ru=null,Or=null,Jp=!1,bh=0,tS=0,jh=1/0,wh=null,xs=null,In=0,vs=null,Co=null,Ei=0,ex=0,tx=null,nS=null,au=0,nx=null;function Fr(){return(Tt&2)!==0&&pt!==0?pt&-pt:$.T!==null?ox():Qs()}function rS(){if(qr===0)if((pt&536870912)===0||vt){var i=Rt;Rt<<=1,(Rt&3932160)===0&&(Rt=262144),qr=i}else qr=536870912;return i=Ur.current,i!==null&&(i.flags|=32),qr}function kr(i,l,c){(i===qt&&(kt===2||kt===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),ys(i,pt,qr,!1)),Ga(i,c),((Tt&2)===0||i!==qt)&&(i===qt&&((Tt&2)===0&&(ml|=c),bn===4&&ys(i,pt,qr,!1)),Xa(i))}function aS(i,l,c){if((Tt&6)!==0)throw Error(r(327));var h=!c&&(l&127)===0&&(l&i.expiredLanes)===0||ra(i,l),v=h?PI(i,l):ax(i,l,!0),y=h;do{if(v===0){So&&!h&&ys(i,l,0,!1);break}else{if(c=i.current.alternate,y&&!kI(c)){v=ax(i,l,!1),y=!1;continue}if(v===2){if(y=l,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var D=i;v=ru;var X=D.current.memoizedState.isDehydrated;if(X&&(Ao(D,C).flags|=256),C=ax(D,C,!1),C!==2){if(Qp&&!X){D.errorRecoveryDisabledLanes|=y,ml|=y,v=4;break e}y=Or,Or=v,y!==null&&(Or===null?Or=y:Or.push.apply(Or,y))}v=C}if(y=!1,v!==2)continue}}if(v===1){Ao(i,0),ys(i,l,0,!0);break}e:{switch(h=i,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ys(h,l,qr,!gs);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=bh+300-Pe(),10<v)){if(ys(h,l,qr,!gs),Da(h,0,!0)!==0)break e;Ei=l,h.timeoutHandle=MS(iS.bind(null,h,c,Or,wh,Jp,l,qr,ml,Eo,gs,y,"Throttled",-0,0),v);break e}iS(h,c,Or,wh,Jp,l,qr,ml,Eo,gs,y,null,-0,0)}}break}while(!0);Xa(i)}function iS(i,l,c,h,v,y,C,D,X,de,Ee,_e,me,ye){if(i.timeoutHandle=-1,_e=l.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Q1(l,y,_e);var Ue=(y&62914560)===y?bh-Pe():(y&4194048)===y?tS-Pe():0;if(Ue=p6(_e,Ue),Ue!==null){Ei=y,i.cancelPendingCommit=Ue(fS.bind(null,i,l,y,c,h,v,C,D,X,Ee,_e,null,me,ye)),ys(i,y,C,!de);return}}fS(i,l,y,c,h,v,C,D,X)}function kI(i){for(var l=i;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],y=v.getSnapshot;v=v.value;try{if(!Br(y(),v))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ys(i,l,c,h){l&=~Zp,l&=~ml,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var v=l;0<v;){var y=31-zt(v),C=1<<y;h[y]=-1,v&=~C}c!==0&&Ec(i,c,l)}function Nh(){return(Tt&6)===0?(iu(0),!1):!0}function rx(){if(mt!==null){if(kt===0)var i=mt.return;else i=mt,mi=il=null,yp(i),xo=null,zc=0,i=mt;for(;i!==null;)I1(i.alternate,i),i=i.return;mt=null}}function Ao(i,l){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,ZI(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ei=0,rx(),qt=i,mt=c=hi(i.current,null),pt=l,kt=0,Hr=null,gs=!1,So=ra(i,l),Qp=!1,Eo=qr=Zp=ml=ps=bn=0,Or=ru=null,Jp=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var v=31-zt(h),y=1<<v;l|=i[v],h&=~y}return Si=l,Fd(),c}function sS(i,l){ut=null,$.H=Yc,l===po||l===Zd?(l=wN(),kt=3):l===lp?(l=wN(),kt=4):kt=l===Mp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hr=l,mt===null&&(bn=1,hh(i,ca(l,i.current)))}function lS(){var i=Ur.current;return i===null?!0:(pt&4194048)===pt?fa===null:(pt&62914560)===pt||(pt&536870912)!==0?i===fa:!1}function oS(){var i=$.H;return $.H=Yc,i===null?Yc:i}function cS(){var i=$.A;return $.A=RI,i}function Sh(){bn=4,gs||(pt&4194048)!==pt&&Ur.current!==null||(So=!0),(ps&134217727)===0&&(ml&134217727)===0||qt===null||ys(qt,pt,qr,!1)}function ax(i,l,c){var h=Tt;Tt|=2;var v=oS(),y=cS();(qt!==i||pt!==l)&&(wh=null,Ao(i,l)),l=!1;var C=bn;e:do try{if(kt!==0&&mt!==null){var D=mt,X=Hr;switch(kt){case 8:rx(),C=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(l=!0);var de=kt;if(kt=0,Hr=null,To(i,D,X,de),c&&So){C=0;break e}break;default:de=kt,kt=0,Hr=null,To(i,D,X,de)}}DI(),C=bn;break}catch(Ee){sS(i,Ee)}while(!0);return l&&i.shellSuspendCounter++,mi=il=null,Tt=h,$.H=v,$.A=y,mt===null&&(qt=null,pt=0,Fd()),C}function DI(){for(;mt!==null;)uS(mt)}function PI(i,l){var c=Tt;Tt|=2;var h=oS(),v=cS();qt!==i||pt!==l?(wh=null,jh=Pe()+500,Ao(i,l)):So=ra(i,l);e:do try{if(kt!==0&&mt!==null){l=mt;var y=Hr;t:switch(kt){case 1:kt=0,Hr=null,To(i,l,y,1);break;case 2:case 9:if(bN(y)){kt=0,Hr=null,dS(l);break}l=function(){kt!==2&&kt!==9||qt!==i||(kt=7),Xa(i)},y.then(l,l);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:bN(y)?(kt=0,Hr=null,dS(l)):(kt=0,Hr=null,To(i,l,y,7));break;case 5:var C=null;switch(mt.tag){case 26:C=mt.memoizedState;case 5:case 27:var D=mt;if(C?XS(C):D.stateNode.complete){kt=0,Hr=null;var X=D.sibling;if(X!==null)mt=X;else{var de=D.return;de!==null?(mt=de,Eh(de)):mt=null}break t}}kt=0,Hr=null,To(i,l,y,5);break;case 6:kt=0,Hr=null,To(i,l,y,6);break;case 8:rx(),bn=6;break e;default:throw Error(r(462))}}MI();break}catch(Ee){sS(i,Ee)}while(!0);return mi=il=null,$.H=h,$.A=v,Tt=c,mt!==null?0:(qt=null,pt=0,Fd(),bn)}function MI(){for(;mt!==null&&!Xe();)uS(mt)}function uS(i){var l=P1(i.alternate,i,Si);i.memoizedProps=i.pendingProps,l===null?Eh(i):mt=l}function dS(i){var l=i,c=l.alternate;switch(l.tag){case 15:case 0:l=T1(c,l,l.pendingProps,l.type,void 0,pt);break;case 11:l=T1(c,l,l.pendingProps,l.type.render,l.ref,pt);break;case 5:yp(l);default:I1(c,l),l=mt=cN(l,Si),l=P1(c,l,Si)}i.memoizedProps=i.pendingProps,l===null?Eh(i):mt=l}function To(i,l,c,h){mi=il=null,yp(l),xo=null,zc=0;var v=l.return;try{if(NI(i,v,l,c,pt)){bn=1,hh(i,ca(c,i.current)),mt=null;return}}catch(y){if(v!==null)throw mt=v,y;bn=1,hh(i,ca(c,i.current)),mt=null;return}l.flags&32768?(vt||h===1?i=!0:So||(pt&536870912)!==0?i=!1:(gs=i=!0,(h===2||h===9||h===3||h===6)&&(h=Ur.current,h!==null&&h.tag===13&&(h.flags|=16384))),hS(l,i)):Eh(l)}function Eh(i){var l=i;do{if((l.flags&32768)!==0){hS(l,gs);return}i=l.return;var c=CI(l.alternate,l,Si);if(c!==null){mt=c;return}if(l=l.sibling,l!==null){mt=l;return}mt=l=i}while(l!==null);bn===0&&(bn=5)}function hS(i,l){do{var c=AI(i.alternate,i);if(c!==null){c.flags&=32767,mt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(i=i.sibling,i!==null)){mt=i;return}mt=i=c}while(i!==null);bn=6,mt=null}function fS(i,l,c,h,v,y,C,D,X){i.cancelPendingCommit=null;do Ch();while(In!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(y=l.lanes|l.childLanes,y|=Gg,ns(i,c,y,C,D,X),i===qt&&(mt=qt=null,pt=0),Co=l,vs=i,Ei=c,ex=y,tx=v,nS=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$I(lt,function(){return vS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,v=U.p,U.p=2,C=Tt,Tt|=4;try{TI(i,l,c)}finally{Tt=C,U.p=v,$.T=h}}In=1,mS(),gS(),pS()}}function mS(){if(In===1){In=0;var i=vs,l=Co,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var h=U.p;U.p=2;var v=Tt;Tt|=4;try{W1(l,i);var y=px,C=eN(i.containerInfo),D=y.focusedElem,X=y.selectionRange;if(C!==D&&D&&D.ownerDocument&&Jw(D.ownerDocument.documentElement,D)){if(X!==null&&zg(D)){var de=X.start,Ee=X.end;if(Ee===void 0&&(Ee=de),"selectionStart"in D)D.selectionStart=de,D.selectionEnd=Math.min(Ee,D.value.length);else{var _e=D.ownerDocument||document,me=_e&&_e.defaultView||window;if(me.getSelection){var ye=me.getSelection(),Ue=D.textContent.length,Je=Math.min(X.start,Ue),$t=X.end===void 0?Je:Math.min(X.end,Ue);!ye.extend&&Je>$t&&(C=$t,$t=Je,Je=C);var ae=Zw(D,Je),Z=Zw(D,$t);if(ae&&Z&&(ye.rangeCount!==1||ye.anchorNode!==ae.node||ye.anchorOffset!==ae.offset||ye.focusNode!==Z.node||ye.focusOffset!==Z.offset)){var ue=_e.createRange();ue.setStart(ae.node,ae.offset),ye.removeAllRanges(),Je>$t?(ye.addRange(ue),ye.extend(Z.node,Z.offset)):(ue.setEnd(Z.node,Z.offset),ye.addRange(ue))}}}}for(_e=[],ye=D;ye=ye.parentNode;)ye.nodeType===1&&_e.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<_e.length;D++){var Te=_e[D];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Bh=!!gx,px=gx=null}finally{Tt=v,U.p=h,$.T=c}}i.current=l,In=2}}function gS(){if(In===2){In=0;var i=vs,l=Co,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var h=U.p;U.p=2;var v=Tt;Tt|=4;try{q1(i,l.alternate,l)}finally{Tt=v,U.p=h,$.T=c}}In=3}}function pS(){if(In===4||In===3){In=0,it();var i=vs,l=Co,c=Ei,h=nS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,Co=vs=null,xS(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(xs=null),rs(c),l=l.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Xn,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=$.T,v=U.p,U.p=2,$.T=null;try{for(var y=i.onRecoverableError,C=0;C<h.length;C++){var D=h[C];y(D.value,{componentStack:D.stack})}}finally{$.T=l,U.p=v}}(Ei&3)!==0&&Ch(),Xa(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===nx?au++:(au=0,nx=i):au=0,iu(0)}}function xS(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,$c(l)))}function Ch(){return mS(),gS(),pS(),vS()}function vS(){if(In!==5)return!1;var i=vs,l=ex;ex=0;var c=rs(Ei),h=$.T,v=U.p;try{U.p=32>c?32:c,$.T=null,c=tx,tx=null;var y=vs,C=Ei;if(In=0,Co=vs=null,Ei=0,(Tt&6)!==0)throw Error(r(331));var D=Tt;if(Tt|=4,J1(y.current),X1(y,y.current,C,c),Tt=D,iu(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Xn,y)}catch{}return!0}finally{U.p=v,$.T=h,xS(i,l)}}function yS(i,l,c){l=ca(c,l),l=Pp(i.stateNode,l,2),i=ds(i,l,2),i!==null&&(Ga(i,2),Xa(i))}function Dt(i,l,c){if(i.tag===3)yS(i,i,c);else for(;l!==null;){if(l.tag===3){yS(l,i,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xs===null||!xs.has(h))){i=ca(c,i),c=b1(2),h=ds(l,c,2),h!==null&&(j1(c,h,l,i),Ga(h,2),Xa(h));break}}l=l.return}}function ix(i,l,c){var h=i.pingCache;if(h===null){h=i.pingCache=new OI;var v=new Set;h.set(l,v)}else v=h.get(l),v===void 0&&(v=new Set,h.set(l,v));v.has(c)||(Qp=!0,v.add(c),i=II.bind(null,i,l,c),l.then(i,i))}function II(i,l,c){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,qt===i&&(pt&c)===c&&(bn===4||bn===3&&(pt&62914560)===pt&&300>Pe()-bh?(Tt&2)===0&&Ao(i,0):Zp|=c,Eo===pt&&(Eo=0)),Xa(i)}function bS(i,l){l===0&&(l=Vl()),i=nl(i,l),i!==null&&(Ga(i,l),Xa(i))}function LI(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),bS(i,c)}function BI(i,l){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),bS(i,c)}function $I(i,l){return Oe(i,l)}var Ah=null,_o=null,sx=!1,Th=!1,lx=!1,bs=0;function Xa(i){i!==_o&&i.next===null&&(_o===null?Ah=_o=i:_o=_o.next=i),Th=!0,sx||(sx=!0,zI())}function iu(i,l){if(!lx&&Th){lx=!0;do for(var c=!1,h=Ah;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var y=0;else{var C=h.suspendedLanes,D=h.pingedLanes;y=(1<<31-zt(42|i)+1)-1,y&=v&~(C&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,SS(h,y))}else y=pt,y=Da(h,h===qt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||ra(h,y)||(c=!0,SS(h,y));h=h.next}while(c);lx=!1}}function UI(){jS()}function jS(){Th=sx=!1;var i=0;bs!==0&&QI()&&(i=bs);for(var l=Pe(),c=null,h=Ah;h!==null;){var v=h.next,y=wS(h,l);y===0?(h.next=null,c===null?Ah=v:c.next=v,v===null&&(_o=c)):(c=h,(i!==0||(y&3)!==0)&&(Th=!0)),h=v}In!==0&&In!==5||iu(i),bs!==0&&(bs=0)}function wS(i,l){for(var c=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-zt(y),D=1<<C,X=v[C];X===-1?((D&c)===0||(D&h)!==0)&&(v[C]=Sc(D,l)):X<=l&&(i.expiredLanes|=D),y&=~D}if(l=qt,c=pt,c=Da(i,i===l?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===l&&(kt===2||kt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ie(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ra(i,c)){if(l=c&-c,l===i.callbackPriority)return l;switch(h!==null&&Ie(h),rs(c)){case 2:case 8:c=Ze;break;case 32:c=lt;break;case 268435456:c=ln;break;default:c=lt}return h=NS.bind(null,i),c=Oe(c,h),i.callbackPriority=l,i.callbackNode=c,l}return h!==null&&h!==null&&Ie(h),i.callbackPriority=2,i.callbackNode=null,2}function NS(i,l){if(In!==0&&In!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Ch()&&i.callbackNode!==c)return null;var h=pt;return h=Da(i,i===qt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(aS(i,h,l),wS(i,Pe()),i.callbackNode!=null&&i.callbackNode===c?NS.bind(null,i):null)}function SS(i,l){if(Ch())return null;aS(i,l,!0)}function zI(){JI(function(){(Tt&6)!==0?Oe(Me,UI):jS()})}function ox(){if(bs===0){var i=mo;i===0&&(i=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),bs=i}return bs}function ES(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Id(""+i)}function CS(i,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,i.id&&c.setAttribute("form",i.id),l.parentNode.insertBefore(c,l),i=new FormData(i),c.parentNode.removeChild(c),i}function HI(i,l,c,h,v){if(l==="submit"&&c&&c.stateNode===v){var y=ES((v[Ne]||null).action),C=h.submitter;C&&(l=(l=C[Ne]||null)?ES(l.formAction):C.getAttribute("formAction"),l!==null&&(y=l,C=null));var D=new Ud("action","action",null,h,v);i.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(bs!==0){var X=C?CS(v,C):new FormData(v);Tp(c,{pending:!0,data:X,method:v.method,action:y},null,X)}}else typeof y=="function"&&(D.preventDefault(),X=C?CS(v,C):new FormData(v),Tp(c,{pending:!0,data:X,method:v.method,action:y},y,X))},currentTarget:v}]})}}for(var cx=0;cx<Kg.length;cx++){var ux=Kg[cx],qI=ux.toLowerCase(),FI=ux[0].toUpperCase()+ux.slice(1);Pa(qI,"on"+FI)}Pa(rN,"onAnimationEnd"),Pa(aN,"onAnimationIteration"),Pa(iN,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(sI,"onTransitionRun"),Pa(lI,"onTransitionStart"),Pa(oI,"onTransitionCancel"),Pa(sN,"onTransitionEnd"),Jl("onMouseEnter",["mouseout","mouseover"]),Jl("onMouseLeave",["mouseout","mouseover"]),Jl("onPointerEnter",["pointerout","pointerover"]),Jl("onPointerLeave",["pointerout","pointerover"]),Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function AS(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],v=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var C=h.length-1;0<=C;C--){var D=h[C],X=D.instance,de=D.currentTarget;if(D=D.listener,X!==y&&v.isPropagationStopped())break e;y=D,v.currentTarget=de;try{y(v)}catch(Ee){qd(Ee)}v.currentTarget=null,y=X}else for(C=0;C<h.length;C++){if(D=h[C],X=D.instance,de=D.currentTarget,D=D.listener,X!==y&&v.isPropagationStopped())break e;y=D,v.currentTarget=de;try{y(v)}catch(Ee){qd(Ee)}v.currentTarget=null,y=X}}}}function gt(i,l){var c=l[ia];c===void 0&&(c=l[ia]=new Set);var h=i+"__bubble";c.has(h)||(TS(l,i,2,!1),c.add(h))}function dx(i,l,c){var h=0;l&&(h|=4),TS(c,i,h,l)}var _h="_reactListening"+Math.random().toString(36).slice(2);function hx(i){if(!i[_h]){i[_h]=!0,jw.forEach(function(c){c!=="selectionchange"&&(KI.has(c)||dx(c,!1,i),dx(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[_h]||(l[_h]=!0,dx("selectionchange",!1,l))}}function TS(i,l,c,h){switch(rE(l)){case 2:var v=y6;break;case 8:v=b6;break;default:v=Ax}c=v.bind(null,l,c,i),v=void 0,!kg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(l,c,{capture:!0,passive:v}):i.addEventListener(l,c,!0):v!==void 0?i.addEventListener(l,c,{passive:v}):i.addEventListener(l,c,!1)}function fx(i,l,c,h,v){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var D=h.stateNode.containerInfo;if(D===v)break;if(C===4)for(C=h.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;D!==null;){if(C=Xl(D),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){h=y=C;continue e}D=D.parentNode}}h=h.return}Dw(function(){var de=y,Ee=Rg(c),_e=[];e:{var me=lN.get(i);if(me!==void 0){var ye=Ud,Ue=i;switch(i){case"keypress":if(Bd(c)===0)break e;case"keydown":case"keyup":ye=B4;break;case"focusin":Ue="focus",ye=Ig;break;case"focusout":Ue="blur",ye=Ig;break;case"beforeblur":case"afterblur":ye=Ig;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=z4;break;case rN:case aN:case iN:ye=_4;break;case sN:ye=q4;break;case"scroll":case"scrollend":ye=S4;break;case"wheel":ye=K4;break;case"copy":case"cut":case"paste":ye=O4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Bw;break;case"toggle":case"beforetoggle":ye=V4}var Je=(l&4)!==0,$t=!Je&&(i==="scroll"||i==="scrollend"),ae=Je?me!==null?me+"Capture":null:me;Je=[];for(var Z=de,ue;Z!==null;){var Te=Z;if(ue=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ue===null||ae===null||(Te=Tc(Z,ae),Te!=null&&Je.push(lu(Z,Te,ue))),$t)break;Z=Z.return}0<Je.length&&(me=new ye(me,Ue,null,c,Ee),_e.push({event:me,listeners:Je}))}}if((l&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",me&&c!==_g&&(Ue=c.relatedTarget||c.fromElement)&&(Xl(Ue)||Ue[Ht]))break e;if((ye||me)&&(me=Ee.window===Ee?Ee:(me=Ee.ownerDocument)?me.defaultView||me.parentWindow:window,ye?(Ue=c.relatedTarget||c.toElement,ye=de,Ue=Ue?Xl(Ue):null,Ue!==null&&($t=o(Ue),Je=Ue.tag,Ue!==$t||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(ye=null,Ue=de),ye!==Ue)){if(Je=Iw,Te="onMouseLeave",ae="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Je=Bw,Te="onPointerLeave",ae="onPointerEnter",Z="pointer"),$t=ye==null?me:Ac(ye),ue=Ue==null?me:Ac(Ue),me=new Je(Te,Z+"leave",ye,c,Ee),me.target=$t,me.relatedTarget=ue,Te=null,Xl(Ee)===de&&(Je=new Je(ae,Z+"enter",Ue,c,Ee),Je.target=ue,Je.relatedTarget=$t,Te=Je),$t=Te,ye&&Ue)t:{for(Je=GI,ae=ye,Z=Ue,ue=0,Te=ae;Te;Te=Je(Te))ue++;Te=0;for(var Qe=Z;Qe;Qe=Je(Qe))Te++;for(;0<ue-Te;)ae=Je(ae),ue--;for(;0<Te-ue;)Z=Je(Z),Te--;for(;ue--;){if(ae===Z||Z!==null&&ae===Z.alternate){Je=ae;break t}ae=Je(ae),Z=Je(Z)}Je=null}else Je=null;ye!==null&&_S(_e,me,ye,Je,!1),Ue!==null&&$t!==null&&_S(_e,$t,Ue,Je,!0)}}e:{if(me=de?Ac(de):window,ye=me.nodeName&&me.nodeName.toLowerCase(),ye==="select"||ye==="input"&&me.type==="file")var Et=Gw;else if(Fw(me))if(Vw)Et=rI;else{Et=tI;var We=eI}else ye=me.nodeName,!ye||ye.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?de&&Tg(de.elementType)&&(Et=Gw):Et=nI;if(Et&&(Et=Et(i,de))){Kw(_e,Et,c,Ee);break e}We&&We(i,me,de),i==="focusout"&&de&&me.type==="number"&&de.memoizedProps.value!=null&&Ag(me,"number",me.value)}switch(We=de?Ac(de):window,i){case"focusin":(Fw(We)||We.contentEditable==="true")&&(io=We,Hg=de,Ic=null);break;case"focusout":Ic=Hg=io=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,tN(_e,c,Ee);break;case"selectionchange":if(iI)break;case"keydown":case"keyup":tN(_e,c,Ee)}var dt;if(Bg)e:{switch(i){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else ao?Hw(i,c)&&(xt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(xt="onCompositionStart");xt&&($w&&c.locale!=="ko"&&(ao||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ao&&(dt=Pw()):(as=Ee,Dg="value"in as?as.value:as.textContent,ao=!0)),We=Rh(de,xt),0<We.length&&(xt=new Lw(xt,i,null,c,Ee),_e.push({event:xt,listeners:We}),dt?xt.data=dt:(dt=qw(c),dt!==null&&(xt.data=dt)))),(dt=Y4?X4(i,c):Q4(i,c))&&(xt=Rh(de,"onBeforeInput"),0<xt.length&&(We=new Lw("onBeforeInput","beforeinput",null,c,Ee),_e.push({event:We,listeners:xt}),We.data=dt)),HI(_e,i,de,c,Ee)}AS(_e,l)})}function lu(i,l,c){return{instance:i,listener:l,currentTarget:c}}function Rh(i,l){for(var c=l+"Capture",h=[];i!==null;){var v=i,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=Tc(i,c),v!=null&&h.unshift(lu(i,v,y)),v=Tc(i,l),v!=null&&h.push(lu(i,v,y))),i.tag===3)return h;i=i.return}return[]}function GI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _S(i,l,c,h,v){for(var y=l._reactName,C=[];c!==null&&c!==h;){var D=c,X=D.alternate,de=D.stateNode;if(D=D.tag,X!==null&&X===h)break;D!==5&&D!==26&&D!==27||de===null||(X=de,v?(de=Tc(c,y),de!=null&&C.unshift(lu(c,de,X))):v||(de=Tc(c,y),de!=null&&C.push(lu(c,de,X)))),c=c.return}C.length!==0&&i.push({event:l,listeners:C})}var VI=/\r\n?/g,WI=/\u0000|\uFFFD/g;function RS(i){return(typeof i=="string"?i:""+i).replace(VI,`
`).replace(WI,"")}function OS(i,l){return l=RS(l),RS(i)===l}function Bt(i,l,c,h,v,y){switch(c){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||to(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&to(i,""+h);break;case"className":Pd(i,"class",h);break;case"tabIndex":Pd(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Pd(i,c,h);break;case"style":Ow(i,h,y);break;case"data":if(l!=="object"){Pd(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Id(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(l!=="input"&&Bt(i,l,"name",v.name,v,null),Bt(i,l,"formEncType",v.formEncType,v,null),Bt(i,l,"formMethod",v.formMethod,v,null),Bt(i,l,"formTarget",v.formTarget,v,null)):(Bt(i,l,"encType",v.encType,v,null),Bt(i,l,"method",v.method,v,null),Bt(i,l,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Id(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=ui);break;case"onScroll":h!=null&&gt("scroll",i);break;case"onScrollEnd":h!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Id(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":gt("beforetoggle",i),gt("toggle",i),Dd(i,"popover",h);break;case"xlinkActuate":ci(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ci(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ci(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ci(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ci(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ci(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ci(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ci(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ci(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Dd(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=w4.get(c)||c,Dd(i,c,h))}}function mx(i,l,c,h,v,y){switch(c){case"style":Ow(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?to(i,h):(typeof h=="number"||typeof h=="bigint")&&to(i,""+h);break;case"onScroll":h!=null&&gt("scroll",i);break;case"onScrollEnd":h!=null&&gt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ww.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),l=c.slice(2,v?c.length-7:void 0),y=i[Ne]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(l,y,v),typeof h=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(l,h,v);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Dd(i,c,h)}}}function er(i,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var h=!1,v=!1,y;for(y in c)if(c.hasOwnProperty(y)){var C=c[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(i,l,y,C,c,null)}}v&&Bt(i,l,"srcSet",c.srcSet,c,null),h&&Bt(i,l,"src",c.src,c,null);return;case"input":gt("invalid",i);var D=y=C=v=null,X=null,de=null;for(h in c)if(c.hasOwnProperty(h)){var Ee=c[h];if(Ee!=null)switch(h){case"name":v=Ee;break;case"type":C=Ee;break;case"checked":X=Ee;break;case"defaultChecked":de=Ee;break;case"value":y=Ee;break;case"defaultValue":D=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Bt(i,l,h,Ee,c,null)}}Aw(i,y,D,X,de,C,v,!1);return;case"select":gt("invalid",i),h=C=y=null;for(v in c)if(c.hasOwnProperty(v)&&(D=c[v],D!=null))switch(v){case"value":y=D;break;case"defaultValue":C=D;break;case"multiple":h=D;default:Bt(i,l,v,D,c,null)}l=y,c=C,i.multiple=!!h,l!=null?eo(i,!!h,l,!1):c!=null&&eo(i,!!h,c,!0);return;case"textarea":gt("invalid",i),y=v=h=null;for(C in c)if(c.hasOwnProperty(C)&&(D=c[C],D!=null))switch(C){case"value":h=D;break;case"defaultValue":v=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Bt(i,l,C,D,c,null)}_w(i,h,v,y);return;case"option":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Bt(i,l,X,h,c,null)}return;case"dialog":gt("beforetoggle",i),gt("toggle",i),gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(h=0;h<su.length;h++)gt(su[h],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in c)if(c.hasOwnProperty(de)&&(h=c[de],h!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(i,l,de,h,c,null)}return;default:if(Tg(l)){for(Ee in c)c.hasOwnProperty(Ee)&&(h=c[Ee],h!==void 0&&mx(i,l,Ee,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&Bt(i,l,D,h,c,null))}function YI(i,l,c,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,C=null,D=null,X=null,de=null,Ee=null;for(ye in c){var _e=c[ye];if(c.hasOwnProperty(ye)&&_e!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":X=_e;default:h.hasOwnProperty(ye)||Bt(i,l,ye,null,h,_e)}}for(var me in h){var ye=h[me];if(_e=c[me],h.hasOwnProperty(me)&&(ye!=null||_e!=null))switch(me){case"type":y=ye;break;case"name":v=ye;break;case"checked":de=ye;break;case"defaultChecked":Ee=ye;break;case"value":C=ye;break;case"defaultValue":D=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:ye!==_e&&Bt(i,l,me,ye,h,_e)}}Cg(i,C,D,X,de,Ee,y,v);return;case"select":ye=C=D=me=null;for(y in c)if(X=c[y],c.hasOwnProperty(y)&&X!=null)switch(y){case"value":break;case"multiple":ye=X;default:h.hasOwnProperty(y)||Bt(i,l,y,null,h,X)}for(v in h)if(y=h[v],X=c[v],h.hasOwnProperty(v)&&(y!=null||X!=null))switch(v){case"value":me=y;break;case"defaultValue":D=y;break;case"multiple":C=y;default:y!==X&&Bt(i,l,v,y,h,X)}l=D,c=C,h=ye,me!=null?eo(i,!!c,me,!1):!!h!=!!c&&(l!=null?eo(i,!!c,l,!0):eo(i,!!c,c?[]:"",!1));return;case"textarea":ye=me=null;for(D in c)if(v=c[D],c.hasOwnProperty(D)&&v!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Bt(i,l,D,null,h,v)}for(C in h)if(v=h[C],y=c[C],h.hasOwnProperty(C)&&(v!=null||y!=null))switch(C){case"value":me=v;break;case"defaultValue":ye=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&Bt(i,l,C,v,h,y)}Tw(i,me,ye);return;case"option":for(var Ue in c)if(me=c[Ue],c.hasOwnProperty(Ue)&&me!=null&&!h.hasOwnProperty(Ue))switch(Ue){case"selected":i.selected=!1;break;default:Bt(i,l,Ue,null,h,me)}for(X in h)if(me=h[X],ye=c[X],h.hasOwnProperty(X)&&me!==ye&&(me!=null||ye!=null))switch(X){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Bt(i,l,X,me,h,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in c)me=c[Je],c.hasOwnProperty(Je)&&me!=null&&!h.hasOwnProperty(Je)&&Bt(i,l,Je,null,h,me);for(de in h)if(me=h[de],ye=c[de],h.hasOwnProperty(de)&&me!==ye&&(me!=null||ye!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:Bt(i,l,de,me,h,ye)}return;default:if(Tg(l)){for(var $t in c)me=c[$t],c.hasOwnProperty($t)&&me!==void 0&&!h.hasOwnProperty($t)&&mx(i,l,$t,void 0,h,me);for(Ee in h)me=h[Ee],ye=c[Ee],!h.hasOwnProperty(Ee)||me===ye||me===void 0&&ye===void 0||mx(i,l,Ee,me,h,ye);return}}for(var ae in c)me=c[ae],c.hasOwnProperty(ae)&&me!=null&&!h.hasOwnProperty(ae)&&Bt(i,l,ae,null,h,me);for(_e in h)me=h[_e],ye=c[_e],!h.hasOwnProperty(_e)||me===ye||me==null&&ye==null||Bt(i,l,_e,me,h,ye)}function kS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],y=v.transferSize,C=v.initiatorType,D=v.duration;if(y&&D&&kS(C)){for(C=0,D=v.responseEnd,h+=1;h<c.length;h++){var X=c[h],de=X.startTime;if(de>D)break;var Ee=X.transferSize,_e=X.initiatorType;Ee&&kS(_e)&&(X=X.responseEnd,C+=Ee*(X<D?1:(D-de)/(X-de)))}if(--h,l+=8*(y+C)/(v.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var gx=null,px=null;function Oh(i){return i.nodeType===9?i:i.ownerDocument}function DS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PS(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function xx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var vx=null;function QI(){var i=window.event;return i&&i.type==="popstate"?i===vx?!1:(vx=i,!0):(vx=null,!1)}var MS=typeof setTimeout=="function"?setTimeout:void 0,ZI=typeof clearTimeout=="function"?clearTimeout:void 0,IS=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof IS<"u"?function(i){return IS.resolve(null).then(i).catch(e6)}:MS;function e6(i){setTimeout(function(){throw i})}function js(i){return i==="head"}function LS(i,l){var c=l,h=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(v),Do(l);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")ou(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,ou(c);for(var y=c.firstChild;y;){var C=y.nextSibling,D=y.nodeName;y[Cc]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=C}}else c==="body"&&ou(i.ownerDocument.body);c=v}while(c);Do(l)}function BS(i,l){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function yx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":yx(c),Sg(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function t6(i,l,c,h){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Cc])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ma(i.nextSibling),i===null)break}return null}function n6(i,l,c){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=ma(i.nextSibling),i===null))return null;return i}function $S(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ma(i.nextSibling),i===null))return null;return i}function bx(i){return i.data==="$?"||i.data==="$~"}function jx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function r6(i,l){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||c.readyState!=="loading")l();else{var h=function(){l(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ma(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var wx=null;function US(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(l===0)return ma(i.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}i=i.nextSibling}return null}function zS(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return i;l--}else c!=="/$"&&c!=="/&"||l++}i=i.previousSibling}return null}function HS(i,l,c){switch(l=Oh(c),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ou(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Sg(i)}var ga=new Map,qS=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ci=U.d;U.d={f:a6,r:i6,D:s6,C:l6,L:o6,m:c6,X:d6,S:u6,M:h6};function a6(){var i=Ci.f(),l=Nh();return i||l}function i6(i){var l=Ql(i);l!==null&&l.tag===5&&l.type==="form"?s1(l):Ci.r(i)}var Ro=typeof document>"u"?null:document;function FS(i,l,c){var h=Ro;if(h&&typeof l=="string"&&l){var v=la(l);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),qS.has(v)||(qS.add(v),i={rel:i,crossOrigin:c,href:l},h.querySelector(v)===null&&(l=h.createElement("link"),er(l,"link",i),Fn(l),h.head.appendChild(l)))}}function s6(i){Ci.D(i),FS("dns-prefetch",i,null)}function l6(i,l){Ci.C(i,l),FS("preconnect",i,l)}function o6(i,l,c){Ci.L(i,l,c);var h=Ro;if(h&&i&&l){var v='link[rel="preload"][as="'+la(l)+'"]';l==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+la(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+la(c.imageSizes)+'"]')):v+='[href="'+la(i)+'"]';var y=v;switch(l){case"style":y=Oo(i);break;case"script":y=ko(i)}ga.has(y)||(i=x({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:i,as:l},c),ga.set(y,i),h.querySelector(v)!==null||l==="style"&&h.querySelector(cu(y))||l==="script"&&h.querySelector(uu(y))||(l=h.createElement("link"),er(l,"link",i),Fn(l),h.head.appendChild(l)))}}function c6(i,l){Ci.m(i,l);var c=Ro;if(c&&i){var h=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+la(h)+'"][href="'+la(i)+'"]',y=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ko(i)}if(!ga.has(y)&&(i=x({rel:"modulepreload",href:i},l),ga.set(y,i),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(uu(y)))return}h=c.createElement("link"),er(h,"link",i),Fn(h),c.head.appendChild(h)}}}function u6(i,l,c){Ci.S(i,l,c);var h=Ro;if(h&&i){var v=Zl(h).hoistableStyles,y=Oo(i);l=l||"default";var C=v.get(y);if(!C){var D={loading:0,preload:null};if(C=h.querySelector(cu(y)))D.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":l},c),(c=ga.get(y))&&Nx(i,c);var X=C=h.createElement("link");Fn(X),er(X,"link",i),X._p=new Promise(function(de,Ee){X.onload=de,X.onerror=Ee}),X.addEventListener("load",function(){D.loading|=1}),X.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Dh(C,l,h)}C={type:"stylesheet",instance:C,count:1,state:D},v.set(y,C)}}}function d6(i,l){Ci.X(i,l);var c=Ro;if(c&&i){var h=Zl(c).hoistableScripts,v=ko(i),y=h.get(v);y||(y=c.querySelector(uu(v)),y||(i=x({src:i,async:!0},l),(l=ga.get(v))&&Sx(i,l),y=c.createElement("script"),Fn(y),er(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function h6(i,l){Ci.M(i,l);var c=Ro;if(c&&i){var h=Zl(c).hoistableScripts,v=ko(i),y=h.get(v);y||(y=c.querySelector(uu(v)),y||(i=x({src:i,async:!0,type:"module"},l),(l=ga.get(v))&&Sx(i,l),y=c.createElement("script"),Fn(y),er(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function KS(i,l,c,h){var v=(v=we.current)?kh(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Oo(c.href),c=Zl(v).hoistableStyles,h=c.get(l),h||(h={type:"style",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Oo(c.href);var y=Zl(v).hoistableStyles,C=y.get(i);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=v.querySelector(cu(i)))&&!y._p&&(C.instance=y,C.state.loading=5),ga.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ga.set(i,c),y||f6(v,i,c,C.state))),l&&h===null)throw Error(r(528,""));return C}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ko(c),c=Zl(v).hoistableScripts,h=c.get(l),h||(h={type:"script",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Oo(i){return'href="'+la(i)+'"'}function cu(i){return'link[rel="stylesheet"]['+i+"]"}function GS(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function f6(i,l,c,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),er(l,"link",c),Fn(l),i.head.appendChild(l))}function ko(i){return'[src="'+la(i)+'"]'}function uu(i){return"script[async]"+i}function VS(i,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+la(c.href)+'"]');if(h)return l.instance=h,Fn(h),h;var v=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Fn(h),er(h,"style",v),Dh(h,c.precedence,i),l.instance=h;case"stylesheet":v=Oo(c.href);var y=i.querySelector(cu(v));if(y)return l.state.loading|=4,l.instance=y,Fn(y),y;h=GS(c),(v=ga.get(v))&&Nx(h,v),y=(i.ownerDocument||i).createElement("link"),Fn(y);var C=y;return C._p=new Promise(function(D,X){C.onload=D,C.onerror=X}),er(y,"link",h),l.state.loading|=4,Dh(y,c.precedence,i),l.instance=y;case"script":return y=ko(c.src),(v=i.querySelector(uu(y)))?(l.instance=v,Fn(v),v):(h=c,(v=ga.get(y))&&(h=x({},c),Sx(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),Fn(v),er(v,"link",h),i.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Dh(h,c.precedence,i));return l.instance}function Dh(i,l,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,y=v,C=0;C<h.length;C++){var D=h[C];if(D.dataset.precedence===l)y=D;else if(y!==v)break}y?y.parentNode.insertBefore(i,y.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(i,l.firstChild))}function Nx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Sx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Ph=null;function WS(i,l,c){if(Ph===null){var h=new Map,v=Ph=new Map;v.set(c,h)}else v=Ph,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var y=c[v];if(!(y[Cc]||y[oe]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(l)||"";C=i+C;var D=h.get(C);D?D.push(y):h.set(C,[y])}}return h}function YS(i,l,c){i=i.ownerDocument||i,i.head.insertBefore(c,l==="title"?i.querySelector("head > title"):null)}function m6(i,l,c){if(c===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function XS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function g6(i,l,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Oo(h.href),y=l.querySelector(cu(v));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=Mh.bind(i),l.then(i,i)),c.state.loading|=4,c.instance=y,Fn(y);return}y=l.ownerDocument||l,h=GS(h),(v=ga.get(v))&&Nx(h,v),y=y.createElement("link"),Fn(y);var C=y;C._p=new Promise(function(D,X){C.onload=D,C.onerror=X}),er(y,"link",h),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Mh.bind(i),l.addEventListener("load",c),l.addEventListener("error",c))}}var Ex=0;function p6(i,l){return i.stylesheets&&i.count===0&&Lh(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Lh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+l);0<i.imgBytes&&Ex===0&&(Ex=62500*XI());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Lh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Ex?50:800)+l);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ih=null;function Lh(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ih=new Map,l.forEach(x6,i),Ih=null,Mh.call(i))}function x6(i,l){if(!(l.state.loading&4)){var c=Ih.get(i);if(c)var h=c.get(null);else{c=new Map,Ih.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var C=v[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}v=l.instance,C=v.getAttribute("data-precedence"),y=c.get(C)||h,y===h&&c.set(null,v),c.set(C,v),this.count++,h=Mh.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),y?y.parentNode.insertBefore(v,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),l.state.loading|=4}}var du={$$typeof:T,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function v6(i,l,c,h,v,y,C,D,X){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function QS(i,l,c,h,v,y,C,D,X,de,Ee,_e){return i=new v6(i,l,c,C,X,de,Ee,_e,D),l=1,y===!0&&(l|=24),y=$r(3,null,null,l),i.current=y,y.stateNode=i,l=ap(),l.refCount++,i.pooledCache=l,l.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:l},op(y),i}function ZS(i){return i?(i=oo,i):oo}function JS(i,l,c,h,v,y){v=ZS(v),h.context===null?h.context=v:h.pendingContext=v,h=us(l),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=ds(i,h,l),c!==null&&(kr(c,i,l),qc(c,i,l))}function eE(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function Cx(i,l){eE(i,l),(i=i.alternate)&&eE(i,l)}function tE(i){if(i.tag===13||i.tag===31){var l=nl(i,67108864);l!==null&&kr(l,i,67108864),Cx(i,67108864)}}function nE(i){if(i.tag===13||i.tag===31){var l=Fr();l=aa(l);var c=nl(i,l);c!==null&&kr(c,i,l),Cx(i,l)}}var Bh=!0;function y6(i,l,c,h){var v=$.T;$.T=null;var y=U.p;try{U.p=2,Ax(i,l,c,h)}finally{U.p=y,$.T=v}}function b6(i,l,c,h){var v=$.T;$.T=null;var y=U.p;try{U.p=8,Ax(i,l,c,h)}finally{U.p=y,$.T=v}}function Ax(i,l,c,h){if(Bh){var v=Tx(h);if(v===null)fx(i,l,h,$h,c),aE(i,h);else if(w6(v,i,l,c,h))h.stopPropagation();else if(aE(i,h),l&4&&-1<j6.indexOf(i)){for(;v!==null;){var y=Ql(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=Cr(y.pendingLanes);if(C!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var X=1<<31-zt(C);D.entanglements[1]|=X,C&=~X}Xa(y),(Tt&6)===0&&(jh=Pe()+500,iu(0))}}break;case 31:case 13:D=nl(y,2),D!==null&&kr(D,y,2),Nh(),Cx(y,2)}if(y=Tx(h),y===null&&fx(i,l,h,$h,c),y===v)break;v=y}v!==null&&h.stopPropagation()}else fx(i,l,h,null,c)}}function Tx(i){return i=Rg(i),_x(i)}var $h=null;function _x(i){if($h=null,i=Xl(i),i!==null){var l=o(i);if(l===null)i=null;else{var c=l.tag;if(c===13){if(i=u(l),i!==null)return i;i=null}else if(c===31){if(i=d(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return $h=i,null}function rE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Me:return 2;case Ze:return 8;case lt:case It:return 32;case ln:return 268435456;default:return 32}default:return 32}}var Rx=!1,ws=null,Ns=null,Ss=null,hu=new Map,fu=new Map,Es=[],j6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(i,l){switch(i){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":hu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(l.pointerId)}}function mu(i,l,c,h,v,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[v]},l!==null&&(l=Ql(l),l!==null&&tE(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function w6(i,l,c,h,v){switch(l){case"focusin":return ws=mu(ws,i,l,c,h,v),!0;case"dragenter":return Ns=mu(Ns,i,l,c,h,v),!0;case"mouseover":return Ss=mu(Ss,i,l,c,h,v),!0;case"pointerover":var y=v.pointerId;return hu.set(y,mu(hu.get(y)||null,i,l,c,h,v)),!0;case"gotpointercapture":return y=v.pointerId,fu.set(y,mu(fu.get(y)||null,i,l,c,h,v)),!0}return!1}function iE(i){var l=Xl(i.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){i.blockedOn=l,Yl(i.priority,function(){nE(c)});return}}else if(l===31){if(l=d(c),l!==null){i.blockedOn=l,Yl(i.priority,function(){nE(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=Tx(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);_g=h,c.target.dispatchEvent(h),_g=null}else return l=Ql(c),l!==null&&tE(l),i.blockedOn=c,!1;l.shift()}return!0}function sE(i,l,c){Uh(i)&&c.delete(l)}function N6(){Rx=!1,ws!==null&&Uh(ws)&&(ws=null),Ns!==null&&Uh(Ns)&&(Ns=null),Ss!==null&&Uh(Ss)&&(Ss=null),hu.forEach(sE),fu.forEach(sE)}function zh(i,l){i.blockedOn===l&&(i.blockedOn=null,Rx||(Rx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N6)))}var Hh=null;function lE(i){Hh!==i&&(Hh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hh===i&&(Hh=null);for(var l=0;l<i.length;l+=3){var c=i[l],h=i[l+1],v=i[l+2];if(typeof h!="function"){if(_x(h||c)===null)continue;break}var y=Ql(c);y!==null&&(i.splice(l,3),l-=3,Tp(y,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function Do(i){function l(X){return zh(X,i)}ws!==null&&zh(ws,i),Ns!==null&&zh(Ns,i),Ss!==null&&zh(Ss,i),hu.forEach(l),fu.forEach(l);for(var c=0;c<Es.length;c++){var h=Es[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Es.length&&(c=Es[0],c.blockedOn===null);)iE(c),c.blockedOn===null&&Es.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],y=c[h+1],C=v[Ne]||null;if(typeof y=="function")C||lE(c);else if(C){var D=null;if(y&&y.hasAttribute("formAction")){if(v=y,C=y[Ne]||null)D=C.formAction;else if(_x(v)!==null)continue}else D=C.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),lE(c)}}}function oE(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Ox(i){this._internalRoot=i}qh.prototype.render=Ox.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,h=Fr();JS(c,h,i,l,null,null)},qh.prototype.unmount=Ox.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;JS(i.current,2,null,i,null,null),Nh(),l[Ht]=null}};function qh(i){this._internalRoot=i}qh.prototype.unstable_scheduleHydration=function(i){if(i){var l=Qs();i={blockedOn:null,target:i,priority:l};for(var c=0;c<Es.length&&l!==0&&l<Es[c].priority;c++);Es.splice(c,0,i),c===0&&iE(i)}};var cE=t.version;if(cE!=="19.2.0")throw Error(r(527,cE,"19.2.0"));U.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(l),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var S6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Xn=Fh.inject(S6),Nt=Fh}catch{}}return pu.createRoot=function(i,l){if(!s(i))throw Error(r(299));var c=!1,h="",v=p1,y=x1,C=v1;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=QS(i,1,!1,null,null,c,h,null,v,y,C,oE),i[Ht]=l.current,hx(i),new Ox(l)},pu.hydrateRoot=function(i,l,c){if(!s(i))throw Error(r(299));var h=!1,v="",y=p1,C=x1,D=v1,X=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(X=c.formState)),l=QS(i,1,!0,l,c??null,h,v,X,y,C,D,oE),l.context=ZS(null),c=l.current,h=Fr(),h=aa(h),v=us(h),v.callback=null,ds(c,v,h),c=h,l.current.lanes=c,Ga(l,c),Xa(l),i[Ht]=l.current,hx(i),new qh(l)},pu.version="19.2.0",pu}var yE;function P6(){if(yE)return Px.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Px.exports=D6(),Px.exports}var M6=P6(),Cm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},I6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},L6=class{#e=I6;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Mv=new L6;function B6(e){setTimeout(e,0)}var Am=typeof window>"u"||"Deno"in globalThis;function Ba(){}function $6(e,t){return typeof e=="function"?e(t):e}function U6(e){return typeof e=="number"&&e>=0&&e!==1/0}function z6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Iv(e,t){return typeof e=="function"?e(t):e}function H6(e,t){return typeof e=="function"?e(t):e}function bE(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:u,stale:d}=e;if(u){if(r){if(t.queryHash!==Vy(u,t.options))return!1}else if(!Pu(t.queryKey,u))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||o&&!o(t))}function jE(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Du(t.options.mutationKey)!==Du(o))return!1}else if(!Pu(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Vy(e,t){return(t?.queryKeyHashFn||Du)(e)}function Du(e){return JSON.stringify(e,(t,n)=>Lv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Pu(e[n],t[n])):!1}var q6=Object.prototype.hasOwnProperty;function E_(e,t){if(e===t)return e;const n=wE(e)&&wE(t);if(!n&&!(Lv(e)&&Lv(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),u=o.length,d=n?new Array(u):{};let f=0;for(let m=0;m<u;m++){const g=n?m:o[m],x=e[g],b=t[g];if(x===b){d[g]=x,(n?m<s:q6.call(e,g))&&f++;continue}if(x===null||b===null||typeof x!="object"||typeof b!="object"){d[g]=b;continue}const j=E_(x,b);d[g]=j,j===x&&f++}return s===u&&f===s?e:d}function wE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lv(e){if(!NE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!NE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NE(e){return Object.prototype.toString.call(e)==="[object Object]"}function F6(e){return new Promise(t=>{Mv.setTimeout(t,e)})}function K6(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?E_(e,t):t}function G6(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function V6(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Wy=Symbol();function C_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Wy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var W6=class extends Cm{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Am&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},A_=new W6;function Y6(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var X6=B6;function Q6(){let e=[],t=0,n=d=>{d()},r=d=>{d()},s=X6;const o=d=>{t?e.push(d):s(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&s(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var xr=Q6(),Z6=class extends Cm{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Am&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Df=new Z6;function J6(e){return Math.min(1e3*2**e,3e4)}function T_(e){return(e??"online")==="online"?Df.isOnline():!0}var Bv=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function __(e){let t=!1,n=0,r;const s=Y6(),o=()=>s.status!=="pending",u=w=>{if(!o()){const N=new Bv(w);b(N),e.onCancel?.(N)}},d=()=>{t=!0},f=()=>{t=!1},m=()=>A_.isFocused()&&(e.networkMode==="always"||Df.isOnline())&&e.canRun(),g=()=>T_(e.networkMode)&&e.canRun(),x=w=>{o()||(r?.(),s.resolve(w))},b=w=>{o()||(r?.(),s.reject(w))},j=()=>new Promise(w=>{r=N=>{(o()||m())&&w(N)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),S=()=>{if(o())return;let w;const N=n===0?e.initialPromise:void 0;try{w=N??e.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(x).catch(E=>{if(o())return;const A=e.retry??(Am?0:3),T=e.retryDelay??J6,_=typeof T=="function"?T(n,E):T,O=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,E);if(t||!O){b(E);return}n++,e.onFail?.(n,E),F6(_).then(()=>m()?void 0:j()).then(()=>{t?b(E):S()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(r?.(),s),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?S():j().then(S),s)}}var R_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U6(this.gcTime)&&(this.#e=Mv.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Am?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Mv.clearTimeout(this.#e),this.#e=void 0)}},e5=class extends R_{#e;#t;#n;#a;#r;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=EE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=EE(this.options);t.data!==void 0&&(this.setState(SE(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=K6(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Ba).catch(Ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>H6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Iv(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!z6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#l?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},s=()=>{const d=C_(this.options,t),m=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#l=!1,this.options.persister?this.options.persister(d,m,this):d(m)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return r(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=__({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof Bv&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#i({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Bv){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...t5(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...SE(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),xr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function t5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function SE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function CE(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let g=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=C_(t.options,t.fetchOptions),j=async(S,w,N)=>{if(g)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const A=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return x(k),k})(),T=await b(A),{maxPages:_}=t.options,O=N?V6:G6;return{pages:O(S.pages,T,_),pageParams:O(S.pageParams,w,_)}};if(s&&o.length){const S=s==="backward",w=S?n5:AE,N={pages:o,pageParams:u},E=w(r,N);d=await j(N,E,S)}else{const S=e??o.length;do{const w=f===0?u[0]??r.initialPageParam:AE(r,d);if(f>0&&w==null)break;d=await j(d,w),f++}while(f<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function AE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function n5(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var r5=class extends R_{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||a5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=__({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#r({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#a.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const u=await this.options.onMutate?.(e,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),xr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function a5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var i5=class extends Cm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new r5({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Kh(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Kh(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Kh(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Kh(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){xr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>jE(t,n))}findAll(e={}){return this.getAll().filter(t=>jE(e,t))}notify(e){xr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return xr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ba))))}};function Kh(e){return e.options.scope?.id}var s5=class extends Cm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??Vy(r,t);let o=this.get(s);return o||(o=new e5({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>bE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>bE(e,n)):t}notify(e){xr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){xr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l5=class{#e;#t;#n;#a;#r;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new s5,this.#t=e.mutationCache||new i5,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=A_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Df.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Iv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,u=$6(t,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return xr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;xr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return xr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=xr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ba).catch(Ba)}invalidateQueries(e,t={}){return xr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=xr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ba)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Iv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ba).catch(Ba)}fetchInfiniteQuery(e){return e.behavior=CE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ba).catch(Ba)}ensureInfiniteQueryData(e){return e.behavior=CE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Df.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(Du(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(r=>{Pu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Du(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Pu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wy&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},o5=p.createContext(void 0),c5=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(o5.Provider,{value:e,children:t}));var TE="popstate";function u5(e={}){function t(r,s){let{pathname:o,search:u,hash:d}=r.location;return $v("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mu(s)}return h5(t,n,null,e)}function dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ca(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d5(){return Math.random().toString(36).substring(2,10)}function _E(e,t){return{usr:e.state,key:e.key,idx:t}}function $v(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ic(t):t,state:n,key:t&&t.key||r||d5()}}function Mu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ic(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h5(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let N=g(),E=N==null?null:N-m;m=N,f&&f({action:d,location:w.location,delta:E})}function b(N,E){d="PUSH";let A=$v(w.location,N,E);m=g()+1;let T=_E(A,m),_=w.createHref(A);try{u.pushState(T,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(_)}o&&f&&f({action:d,location:w.location,delta:1})}function j(N,E){d="REPLACE";let A=$v(w.location,N,E);m=g();let T=_E(A,m),_=w.createHref(A);u.replaceState(T,"",_),o&&f&&f({action:d,location:w.location,delta:0})}function S(N){return f5(N)}let w={get action(){return d},get location(){return e(s,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(TE,x),f=N,()=>{s.removeEventListener(TE,x),f=null}},createHref(N){return t(s,N)},createURL:S,encodeLocation(N){let E=S(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:j,go(N){return u.go(N)}};return w}function f5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Mu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function O_(e,t,n="/"){return m5(e,t,n,!1)}function m5(e,t,n,r){let s=typeof t=="string"?ic(t):t,o=zi(s.pathname||"/",n);if(o==null)return null;let u=k_(e);g5(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=C5(o);d=S5(u[f],m,r)}return d}function k_(e,t=[],n=[],r="",s=!1){let o=(u,d,f=s,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;dn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=Ii([r,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(dn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),k_(u.children,t,b,x,f)),!(u.path==null&&!u.index)&&t.push({path:x,score:w5(x,u.index),routesMeta:b})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of D_(u.path))o(u,d,!0,f)}),t}function D_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=D_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function g5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:N5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var p5=/^:[\w-]+$/,x5=3,v5=2,y5=1,b5=10,j5=-2,RE=e=>e==="*";function w5(e,t){let n=e.split("/"),r=n.length;return n.some(RE)&&(r+=j5),t&&(r+=v5),n.filter(s=>!RE(s)).reduce((s,o)=>s+(p5.test(o)?x5:o===""?y5:b5),r)}function N5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function S5(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:Ii([o,x.pathname]),pathnameBase:R5(Ii([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Ii([o,x.pathnameBase]))}return u}function Pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=E5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let S=d[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const j=d[b];return x&&!j?m[g]=void 0:m[g]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function E5(e,t=!1,n=!0){Ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function C5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ca(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function A5(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ic(e):e;return{pathname:n?n.startsWith("/")?n:T5(n,t):t,search:O5(r),hash:k5(s)}}function T5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yy(e){let t=_5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Xy(e,t,n,r=!1){let s;typeof e=="string"?s=ic(e):(s={...e},dn(!s.pathname||!s.pathname.includes("?"),Bx("?","pathname","search",s)),dn(!s.pathname||!s.pathname.includes("#"),Bx("#","pathname","hash",s)),dn(!s.search||!s.search.includes("#"),Bx("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}d=x>=0?t[x]:"/"}let f=A5(s,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Ii=e=>e.join("/").replace(/\/\/+/g,"/"),R5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,k5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var P_=["POST","PUT","PATCH","DELETE"];new Set(P_);var P5=["GET",...P_];new Set(P5);var sc=p.createContext(null);sc.displayName="DataRouter";var Tm=p.createContext(null);Tm.displayName="DataRouterState";p.createContext(!1);var M_=p.createContext({isTransitioning:!1});M_.displayName="ViewTransition";var M5=p.createContext(new Map);M5.displayName="Fetchers";var I5=p.createContext(null);I5.displayName="Await";var Ha=p.createContext(null);Ha.displayName="Navigation";var nd=p.createContext(null);nd.displayName="Location";var qa=p.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var Qy=p.createContext(null);Qy.displayName="RouteError";function L5(e,{relative:t}={}){dn(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Ha),{hash:s,pathname:o,search:u}=rd(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:Ii([n,o])),r.createHref({pathname:d,search:u,hash:s})}function lc(){return p.useContext(nd)!=null}function Lr(){return dn(lc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(nd).location}var I_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(e){p.useContext(Ha).static||p.useLayoutEffect(e)}function mr(){let{isDataRoute:e}=p.useContext(qa);return e?X5():B5()}function B5(){dn(lc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(sc),{basename:t,navigator:n}=p.useContext(Ha),{matches:r}=p.useContext(qa),{pathname:s}=Lr(),o=JSON.stringify(Yy(r)),u=p.useRef(!1);return L_(()=>{u.current=!0}),p.useCallback((f,m={})=>{if(Ca(u.current,I_),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Xy(f,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ii([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,o,s,e])}p.createContext(null);function oc(){let{matches:e}=p.useContext(qa),t=e[e.length-1];return t?t.params:{}}function rd(e,{relative:t}={}){let{matches:n}=p.useContext(qa),{pathname:r}=Lr(),s=JSON.stringify(Yy(n));return p.useMemo(()=>Xy(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function $5(e,t){return B_(e,t)}function B_(e,t,n,r,s){dn(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=p.useContext(Ha),{matches:u}=p.useContext(qa),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let A=x&&x.path||"";$_(m,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=Lr(),j;if(t){let A=typeof t=="string"?ic(t):t;dn(g==="/"||A.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),j=A}else j=b;let S=j.pathname||"/",w=S;if(g!=="/"){let A=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=O_(e,{pathname:w});Ca(x||N!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Ca(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=F5(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Ii([g,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Ii([g,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),u,n,r,s);return t&&E?p.createElement(nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},E):E}function U5(){let e=Y5(),t=D5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,u)}var z5=p.createElement(U5,null),H5=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(qa.Provider,{value:this.props.routeContext},p.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q5({routeContext:e,match:t,children:n}){let r=p.useContext(sc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(qa.Provider,{value:e},n)}function F5(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);dn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,j=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||j){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let b,j=!1,S=null,w=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||z5,d&&(f<0&&x===0?($_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):f===x&&(j=!0,w=g.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,x+1)),E=()=>{let A;return b?A=S:j?A=w:g.route.Component?A=p.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=m,p.createElement(q5,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?p.createElement(H5,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):E()},null)}function Zy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K5(e){let t=p.useContext(sc);return dn(t,Zy(e)),t}function G5(e){let t=p.useContext(Tm);return dn(t,Zy(e)),t}function V5(e){let t=p.useContext(qa);return dn(t,Zy(e)),t}function Jy(e){let t=V5(e),n=t.matches[t.matches.length-1];return dn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function W5(){return Jy("useRouteId")}function Y5(){let e=p.useContext(Qy),t=G5("useRouteError"),n=Jy("useRouteError");return e!==void 0?e:t.errors?.[n]}function X5(){let{router:e}=K5("useNavigate"),t=Jy("useNavigate"),n=p.useRef(!1);return L_(()=>{n.current=!0}),p.useCallback(async(s,o={})=>{Ca(n.current,I_),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var OE={};function $_(e,t,n){!t&&!OE[e]&&(OE[e]=!0,Ca(!1,n))}p.memo(Q5);function Q5({routes:e,future:t,state:n,unstable_onError:r}){return B_(e,void 0,n,r,t)}function Uv({to:e,replace:t,state:n,relative:r}){dn(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Ha);Ca(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=p.useContext(qa),{pathname:u}=Lr(),d=mr(),f=Xy(e,Yy(o),u,r==="path"),m=JSON.stringify(f);return p.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function Wt(e){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z5({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){dn(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=ic(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=n,j=p.useMemo(()=>{let S=zi(f,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:x,key:b},navigationType:r}},[u,f,m,g,x,b,r]);return Ca(j!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:p.createElement(Ha.Provider,{value:d},p.createElement(nd.Provider,{children:t,value:j}))}function J5({children:e,location:t}){return $5(zv(e),t)}function zv(e,t=[]){let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,zv(r.props.children,o));return}dn(r.type===Wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=zv(r.props.children,o)),n.push(u)}),n}var Nf="get",Sf="application/x-www-form-urlencoded";function _m(e){return e!=null&&typeof e.tagName=="string"}function e3(e){return _m(e)&&e.tagName.toLowerCase()==="button"}function t3(e){return _m(e)&&e.tagName.toLowerCase()==="form"}function n3(e){return _m(e)&&e.tagName.toLowerCase()==="input"}function r3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a3(e,t){return e.button===0&&(!t||t==="_self")&&!r3(e)}function Hv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function i3(e,t){let n=Hv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Gh=null;function s3(){if(Gh===null)try{new FormData(document.createElement("form"),0),Gh=!1}catch{Gh=!0}return Gh}var l3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $x(e){return e!=null&&!l3.has(e)?(Ca(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):e}function o3(e,t){let n,r,s,o,u;if(t3(e)){let d=e.getAttribute("action");r=d?zi(d,t):null,n=e.getAttribute("method")||Nf,s=$x(e.getAttribute("enctype"))||Sf,o=new FormData(e)}else if(e3(e)||n3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?zi(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Nf,s=$x(e.getAttribute("formenctype"))||$x(d.getAttribute("enctype"))||Sf,o=new FormData(d,e),!s3()){let{name:m,type:g,value:x}=e;if(g==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,x)}}else{if(_m(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,r=null,s=Sf,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c3(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&zi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function u3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function h3(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await u3(o,n);return u.links?u.links():[]}return[]}));return p3(r.flat(1).filter(d3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kE(e,t,n,r,s,o){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,m)=>u(f,m)||d(f,m)):o==="data"?t.filter((f,m)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function f3(e,t,{includeHydrateFallback:n}={}){return m3(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function m3(e){return[...new Set(e)]}function g3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function p3(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(g3(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function U_(){let e=p.useContext(sc);return eb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function x3(){let e=p.useContext(Tm);return eb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tb=p.createContext(void 0);tb.displayName="FrameworkContext";function z_(){let e=p.useContext(tb);return eb(e,"You must render this element inside a <HydratedRouter> element"),e}function v3(e,t){let n=p.useContext(tb),[r,s]=p.useState(!1),[o,u]=p.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,b=p.useRef(null);p.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=E=>{E.forEach(A=>{u(A.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),p.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let j=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:xu(d,j),onBlur:xu(f,S),onMouseEnter:xu(m,j),onMouseLeave:xu(g,S),onTouchStart:xu(x,j)}]:[!1,b,{}]}function xu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function y3({page:e,...t}){let{router:n}=U_(),r=p.useMemo(()=>O_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(j3,{page:e,matches:r,...t}):null}function b3(e){let{manifest:t,routeModules:n}=z_(),[r,s]=p.useState([]);return p.useEffect(()=>{let o=!1;return h3(e,t,n).then(u=>{o||s(u)}),()=>{o=!0}},[e,t,n]),r}function j3({page:e,matches:t,...n}){let r=Lr(),{manifest:s,routeModules:o}=z_(),{basename:u}=U_(),{loaderData:d,matches:f}=x3(),m=p.useMemo(()=>kE(e,t,f,s,r,"data"),[e,t,f,s,r]),g=p.useMemo(()=>kE(e,t,f,s,r,"assets"),[e,t,f,s,r]),x=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(t.forEach(E=>{let A=s.routes[E.route.id];!A||!A.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in d&&o[E.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:S.add(E.route.id))}),S.size===0)return[];let N=c3(e,u,"data");return w&&S.size>0&&N.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[u,d,r,s,m,t,e,o]),b=p.useMemo(()=>f3(g,s),[g,s]),j=b3(g);return p.createElement(p.Fragment,null,x.map(S=>p.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>p.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),j.map(({key:S,link:w})=>p.createElement("link",{key:S,nonce:n.nonce,...w})))}function w3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var H_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H_&&(window.__reactRouterVersion="7.9.5")}catch{}function N3({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=u5({window:n,v5Compat:!0}));let s=r.current,[o,u]=p.useState({action:s.action,location:s.location}),d=p.useCallback(f=>{p.startTransition(()=>u(f))},[u]);return p.useLayoutEffect(()=>s.listen(d),[s,d]),p.createElement(Z5,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x,...b},j){let{basename:S}=p.useContext(Ha),w=typeof m=="string"&&q_.test(m),N,E=!1;if(typeof m=="string"&&w&&(N=m,H_))try{let F=new URL(window.location.href),re=m.startsWith("//")?new URL(F.protocol+m):new URL(m),L=zi(re.pathname,S);re.origin===F.origin&&L!=null?m=L+re.search+re.hash:E=!0}catch{Ca(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=L5(m,{relative:s}),[T,_,O]=v3(r,b),k=C3(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:x});function R(F){t&&t(F),F.defaultPrevented||k(F)}let P=p.createElement("a",{...b,...O,href:N||A,onClick:E||o?t:R,ref:w3(j,_),target:f,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?p.createElement(p.Fragment,null,P,p.createElement(y3,{page:A})):P});F_.displayName="Link";var K_=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...m},g){let x=rd(u,{relative:m.relative}),b=Lr(),j=p.useContext(Tm),{navigator:S,basename:w}=p.useContext(Ha),N=j!=null&&k3(x)&&d===!0,E=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,A=b.pathname,T=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(A=A.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&w&&(T=zi(T,w)||T);const _=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=A===E||!s&&A.startsWith(E)&&A.charAt(_)==="/",k=T!=null&&(T===E||!s&&T.startsWith(E)&&T.charAt(E.length)==="/"),R={isActive:O,isPending:k,isTransitioning:N},P=O?t:void 0,F;typeof r=="function"?F=r(R):F=[r,O?"active":null,k?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let re=typeof o=="function"?o(R):o;return p.createElement(F_,{...m,"aria-current":P,className:F,ref:g,style:re,to:u,viewTransition:d},typeof f=="function"?f(R):f)});K_.displayName="NavLink";var S3=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:u=Nf,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...b},j)=>{let S=R3(),w=O3(d,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&q_.test(d),A=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let _=T.nativeEvent.submitter,O=_?.getAttribute("formmethod")||u;S(_||T.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return p.createElement("form",{ref:j,method:N,action:w,onSubmit:r?f:A,...b,"data-discover":!E&&e==="render"?"true":void 0})});S3.displayName="Form";function E3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(e){let t=p.useContext(sc);return dn(t,E3(e)),t}function C3(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=mr(),f=Lr(),m=rd(e,{relative:o});return p.useCallback(g=>{if(a3(g,t)){g.preventDefault();let x=n!==void 0?n:Mu(f)===Mu(m);d(e,{replace:x,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,m,n,r,t,e,s,o,u])}function A3(e){Ca(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(Hv(e)),n=p.useRef(!1),r=Lr(),s=p.useMemo(()=>i3(r.search,n.current?null:t.current),[r.search]),o=mr(),u=p.useCallback((d,f)=>{const m=Hv(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,o("?"+m,f)},[o,s]);return[s,u]}var T3=0,_3=()=>`__${String(++T3)}__`;function R3(){let{router:e}=G_("useSubmit"),{basename:t}=p.useContext(Ha),n=W5();return p.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:m}=o3(r,t);if(s.navigate===!1){let g=s.fetcherKey||_3();await e.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function O3(e,{relative:t}={}){let{basename:n}=p.useContext(Ha),r=p.useContext(qa);dn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...rd(e||".",{relative:t})},u=Lr();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ii([n,o.pathname])),Mu(o)}function k3(e,{relative:t}={}){let n=p.useContext(M_);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G_("useViewTransitionState"),s=rd(e,{relative:t});if(!n.isTransitioning)return!1;let o=zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pf(s.pathname,u)!=null||Pf(s.pathname,o)!=null}var Rm=S_();const D3=oi(Rm),V_=p.createContext(void 0);function P3({children:e}){const[t,n]=p.useState({user:null,token:null}),[r,s]=p.useState(!0);p.useEffect(()=>{const u=()=>{try{const f=localStorage.getItem("authToken"),m=localStorage.getItem("currentUser"),g=m?JSON.parse(m):null;n({user:g,token:f})}catch{n({user:null,token:null})}finally{s(!1)}};u();const d=f=>{(!f.key||["authToken","currentUser"].includes(f.key))&&u()};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]);const o=p.useMemo(()=>({...t,loading:r,setAuth:n,signOut:()=>n({user:null,token:null})}),[t,r]);return a.jsx(V_.Provider,{value:o,children:e})}function Hs(){const e=p.useContext(V_);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const M3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),DE=e=>{const t=I3(e);return t.charAt(0).toUpperCase()+t.slice(1)},W_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),L3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var B3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...d},f)=>p.createElement("svg",{ref:f,...B3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:W_("lucide",s),...!o&&!L3(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,g])=>p.createElement(m,g)),...Array.isArray(o)?o:[o]]));const qe=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement($3,{ref:o,iconNode:t,className:W_(`lucide-${M3(DE(e))}`,`lucide-${e}`,r),...s}));return n.displayName=DE(e),n};const U3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cc=qe("arrow-left",U3);const z3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],H3=qe("arrow-up-right",z3);const q3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Aa=qe("award",q3);const F3=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Li=qe("ban",F3);const K3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],G3=qe("banknote",K3);const V3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PE=qe("bell",V3);const W3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Y3=qe("building-2",W3);const X3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_l=qe("calendar",X3);const Q3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Y_=qe("chart-column",Q3);const Z3=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],J3=qe("check-check",Z3);const eL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X_=qe("check",eL);const tL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Om=qe("chevron-down",tL);const nL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rL=qe("chevron-left",nL);const aL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iL=qe("chevron-right",aL);const sL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lL=qe("circle-alert",sL);const oL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Q_=qe("circle-check-big",oL);const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ea=qe("circle-check",cL);const uL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Rl=qe("circle-pause",uL);const dL=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ol=qe("circle-play",dL);const hL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ri=qe("circle-x",hL);const fL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Iu=qe("clock",fL);const mL=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Z_=qe("dollar-sign",mL);const gL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pL=qe("eye-off",gL);const xL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wr=qe("eye",xL);const vL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bi=qe("file-text",vL);const yL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J_=qe("file-warning",yL);const bL=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],jL=qe("flame",bL);const wL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ad=qe("funnel",wL);const NL=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],nb=qe("gavel",NL);const SL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ef=qe("image",SL);const EL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CL=qe("info",EL);const AL=[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]],eR=qe("land-plot",AL);const TL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_L=qe("layout-dashboard",TL);const RL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kn=qe("loader-circle",RL);const OL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kL=qe("log-out",OL);const DL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rb=qe("mail",DL);const PL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ru=qe("map-pin",PL);const ML=[["path",{d:"M5 12h14",key:"1ays0h"}]],IL=qe("minus",ML);const LL=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],BL=qe("package-2",LL);const $L=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cf=qe("package",$L);const UL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tR=qe("phone",UL);const zL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HL=qe("play",zL);const qL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ME=qe("plus",qL);const FL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ti=qe("refresh-cw",FL);const KL=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],nR=qe("scissors",KL);const GL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ta=qe("search",GL);const VL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],qv=qe("shield-alert",VL);const WL=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lu=qe("sprout",WL);const YL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bu=qe("square-pen",YL);const XL=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],rR=qe("tags",XL);const QL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fv=qe("trash-2",QL);const ZL=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],JL=qe("tree-pine",ZL);const eB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],tB=qe("trending-down",eB);const nB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Is=qe("trending-up",nB);const rB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],km=qe("triangle-alert",rB);const aB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],IE=qe("trophy",aB);const iB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],sB=qe("truck",iB);const lB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uc=qe("user",lB);const oB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$u=qe("users",oB);const cB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Mf=qe("wallet",cB);const uB=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],dB=qe("wheat",uB);const hB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ql=qe("x",hB);const fB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mB=qe("zap",fB),gB="modulepreload",pB=function(e){return"/"+e},LE={},xB=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=m(n.map(g=>{if(g=pB(g),g in LE)return;LE[g]=!0;const x=g.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const j=document.createElement("link");if(j.rel=x?"stylesheet":gB,x||(j.as="script"),j.crossOrigin="",j.href=g,f&&j.setAttribute("nonce",f),document.head.appendChild(j),x)return new Promise((S,w)=>{j.addEventListener("load",S),j.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return s.then(d=>{for(const f of d||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})},ab={LOGIN_SUCCESS:"ng nhp thnh cng",REGISTER_SUCCESS:"ng k thnh cng",LOGOUT_SUCCESS:"ng xut thnh cng",UPDATE_SUCCESS:"Cp nht thnh cng",DELETE_SUCCESS:"Xa thnh cng",CREATE_SUCCESS:"To mi thnh cng",WELCOME_PREFIX:"Cho mng"},vB=e=>`${ab.WELCOME_PREFIX} ${e}!`,yt={LOGIN_FAILED:"Email hoc mt khu khng ng",LOGIN_FAILED_TITLE:"ng nhp tht bi",REGISTER_FAILED:"ng k tht bi",NETWORK_ERROR:"Li kt ni mng",UNAUTHORIZED:"Bn khng c quyn truy cp",VALIDATION_ERROR:"D liu khng hp l",VALIDATION_ERROR_TITLE:"Li xc thc",VALIDATION_ERROR_DESCRIPTION:"Vui lng kim tra li thng tin ng nhp",SERVER_ERROR:"Li my ch",NOT_ADMIN:"Bn khng c quyn truy cp qun tr!",NOT_ADMIN_DETAIL:"Bn khng c quyn truy cp trang qun tr  ch dnh cho Qun tr vin!",NOT_ADMIN_TITLE:"Khng c quyn truy cp",CANNOT_VALIDATE_ADMIN:"Khng th xc thc quyn truy cp ti khon Qun tr vin!",CANNOT_VALIDATE_ADMIN_TITLE:"Li xc thc",AUTH_FAILED:"Email hoc mt khu khng ng",AUTH_FAILED_TITLE:"Xc thc tht bi",CONNECTION_ERROR_TITLE:"Li kt ni",LOGOUT_FAILED:"ng xut khng thnh cng, vui lng th li.",LOGOUT_FAILED_TITLE:"ng xut tht bi",EMAIL_REQUIRED:"Email khng c  trng",EMAIL_MUST_CONTAIN_AT:"Email phi cha k t @",EMAIL_INVALID_FORMAT:"Email khng ng nh dng (v d: example@domain.com)",PASSWORD_REQUIRED:"Mt khu khng c  trng",PASSWORD_MIN_LENGTH:"Mt khu phi c t nht 6 k t",PASSWORD_SPECIAL_CHAR:"Mt khu phi cha t nht 1 k t c bit",PASSWORD_INCORRECT:"Mt khu khng ng",USER_NOT_EXIST:"Ngi dng khng tn ti",EMAIL_NOT_EXIST:"Email khng tn ti"},yB=e=>{if(!e)return yt.LOGIN_FAILED;const t=e.toLowerCase().trim();if(t.includes("password")&&(t.includes("incorrect")||t.includes("not correct")||t.includes("wrong")||t.includes("invalid")||t.includes("is not correct")))return yt.PASSWORD_INCORRECT;if(t.includes("not exist")||t.includes("does not exist")||t.includes("not found")||t.includes("doesn't exist")){if(t.includes("email")||t.includes("user with"))return yt.EMAIL_NOT_EXIST;if(t.includes("user"))return yt.USER_NOT_EXIST}return t.includes("user with")&&t.includes("is not exist")?yt.EMAIL_NOT_EXIST:t.includes("user")&&(t.includes("not exist")||t.includes("not found"))||t.startsWith("user")&&t.includes("not")?yt.USER_NOT_EXIST:t.includes("email")&&(t.includes("not exist")||t.includes("not found"))?yt.EMAIL_NOT_EXIST:e},Po={EMAIL_LABEL:"Email qun tr",EMAIL_PLACEHOLDER:"example@domain.com",EMAIL_DESCRIPTION:"Email phi cha @",PASSWORD_LABEL:"Mt khu",PASSWORD_PLACEHOLDER:"Ti thiu 6 k t v 1 k t c bit",PASSWORD_DESCRIPTION:"Mt khu phi c t nht 6 k t v cha t nht 1 k t c bit"},ie={SUCCESS:"Thnh cng",ERROR:"C li xy ra",INFO:"Thng bo"},Yr={FETCH_SUCCESS:"Ti danh sch bo co thnh cng.",FETCH_ERROR:"Khng th ti danh sch bo co. Vui lng th li.",UPDATE_SUCCESS:"Cp nht trng thi bo co thnh cng.",UPDATE_ERROR:"Khng th cp nht trng thi bo co. Vui lng th li.",STATUS_PENDING:"ang ch duyt",STATUS_IN_REVIEW:"ang xem phin",STATUS_RESOLVED:" x l",STATUS_ACTION_TAKEN:" thc thi",STATUS_REJECTED:"T chi"},wa={Pending:Yr.STATUS_PENDING,InReview:Yr.STATUS_IN_REVIEW,Resolved:Yr.STATUS_RESOLVED,ActionTaken:Yr.STATUS_ACTION_TAKEN,Rejected:Yr.STATUS_REJECTED},Ux={FETCH_SUCCESS:"Ti danh sch ngi dng thnh cng.",FETCH_ERROR:"Khng th ti danh sch ngi dng. Vui lng th li.",BLOCK_PLACEHOLDER:"Tm thi ch i trng thi hin th, chc nng kha ti khon s sm hon tt."},Ai={FETCH_SUCCESS:"Ti danh sch ti khon thnh cng.",FETCH_ERROR:"Khng th ti danh sch ti khon. Vui lng th li.",APPROVE_SUCCESS:"Duyt ti khon thnh cng.",APPROVE_ERROR:"Khng th duyt ti khon. Vui lng th li.",REJECT_SUCCESS:"T chi ti khon thnh cng.",REJECT_ERROR:"Khng th t chi ti khon. Vui lng th li.",STATUS_UPDATE_SUCCESS:"Cp nht trng thi ti khon thnh cng.",STATUS_UPDATE_ERROR:"Khng th cp nht trng thi ti khon. Vui lng th li."},Ti={FETCH_SUCCESS:"Ti danh sch chng ch thnh cng.",FETCH_ERROR:"Khng th ti danh sch chng ch. Vui lng th li.",APPROVE_SUCCESS:"Duyt chng ch thnh cng.",APPROVE_ERROR:"Khng th duyt chng ch. Vui lng th li.",REJECT_SUCCESS:"T chi chng ch thnh cng.",REJECT_ERROR:"Khng th t chi chng ch. Vui lng th li."},yl={FETCH_SUCCESS:"Ti danh sch nng tri thnh cng.",FETCH_ERROR:"Khng th ti danh sch nng tri. Vui lng th li.",CROP_COUNT_ERROR:"Khng th ti s lng l trng cho mt s nng tri."},Vh={FETCH_SUCCESS:"Ti danh sch v trng thnh cng.",FETCH_ERROR:"Khng th ti danh sch v trng. Vui lng th li.",FARM_FETCH_ERROR:"Khng th ti danh sch nng tri  lc.",NO_FARM_SELECTED:"Cha c nng tri  ti d liu v trng.",PARTIAL_ERROR:"Khng th ti d liu v trng cho mt s nng tri."},zx={FETCH_SUCCESS:"Ti danh sch thu hoch thnh cng.",FETCH_ERROR:"Khng th ti danh sch thu hoch. Vui lng th li."},ft={FETCH_SUCCESS:"Ti danh sch phin u gi thnh cng.",FETCH_ERROR:"Khng th ti danh sch phin u gi. Vui lng th li.",STATUS_UPDATE_SUCCESS:"Cp nht trng thi phin u gi thnh cng.",STATUS_UPDATE_ERROR:"Khng th cp nht trng thi phin u gi.",PAUSE_SUCCESS:"Tm dng phin u gi thnh cng.",PAUSE_ERROR:"Khng th tm dng phin u gi.",RESUME_SUCCESS:"Tip tc phin u gi thnh cng.",RESUME_ERROR:"Khng th tip tc phin u gi."},pa={FETCH_SUCCESS:"Ti danh sch loi mng cu thnh cng.",FETCH_ERROR:"Khng th ti danh sch loi mng cu. Vui lng th li.",CREATE_SUCCESS:"Thm loi mng cu mi thnh cng.",CREATE_ERROR:"Khng th to loi mng cu. Vui lng th li.",UPDATE_SUCCESS:"Cp nht loi mng cu thnh cng.",UPDATE_ERROR:"Khng th cp nht loi mng cu. Vui lng th li.",DELETE_SUCCESS:"Xa loi mng cu thnh cng.",DELETE_ERROR:"Khng th xa loi mng cu. Vui lng th li."},ib="https://gateway.a-379.store",De={auth:{login:"/api/auth/login",register:"/api/auth/register",me:"/api/auth/me",refresh:"/api/auth/refresh"},role:{list:"/api/role",create:"/api/role",update:e=>`/api/role/${e}`,delete:e=>`/api/role/${e}`,detail:e=>`/api/role/${e}`},roleClaim:{list:"/api/roleclaim",create:"/api/roleclaim",update:e=>`/api/roleclaim/${e}`,delete:e=>`/api/roleclaim/${e}`,detail:e=>`/api/roleclaim/${e}`},users:{list:"/api/users",detail:e=>`/api/users/${e}`,updateStatus:e=>`/api/users/${e}/status`},orders:{list:"/orders"},products:{list:"/products"},approval:{pending:"/approval/pending",approved:"/approval/approved",rejected:"/approval/rejected",approve:"/approval/approve",reject:"/approval/reject",detail:e=>`/approval/${e}`},farm:{list:"/api/farm-service/farm",delete:e=>`/api/farm-service/farm/${encodeURIComponent(e)}`,cropByFarm:e=>`/api/farm-service/farm/${encodeURIComponent(e)}/crop`,custardAppleType:{list:"/api/farm-service/custardappletype",create:"/api/farm-service/custardappletype",detail:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`,update:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`,delete:e=>`/api/farm-service/custardappletype/${encodeURIComponent(e)}`},harvest:{list:"/api/farm-service/harvest",detail:e=>`/api/farm-service/harvest/${encodeURIComponent(e)}`,byCrop:e=>`/api/farm-service/crop/${encodeURIComponent(e)}/harvest`,currentByCrop:e=>`/api/farm-service/crop/${encodeURIComponent(e)}/currentharvest`,images:e=>`/api/farm-service/harvestimage/harvest/${encodeURIComponent(e)}/images`,gradeDetail:{list:"/api/farm-service/harvestgradedetail",detail:e=>`/api/farm-service/harvestgradedetail/${encodeURIComponent(e)}`,byHarvest:e=>`/api/farm-service/harvest/${encodeURIComponent(e)}/gradedetail`}}},auction:{englishAuction:{list:"/api/auction-service/englishauction",detail:e=>`/api/auction-service/englishauction/${e}`,harvestsBySession:e=>`/api/auction-service/auctionsession/${e}/harvest`,pause:"/api/auction-service/englishauction/pause",resume:"/api/auction-service/englishauction/resume"},bid:{byAuction:e=>`/api/auction-service/bid/auction/${encodeURIComponent(e)}`},bidLog:{byAuction:e=>`/api/auction-service/bidlog/auction/${encodeURIComponent(e)}`},auctionLog:{byAuction:e=>`/api/auction-service/auctionlog/auction/${e}`,byType:e=>`/api/auction-service/auctionlog/type/${e}`},auctionExtend:{list:"/api/auction-service/auctionextend",byAuction:e=>`/api/auction-service/auctionextend/auction/${encodeURIComponent(e)}`},auctionPause:{byAuction:e=>`/api/auction-service/auctionpause/auction/${encodeURIComponent(e)}`}},report:{list:"/api/auction-service/report",detail:e=>`/api/auction-service/report/${encodeURIComponent(e)}`,byAuction:e=>`/api/auction-service/report/auction/${e}`},post:{list:"/api/post-service/post",detail:e=>`/api/post-service/post/${encodeURIComponent(e)}`,updateStatus:e=>`/api/post-service/post/${encodeURIComponent(e)}/status`},wallet:{list:"/api/payment-service/wallet",system:"/api/payment-service/wallet/system",detail:e=>`/api/payment-service/wallet/${e}`,byUser:e=>`/api/payment-service/wallet/user/${e}`},ledger:{list:"/api/payment-service/ledger",byWallet:e=>`/api/payment-service/ledger/wallet/${e}`,byTransaction:e=>`/api/payment-service/ledger/transaction/${e}`,create:"/api/payment-service/ledger"},transaction:{list:"/api/payment-service/transaction",detail:e=>`/api/payment-service/transaction/${e}`,byWallet:e=>`/api/payment-service/transaction/wallet/${e}`},withdrawRequest:{list:"/api/payment-service/withdrawrequest",detail:e=>`/api/payment-service/withdrawrequest/${e}`,byUser:e=>`/api/payment-service/withdrawrequest/user/${e}`,myRequests:"/api/payment-service/withdrawrequest/my-requests",create:"/api/payment-service/withdrawrequest",approve:e=>`/api/payment-service/withdrawrequest/${e}/approve`,reject:e=>`/api/payment-service/withdrawrequest/${e}/reject`,complete:e=>`/api/payment-service/withdrawrequest/${e}/complete`},userBankAccount:{detail:e=>`/api/payment-service/userbankaccount/${e}`},bank:{list:"/api/payment-service/bank"},certification:{pending:"/api/certification/pending",detail:e=>`/api/certification/${e}`,approve:e=>`/api/certification/${e}/approve`,byUser:e=>`/api/certification/user/${e}`},statistics:{systemProfit:"/api/payment-service/statistics/system-profit",systemProfitCurrentMonth:"/api/payment-service/statistics/system-profit/current-month",systemProfitCurrentYear:"/api/payment-service/statistics/system-profit/current-year"},dispute:{list:"/api/payment-service/dispute",pending:"/api/payment-service/dispute/pending",detail:e=>`/api/payment-service/dispute/${e}`,updateStatus:e=>`/api/payment-service/dispute/${e}/status`,createResolve:"/api/payment-service/dispute/resolve",resolveByDisputeId:e=>`/api/payment-service/dispute/resolve/dispute/${e}`},escrow:{detail:e=>`/api/payment-service/escrow/${e}`,byAuction:e=>`/api/payment-service/escrow/auction/${e}`,byBuyRequest:e=>`/api/payment-service/escrow/buyrequest/${e}`},notification:{byUserId:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}`,unreadCountByUserId:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}/unread-count`,markAsRead:e=>`/api/messaging-service/Notifications/${encodeURIComponent(e)}/read`,markAllAsRead:e=>`/api/messaging-service/Notifications/user/${encodeURIComponent(e)}/read-all`},policy:{categories:{list:"/api/policy/categories",detail:e=>`/api/policy/categories/${e}`,create:"/api/policy/categories",update:e=>`/api/policy/categories/${e}`,delete:e=>`/api/policy/categories/${e}`,items:e=>`/api/policy/categories/${e}/items`},items:{list:"/api/policy/items",detail:e=>`/api/policy/items/${e}`,create:"/api/policy/items",update:e=>`/api/policy/items/${e}`,delete:e=>`/api/policy/items/${e}`}}};class bB{cache=new Map;pendingRequests=new Map;defaultTTL=300*1e3;maxCacheSize=100;cleanupInterval=null;CLEANUP_INTERVAL=60*1e3;PENDING_TIMEOUT=30*1e3;constructor(){typeof window<"u"&&this.startCleanup()}startCleanup(){this.cleanupInterval||(this.cleanupInterval=window.setInterval(()=>{this.removeExpired(),this.cleanupPending()},this.CLEANUP_INTERVAL))}removeExpired(){const t=Date.now(),n=[];for(const[r,s]of this.cache.entries())s.expiresAt<t&&n.push(r);n.forEach(r=>this.cache.delete(r))}cleanupPending(){const t=Date.now(),n=[];for(const[r,s]of this.pendingRequests.entries())t-s.timestamp>this.PENDING_TIMEOUT&&n.push(r);n.forEach(r=>this.pendingRequests.delete(r))}evictOldest(){if(this.cache.size<this.maxCacheSize)return;let t=null,n=1/0;for(const[r,s]of this.cache.entries())s.timestamp<n&&(n=s.timestamp,t=r);t&&this.cache.delete(t)}generateKey(t,n,r){const s=r?JSON.stringify(r):"";return`${n}:${t}:${s}`}get(t){const n=this.cache.get(t);if(!n)return null;const r=Date.now();return n.expiresAt<r?(this.cache.delete(t),null):n.data}set(t,n,r=this.defaultTTL){this.evictOldest();const s=Date.now();this.cache.set(t,{data:n,timestamp:s,expiresAt:s+r})}getPending(t){const n=this.pendingRequests.get(t);return n?Date.now()-n.timestamp>this.PENDING_TIMEOUT?(this.pendingRequests.delete(t),null):n.promise:null}setPending(t,n){this.pendingRequests.set(t,{promise:n,timestamp:Date.now()}),n.finally(()=>{this.pendingRequests.delete(t)})}invalidate(t){if(!t){this.cache.clear();return}const n=[];for(const r of this.cache.keys())r.includes(t)&&n.push(r);n.forEach(r=>this.cache.delete(r))}clear(){this.cache.clear(),this.pendingRequests.clear()}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null),this.clear()}getStats(){return{cacheSize:this.cache.size,pendingSize:this.pendingRequests.size,maxCacheSize:this.maxCacheSize}}}const Qa=new bB;let Dm=class{baseURL;defaultTimeout=3e4;defaultRetries=2;defaultRetryDelay=1e3;isRefreshing=!1;refreshPromise=null;constructor(t){this.baseURL=t}async refreshTokenIfNeeded(){if(this.isRefreshing&&this.refreshPromise)return this.refreshPromise;this.isRefreshing=!0,this.refreshPromise=this.performRefresh();try{return await this.refreshPromise}finally{this.isRefreshing=!1,this.refreshPromise=null}}async performRefresh(){try{const{adminAuthService:t}=await xB(async()=>{const{adminAuthService:n}=await Promise.resolve().then(()=>jB);return{adminAuthService:n}},[]);return await t.refreshToken()}catch(t){return console.error("Error in performRefresh:",t),null}}buildUrl(t,n){const r=new URL(`${this.baseURL}${t}`);return n&&Object.entries(n).forEach(([s,o])=>{o!=null&&r.searchParams.append(s,String(o))}),r.toString()}async fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r);try{const u=await fetch(t,{...n,signal:s.signal});return clearTimeout(o),u}catch(u){throw clearTimeout(o),u instanceof Error&&u.name==="AbortError"?{message:"Request timeout",status:408,errors:["The request took too long to complete"]}:u}}async sleep(t){return new Promise(n=>setTimeout(n,t))}isRetryableError(t){return t===0||t===408||t===429||t>=500}parseErrorResponse(t,n){const r=t;if(r.errors&&typeof r.errors=="object"&&!Array.isArray(r.errors)){const s=r,o=[];return s.errors&&Object.entries(s.errors).forEach(([u,d])=>{o.push(...d.map(f=>`${u}: ${f}`))}),{message:s.title||"Validation error",status:n,errors:o}}return{message:r.message||"API request failed",status:n,errors:Array.isArray(r.errors)?r.errors:[]}}async request(t,n={}){const{method:r="GET",headers:s={},body:o,timeout:u=this.defaultTimeout,retries:d=this.defaultRetries,retryDelay:f=this.defaultRetryDelay,params:m}=n,g=this.buildUrl(t,m),x=localStorage.getItem("authToken"),b={"Content-Type":"application/json",...s,...x&&{Authorization:`Bearer ${x}`}},j={method:r,headers:b};o!==void 0&&(o instanceof FormData?(delete j.headers["Content-Type"],j.body=o):j.body=JSON.stringify(o));let S=null,w=!1;for(let N=0;N<=d;N++)try{const E=await this.fetchWithTimeout(g,j,u);let A;const T=E.headers.get("content-type");try{T&&T.includes("application/json")?A=await E.json():A={isSuccess:E.ok,statusCode:E.status,message:E.ok?"Success":"Request failed",data:void 0}}catch{A={isSuccess:E.ok,statusCode:E.status,message:E.ok?"Success":"Request failed",data:void 0}}if(!E.ok){if(E.status===401&&!w){w=!0;const O=await this.refreshTokenIfNeeded();if(O){b.Authorization=`Bearer ${O}`,j.headers=b;continue}try{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),typeof window<"u"&&window.location.replace("/auth/login")}catch{}}const _=this.parseErrorResponse(A,E.status);if(this.isRetryableError(E.status)&&N<d){S=_,await this.sleep(f*Math.pow(2,N));continue}throw _}if(A.isSuccess!==void 0){if(!A.isSuccess)throw this.parseErrorResponse(A,E.status);return A}return{isSuccess:!0,statusCode:E.status,message:"Success",data:A}}catch(E){if(E&&typeof E=="object"&&"status"in E){const T=E;if(T.status===401&&!w){w=!0;const _=await this.refreshTokenIfNeeded();if(_){b.Authorization=`Bearer ${_}`,j.headers=b;continue}try{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),typeof window<"u"&&window.location.replace("/auth/login")}catch{}}if(this.isRetryableError(T.status)&&N<d){S=T,await this.sleep(f*Math.pow(2,N));continue}throw T}const A={message:E instanceof Error?E.message:"Network error occurred",status:0,errors:["Unable to connect to server"]};if(N<d){S=A,await this.sleep(f*Math.pow(2,N));continue}throw A}throw S||{message:"Request failed after multiple attempts",status:0,errors:["Maximum retry attempts exceeded"]}}async get(t,n={}){const{cache:r=!0,cacheTTL:s,params:o}=n;if(r){const u=o?JSON.stringify(o,Object.keys(o).sort()):"",d=Qa.generateKey(`${t}${u}`,"GET"),f=Qa.get(d);if(f)return f;const m=Qa.getPending(d);if(m)return m;const g=this.request(t,{method:"GET",params:o});Qa.setPending(d,g);try{const x=await g;return Qa.set(d,x,s),x}catch(x){throw x}}return this.request(t,{method:"GET",params:o})}async post(t,n,r={}){const s=await this.request(t,{method:"POST",body:n});return r.invalidateCache&&Qa.invalidate(r.invalidateCache),s}async put(t,n,r={}){const{invalidateCache:s,params:o}=r,u=await this.request(t,{method:"PUT",body:n,params:o});return s&&Qa.invalidate(s),u}async patch(t,n,r={}){const s=await this.request(t,{method:"PATCH",body:n});return r.invalidateCache&&Qa.invalidate(r.invalidateCache),s}async delete(t,n={}){const r=await this.request(t,{method:"DELETE"});return n.invalidateCache&&Qa.invalidate(n.invalidateCache),r}clearCache(t){Qa.invalidate(t)}};const nt=new Dm(ib);class aR{async login(t){try{const n=await nt.post(De.auth.login,{email:t.email,password:t.password});if(n.isSuccess&&n.data){localStorage.setItem("authToken",n.data.token.accessToken),localStorage.setItem("refreshToken",n.data.token.refreshToken),localStorage.setItem("currentUser",JSON.stringify(n.data.user));const s=this.transformApiUserToAppUser(n.data.user);try{const o=n.data.token.accessToken.split(".")[1];if(JSON.parse(atob(o)).role!=="admin")throw this.clearLocalStorage(),new Error(yt.NOT_ADMIN_DETAIL)}catch{throw this.clearLocalStorage(),new Error(yt.CANNOT_VALIDATE_ADMIN)}return{user:s,token:n.data.token.accessToken}}let r=yt.LOGIN_FAILED;throw n.errors&&n.errors.length>0?r=n.errors.map(o=>this.translateError(o)).join(". "):n.message&&(r=this.translateError(n.message)),new Error(r)}catch(n){if(n&&typeof n=="object"&&"status"in n){const r=n;let s=yt.LOGIN_FAILED;throw r.errors&&r.errors.length>0?s=r.errors.map(u=>this.translateError(u)).join(". "):r.message&&(s=this.translateError(r.message)),new Error(s)}if(n instanceof Error){const r=this.translateError(n.message);throw new Error(r)}throw new Error(yt.LOGIN_FAILED)}}async refreshToken(){try{const t=localStorage.getItem("refreshToken");if(!t)return this.clearLocalStorage(),null;const n=await nt.post(De.auth.refresh,{refreshToken:t});return n.isSuccess&&n.data?(localStorage.setItem("authToken",n.data.accessToken),localStorage.setItem("refreshToken",n.data.refreshToken),n.data.accessToken):(this.clearLocalStorage(),null)}catch(t){return console.error("Error refreshing token:",t),this.clearLocalStorage(),null}}isAdmin(t){return t?.role==="admin"}isCurrentUserAdmin(){return this.isAdmin(this.getStoredUser())}async logout(){this.clearLocalStorage()}getCurrentAdmin(){const t=this.getStoredUser();return this.isAdmin(t)?t:null}getStoredUser(){const t=localStorage.getItem("currentUser");if(t)try{const n=JSON.parse(t);return this.transformApiUserToAppUser(n)}catch{this.clearLocalStorage()}return null}transformApiUserToAppUser(t){return{id:t.id,name:`${t.firstName} ${t.lastName}`.trim(),email:t.email,phone:t.phoneNumber??void 0,role:"admin",address:{provinceId:"",provinceName:t.province,districtId:"",districtName:t.communes,detailAddress:t.address},createdAt:new Date(t.createdAt)}}clearLocalStorage(){localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser")}translateError(t){return yB(t)}}const Uu=new aR,jB=Object.freeze(Object.defineProperty({__proto__:null,AdminAuthService:aR,adminAuthService:Uu},Symbol.toStringTag,{value:"Module"})),et={HOME:"/",ADMIN_LOGIN:"/auth/login",ADMIN_DASHBOARD:"/admin",ADMIN_USERS:"/admin/users",ADMIN_APPROVAL:"/admin/approval",ADMIN_FARMS:"/admin/farms",ADMIN_FARM_PROFILE:"/admin/farms/:farmId/profile",ADMIN_CROPS:"/admin/crops",ADMIN_CATEGORIES:"/admin/categories",ADMIN_HARVESTS:"/admin/harvests",ADMIN_AUCTIONS:"/admin/auctions",ADMIN_AUCTIONS_BY_ID:"/admin/auctions/:id",ADMIN_AUCTIONS_BY_ID_ACTIVITY_HISTORY:"/admin/auctions/:id/activity-history",ADMIN_AUCTIONS_BY_ID_BID_HISTORY:"/admin/auctions/:id/bid-history",ADMIN_AUCTIONS_BY_ID_WINNER:"/admin/auctions/:id/winner",ADMIN_AUCTIONS_BY_ID_REPORTS:"/admin/auctions/:id/reports",ADMIN_ORDERS:"/admin/orders",ADMIN_REPORTS:"/admin/reports",ADMIN_PRODUCTS:"/admin/products",ADMIN_SHIPPERS:"/admin/shippers",ADMIN_WALLET:"/admin/wallet",ADMIN_DISPUTES:"/admin/disputes",ADMIN_POLICY:"/admin/policy",FARMER_DASHBOARD:"/farmer/dashboard",FARMER_FARMS:"/farmer/farms",FARMER_CROPS:"/farmer/crops",FARMER_AUCTIONS:"/farmer/auctions",FARMER_AUCTIONS_CREATE:"/farmer/auctions/create",FARMER_INCOME:"/farmer/income",FARMER_CONTRACTS:"/farmer/contracts",WHOLESALER_DASHBOARD:"/wholesaler/dashboard"};function wB(){const[e,t]=p.useState([]),n=p.useCallback(({title:s,description:o,variant:u="default"})=>{const d=Math.random().toString(36).substr(2,9),f={id:d,title:s,description:o,variant:u};t(m=>[...m,f]),setTimeout(()=>{t(m=>m.filter(g=>g.id!==d))},5e3),u==="destructive"?console.error(`${s}: ${o}`):console.log(`${s}: ${o}`)},[]),r=p.useCallback(s=>{t(o=>o.filter(u=>u.id!==s))},[]);return{toast:n,dismiss:r,toasts:e}}function iR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=iR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=iR(e))&&(r&&(r+=" "),r+=t);return r}const sb="-",NB=e=>{const t=EB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const d=u.split(sb);return d[0]===""&&d.length!==1&&d.shift(),sR(d,t)||SB(u)},getConflictingClassGroupIds:(u,d)=>{const f=n[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},sR=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?sR(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(sb);return t.validators.find(({validator:u})=>u(o))?.classGroupId},BE=/^\[(.+)\]$/,SB=e=>{if(BE.test(e)){const t=BE.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},EB=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Kv(n[s],r,s,t);return r},Kv=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:$E(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(CB(s)){Kv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,u])=>{Kv(u,$E(t,o),n,r)})})},$E=(e,t)=>{let n=e;return t.split(sb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CB=e=>e.isThemeGetter,AB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,u)=>{n.set(o,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let u=n.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return s(o,u),u},set(o,u){n.has(o)?n.set(o,u):s(o,u)}}},Gv="!",Vv=":",TB=Vv.length,_B=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let u=0,d=0,f=0,m;for(let S=0;S<s.length;S++){let w=s[S];if(u===0&&d===0){if(w===Vv){o.push(s.slice(f,S)),f=S+TB;continue}if(w==="/"){m=S;continue}}w==="["?u++:w==="]"?u--:w==="("?d++:w===")"&&d--}const g=o.length===0?s:s.substring(f),x=RB(g),b=x!==g,j=m&&m>f?m-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:j}};if(t){const s=t+Vv,o=r;r=u=>u.startsWith(s)?o(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},RB=e=>e.endsWith(Gv)?e.substring(0,e.length-1):e.startsWith(Gv)?e.substring(1):e,OB=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(u=>{u[0]==="["||t[u]?(s.push(...o.sort(),u),o=[]):o.push(u)}),s.push(...o.sort()),s}},kB=e=>({cache:AB(e.cacheSize),parseClassName:_B(e),sortModifiers:OB(e),...NB(e)}),DB=/\s+/,PB=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,u=[],d=e.trim().split(DB);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:x,modifiers:b,hasImportantModifier:j,baseClassName:S,maybePostfixModifierPosition:w}=n(g);if(x){f=g+(f.length>0?" "+f:f);continue}let N=!!w,E=r(N?S.substring(0,w):S);if(!E){if(!N){f=g+(f.length>0?" "+f:f);continue}if(E=r(S),!E){f=g+(f.length>0?" "+f:f);continue}N=!1}const A=o(b).join(":"),T=j?A+Gv:A,_=T+E;if(u.includes(_))continue;u.push(_);const O=s(E,N);for(let k=0;k<O.length;++k){const R=O[k];u.push(T+R)}f=g+(f.length>0?" "+f:f)}return f};function MB(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=lR(t))&&(r&&(r+=" "),r+=n);return r}const lR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lR(e[r]))&&(n&&(n+=" "),n+=t);return n};function IB(e,...t){let n,r,s,o=u;function u(f){const m=t.reduce((g,x)=>x(g),e());return n=kB(m),r=n.cache.get,s=n.cache.set,o=d,d(f)}function d(f){const m=r(f);if(m)return m;const g=PB(f,n);return s(f,g),g}return function(){return o(MB.apply(null,arguments))}}const Ln=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},oR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LB=/^\d+\/\d+$/,BB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$B=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=e=>LB.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),As=e=>!!e&&Number.isInteger(Number(e)),Hx=e=>e.endsWith("%")&&ht(e.slice(0,-1)),_i=e=>BB.test(e),qB=()=>!0,FB=e=>$B.test(e)&&!UB.test(e),uR=()=>!1,KB=e=>zB.test(e),GB=e=>HB.test(e),VB=e=>!ze(e)&&!He(e),WB=e=>dc(e,fR,uR),ze=e=>oR.test(e),gl=e=>dc(e,mR,FB),qx=e=>dc(e,JB,ht),UE=e=>dc(e,dR,uR),YB=e=>dc(e,hR,GB),Wh=e=>dc(e,gR,KB),He=e=>cR.test(e),vu=e=>hc(e,mR),XB=e=>hc(e,e$),zE=e=>hc(e,dR),QB=e=>hc(e,fR),ZB=e=>hc(e,hR),Yh=e=>hc(e,gR,!0),dc=(e,t,n)=>{const r=oR.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},hc=(e,t,n=!1)=>{const r=cR.exec(e);return r?r[1]?t(r[1]):n:!1},dR=e=>e==="position"||e==="percentage",hR=e=>e==="image"||e==="url",fR=e=>e==="length"||e==="size"||e==="bg-size",mR=e=>e==="length",JB=e=>e==="number",e$=e=>e==="family-name",gR=e=>e==="shadow",t$=()=>{const e=Ln("color"),t=Ln("font"),n=Ln("text"),r=Ln("font-weight"),s=Ln("tracking"),o=Ln("leading"),u=Ln("breakpoint"),d=Ln("container"),f=Ln("spacing"),m=Ln("radius"),g=Ln("shadow"),x=Ln("inset-shadow"),b=Ln("text-shadow"),j=Ln("drop-shadow"),S=Ln("blur"),w=Ln("perspective"),N=Ln("aspect"),E=Ln("ease"),A=Ln("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[..._(),He,ze],k=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],P=()=>[He,ze,f],F=()=>[Mo,"full","auto",...P()],re=()=>[As,"none","subgrid",He,ze],L=()=>["auto",{span:["full",As,He,ze]},As,He,ze],G=()=>[As,"auto",He,ze],J=()=>["auto","min","max","fr",He,ze],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...P()],U=()=>[Mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],V=()=>[e,He,ze],pe=()=>[..._(),zE,UE,{position:[He,ze]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",QB,WB,{size:[He,ze]}],K=()=>[Hx,vu,gl],le=()=>["","none","full",m,He,ze],Y=()=>["",ht,vu,gl],se=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[ht,Hx,zE,UE],q=()=>["","none",S,He,ze],H=()=>["none",ht,He,ze],I=()=>["none",ht,He,ze],ee=()=>[ht,He,ze],z=()=>[Mo,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_i],breakpoint:[_i],color:[qB],container:[_i],"drop-shadow":[_i],ease:["in","out","in-out"],font:[VB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_i],shadow:[_i],spacing:["px",ht],text:[_i],"text-shadow":[_i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mo,ze,He,N]}],container:["container"],columns:[{columns:[ht,ze,He,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[As,"auto",He,ze]}],basis:[{basis:[Mo,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,Mo,"auto","initial","none",ze]}],grow:[{grow:["",ht,He,ze]}],shrink:[{shrink:["",ht,He,ze]}],order:[{order:[As,"first","last","none",He,ze]}],"grid-cols":[{"grid-cols":re()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":re()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[d,"screen",...U()]}],"min-w":[{"min-w":[d,"screen","none",...U()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,vu,gl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,He,qx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hx,ze]}],"font-family":[{font:[XB,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,He,ze]}],"line-clamp":[{"line-clamp":[ht,"none",He,qx]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",He,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",He,gl]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[ht,"auto",He,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},As,He,ze],radial:["",He,ze],conic:[As,He,ze]},ZB,YB]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,He,ze]}],"outline-w":[{outline:["",ht,vu,gl]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",g,Yh,Wh]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",x,Yh,Wh]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[ht,gl]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",b,Yh,Wh]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[ht,He,ze]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[He,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,ze]}],filter:[{filter:["","none",He,ze]}],blur:[{blur:q()}],brightness:[{brightness:[ht,He,ze]}],contrast:[{contrast:[ht,He,ze]}],"drop-shadow":[{"drop-shadow":["","none",j,Yh,Wh]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",ht,He,ze]}],"hue-rotate":[{"hue-rotate":[ht,He,ze]}],invert:[{invert:["",ht,He,ze]}],saturate:[{saturate:[ht,He,ze]}],sepia:[{sepia:["",ht,He,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",He,ze]}],"backdrop-blur":[{"backdrop-blur":q()}],"backdrop-brightness":[{"backdrop-brightness":[ht,He,ze]}],"backdrop-contrast":[{"backdrop-contrast":[ht,He,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,He,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,He,ze]}],"backdrop-invert":[{"backdrop-invert":["",ht,He,ze]}],"backdrop-opacity":[{"backdrop-opacity":[ht,He,ze]}],"backdrop-saturate":[{"backdrop-saturate":[ht,He,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,He,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",He,ze]}],ease:[{ease:["linear","initial",E,He,ze]}],delay:[{delay:[ht,He,ze]}],animate:[{animate:["none",A,He,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,He,ze]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:H()}],"rotate-x":[{"rotate-x":H()}],"rotate-y":[{"rotate-y":H()}],"rotate-z":[{"rotate-z":H()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[He,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,ze]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[ht,vu,gl,qx]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},n$=IB(t$);function _t(...e){return n$(jt(e))}const r$=({toasts:e,dismiss:t})=>{const n={default:"border-emerald-200 bg-emerald-50/90 text-emerald-800 shadow-[0_15px_35px_rgba(16,185,129,0.2)]",success:"border-emerald-200 bg-emerald-50/90 text-emerald-800 shadow-[0_15px_35px_rgba(16,185,129,0.2)]",destructive:"border-rose-200 bg-rose-50/90 text-rose-700 shadow-[0_15px_35px_rgba(244,63,94,0.2)]",info:"border-sky-200 bg-sky-50/90 text-sky-800 shadow-[0_15px_35px_rgba(14,165,233,0.18)]"};return a.jsx("div",{className:"pointer-events-none fixed right-6 top-6 z-[60] flex flex-col gap-4",children:e.map(r=>a.jsxs("button",{type:"button",onClick:()=>t(r.id),className:_t("pointer-events-auto w-full min-w-[280px] max-w-sm rounded-2xl border px-5 py-4 text-left","text-sm font-medium transition-all duration-300","shadow-[0_12px_30px_rgba(15,23,42,0.12)] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/40",n[r.variant??"default"]),"aria-live":"assertive",children:[a.jsx("div",{className:"text-base font-semibold",children:r.title}),r.description&&a.jsx("div",{className:"mt-1 text-sm opacity-80",children:r.description})]},r.id))})},a$={toast:({title:e,description:t})=>{console.warn("[ToastProvider] Provider cha c khi to. Message:",e,t)},dismiss:()=>{},toasts:[]},pR=p.createContext(void 0);function i$({children:e}){const t=wB();return a.jsxs(pR.Provider,{value:t,children:[e,a.jsx(r$,{toasts:t.toasts,dismiss:t.dismiss})]})}function $n(){return p.useContext(pR)??a$}function HE(...e){return e.filter(Boolean).join(" ")}const s$=[{icon:_L,label:"Bng iu khin",path:"/admin"},{icon:$u,label:"Ngi dng",path:"/admin/users"},{icon:Q_,label:"Xt duyt",path:"/admin/approval"},{icon:rR,label:"Phn loi",path:"/admin/categories"},{icon:dB,label:"Nng tri",path:"/admin/farms"},{icon:Lu,label:"L trng",path:"/admin/crops"},{icon:nR,label:"V trng",path:"/admin/harvests"},{icon:sB,label:"Phin u gi",path:"/admin/auctions"},{icon:J_,label:"Bo co",path:"/admin/reports"},{icon:qv,label:"Tranh chp",path:"/admin/disputes"},{icon:Mf,label:"V ca ti",path:"/admin/wallet"},{icon:Bi,label:"Chnh sch",path:"/admin/policy"}];function l$(){const e=mr(),{signOut:t}=Hs(),{toast:n}=$n(),r=async()=>{try{await Uu.logout(),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentUser"),n({title:ie.SUCCESS,description:ab.LOGOUT_SUCCESS})}catch{n({title:yt.LOGOUT_FAILED_TITLE,description:yt.LOGOUT_FAILED,variant:"destructive"})}finally{t(),e(et.ADMIN_LOGIN)}};return a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 h-screen flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:"/assets/logo.png",alt:"AgriMart Logo",className:"w-8 h-8 object-contain"}),a.jsx("span",{className:"font-semibold text-lg",children:"AgriMart Admin"})]})}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Bng iu khin"}),a.jsx("nav",{className:"space-y-1",children:s$.map(s=>a.jsxs(K_,{to:s.path,className:({isActive:o})=>HE("flex w-full items-center gap-3 h-10 rounded-md px-3 text-sm",o?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[a.jsx(s.icon,{className:"w-4 h-4"}),a.jsx("span",{children:s.label}),s.badge&&a.jsx("span",{className:"ml-auto bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded-full",children:s.badge})]},s.label))})]}),a.jsx("div",{children:a.jsx("nav",{className:"space-y-1",children:a.jsxs("button",{type:"button",onClick:r,className:HE("flex w-full items-center gap-3 h-10 rounded-md px-3 text-sm text-left","text-gray-700 hover:bg-gray-100"),children:[a.jsx(kL,{className:"w-4 h-4"}),a.jsx("span",{children:"ng xut"})]})})})]})]})}function lb(...e){return e.filter(Boolean).join(" ")}function o$({className:e,children:t,...n}){return a.jsx("div",{className:lb("relative inline-flex h-10 w-10 overflow-hidden rounded-full bg-gray-100",e),...n,children:t})}function c$({className:e,...t}){return a.jsx("img",{className:lb("h-full w-full object-cover",e),...t})}function u$({className:e,children:t,...n}){return a.jsx("span",{className:lb("flex h-full w-full items-center justify-center bg-gray-200 text-xs font-medium text-gray-600",e),...n,children:t})}const d$="/assets/admin-86irejDo-86irejDo.jpg",qE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FE=jt,h$=(e,t)=>n=>{var r;if(t?.variants==null)return FE(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,u=Object.keys(s).map(m=>{const g=n?.[m],x=o?.[m];if(g===null)return null;const b=qE(g)||qE(x);return s[m][b]}),d=n&&Object.entries(n).reduce((m,g)=>{let[x,b]=g;return b===void 0||(m[x]=b),m},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:x,className:b,...j}=g;return Object.entries(j).every(S=>{let[w,N]=S;return Array.isArray(N)?N.includes({...o,...d}[w]):{...o,...d}[w]===N})?[...m,x,b]:m},[]);return FE(e,u,f,n?.class,n?.className)},f$=h$("group relative inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-semibold tracking-tight ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 motion-safe:active:scale-[0.99]",{variants:{variant:{default:"border border-transparent bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-[0_12px_24px_rgba(15,23,42,0.18)] hover:shadow-[0_16px_32px_rgba(15,23,42,0.22)] hover:-translate-y-0.5",destructive:"border border-transparent bg-gradient-to-r from-rose-500 to-rose-600 text-white shadow-[0_12px_24px_rgba(15,23,42,0.18)] hover:shadow-[0_16px_32px_rgba(15,23,42,0.22)] hover:-translate-y-0.5",outline:"border border-emerald-100 bg-white text-emerald-700 shadow-[0_8px_20px_rgba(15,23,42,0.08)] hover:bg-emerald-50/60 hover:text-emerald-800",secondary:"border border-transparent bg-emerald-50/80 text-emerald-700 shadow-inner shadow-white/60 hover:bg-emerald-100/90",ghost:"text-emerald-700 hover:bg-emerald-50/70 hover:text-emerald-800",link:"text-emerald-600 underline-offset-4 hover:text-emerald-700 hover:underline",soft:"border border-emerald-100/60 bg-white/70 text-emerald-700 shadow-[inset_0_1px_0_rgba(255,255,255,0.6)] backdrop-blur-md hover:border-emerald-200 hover:bg-white"},size:{default:"h-11 px-5",sm:"h-9 rounded-xl px-4 text-xs",lg:"h-12 rounded-2xl px-8 text-base",icon:"h-11 w-11 rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}}),ce=p.forwardRef(({className:e,variant:t,size:n,isLoading:r=!1,leftIcon:s,rightIcon:o,children:u,disabled:d,...f},m)=>a.jsxs("button",{ref:m,className:_t(f$({variant:t,size:n,className:e})),disabled:d||r,"aria-busy":r,...f,children:[a.jsxs("span",{className:_t("flex items-center gap-2 transition-opacity",r&&"opacity-0"),children:[s&&a.jsx("span",{className:"text-base",children:s}),u,o&&a.jsx("span",{className:"text-base",children:o})]}),r&&a.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-b-transparent"})})]}));ce.displayName="Button";class Nl extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class ob extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class za extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class m$ extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class g$ extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class p$ extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class KE extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class x$ extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class xR{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class Pm{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var Ae;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(Ae||(Ae={}));class zu{constructor(){}log(t,n){}}zu.instance=new zu;const v$="10.0.0";class Dn{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class xn{static get isBrowser(){return!xn.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!xn.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!xn.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Hu(e,t){let n="";return kl(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${y$(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function y$(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const s=r<16?"0":"";n+=`0x${s}${r.toString(16)} `}),n.substring(0,n.length-1)}function kl(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function vR(e,t,n,r,s,o){const u={},[d,f]=Wo();u[d]=f,e.log(Ae.Trace,`(${t} transport) sending data. ${Hu(s,o.logMessageContent)}.`);const m=kl(s)?"arraybuffer":"text",g=await n.post(r,{content:s,headers:{...u,...o.headers},responseType:m,timeout:o.timeout,withCredentials:o.withCredentials});e.log(Ae.Trace,`(${t} transport) request complete. Response status: ${g.statusCode}.`)}function b$(e){return e===void 0?new If(Ae.Information):e===null?zu.instance:e.log!==void 0?e:new If(e)}class j${constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class If{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${Ae[t]}: ${n}`;switch(t){case Ae.Critical:case Ae.Error:this.out.error(r);break;case Ae.Warning:this.out.warn(r);break;case Ae.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Wo(){let e="X-SignalR-User-Agent";return xn.isNode&&(e="User-Agent"),[e,w$(v$,N$(),E$(),S$())]}function w$(e,t,n,r){let s="Microsoft SignalR/";const o=e.split(".");return s+=`${o[0]}.${o[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${n}`,r?s+=`; ${r}`:s+="; Unknown Runtime Version",s+=")",s}function N$(){if(xn.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function S$(){if(xn.isNode)return process.versions.node}function E$(){return xn.isNode?"NodeJS":"Browser"}function Fx(e){return e.stack?e.stack:e.message?e.message:`${e}`}function C$(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class A$ extends Pm{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||xn.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(C$());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new za;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new za});let s=null;if(t.timeout){const f=t.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(Ae.Warning,"Timeout from HTTP request."),r=new ob},f)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},kl(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(f){throw r||(this._logger.log(Ae.Warning,`Error from HTTP request. ${f}.`),f)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){const f=await GE(o,"text");throw new Nl(f||o.statusText,o.status)}const d=await GE(o,t.responseType);return new xR(o.status,o.statusText,d)}getCookieString(t){let n="";return xn.isNode&&this._jar&&this._jar.getCookies(t,(r,s)=>n=s.join("; ")),n}}function GE(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class T$ extends Pm{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new za):t.method?t.url?new Promise((n,r)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(kl(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(u=>{s.setRequestHeader(u,o[u])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),r(new za)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new xR(s.status,s.statusText,s.response||s.responseText)):r(new Nl(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(Ae.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),r(new Nl(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(Ae.Warning,"Timeout from HTTP request."),r(new ob)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class _$ extends Pm{constructor(t){if(super(),typeof fetch<"u"||xn.isNode)this._httpClient=new A$(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new T$(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new za):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class Qr{static write(t){return`${t}${Qr.RecordSeparator}`}static parse(t){if(t[t.length-1]!==Qr.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(Qr.RecordSeparator);return n.pop(),n}}Qr.RecordSeparatorCode=30;Qr.RecordSeparator=String.fromCharCode(Qr.RecordSeparatorCode);class R${writeHandshakeRequest(t){return Qr.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(kl(t)){const d=new Uint8Array(t),f=d.indexOf(Qr.RecordSeparatorCode);if(f===-1)throw new Error("Message is incomplete.");const m=f+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(d.slice(0,m))),r=d.byteLength>m?d.slice(m).buffer:null}else{const d=t,f=d.indexOf(Qr.RecordSeparator);if(f===-1)throw new Error("Message is incomplete.");const m=f+1;n=d.substring(0,m),r=d.length>m?d.substring(m):null}const s=Qr.parse(n),o=JSON.parse(s[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var ct;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(ct||(ct={}));class O${constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new j$(this,t)}}class k${constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},o=()=>{};kl(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((u,d)=>{s=u,o=d})),this._messages.push(new D$(n,this._totalMessageCount,s,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const s=this._messages[r];if(s._id<=t.sequenceId)n=r,kl(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==ct.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:ct.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case ct.Invocation:case ct.StreamItem:case ct.Completion:case ct.StreamInvocation:case ct.CancelInvocation:return!0;case ct.Close:case ct.Sequence:case ct.Ping:case ct.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:ct.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class D${constructor(t,n,r,s){this._message=t,this._id=n,this._resolver=r,this._rejector=s}}const P$=30*1e3,M$=15*1e3,I$=1e5;var Pt;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Pt||(Pt={}));class cb{static create(t,n,r,s,o,u,d){return new cb(t,n,r,s,o,u,d)}constructor(t,n,r,s,o,u,d){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Ae.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Dn.isRequired(t,"connection"),Dn.isRequired(n,"logger"),Dn.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??P$,this.keepAliveIntervalInMilliseconds=u??M$,this._statefulReconnectBufferSize=d??I$,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new R$,this.connection.onreceive=f=>this._processIncomingData(f),this.connection.onclose=f=>this._connectionClosed(f),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Pt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ct.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Pt.Disconnected&&this._connectionState!==Pt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Pt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Pt.Connecting,this._logger.log(Ae.Debug,"Starting HubConnection.");try{await this._startInternal(),xn.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Pt.Connected,this._connectionStarted=!0,this._logger.log(Ae.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=Pt.Disconnected,this._logger.log(Ae.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(Ae.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(Ae.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new k$(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(Ae.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===Pt.Disconnected)return this._logger.log(Ae.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Pt.Disconnecting)return this._logger.log(Ae.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Pt.Disconnecting,this._logger.log(Ae.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Ae.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Pt.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new za("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createStreamInvocation(t,n,s);let u;const d=new O$;return d.cancelCallback=()=>{const f=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],u.then(()=>this._sendWithProtocol(f))},this._callbacks[o.invocationId]=(f,m)=>{if(m){d.error(m);return}else f&&(f.type===ct.Completion?f.error?d.error(new Error(f.error)):d.complete():d.next(f.item))},u=this._sendWithProtocol(o).catch(f=>{d.error(f),delete this._callbacks[o.invocationId]}),this._launchStreams(r,u),d}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(t,n,!0,s));return this._launchStreams(r,o),o}invoke(t,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createInvocation(t,n,!1,s);return new Promise((d,f)=>{this._callbacks[o.invocationId]=(g,x)=>{if(x){f(x);return}else g&&(g.type===ct.Completion?g.error?f(new Error(g.error)):d(g.result):f(new Error(`Unexpected message type: ${g.type}`)))};const m=this._sendWithProtocol(o).catch(g=>{f(g),delete this._callbacks[o.invocationId]});this._launchStreams(r,m)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const s=r.indexOf(n);s!==-1&&(r.splice(s,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case ct.Invocation:this._invokeClientMethod(r).catch(s=>{this._logger.log(Ae.Error,`Invoke client method threw error: ${Fx(s)}`)});break;case ct.StreamItem:case ct.Completion:{const s=this._callbacks[r.invocationId];if(s){r.type===ct.Completion&&delete this._callbacks[r.invocationId];try{s(r)}catch(o){this._logger.log(Ae.Error,`Stream callback threw error: ${Fx(o)}`)}}break}case ct.Ping:break;case ct.Close:{this._logger.log(Ae.Information,"Close message received from server.");const s=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case ct.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case ct.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(Ae.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const o="Error parsing handshake response: "+s;this._logger.log(Ae.Error,o);const u=new Error(o);throw this._handshakeRejecter(u),u}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(Ae.Error,s);const o=new Error(s);throw this._handshakeRejecter(o),o}else this._logger.log(Ae.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let t=this._nextKeepAlive-new Date().getTime();if(t<0){this._connectionState===Pt.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===Pt.Connected&&await this._trySendPingMessage()},t))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(Ae.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(Ae.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=r.slice(),o=!!t.invocationId;let u,d,f;for(const m of s)try{const g=u;u=await m.apply(this,t.arguments),o&&u&&g&&(this._logger.log(Ae.Error,`Multiple results provided for '${n}'. Sending error to server.`),f=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),d=void 0}catch(g){d=g,this._logger.log(Ae.Error,`A callback for the method '${n}' threw error '${g}'.`)}f?await this._sendWithProtocol(f):o?(d?f=this._createCompletionMessage(t.invocationId,`${d}`,null):u!==void 0?f=this._createCompletionMessage(t.invocationId,null,u):(this._logger.log(Ae.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),f=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(f)):u&&this._logger.log(Ae.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(Ae.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new za("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Pt.Disconnecting?this._completeClose(t):this._connectionState===Pt.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Pt.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Pt.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),xn.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(Ae.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r,0,s);if(o===null){this._logger.log(Ae.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=Pt.Reconnecting,t?this._logger.log(Ae.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(Ae.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(u=>u.apply(this,[t]))}catch(u){this._logger.log(Ae.Error,`An onreconnecting callback called with error '${t}' threw error '${u}'.`)}if(this._connectionState!==Pt.Reconnecting){this._logger.log(Ae.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(Ae.Information,`Reconnect attempt number ${r+1} will start in ${o} ms.`),await new Promise(u=>{this._reconnectDelayHandle=setTimeout(u,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Pt.Reconnecting){this._logger.log(Ae.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Pt.Connected,this._logger.log(Ae.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(u=>u.apply(this,[this.connection.connectionId]))}catch(u){this._logger.log(Ae.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${u}'.`)}return}catch(u){if(this._logger.log(Ae.Information,`Reconnect attempt failed because of error '${u}'.`),this._connectionState!==Pt.Reconnecting){this._logger.log(Ae.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Pt.Disconnecting&&this._completeClose();return}r++,s=u instanceof Error?u:new Error(u.toString()),o=this._getNextRetryDelay(r,Date.now()-n,s)}}this._logger.log(Ae.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(s){return this._logger.log(Ae.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const s=n[r];try{s(null,t)}catch(o){this._logger.log(Ae.Error,`Stream 'error' callback called with '${t}' threw error: ${Fx(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,s){if(r)return s.length!==0?{target:t,arguments:n,streamIds:s,type:ct.Invocation}:{target:t,arguments:n,type:ct.Invocation};{const o=this._invocationId;return this._invocationId++,s.length!==0?{target:t,arguments:n,invocationId:o.toString(),streamIds:s,type:ct.Invocation}:{target:t,arguments:n,invocationId:o.toString(),type:ct.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:s=>{let o;s instanceof Error?o=s.message:s&&s.toString?o=s.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,s)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let s=0;s<t.length;s++){const o=t[s];if(this._isObservable(o)){const u=this._invocationId;this._invocationId++,n[u]=o,r.push(u.toString()),t.splice(s,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const s=this._invocationId;return this._invocationId++,r.length!==0?{target:t,arguments:n,invocationId:s.toString(),streamIds:r,type:ct.StreamInvocation}:{target:t,arguments:n,invocationId:s.toString(),type:ct.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:ct.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:ct.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:ct.Completion}:{invocationId:t,result:r,type:ct.Completion}}_createCloseMessage(){return{type:ct.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const L$=[0,2e3,1e4,3e4,null];class VE{constructor(t){this._retryDelays=t!==void 0?[...t,null]:L$}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Sl{}Sl.Authorization="Authorization";Sl.Cookie="Cookie";class B$ extends Pm{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Sl.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Sl.Authorization]&&delete t.headers[Sl.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var En;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(En||(En={}));var ur;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(ur||(ur={}));let $$=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class WE{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new $$,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(Dn.isRequired(t,"url"),Dn.isRequired(n,"transferFormat"),Dn.isIn(n,ur,"transferFormat"),this._url=t,this._logger.log(Ae.Trace,"(LongPolling transport) Connecting."),n===ur.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,s]=Wo(),o={[r]:s,...this._options.headers},u={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===ur.Binary&&(u.responseType="arraybuffer");const d=`${t}&_=${Date.now()}`;this._logger.log(Ae.Trace,`(LongPolling transport) polling: ${d}.`);const f=await this._httpClient.get(d,u);f.statusCode!==200?(this._logger.log(Ae.Error,`(LongPolling transport) Unexpected response code: ${f.statusCode}.`),this._closeError=new Nl(f.statusText||"",f.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,u)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(Ae.Trace,`(LongPolling transport) polling: ${r}.`);const s=await this._httpClient.get(r,n);s.statusCode===204?(this._logger.log(Ae.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(Ae.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new Nl(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(Ae.Trace,`(LongPolling transport) data received. ${Hu(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(Ae.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof ob?this._logger.log(Ae.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(Ae.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(Ae.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?vR(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(Ae.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(Ae.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=Wo();t[n]=r;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,s)}catch(u){o=u}o?o instanceof Nl&&(o.statusCode===404?this._logger.log(Ae.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(Ae.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(Ae.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(Ae.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(Ae.Trace,t),this.onclose(this._closeError)}}}class U${constructor(t,n,r,s){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,n){return Dn.isRequired(t,"url"),Dn.isRequired(n,"transferFormat"),Dn.isIn(n,ur,"transferFormat"),this._logger.log(Ae.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,s)=>{let o=!1;if(n!==ur.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let u;if(xn.isBrowser||xn.isWebWorker)u=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const d=this._httpClient.getCookieString(t),f={};f.Cookie=d;const[m,g]=Wo();f[m]=g,u=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...f,...this._options.headers}})}try{u.onmessage=d=>{if(this.onreceive)try{this._logger.log(Ae.Trace,`(SSE transport) data received. ${Hu(d.data,this._options.logMessageContent)}.`),this.onreceive(d.data)}catch(f){this._close(f);return}},u.onerror=d=>{o?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},u.onopen=()=>{this._logger.log(Ae.Information,`SSE connected to ${this._url}`),this._eventSource=u,o=!0,r()}}catch(d){s(d);return}})}async send(t){return this._eventSource?vR(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class z${constructor(t,n,r,s,o,u){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=u}async connect(t,n){Dn.isRequired(t,"url"),Dn.isRequired(n,"transferFormat"),Dn.isIn(n,ur,"transferFormat"),this._logger.log(Ae.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((s,o)=>{t=t.replace(/^http/,"ws");let u;const d=this._httpClient.getCookieString(t);let f=!1;if(xn.isNode||xn.isReactNative){const m={},[g,x]=Wo();m[g]=x,r&&(m[Sl.Authorization]=`Bearer ${r}`),d&&(m[Sl.Cookie]=d),u=new this._webSocketConstructor(t,void 0,{headers:{...m,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);u||(u=new this._webSocketConstructor(t)),n===ur.Binary&&(u.binaryType="arraybuffer"),u.onopen=m=>{this._logger.log(Ae.Information,`WebSocket connected to ${t}.`),this._webSocket=u,f=!0,s()},u.onerror=m=>{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="There was an error with the transport",this._logger.log(Ae.Information,`(WebSockets transport) ${g}.`)},u.onmessage=m=>{if(this._logger.log(Ae.Trace,`(WebSockets transport) data received. ${Hu(m.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(m.data)}catch(g){this._close(g);return}},u.onclose=m=>{if(f)this._close(m);else{let g=null;typeof ErrorEvent<"u"&&m instanceof ErrorEvent?g=m.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(g))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Ae.Trace,`(WebSockets transport) sending data. ${Hu(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Ae.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const YE=100;class H${constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Dn.isRequired(t,"url"),this._logger=b$(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,s=null;if(xn.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=o("ws"),s=o("eventsource")}!xn.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:xn.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!xn.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:xn.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new B$(n.httpClient||new _$(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||ur.Binary,Dn.isIn(t,ur,"transferFormat"),this._logger.log(Ae.Debug,`Starting connection with transfer format '${ur[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(Ae.Error,n),await this._stopPromise,Promise.reject(new za(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(Ae.Error,n),Promise.reject(new za(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new ub(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(Ae.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(Ae.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(Ae.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(Ae.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===En.WebSockets)this.transport=this._constructTransport(En.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,s=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new za("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}s++}while(r.url&&s<YE);if(s===YE&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof WE&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(Ae.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(Ae.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,s]=Wo();n[r]=s;const o=this._resolveNegotiateUrl(t);this._logger.log(Ae.Debug,`Sending negotiation request: ${o}.`);try{const u=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(u.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${u.statusCode}'`));const d=JSON.parse(u.content);return(!d.negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),d.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new KE("Client didn't negotiate Stateful Reconnect but the server did.")):d}catch(u){let d="Failed to complete negotiation with the server: "+u;return u instanceof Nl&&u.statusCode===404&&(d=d+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(Ae.Error,d),Promise.reject(new KE(d))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,s){let o=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(Ae.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,s),this.connectionId=r.connectionId;return}const u=[],d=r.availableTransports||[];let f=r;for(const m of d){const g=this._resolveTransportOrError(m,n,s,f?.useStatefulReconnect===!0);if(g instanceof Error)u.push(`${m.transport} failed:`),u.push(g);else if(this._isITransport(g)){if(this.transport=g,!f){try{f=await this._getNegotiationResponse(t)}catch(x){return Promise.reject(x)}o=this._createConnectUrl(t,f.connectionToken)}try{await this._startTransport(o,s),this.connectionId=f.connectionId;return}catch(x){if(this._logger.log(Ae.Error,`Failed to start the transport '${m.transport}': ${x}`),f=void 0,u.push(new p$(`${m.transport} failed: ${x}`,En[m.transport])),this._connectionState!=="Connecting"){const b="Failed to select transport before stop() was called.";return this._logger.log(Ae.Debug,b),Promise.reject(new za(b))}}}}return u.length>0?Promise.reject(new x$(`Unable to connect to the server with any of the available transports. ${u.join(" ")}`,u)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case En.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new z$(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case En.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new U$(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case En.LongPolling:return new WE(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(r);return}s&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,s){const o=En[t.transport];if(o==null)return this._logger.log(Ae.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(q$(n,o))if(t.transferFormats.map(d=>ur[d]).indexOf(r)>=0){if(o===En.WebSockets&&!this._options.WebSocket||o===En.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Ae.Debug,`Skipping transport '${En[o]}' because it is not supported in your environment.'`),new m$(`'${En[o]}' is not supported in your environment.`,o);this._logger.log(Ae.Debug,`Selecting transport '${En[o]}'.`);try{return this.features.reconnect=o===En.WebSockets?s:void 0,this._constructTransport(o)}catch(d){return d}}else return this._logger.log(Ae.Debug,`Skipping transport '${En[o]}' because it does not support the requested transfer format '${ur[r]}'.`),new Error(`'${En[o]}' does not support ${ur[r]}.`);else return this._logger.log(Ae.Debug,`Skipping transport '${En[o]}' because it was disabled by the client.`),new g$(`'${En[o]}' is disabled by the client.`,o)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(Ae.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(Ae.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(Ae.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(Ae.Error,`Connection disconnected with error '${t}'.`):this._logger.log(Ae.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(Ae.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(Ae.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!xn.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(Ae.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function q$(e,t){return!e||(t&e)!==0}class ub{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Xh,this._transportResult=new Xh,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Xh),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Xh;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):ub._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(o=>o.byteLength).reduce((o,u)=>o+u),r=new Uint8Array(n);let s=0;for(const o of t)r.set(new Uint8Array(o),s),s+=o.byteLength;return r.buffer}}class Xh{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const F$="json";class K${constructor(){this.name=F$,this.version=2,this.transferFormat=ur.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=zu.instance);const r=Qr.parse(t),s=[];for(const o of r){const u=JSON.parse(o);if(typeof u.type!="number")throw new Error("Invalid payload.");switch(u.type){case ct.Invocation:this._isInvocationMessage(u);break;case ct.StreamItem:this._isStreamItemMessage(u);break;case ct.Completion:this._isCompletionMessage(u);break;case ct.Ping:break;case ct.Close:break;case ct.Ack:this._isAckMessage(u);break;case ct.Sequence:this._isSequenceMessage(u);break;default:n.log(Ae.Information,"Unknown message type '"+u.type+"' ignored.");continue}s.push(u)}return s}writeMessage(t){return Qr.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const G$={trace:Ae.Trace,debug:Ae.Debug,info:Ae.Information,information:Ae.Information,warn:Ae.Warning,warning:Ae.Warning,error:Ae.Error,critical:Ae.Critical,none:Ae.None};function V$(e){const t=G$[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class yR{configureLogging(t){if(Dn.isRequired(t,"logging"),W$(t))this.logger=t;else if(typeof t=="string"){const n=V$(t);this.logger=new If(n)}else this.logger=new If(t);return this}withUrl(t,n){return Dn.isRequired(t,"url"),Dn.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return Dn.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new VE(t):this.reconnectPolicy=t:this.reconnectPolicy=new VE,this}withServerTimeout(t){return Dn.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Dn.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new H$(this.url,t);return cb.create(n,this.logger||zu.instance,this.protocol||new K$,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function W$(e){return e.log!==void 0}const XE=`${ib}/api/messaging-service/hubs/global`,QE=e=>{if(!e)return!0;try{const t=JSON.parse(atob(e.split(".")[1]||""));if(!t.exp)return!1;const n=Math.floor(Date.now()/1e3);return t.exp-30<=n}catch{return!0}},Y$=["accountpendingapproval","certificationpendingapproval","auctionpendingapproval","withdrawrequestpending","disputepending","wallettransfer","systemnotification","ReceiveNotification","NewNotification","AdminNotification"],X$=e=>{const t=String(e).toLowerCase();return t.includes("account")||t.includes("user")||t==="0"?"account_pending":t.includes("certification")||t.includes("cert")||t==="1"?"certification_pending":t.includes("auction")||t==="2"?"auction_pending":t.includes("withdraw")||t==="3"?"withdraw_pending":t.includes("dispute")||t==="4"?"dispute_pending":t.includes("wallet")||t.includes("transfer")||t.includes("funds")||t==="5"?"wallet_transfer":"system"},Q$=e=>{if(e===void 0)return"info";const t=String(e).toLowerCase();return t==="success"||t==="0"?"success":t==="warning"||t==="1"?"warning":t==="error"||t==="2"?"error":"info"},Z$=e=>{if(!e||typeof e!="object")return null;const t=e,n=t.type??t.Type??t.TYPE??"system",r=t.severity??t.Severity??t.SEVERITY,s={id:t.id||t.Id||t.ID,type:X$(n),severity:Q$(r),title:t.title||t.Title||t.TITLE||"Thng bo mi",message:t.message||t.Message||t.MESSAGE||t.content||t.Content||"",isRead:t.isRead!==void 0?t.isRead:t.IsRead??!1,readAt:t.readAt||t.ReadAt||t.READ_AT,data:t.data||t.Data||t.DATA,relatedEntityId:t.relatedEntityId||t.RelatedEntityId||t.RELATED_ENTITY_ID,relatedEntityType:t.relatedEntityType||t.RelatedEntityType||t.RELATED_ENTITY_TYPE,createdAt:t.createdAt||t.CreatedAt||t.CREATED_AT||new Date().toISOString()};return s.id||(s.id=`admin-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),!s.title||!s.message?(console.warn("[useAdminNotifications] Notification missing required fields:",t),null):s};function J$(e){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[o,u]=p.useState(0),[d,f]=p.useState([]),{user:m}=Hs(),g=p.useRef(e),x=p.useRef(null),b=p.useRef(!1),j=p.useRef(!0),S=p.useRef(new Set);p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>(j.current=!0,()=>{j.current=!1}),[]);const w=p.useCallback(()=>localStorage.getItem("authToken"),[]);p.useEffect(()=>{if(!m?.id){const k=x.current;k&&(k.stop().catch(console.error),n(null),s(!1),x.current=null),b.current=!1;return}const _=x.current;if(_){if(_.state===Pt.Connected||_.state===Pt.Connecting||b.current){console.log("[useAdminNotifications] Connection already exists");return}_.state===Pt.Disconnected&&(_.stop().catch(console.error),x.current=null)}return b.current?void 0:(b.current=!0,(async()=>{try{if(!j.current){b.current=!1;return}let k=w();if(QE(k)){console.log("[useAdminNotifications] Token expired, refreshing before connection...");const F=await Uu.refreshToken();if(F)k=F,console.log("[useAdminNotifications] Token refreshed successfully before SignalR connection");else{console.error("[useAdminNotifications] Failed to refresh token before SignalR connection"),b.current=!1;return}}if(!k){console.warn("[useAdminNotifications] No auth token available"),b.current=!1;return}console.log("[useAdminNotifications] Connecting to SignalR hub:",XE);const R=new yR().withUrl(XE,{transport:En.LongPolling,accessTokenFactory:async()=>{let F=w();if(QE(F)){console.log("[useAdminNotifications] Token expired during connection, refreshing...");const re=await Uu.refreshToken();if(re)F=re,console.log("[useAdminNotifications] Token refreshed during SignalR connection lifecycle");else throw console.error("[useAdminNotifications] Failed to refresh token during SignalR connection"),new Error("Token refresh failed")}if(!F)throw new Error("No token available");return F}}).withAutomaticReconnect({nextRetryDelayInMilliseconds:F=>F.previousRetryCount===0?0:F.previousRetryCount===1?2e3:F.previousRetryCount===2?5e3:F.previousRetryCount===3?1e4:3e4}).configureLogging(Ae.Warning).build(),P=F=>{const re=Z$(F);re&&(S.current.has(re.id)||(S.current.add(re.id),console.log("[useAdminNotifications] New notification:",re),f(L=>L.some(J=>J.id===re.id)?L:[re,...L].slice(0,50)),re.isRead||u(L=>L+1),g.current&&g.current(re)))};if(Y$.forEach(F=>{R.on(F,re=>{let L;if(typeof re=="string")try{L=JSON.parse(re)}catch{console.warn(`[useAdminNotifications] Failed to parse notification from ${F}`);return}else L=re;P(L)})}),R.onreconnecting(F=>{console.log("[useAdminNotifications] Reconnecting...",F),j.current&&s(!1)}),R.onreconnected(F=>{console.log("[useAdminNotifications] Reconnected! Connection ID:",F),j.current&&(s(!0),R.invoke("JoinAdminGroup").catch(()=>{}))}),R.onclose(F=>{F&&console.warn("[useAdminNotifications] Connection closed with error:",F),j.current&&s(!1)}),await R.start(),!j.current){R.stop().catch(console.error),b.current=!1;return}console.log("[useAdminNotifications] Connected!"),s(!0);try{await R.invoke("JoinAdminGroup"),console.log("[useAdminNotifications] Joined admin group")}catch{console.log("[useAdminNotifications] JoinAdminGroup method not available")}try{const F=await R.invoke("GetAdminUnreadCount");typeof F=="number"&&j.current&&u(F)}catch{}j.current?(n(R),x.current=R):R.stop().catch(console.error)}catch(k){console.error("[useAdminNotifications] Error connecting:",k)}finally{b.current=!1}})(),()=>{j.current=!1,b.current=!1;const k=x.current;k&&k.stop().catch(console.error),x.current=null,n(null),s(!1)})},[m?.id,m?.role,w]);const N=p.useCallback(()=>{const _=d.filter(O=>!O.isRead).length;u(_)},[d]),E=p.useCallback(_=>{f(O=>O.map(k=>k.id===_?{...k,isRead:!0,readAt:new Date().toISOString()}:k)),u(O=>Math.max(0,O-1))},[]),A=p.useCallback(()=>{f(_=>_.map(O=>({...O,isRead:!0,readAt:new Date().toISOString()}))),u(0)},[]),T=p.useCallback(()=>{f([]),u(0),S.current.clear()},[]);return{connection:t,isConnected:r,unreadCount:o,notifications:d,refreshUnreadCount:N,markAsRead:E,markAllAsRead:A,clearNotifications:T}}const eU=(e,t)=>{const n=(t||"").toLowerCase();return e===15||n.includes("auction")?"auction_pending":e===17||n.includes("withdraw")?"withdraw_pending":e===11||n.includes("wallet")?"wallet_transfer":"system"},tU=e=>e===1?"warning":e===2?"error":"info",nU=e=>({id:e.id,type:eU(e.type,e.relatedEntityType),title:e.title,message:e.message,severity:tU(e.severity),isRead:e.isRead,relatedEntityId:e.relatedEntityId??void 0,relatedEntityType:e.relatedEntityType??void 0,data:e.data?{raw:e.data}:void 0,createdAt:e.createdAt,readAt:e.readAt}),Qh={async getNotifications(e,t=1,n=20){const r=await nt.get(De.notification.byUserId(e),{params:{pageNumber:t,pageSize:n},cache:!1});return!r.isSuccess||!r.data?[]:r.data.map(nU)},async getUnreadCount(e){const t=await nt.get(De.notification.unreadCountByUserId(e),{cache:!1});return!t.isSuccess||typeof t.data!="number"?0:t.data},async markAsRead(e,t){return(await nt.post(De.notification.markAsRead(e),{},{invalidateCache:De.notification.byUserId(t)})).isSuccess},async markAllAsRead(e){return(await nt.post(De.notification.markAllAsRead(e),{},{invalidateCache:De.notification.byUserId(e)})).isSuccess}},rU={account_pending:a.jsx(uc,{className:"h-4 w-4 text-blue-500"}),certification_pending:a.jsx(Aa,{className:"h-4 w-4 text-amber-500"}),auction_pending:a.jsx(nb,{className:"h-4 w-4 text-purple-500"}),withdraw_pending:a.jsx(G3,{className:"h-4 w-4 text-green-500"}),dispute_pending:a.jsx(km,{className:"h-4 w-4 text-red-500"}),wallet_transfer:a.jsx(Mf,{className:"h-4 w-4 text-emerald-500"}),system:a.jsx(CL,{className:"h-4 w-4 text-gray-500"})},aU={account_pending:"bg-blue-50",certification_pending:"bg-amber-50",auction_pending:"bg-purple-50",withdraw_pending:"bg-green-50",dispute_pending:"bg-red-50",wallet_transfer:"bg-emerald-50",system:"bg-gray-50"},iU=e=>{const t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3);return r<60?"Va xong":r<3600?`${Math.floor(r/60)} pht trc`:r<86400?`${Math.floor(r/3600)} gi trc`:r<604800?`${Math.floor(r/86400)} ngy trc`:t.toLocaleDateString("vi-VN")},sU=e=>{const{type:t,relatedEntityId:n,relatedEntityType:r}=e,s=(r||"").toLowerCase();if(s.includes("auction"))return n?et.ADMIN_AUCTIONS_BY_ID.replace(":id",n):et.ADMIN_AUCTIONS;if(s.includes("withdrawrequest")||s.includes("wallet"))return et.ADMIN_WALLET;if(s.includes("dispute"))return et.ADMIN_DISPUTES;switch(t){case"account_pending":case"certification_pending":return et.ADMIN_APPROVAL;case"auction_pending":return n?et.ADMIN_AUCTIONS_BY_ID.replace(":id",n):et.ADMIN_AUCTIONS;case"withdraw_pending":case"wallet_transfer":return et.ADMIN_WALLET;case"dispute_pending":return et.ADMIN_DISPUTES;default:return et.ADMIN_DASHBOARD}};function lU(){const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[s,o]=p.useState(!1),[u,d]=p.useState([]),[f,m]=p.useState(0),g=p.useRef(null),x=mr(),{user:b}=Hs(),{isConnected:j,unreadCount:S,notifications:w,markAsRead:N,markAllAsRead:E}=J$(R=>{if(console.log("[AdminNotificationBell] New notification:",R),"Notification"in window&&window.Notification.permission==="granted")try{const P=new window.Notification(R.title,{body:R.message,icon:"/favicon.ico",tag:R.id});setTimeout(()=>{P.close()},5e3)}catch(P){console.error("[AdminNotificationBell] Browser notification error:",P)}}),A=p.useMemo(()=>{const R=new Map;return u.forEach(F=>{R.set(F.id,F)}),w.forEach(F=>{R.set(F.id,F)}),Array.from(R.values()).sort((F,re)=>new Date(re.createdAt).getTime()-new Date(F.createdAt).getTime())},[u,w]),T=p.useMemo(()=>S>0?S:f,[S,f]),_=p.useCallback(async()=>{if(b?.id){o(!0);try{const[R,P]=await Promise.all([Qh.getNotifications(b.id),Qh.getUnreadCount(b.id)]);d(R),m(P)}catch(R){console.error("[AdminNotificationBell] Error fetching notifications:",R)}finally{o(!1)}}},[b?.id]);p.useEffect(()=>{b?.id&&_()},[b?.id,_]),p.useEffect(()=>{"Notification"in window&&window.Notification.permission==="default"&&window.Notification.requestPermission()},[]),p.useEffect(()=>{const R=P=>{g.current&&!g.current.contains(P.target)&&t(!1)};return e&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[e]),p.useEffect(()=>{e&&b?.id&&_()},[e,b?.id,_]);const O=p.useCallback(R=>{(async()=>{if(!(!b?.id||R.isRead))try{await Qh.markAsRead(R.id,b.id)&&(N(R.id),d(L=>L.map(G=>G.id===R.id?{...G,isRead:!0,readAt:new Date().toISOString()}:G)),m(L=>Math.max(0,L-1)))}catch(re){console.error("[AdminNotificationBell] Error marking notification as read:",re)}})();const F=sU(R);F&&x(F),t(!1)},[N,x,b?.id]),k=p.useCallback(async()=>{r(!0);try{b?.id?await Qh.markAllAsRead(b.id)&&(E(),d(P=>P.map(F=>({...F,isRead:!0,readAt:new Date().toISOString()}))),m(0)):E()}finally{r(!1)}},[E]);return a.jsxs("div",{className:"relative",ref:g,children:[a.jsxs(ce,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:"relative h-10 w-10 p-0 hover:bg-gray-100 rounded-lg","aria-label":`Thng bo${T>0?` (${T} cha c)`:""}`,title:j?" kt ni realtime":"ang kt ni...",children:[a.jsx(PE,{className:"h-5 w-5 text-gray-600"}),T>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white animate-pulse",children:T>9?"9+":T}),a.jsx("span",{className:`absolute bottom-0 right-0 h-2 w-2 rounded-full border border-white ${j?"bg-green-400":"bg-yellow-400"}`})]}),e&&a.jsxs("div",{className:"absolute right-0 top-12 z-50 w-96 rounded-xl border border-gray-200 bg-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Thng bo"}),j&&a.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-0.5 text-xs font-medium text-green-700",children:"Live"})]}),T>0&&a.jsxs(ce,{variant:"ghost",size:"sm",onClick:k,disabled:n,className:"h-8 px-2 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[n?a.jsx(kn,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(J3,{className:"h-3 w-3 mr-1"}),"c tt c"]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx(kn,{className:"h-5 w-5 animate-spin text-gray-400"})}):A.length===0?a.jsxs("div",{className:"px-4 py-12 text-center",children:[a.jsx(PE,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Khng c thng bo mi"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cc thng bo v ti khon, chng ch, u gi s xut hin  y"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:A.map(R=>a.jsx("button",{onClick:()=>O(R),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${R.isRead?"":aU[R.type]}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2 rounded-lg ${R.isRead?"bg-gray-100":"bg-white shadow-sm"}`,children:rU[R.type]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("p",{className:`text-sm font-medium line-clamp-1 ${R.isRead?"text-gray-600":"text-gray-900"}`,children:R.title}),!R.isRead&&a.jsx("div",{className:"h-2 w-2 flex-shrink-0 rounded-full bg-blue-500 mt-1.5"})]}),a.jsx("p",{className:"mt-0.5 text-xs text-gray-500 line-clamp-2",children:R.message}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-400",children:iU(R.createdAt)})]})]})},R.id))})}),A.length>0&&a.jsx("div",{className:"border-t border-gray-200 px-4 py-2.5 text-center bg-gray-50/50",children:a.jsx("p",{className:"text-xs text-gray-500",children:T>0?`${T} thng bo cha c`:" c tt c thng bo"})})]})]})}function oU(){const{user:e}=Hs(),t=s=>{if(!s)return"AD";const o=s.trim().split(/\s+/);return o.length>=2?(o[0][0]+o[o.length-1][0]).toUpperCase():s.substring(0,2).toUpperCase()},n=e?.name||"Admin",r=e?.email||"admin@agrimart.com";return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"relative"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(lU,{}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(o$,{className:"w-8 h-8",children:[a.jsx(c$,{src:d$}),a.jsx(u$,{children:t(e?.name)})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:n}),a.jsx("p",{className:"text-gray-500",children:r})]})]})]})]})})}function gn({children:e}){return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(l$,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(oU,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]})]})}const at=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_t("rounded-2xl border border-muted/30 bg-white/90 backdrop-blur-sm shadow-[0_4px_12px_rgba(0,0,0,0.04)] transition-all duration-200","hover:shadow-[0_8px_20px_rgba(0,0,0,0.06)] hover:-translate-y-[1px]",e),...t}));at.displayName="Card";const Hi=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_t("flex flex-col space-y-1.5 p-6 pb-3",e),...t}));Hi.displayName="CardHeader";const qi=p.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:_t("text-xl font-semibold leading-tight tracking-tight text-gray-900",e),...t}));qi.displayName="CardTitle";const cU=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:_t("text-sm text-gray-500",e),...t}));cU.displayName="CardDescription";const Jr=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_t("p-6 pt-2",e),...t}));Jr.displayName="CardContent";const uU=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_t("flex items-center p-6 pt-0 border-t border-muted/20",e),...t}));uU.displayName="CardFooter";function dU({children:e,onSubmit:t,title:n,submitText:r="Gi",isLoading:s=!1,disabled:o=!1,className:u="",submitButtonClassName:d="w-full bg-green-600 hover:bg-green-700"}){return a.jsxs("div",{className:`space-y-4 sm:space-y-6 ${u}`,children:[n&&a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:n}),a.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e,a.jsxs(ce,{type:"submit",className:`text-sm sm:text-base ${d}`,disabled:o||s,children:[s&&a.jsx(kn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),s?"ang x l...":r]})]})]})}const nn=p.forwardRef(({className:e,type:t,variant:n="default",...r},s)=>a.jsx("input",{type:t,ref:s,className:_t("peer flex h-11 w-full rounded-2xl border border-transparent bg-white/80 px-4 py-2.5 text-sm font-medium text-gray-900 shadow-[0_10px_25px_rgba(15,118,110,0.08)] transition-all duration-300 placeholder:text-gray-400","ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","focus-visible:ring-emerald-400/40 focus-visible:border-emerald-500/60","hover:border-emerald-200 hover:shadow-[0_14px_32px_rgba(15,118,110,0.12)]",n==="error"&&"border-rose-200 bg-rose-50/60 text-rose-700 placeholder:text-rose-400 focus-visible:ring-rose-400 focus-visible:border-rose-500","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 disabled:opacity-70",e),...r}));nn.displayName="Input";const Ke=p.forwardRef(({className:e,...t},n)=>a.jsx("label",{ref:n,className:_t("text-sm font-semibold uppercase tracking-wide text-gray-500","peer-disabled:cursor-not-allowed peer-disabled:opacity-60",e),...t}));Ke.displayName="Label";function hU({label:e,id:t,type:n="text",placeholder:r,value:s,onChange:o,required:u=!1,error:d,disabled:f=!1,description:m}){return a.jsxs("div",{className:"space-y-2 h-full",children:[a.jsxs(Ke,{htmlFor:t,className:"flex items-center gap-1 text-sm sm:text-base h-6",children:[e,u&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(nn,{id:t,type:n,placeholder:r,value:s,onChange:g=>o(g.target.value),required:u,disabled:f,variant:d?"error":"default",className:`text-sm sm:text-base ${d?"border-red-500 focus-visible:ring-red-500":""}`}),m&&a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:m}),d&&a.jsxs("p",{className:"text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full"}),d]})]})}function fU({onLoginSuccess:e}){const[t,n]=p.useState(""),[r,s]=p.useState(""),[o,u]=p.useState(""),[d,f]=p.useState(""),[m,g]=p.useState(!1),[x,b]=p.useState(!1),j=mr(),{toast:S}=$n(),{setAuth:w}=Hs(),N=O=>O.trim()?O.includes("@")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O.trim())?(u(""),!0):(u(yt.EMAIL_INVALID_FORMAT),!1):(u(yt.EMAIL_MUST_CONTAIN_AT),!1):(u(yt.EMAIL_REQUIRED),!1),E=O=>O?O.length<6?(f(yt.PASSWORD_MIN_LENGTH),!1):/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(O)?(f(""),!0):(f(yt.PASSWORD_SPECIAL_CHAR),!1):(f(yt.PASSWORD_REQUIRED),!1),A=O=>{n(O),o&&N(O)},T=O=>{s(O),d&&E(O)},_=async O=>{O.preventDefault();const k=N(t),R=E(r);if(!k||!R){const P=[];!k&&o&&P.push(o),!R&&d&&P.push(d),S({title:yt.VALIDATION_ERROR_TITLE,description:P.length>0?P.join(". "):yt.VALIDATION_ERROR_DESCRIPTION,variant:"destructive"});return}b(!0);try{const P=await Uu.login({email:t.trim(),password:r});w({user:P.user,token:P.token}),S({title:ab.LOGIN_SUCCESS,description:vB(P.user.name)}),j("/admin",{replace:!0}),e&&e(P.user)}catch(P){let F=yt.LOGIN_FAILED,re=yt.LOGIN_FAILED_TITLE;if(P instanceof Error){const L=P.message.trim();L.includes(yt.NOT_ADMIN)||L.includes("khng c quyn")||L.includes(yt.NOT_ADMIN_DETAIL)?(F=yt.NOT_ADMIN_DETAIL,re=yt.NOT_ADMIN_TITLE):L.includes(yt.CANNOT_VALIDATE_ADMIN)?(F=yt.CANNOT_VALIDATE_ADMIN,re=yt.CANNOT_VALIDATE_ADMIN_TITLE):L.includes("401")||L.includes("Unauthorized")?(F=yt.AUTH_FAILED,re=yt.AUTH_FAILED_TITLE):L.includes("Network")||L.includes("fetch")?(F=yt.NETWORK_ERROR,re=yt.CONNECTION_ERROR_TITLE):L!==""&&L!==void 0&&(F=L)}S({title:re,description:F,variant:"destructive"})}finally{b(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-red-50 to-white p-3 sm:p-4",children:a.jsxs("div",{className:"w-full max-w-sm sm:max-w-md",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 sm:mb-4",children:[a.jsx("img",{src:"/assets/logo.png",alt:"AgriMart Logo",className:"h-6 w-6 sm:h-8 sm:w-8 object-contain"}),a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-green-800",children:"AgriMart Admin"})]}),a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"ng nhp"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 px-2",children:"Nhp thng tin  truy cp trang Admin"})]}),a.jsx(at,{className:"border-green-200",children:a.jsxs(Jr,{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 rounded-lg",children:[a.jsx("strong",{children:"Ch :"})," Trang ny ch dnh cho qun tr vin. Ti khon admin c to bi h thng, khng th ng k t do."]}),a.jsxs(dU,{onSubmit:_,submitText:"ng nhp",isLoading:x,children:[a.jsx(hU,{label:Po.EMAIL_LABEL,id:"email",type:"email",placeholder:Po.EMAIL_PLACEHOLDER,value:t,onChange:A,required:!0,error:o,description:Po.EMAIL_DESCRIPTION}),a.jsxs("div",{className:"space-y-2 h-full",children:[a.jsxs(Ke,{htmlFor:"password",className:"flex items-center gap-1 text-sm sm:text-base h-6",children:[Po.PASSWORD_LABEL,a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(nn,{id:"password",type:m?"text":"password",placeholder:Po.PASSWORD_PLACEHOLDER,value:r,onChange:O=>T(O.target.value),required:!0,variant:d?"error":"default",className:`text-sm sm:text-base pr-10 ${d?"border-red-500 focus-visible:ring-red-500":""}`}),a.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>g(!m),"aria-label":m?"n mt khu":"Hin mt khu",children:m?a.jsx(pL,{className:"h-4 w-4 text-gray-500"}):a.jsx(wr,{className:"h-4 w-4 text-gray-500"})})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:Po.PASSWORD_DESCRIPTION}),d&&a.jsxs("p",{className:"text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full"}),d]})]})]})]})})]})})}function mU(){return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,t)=>a.jsx(at,{className:"border-gray-200",children:a.jsx(Jr,{className:"p-6",children:a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"}),a.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded"})]})})},`stat-skeleton-${t}`))})}function gU(){return a.jsx(at,{className:"border-dashed border-gray-200",children:a.jsx(Jr,{className:"p-6 text-center text-sm text-gray-500",children:"Cha c d liu tng quan. Hy kim tra li sau."})})}function pU({stats:e,isLoading:t}){if(t)return a.jsx(mU,{});if(!e.length)return a.jsx(gU,{});const n=r=>r==="up"?a.jsx(Is,{className:"w-3 h-3 text-emerald-500"}):r==="down"?a.jsx(tB,{className:"w-3 h-3 text-red-500"}):a.jsx(IL,{className:"w-3 h-3 text-gray-400"});return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:e.map((r,s)=>{const o=!!r.highlight;return a.jsxs(at,{className:`group relative overflow-hidden transition-all duration-300 ${o?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/20 border-emerald-400":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[!o&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs(Jr,{className:"p-5 relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:`text-xs font-medium uppercase tracking-wide ${o?"text-emerald-50":"text-gray-500"}`,children:r.title}),a.jsx(H3,{className:`w-4 h-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 ${o?"text-emerald-100":"text-gray-400"}`})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:`text-2xl font-bold ${o?"text-white":"text-gray-900"}`,children:r.value}),r.change&&a.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[n(r.trend),a.jsx("span",{className:o?"text-emerald-50":"text-gray-500",children:r.change})]})]})]})]},`stat-${r.title}-${s}`)})})}var xU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function db(e){if(typeof e!="string")return!1;var t=xU;return t.includes(e)}var vU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bR(e){if(typeof e!="string")return!1;var t=vU;return t.includes(e)}function jR(e){return typeof e=="string"&&e.startsWith("data-")}function ea(e){var t=Object.entries(e).filter(n=>{var[r]=n;return bR(r)||jR(r)});return Object.fromEntries(t)}function Dl(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ea(t)}return typeof e=="object"&&!Array.isArray(e)?ea(e):null}function Nr(e){var t=Object.entries(e).filter(n=>{var[r]=n;return bR(r)||jR(r)||db(r)});return Object.fromEntries(t)}function yU(e){return e==null?null:p.isValidElement(e)?Nr(e.props):typeof e=="object"&&!Array.isArray(e)?Nr(e):null}var bU=["children","width","height","viewBox","className","style","title","desc"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(null,arguments)}function jU(e,t){if(e==null)return{};var n,r,s=wU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hb=p.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:o,className:u,style:d,title:f,desc:m}=e,g=jU(e,bU),x=o||{width:r,height:s,x:0,y:0},b=jt("recharts-surface",u);return p.createElement("svg",Wv({},Nr(g),{className:b,width:r,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),p.createElement("title",null,f),p.createElement("desc",null,m),n)}),NU=["children","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv.apply(null,arguments)}function SU(e,t){if(e==null)return{};var n,r,s=EU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function EU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ir=p.forwardRef((e,t)=>{var{children:n,className:r}=e,s=SU(e,NU),o=jt("recharts-layer",r);return p.createElement("g",Yv({className:o},Nr(s),{ref:t}),n)}),wR=p.createContext(null),CU=()=>p.useContext(wR);function Yt(e){return function(){return e}}const NR=Math.cos,Lf=Math.sin,Fa=Math.sqrt,Bf=Math.PI,Mm=2*Bf,Xv=Math.PI,Qv=2*Xv,pl=1e-6,AU=Qv-pl;function SR(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function TU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SR;const n=10**t;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class _U{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SR:TU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,o,u){this._append`C${+t},${+n},${+r},${+s},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,s,o){if(t=+t,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,f=r-t,m=s-n,g=u-t,x=d-n,b=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>pl)if(!(Math.abs(x*f-m*g)>pl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let j=r-u,S=s-d,w=f*f+m*m,N=j*j+S*S,E=Math.sqrt(w),A=Math.sqrt(b),T=o*Math.tan((Xv-Math.acos((w+b-N)/(2*E*A)))/2),_=T/A,O=T/E;Math.abs(_-1)>pl&&this._append`L${t+_*g},${n+_*x}`,this._append`A${o},${o},0,0,${+(x*j>g*S)},${this._x1=t+O*f},${this._y1=n+O*m}`}}arc(t,n,r,s,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),f=r*Math.sin(s),m=t+d,g=n+f,x=1^u,b=u?s-o:o-s;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>pl||Math.abs(this._y1-g)>pl)&&this._append`L${m},${g}`,r&&(b<0&&(b=b%Qv+Qv),b>AU?this._append`A${r},${r},0,1,${x},${t-d},${n-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=g}`:b>pl&&this._append`A${r},${r},0,${+(b>=Xv)},${x},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function fb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _U(t)}function mb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ER(e){this._context=e}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Im(e){return new ER(e)}function CR(e){return e[0]}function AR(e){return e[1]}function TR(e,t){var n=Yt(!0),r=null,s=Im,o=null,u=fb(d);e=typeof e=="function"?e:e===void 0?CR:Yt(e),t=typeof t=="function"?t:t===void 0?AR:Yt(t);function d(f){var m,g=(f=mb(f)).length,x,b=!1,j;for(r==null&&(o=s(j=u())),m=0;m<=g;++m)!(m<g&&n(x=f[m],m,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(x,m,f),+t(x,m,f));if(j)return o=null,j+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Yt(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,r!=null&&(o=s(r)),d):s},d.context=function(f){return arguments.length?(f==null?r=o=null:o=s(r=f),d):r},d}function Zh(e,t,n){var r=null,s=Yt(!0),o=null,u=Im,d=null,f=fb(m);e=typeof e=="function"?e:e===void 0?CR:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?AR:Yt(+n);function m(x){var b,j,S,w=(x=mb(x)).length,N,E=!1,A,T=new Array(w),_=new Array(w);for(o==null&&(d=u(A=f())),b=0;b<=w;++b){if(!(b<w&&s(N=x[b],b,x))===E)if(E=!E)j=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),S=b-1;S>=j;--S)d.point(T[S],_[S]);d.lineEnd(),d.areaEnd()}E&&(T[b]=+e(N,b,x),_[b]=+t(N,b,x),d.point(r?+r(N,b,x):T[b],n?+n(N,b,x):_[b]))}if(A)return d=null,A+""||null}function g(){return TR().defined(s).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Yt(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Yt(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Yt(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Yt(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Yt(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Yt(+x),m):n},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(n)},m.lineX1=function(){return g().x(r).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:Yt(!!x),m):s},m.curve=function(x){return arguments.length?(u=x,o!=null&&(d=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=d=null:d=u(o=x),m):o},m}class _R{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function RU(e){return new _R(e,!0)}function OU(e){return new _R(e,!1)}const gb={draw(e,t){const n=Fa(t/Bf);e.moveTo(n,0),e.arc(0,0,n,0,Mm)}},kU={draw(e,t){const n=Fa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},RR=Fa(1/3),DU=RR*2,PU={draw(e,t){const n=Fa(t/DU),r=n*RR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},MU={draw(e,t){const n=Fa(t),r=-n/2;e.rect(r,r,n,n)}},IU=.8908130915292852,OR=Lf(Bf/10)/Lf(7*Bf/10),LU=Lf(Mm/10)*OR,BU=-NR(Mm/10)*OR,$U={draw(e,t){const n=Fa(t*IU),r=LU*n,s=BU*n;e.moveTo(0,-n),e.lineTo(r,s);for(let o=1;o<5;++o){const u=Mm*o/5,d=NR(u),f=Lf(u);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*s,f*r+d*s)}e.closePath()}},Kx=Fa(3),UU={draw(e,t){const n=-Fa(t/(Kx*3));e.moveTo(0,n*2),e.lineTo(-Kx*n,-n),e.lineTo(Kx*n,-n),e.closePath()}},xa=-.5,va=Fa(3)/2,Zv=1/Fa(12),zU=(Zv/2+1)*3,HU={draw(e,t){const n=Fa(t/zU),r=n/2,s=n*Zv,o=r,u=n*Zv+n,d=-o,f=u;e.moveTo(r,s),e.lineTo(o,u),e.lineTo(d,f),e.lineTo(xa*r-va*s,va*r+xa*s),e.lineTo(xa*o-va*u,va*o+xa*u),e.lineTo(xa*d-va*f,va*d+xa*f),e.lineTo(xa*r+va*s,xa*s-va*r),e.lineTo(xa*o+va*u,xa*u-va*o),e.lineTo(xa*d+va*f,xa*f-va*d),e.closePath()}};function qU(e,t){let n=null,r=fb(s);e=typeof e=="function"?e:Yt(e||gb),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function s(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Yt(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Yt(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function $f(){}function Uf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kR(e){this._context=e}kR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FU(e){return new kR(e)}function DR(e){this._context=e}DR.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Uf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KU(e){return new DR(e)}function PR(e){this._context=e}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GU(e){return new PR(e)}function MR(e){this._context=e}MR.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VU(e){return new MR(e)}function ZE(e){return e<0?-1:1}function JE(e,t,n){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),u=(n-e._y1)/(s||r<0&&-0),d=(o*s+u*r)/(r+s);return(ZE(o)+ZE(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function eC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Gx(e,t,n){var r=e._x0,s=e._y0,o=e._x1,u=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,s+d*t,o-d,u-d*n,o,u)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gx(this,this._t0,eC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gx(this,eC(this,n=JE(this,e,t)),n);break;default:Gx(this,this._t0,n=JE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function IR(e){this._context=new LR(e)}(IR.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function LR(e){this._context=e}LR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,o){this._context.bezierCurveTo(t,e,r,n,o,s)}};function WU(e){return new zf(e)}function YU(e){return new IR(e)}function BR(e){this._context=e}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tC(e),s=tC(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tC(e){var t,n=e.length-1,r,s=new Array(n),o=new Array(n),u=new Array(n);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(s[n-1]=u[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function XU(e){return new BR(e)}function Lm(e,t){this._context=e,this._t=t}Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function QU(e){return new Lm(e,.5)}function ZU(e){return new Lm(e,0)}function JU(e){return new Lm(e,1)}function Yo(e,t){if((u=e.length)>1)for(var n=1,r,s,o=e[t[0]],u,d=o.length;n<u;++n)for(s=o,o=e[t[n]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Jv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function e8(e,t){return e[t]}function t8(e){const t=[];return t.key=e,t}function n8(){var e=Yt([]),t=Jv,n=Yo,r=e8;function s(o){var u=Array.from(e.apply(this,arguments),t8),d,f=u.length,m=-1,g;for(const x of o)for(d=0,++m;d<f;++d)(u[d][m]=[0,+r(x,u[d].key,m,o)]).data=x;for(d=0,g=mb(t(u));d<f;++d)u[g[d]].index=d;return n(u,g),u}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Yt(Array.from(o)),s):e},s.value=function(o){return arguments.length?(r=typeof o=="function"?o:Yt(+o),s):r},s.order=function(o){return arguments.length?(t=o==null?Jv:typeof o=="function"?o:Yt(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(n=o??Yo,s):n},s}function r8(e,t){if((r=e.length)>0){for(var n,r,s=0,o=e[0].length,u;s<o;++s){for(u=n=0;n<r;++n)u+=e[n][s][1]||0;if(u)for(n=0;n<r;++n)e[n][s][1]/=u}Yo(e,t)}}function a8(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,o=r.length;n<o;++n){for(var u=0,d=0;u<s;++u)d+=e[u][n][1]||0;r[n][1]+=r[n][0]=-d/2}Yo(e,t)}}function i8(e,t){if(!(!((u=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,o,u;r<o;++r){for(var d=0,f=0,m=0;d<u;++d){for(var g=e[t[d]],x=g[r][1]||0,b=g[r-1][1]||0,j=(x-b)/2,S=0;S<d;++S){var w=e[t[S]],N=w[r][1]||0,E=w[r-1][1]||0;j+=N-E}f+=x,m+=j*x}s[r-1][1]+=s[r-1][0]=n,f&&(n-=m/f)}s[r-1][1]+=s[r-1][0]=n,Yo(e,t)}}var Vx={},Wx={},nC;function s8(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Wx)),Wx}var Yx={},rC;function $R(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Yx)),Yx}var Xx={},aC;function pb(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Xx)),Xx}var Qx={},Zx={},iC;function l8(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Zx)),Zx}var sC;function xb(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l8(),n=pb();function r(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],u=s.length;if(u===0)return o;let d=0,f="",m="",g=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<u;){const x=s[d];m?x==="\\"&&d+1<u?(d++,f+=s[d]):x===m?m="":f+=x:g?x==='"'||x==="'"?m=x:x==="]"?(g=!1,o.push(f),f=""):f+=x:x==="["?(g=!0,f&&(o.push(f),f="")):x==="."?f&&(o.push(f),f=""):f+=x,d++}return f&&o.push(f),o}e.toPath=r})(Qx)),Qx}var lC;function vb(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s8(),n=$R(),r=pb(),s=xb();function o(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const g=d[f];return g===void 0?n.isDeepKey(f)?o(d,s.toPath(f),m):m:g}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const g=d[f];return g===void 0?m:g}default:{if(Array.isArray(f))return u(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const g=d[f];return g===void 0?m:g}}}function u(d,f,m){if(f.length===0)return m;let g=d;for(let x=0;x<f.length;x++){if(g==null||t.isUnsafeProperty(f[x]))return m;g=g[f[x]]}return g===void 0?m:g}e.get=o})(Vx)),Vx}var Jx,oC;function o8(){return oC||(oC=1,Jx=vb().get),Jx}var c8=o8();const Pl=oi(c8);var Vn=e=>e===0?0:e>0?1:-1,_a=e=>typeof e=="number"&&e!=+e,Fi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ye=e=>(typeof e=="number"||e instanceof Number)&&!_a(e),ai=e=>Ye(e)||typeof e=="string",u8=0,qu=e=>{var t=++u8;return"".concat(e||"").concat(t)},hr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(t)&&typeof t!="string")return r;var o;if(Fi(t)){if(n==null)return r;var u=t.indexOf("%");o=n*parseFloat(t.slice(0,u))/100}else o=+t;return _a(o)&&(o=r),s&&n!=null&&o>n&&(o=n),o},UR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function jn(e,t,n){return Ye(e)&&Ye(t)?e+n*(t-e):t}function zR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Pl(r,t))===n)}var hn=e=>e===null||typeof e>"u",id=e=>hn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),d8=["type","size","sizeType"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(r){h8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h8(e,t,n){return(t=f8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f8(e){var t=m8(e,"string");return typeof t=="symbol"?t:t+""}function m8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g8(e,t){if(e==null)return{};var n,r,s=p8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function p8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HR={symbolCircle:gb,symbolCross:kU,symbolDiamond:PU,symbolSquare:MU,symbolStar:$U,symbolTriangle:UU,symbolWye:HU},x8=Math.PI/180,v8=e=>{var t="symbol".concat(id(e));return HR[t]||gb},y8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*x8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},b8=(e,t)=>{HR["symbol".concat(id(e))]=t},yb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=g8(e,d8),o=uC(uC({},s),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var b=v8(u),j=qU().type(b).size(y8(n,r,u)),S=j();if(S!==null)return S},{className:f,cx:m,cy:g}=o,x=Nr(o);return m===+m&&g===+g&&n===+n?p.createElement("path",ey({},x,{className:jt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};yb.registerSymbol=b8;var bb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{db(s)&&(r[s]=(o=>n[s](n,o)))}),r},j8=(e,t,n)=>r=>(e(t,n,r),null),sd=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var o=e[s];db(s)&&typeof o=="function"&&(r||(r={}),r[s]=j8(o,t,n))}),r};function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function w8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){jb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jb(e,t,n){return(t=N8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ya=32;class wb extends p.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,s=ya/2,o=ya/6,u=ya/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:ya,y2:s,className:"recharts-legend-icon"});if(f==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(ya,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ya/8,"h").concat(ya,"v").concat(ya*3/4,"h").concat(-ya,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var m=w8({},t);return delete m.legendIcon,p.cloneElement(t.legendIcon,m)}return p.createElement(yb,{fill:d,cx:s,cy:s,size:ya,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:s,inactiveColor:o,iconType:u}=this.props,d={x:0,y:0,width:ya,height:ya},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,x)=>{var b=g.formatter||s,j=jt({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:g.inactive});if(g.type==="none")return null;var S=g.inactive?o:g.color,w=b?b(g.value,g,x):g.value;return p.createElement("li",ty({className:j,style:f,key:"legend-item-".concat(x)},sd(this.props,g,x)),p.createElement(hb,{width:n,height:n,viewBox:d,style:m,"aria-label":"".concat(w," legend icon")},this.renderIcon(g,u)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},w))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}jb(wb,"displayName","Legend");jb(wb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var e0={},t0={},hC;function E8(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let o=0;o<n.length;o++){const u=n[o],d=r(u);s.has(d)||s.set(d,u)}return Array.from(s.values())}e.uniqBy=t})(t0)),t0}var n0={},fC;function qR(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(n0)),n0}var r0={},a0={},i0={},mC;function C8(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(i0)),i0}var gC;function Nb(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C8();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(a0)),a0}var s0={},pC;function A8(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(s0)),s0}var xC;function T8(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb(),n=A8();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r})(r0)),r0}var l0={},o0={},vC;function _8(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb();function n(r){return function(s){return t.get(s,r)}}e.property=n})(o0)),o0}var c0={},u0={},d0={},h0={},yC;function FR(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(h0)),h0}var f0={},bC;function KR(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(f0)),f0}var m0={},jC;function GR(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(m0)),m0}var wC;function R8(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FR(),n=KR(),r=GR();function s(g,x,b){return typeof b!="function"?s(g,x,()=>{}):o(g,x,function j(S,w,N,E,A,T){const _=b(S,w,N,E,A,T);return _!==void 0?!!_:o(S,w,j,T)},new Map)}function o(g,x,b,j){if(x===g)return!0;switch(typeof x){case"object":return u(g,x,b,j);case"function":return Object.keys(x).length>0?o(g,{...x},b,j):r.eq(g,x);default:return t.isObject(g)?typeof x=="string"?x==="":!0:r.eq(g,x)}}function u(g,x,b,j){if(x==null)return!0;if(Array.isArray(x))return f(g,x,b,j);if(x instanceof Map)return d(g,x,b,j);if(x instanceof Set)return m(g,x,b,j);const S=Object.keys(x);if(g==null)return S.length===0;if(S.length===0)return!0;if(j?.has(x))return j.get(x)===g;j?.set(x,g);try{for(let w=0;w<S.length;w++){const N=S[w];if(!n.isPrimitive(g)&&!(N in g)||x[N]===void 0&&g[N]!==void 0||x[N]===null&&g[N]!==null||!b(g[N],x[N],N,g,x,j))return!1}return!0}finally{j?.delete(x)}}function d(g,x,b,j){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,w]of x.entries()){const N=g.get(S);if(b(N,w,S,g,x,j)===!1)return!1}return!0}function f(g,x,b,j){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let w=0;w<x.length;w++){const N=x[w];let E=!1;for(let A=0;A<g.length;A++){if(S.has(A))continue;const T=g[A];let _=!1;if(b(T,N,w,g,x,j)&&(_=!0),_){S.add(A),E=!0;break}}if(!E)return!1}return!0}function m(g,x,b,j){return x.size===0?!0:g instanceof Set?f([...g],[...x],b,j):!1}e.isMatchWith=s,e.isSetMatch=m})(d0)),d0}var NC;function VR(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R8();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n})(u0)),u0}var g0={},p0={},x0={},SC;function O8(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(x0)),x0}var v0={},EC;function WR(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(v0)),v0}var y0={},CC;function YR(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",b="[object ArrayBuffer]",j="[object Object]",S="[object Error]",w="[object DataView]",N="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",_="[object BigUint64Array]",O="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",P="[object BigInt64Array]",F="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=g,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=w,e.dateTag=d,e.errorTag=S,e.float32ArrayTag=F,e.float64ArrayTag=re,e.functionTag=x,e.int16ArrayTag=k,e.int32ArrayTag=R,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=r,e.objectTag=j,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=A,e.uint32ArrayTag=T,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=E})(y0)),y0}var b0={},AC;function k8(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(b0)),b0}var TC;function XR(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O8(),n=WR(),r=YR(),s=KR(),o=k8();function u(g,x){return d(g,void 0,g,new Map,x)}function d(g,x,b,j=new Map,S=void 0){const w=S?.(g,x,b,j);if(w!==void 0)return w;if(s.isPrimitive(g))return g;if(j.has(g))return j.get(g);if(Array.isArray(g)){const N=new Array(g.length);j.set(g,N);for(let E=0;E<g.length;E++)N[E]=d(g[E],E,b,j,S);return Object.hasOwn(g,"index")&&(N.index=g.index),Object.hasOwn(g,"input")&&(N.input=g.input),N}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const N=new RegExp(g.source,g.flags);return N.lastIndex=g.lastIndex,N}if(g instanceof Map){const N=new Map;j.set(g,N);for(const[E,A]of g)N.set(E,d(A,E,b,j,S));return N}if(g instanceof Set){const N=new Set;j.set(g,N);for(const E of g)N.add(d(E,void 0,b,j,S));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const N=new(Object.getPrototypeOf(g)).constructor(g.length);j.set(g,N);for(let E=0;E<g.length;E++)N[E]=d(g[E],E,b,j,S);return N}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const N=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return j.set(g,N),f(N,g,b,j,S),N}if(typeof File<"u"&&g instanceof File){const N=new File([g],g.name,{type:g.type});return j.set(g,N),f(N,g,b,j,S),N}if(typeof Blob<"u"&&g instanceof Blob){const N=new Blob([g],{type:g.type});return j.set(g,N),f(N,g,b,j,S),N}if(g instanceof Error){const N=new g.constructor;return j.set(g,N),N.message=g.message,N.name=g.name,N.stack=g.stack,N.cause=g.cause,f(N,g,b,j,S),N}if(g instanceof Boolean){const N=new Boolean(g.valueOf());return j.set(g,N),f(N,g,b,j,S),N}if(g instanceof Number){const N=new Number(g.valueOf());return j.set(g,N),f(N,g,b,j,S),N}if(g instanceof String){const N=new String(g.valueOf());return j.set(g,N),f(N,g,b,j,S),N}if(typeof g=="object"&&m(g)){const N=Object.create(Object.getPrototypeOf(g));return j.set(g,N),f(N,g,b,j,S),N}return g}function f(g,x,b=g,j,S){const w=[...Object.keys(x),...t.getSymbols(x)];for(let N=0;N<w.length;N++){const E=w[N],A=Object.getOwnPropertyDescriptor(g,E);(A==null||A.writable)&&(g[E]=d(x[E],E,b,j,S))}}function m(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=f})(p0)),p0}var _C;function D8(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(g0)),g0}var RC;function P8(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VR(),n=D8();function r(s){return s=n.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=r})(c0)),c0}var j0={},w0={},N0={},OC;function M8(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR(),n=YR();function r(s,o){return t.cloneDeepWith(s,(u,d,f,m)=>{const g=o?.(u,d,f,m);if(g!==void 0)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r})(N0)),N0}var kC;function I8(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M8();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(w0)),w0}var S0={},E0={},DC;function QR(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(E0)),E0}var C0={},PC;function L8(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WR();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(C0)),C0}var MC;function B8(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R(),n=QR(),r=L8(),s=xb();function o(u,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&u?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=u;for(let g=0;g<f.length;g++){const x=f[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(S0)),S0}var IC;function $8(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VR(),n=pb(),r=I8(),s=vb(),o=B8();function u(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const g=s.get(m,d);return g===void 0?o.has(m,d):f===void 0?g===void 0:t.isMatch(g,f)}}e.matchesProperty=u})(j0)),j0}var LC;function U8(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR(),n=_8(),r=P8(),s=$8();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?s.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=o})(l0)),l0}var BC;function z8(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E8(),n=qR(),r=T8(),s=U8();function o(u,d=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),s.iteratee(d)):[]}e.uniqBy=o})(e0)),e0}var A0,$C;function H8(){return $C||($C=1,A0=z8().uniqBy),A0}var q8=H8();const UC=oi(q8);function ZR(e,t,n){return t===!0?UC(e,n):typeof t=="function"?UC(e,t):e}var T0={exports:{}},_0={},R0={exports:{}},O0={};var zC;function F8(){if(zC)return O0;zC=1;var e=ac();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(x,b){var j=b(),S=r({inst:{value:j,getSnapshot:b}}),w=S[0].inst,N=S[1];return o(function(){w.value=j,w.getSnapshot=b,f(w)&&N({inst:w})},[x,j,b]),s(function(){return f(w)&&N({inst:w}),x(function(){f(w)&&N({inst:w})})},[x]),u(j),j}function f(x){var b=x.getSnapshot;x=x.value;try{var j=b();return!n(x,j)}catch{return!0}}function m(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return O0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,O0}var HC;function K8(){return HC||(HC=1,R0.exports=F8()),R0.exports}var qC;function G8(){if(qC)return _0;qC=1;var e=ac(),t=K8();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return _0.useSyncExternalStoreWithSelector=function(m,g,x,b,j){var S=o(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=d(function(){function E(k){if(!A){if(A=!0,T=k,k=b(k),j!==void 0&&w.hasValue){var R=w.value;if(j(R,k))return _=R}return _=k}if(R=_,r(T,k))return R;var P=b(k);return j!==void 0&&j(R,P)?(T=k,R):(T=k,_=P)}var A=!1,T,_,O=x===void 0?null:x;return[function(){return E(g())},O===null?void 0:function(){return E(O())}]},[g,x,b,j]);var N=s(m,S[0],S[1]);return u(function(){w.hasValue=!0,w.value=N},[N]),f(N),N},_0}var FC;function V8(){return FC||(FC=1,T0.exports=G8()),T0.exports}var W8=V8(),Sb=p.createContext(null),Y8=e=>e,fn=()=>{var e=p.useContext(Sb);return e?e.store.dispatch:Y8},Af=()=>{},X8=()=>Af,Q8=(e,t)=>e===t;function Ge(e){var t=p.useContext(Sb);return W8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:X8,t?t.store.getState:Af,t?t.store.getState:Af,t?e:Af,Q8)}function Z8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function J8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ez(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var KC=e=>Array.isArray(e)?e:[e];function tz(e){const t=Array.isArray(e[0])?e[0]:e;return ez(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nz(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var rz=class{constructor(e){this.value=e}deref(){return this.value}},az=typeof WeakRef<"u"?WeakRef:rz,iz=0,GC=1;function Jh(){return{s:iz,v:void 0,o:null,p:null}}function JR(e,t={}){let n=Jh();const{resultEqualityCheck:r}=t;let s,o=0;function u(){let d=n;const{length:f}=arguments;for(let x=0,b=f;x<b;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const w=S.get(j);w===void 0?(d=Jh(),S.set(j,d)):d=w}else{let S=d.p;S===null&&(d.p=S=new Map);const w=S.get(j);w===void 0?(d=Jh(),S.set(j,d)):d=w}}const m=d;let g;if(d.s===GC)g=d.v;else if(g=e.apply(null,arguments),o++,r){const x=s?.deref?.()??s;x!=null&&r(x,g)&&(g=x,o!==0&&o--),s=typeof g=="object"&&g!==null||typeof g=="function"?new az(g):g}return m.s=GC,m.v=g,g}return u.clearCache=()=>{n=Jh(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function sz(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let o=0,u=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),Z8(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...n,...f},{memoize:x,memoizeOptions:b=[],argsMemoize:j=JR,argsMemoizeOptions:S=[]}=g,w=KC(b),N=KC(S),E=tz(s),A=x(function(){return o++,m.apply(null,arguments)},...w),T=j(function(){u++;const O=nz(E,arguments);return d=A.apply(null,O),d},...N);return Object.assign(T,{resultFunc:m,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:j})};return Object.assign(r,{withTypes:()=>r}),r}var he=sz(JR),lz=Object.assign((e,t=he)=>{J8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((u,d,f)=>(u[n[f]]=d,u),{}))},{withTypes:()=>lz}),k0={},D0={},P0={},VC;function oz(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,o)=>{if(r!==s){const u=t(r),d=t(s);if(u===d&&u===0){if(r<s)return o==="desc"?1:-1;if(r>s)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=n})(P0)),P0}var M0={},I0={},WC;function eO(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(I0)),I0}var YC;function cz(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=s})(M0)),M0}var XC;function uz(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oz(),n=cz(),r=xb();function s(o,u,d,f){if(o==null)return[];d=f?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(j=>String(j));const m=(j,S)=>{let w=j;for(let N=0;N<S.length&&w!=null;++N)w=w[S[N]];return w},g=(j,S)=>S==null||j==null?S:typeof j=="object"&&"key"in j?Object.hasOwn(S,j.key)?S[j.key]:m(S,j.path):typeof j=="function"?j(S):Array.isArray(j)?m(S,j):typeof S=="object"?S[j]:S,x=u.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:r.toPath(j)}));return o.map(j=>({original:j,criteria:x.map(S=>g(S,j))})).slice().sort((j,S)=>{for(let w=0;w<x.length;w++){const N=t.compareValues(j.criteria[w],S.criteria[w],d[w]);if(N!==0)return N}return 0}).map(j=>j.original)}e.orderBy=s})(D0)),D0}var L0={},QC;function dz(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],o=Math.floor(r),u=(d,f)=>{for(let m=0;m<d.length;m++){const g=d[m];Array.isArray(g)&&f<o?u(g,f+1):s.push(g)}};return u(n,0),s}e.flatten=t})(L0)),L0}var B0={},ZC;function tO(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QR(),n=Nb(),r=FR(),s=GR();function o(u,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],u):!1}e.isIterateeCall=o})(B0)),B0}var JC;function hz(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uz(),n=dz(),r=tO();function s(o,...u){const d=u.length;return d>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,n.flatten(u),["asc"])}e.sortBy=s})(k0)),k0}var $0,eA;function fz(){return eA||(eA=1,$0=hz().sortBy),$0}var mz=fz();const Bm=oi(mz);var nO=e=>e.legend.settings,gz=e=>e.legend.size,pz=e=>e.legend.payload,xz=he([pz,nO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Bm(r,n):r});function vz(){return Ge(xz)}var ef=1;function rO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=p.useState({height:0,left:0,top:0,width:0}),r=p.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>ef||Math.abs(u.left-t.left)>ef||Math.abs(u.top-t.top)>ef||Math.abs(u.width-t.width)>ef)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yz=typeof Symbol=="function"&&Symbol.observable||"@@observable",tA=yz,U0=()=>Math.random().toString(36).substring(7).split("").join("."),bz={INIT:`@@redux/INIT${U0()}`,REPLACE:`@@redux/REPLACE${U0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${U0()}`},Hf=bz;function Eb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aO(e,t,n){if(typeof e!="function")throw new Error(tr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tr(1));return n(aO)(e,t)}let r=e,s=t,o=new Map,u=o,d=0,f=!1;function m(){u===o&&(u=new Map,o.forEach((N,E)=>{u.set(E,N)}))}function g(){if(f)throw new Error(tr(3));return s}function x(N){if(typeof N!="function")throw new Error(tr(4));if(f)throw new Error(tr(5));let E=!0;m();const A=d++;return u.set(A,N),function(){if(E){if(f)throw new Error(tr(6));E=!1,m(),u.delete(A),o=null}}}function b(N){if(!Eb(N))throw new Error(tr(7));if(typeof N.type>"u")throw new Error(tr(8));if(typeof N.type!="string")throw new Error(tr(17));if(f)throw new Error(tr(9));try{f=!0,s=r(s,N)}finally{f=!1}return(o=u).forEach(A=>{A()}),N}function j(N){if(typeof N!="function")throw new Error(tr(10));r=N,b({type:Hf.REPLACE})}function S(){const N=x;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(tr(11));function A(){const _=E;_.next&&_.next(g())}return A(),{unsubscribe:N(A)}},[tA](){return this}}}return b({type:Hf.INIT}),{dispatch:b,subscribe:x,getState:g,replaceReducer:j,[tA]:S}}function jz(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hf.INIT})>"u")throw new Error(tr(12));if(typeof n(void 0,{type:Hf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function iO(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let s;try{jz(n)}catch(o){s=o}return function(u={},d){if(s)throw s;let f=!1;const m={};for(let g=0;g<r.length;g++){const x=r[g],b=n[x],j=u[x],S=b(j,d);if(typeof S>"u")throw d&&d.type,new Error(tr(14));m[x]=S,f=f||S!==j}return f=f||r.length!==Object.keys(u).length,f?m:u}}function qf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function wz(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(tr(15))};const u={getState:s.getState,dispatch:(f,...m)=>o(f,...m)},d=e.map(f=>f(u));return o=qf(...d)(s.dispatch),{...s,dispatch:o}}}function sO(e){return Eb(e)&&"type"in e&&typeof e.type=="string"}var lO=Symbol.for("immer-nothing"),nA=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function Ml(e){return!!e&&!!e[ta]}function Ki(e){return e?oO(e)||Array.isArray(e)||!!e[nA]||!!e.constructor?.[nA]||ld(e)||Um(e):!1}var Nz=Object.prototype.constructor.toString(),rA=new WeakMap;function oO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rA.get(n);return r===void 0&&(r=Function.toString.call(n),rA.set(n,r)),r===Nz}function Ff(e,t,n=!0){$m(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function $m(e){const t=e[ta];return t?t.type_:Array.isArray(e)?1:ld(e)?2:Um(e)?3:0}function ny(e,t){return $m(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cO(e,t,n){const r=$m(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Sz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ld(e){return e instanceof Map}function Um(e){return e instanceof Set}function xl(e){return e.copy_||e.base_}function ry(e,t){if(ld(e))return new Map(e);if(Um(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=oO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ta];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const u=s[o],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(Fu(e),r)}else{const r=Fu(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function Cb(e,t=!1){return zm(e)||Ml(e)||!Ki(e)||($m(e)>1&&Object.defineProperties(e,{set:tf,add:tf,clear:tf,delete:tf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Cb(n,!0))),e}function Ez(){$a(2)}var tf={value:Ez};function zm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Cz={};function Il(e){const t=Cz[e];return t||$a(0,e),t}var Ku;function uO(){return Ku}function Az(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aA(e,t){t&&(Il("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ay(e){iy(e),e.drafts_.forEach(Tz),e.drafts_=null}function iy(e){e===Ku&&(Ku=e.parent_)}function iA(e){return Ku=Az(Ku,e)}function Tz(e){const t=e[ta];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ta].modified_&&(ay(t),$a(4)),Ki(e)&&(e=Kf(t,e),t.parent_||Gf(t,e)),t.patches_&&Il("Patches").generateReplacementPatches_(n[ta].base_,e,t.patches_,t.inversePatches_)):e=Kf(t,n,[]),ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lO?e:void 0}function Kf(e,t,n){if(zm(t))return t;const r=e.immer_.shouldUseStrictIteration(),s=t[ta];if(!s)return Ff(t,(o,u)=>lA(e,s,t,o,u,n),r),t;if(s.scope_!==e)return t;if(!s.modified_)return Gf(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,d=!1;s.type_===3&&(u=new Set(o),o.clear(),d=!0),Ff(u,(f,m)=>lA(e,s,o,f,m,n,d),r),Gf(e,o,!1),n&&e.patches_&&Il("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function lA(e,t,n,r,s,o,u){if(s==null||typeof s!="object"&&!u)return;const d=zm(s);if(!(d&&!u)){if(Ml(s)){const f=o&&t&&t.type_!==3&&!ny(t.assigned_,r)?o.concat(r):void 0,m=Kf(e,s,f);if(cO(n,r,m),Ml(m))e.canAutoFreeze_=!1;else return}else u&&n.add(s);if(Ki(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===s&&d)return;Kf(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ld(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gf(e,s)}}}function Gf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cb(t,n)}function _z(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:uO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Ab;n&&(s=[r],o=Gu);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return r.draft_=d,r.revoke_=u,d}var Ab={get(e,t){if(t===ta)return e;const n=xl(e);if(!ny(n,t))return Rz(e,n,t);const r=n[t];return e.finalized_||!Ki(r)?r:r===z0(e.base_,t)?(H0(e),e.copy_[t]=ly(r,e)):r},has(e,t){return t in xl(e)},ownKeys(e){return Reflect.ownKeys(xl(e))},set(e,t,n){const r=dO(xl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=z0(xl(e),t),o=s?.[ta];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Sz(n,s)&&(n!==void 0||ny(e.base_,t)))return!0;H0(e),sy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return z0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,H0(e),sy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){$a(12)}},Gu={};Ff(Ab,(e,t)=>{Gu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Gu.deleteProperty=function(e,t){return Gu.set.call(this,e,t,void 0)};Gu.set=function(e,t,n){return Ab.set.call(this,e[0],t,n,e[0])};function z0(e,t){const n=e[ta];return(n?xl(n):e)[t]}function Rz(e,t,n){const r=dO(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function dO(e,t){if(!(t in e))return;let n=Fu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fu(n)}}function sy(e){e.modified_||(e.modified_=!0,e.parent_&&sy(e.parent_))}function H0(e){e.copy_||(e.copy_=ry(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Oz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(f=o,...m){return u.produce(f,g=>n.call(this,g,...m))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let s;if(Ki(t)){const o=iA(this),u=ly(t,void 0);let d=!0;try{s=n(u),d=!1}finally{d?ay(o):iy(o)}return aA(o,r),sA(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===lO&&(s=void 0),this.autoFreeze_&&Cb(s,!0),r){const o=[],u=[];Il("Patches").generateReplacementPatches_(t,s,o,u),r(o,u)}return s}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,f=>t(f,...d));let r,s;return[this.produce(t,n,(u,d)=>{r=u,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ki(e)||$a(8),Ml(e)&&(e=$i(e));const t=iA(this),n=ly(e,void 0);return n[ta].isManual_=!0,iy(t),n}finishDraft(e,t){const n=e&&e[ta];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return aA(r,t),sA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Il("Patches").applyPatches_;return Ml(e)?r(e,t):this.produce(e,s=>r(s,t))}};function ly(e,t){const n=ld(e)?Il("MapSet").proxyMap_(e,t):Um(e)?Il("MapSet").proxySet_(e,t):_z(e,t);return(t?t.scope_:uO()).drafts_.push(n),n}function $i(e){return Ml(e)||$a(10,e),hO(e)}function hO(e){if(!Ki(e)||zm(e))return e;const t=e[ta];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ry(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ry(e,!0);return Ff(n,(s,o)=>{cO(n,s,hO(o))},r),t&&(t.finalized_=!1),n}var oy=new Oz,fO=oy.produce,kz=oy.setUseStrictIteration.bind(oy);function mO(e){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,e):s(o)}var Dz=mO(),Pz=mO,Mz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qf:qf.apply(null,arguments)};function Ra(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(Zr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>sO(r)&&r.type===e,n}var gO=class Tu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Tu.prototype)}static get[Symbol.species](){return Tu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Tu(...t[0].concat(this)):new Tu(...t.concat(this))}};function oA(e){return Ki(e)?fO(e,()=>{}):e}function nf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Iz(e){return typeof e=="boolean"}var Lz=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let u=new gO;return n&&(Iz(n)?u.push(Dz):u.push(Pz(n.extraArgument))),u},pO="RTK_autoBatch",vr=()=>e=>({payload:e,meta:{[pO]:!0}}),cA=e=>t=>{setTimeout(t,e)},xO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,o=!1,u=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cA(10):e.type==="callback"?e.queueNotification:cA(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>s&&g(),b=r.subscribe(x);return d.add(g),()=>{b(),d.delete(g)}},dispatch(g){try{return s=!g?.meta?.[pO],o=!s,o&&(u||(u=!0,f(m))),r.dispatch(g)}finally{s=!0}}})},Bz=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new gO(e);return r&&s.push(xO(typeof r=="object"?r:void 0)),s};function $z(e){const t=Lz(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Eb(n))d=iO(n);else throw new Error(Zr(1));let f;typeof r=="function"?f=r(t):f=t();let m=qf;s&&(m=Mz({trace:!1,...typeof s=="object"&&s}));const g=wz(...f),x=Bz(g);let b=typeof u=="function"?u(x):x();const j=m(...b);return aO(d,o,j)}function vO(e){const t={},n=[];let r;const s={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(Zr(28));if(d in t)throw new Error(Zr(29));return t[d]=u,s},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return n.push({matcher:o,reducer:u}),s},addDefaultCase(o){return r=o,s}};return e(s),[t,n,r]}kz(!1);function Uz(e){return typeof e=="function"}function zz(e,t){let[n,r,s]=vO(t),o;if(Uz(e))o=()=>oA(e());else{const d=oA(e);o=()=>d}function u(d=o(),f){let m=[n[f.type],...r.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[s]),m.reduce((g,x)=>{if(x)if(Ml(g)){const j=x(g,f);return j===void 0?g:j}else{if(Ki(g))return fO(g,b=>x(b,f));{const b=x(g,f);if(b===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return g},d)}return u.getInitialState=o,u}var Hz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qz=(e=21)=>{let t="",n=e;for(;n--;)t+=Hz[Math.random()*64|0];return t},Fz=Symbol.for("rtk-slice-createasyncthunk");function Kz(e,t){return`${e}/${t}`}function Gz({creators:e}={}){const t=e?.asyncThunk?.[Fz];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(Zr(11));const u=(typeof r.reducers=="function"?r.reducers(Wz()):r.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,_){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(Zr(12));if(O in f.sliceCaseReducersByType)throw new Error(Zr(13));return f.sliceCaseReducersByType[O]=_,m},addMatcher(T,_){return f.sliceMatchers.push({matcher:T,reducer:_}),m},exposeAction(T,_){return f.actionCreators[T]=_,m},exposeCaseReducer(T,_){return f.sliceCaseReducersByName[T]=_,m}};d.forEach(T=>{const _=u[T],O={reducerName:T,type:Kz(s,T),createNotation:typeof r.reducers=="function"};Xz(_)?Zz(O,_,m,t):Yz(O,_,m)});function g(){const[T={},_=[],O=void 0]=typeof r.extraReducers=="function"?vO(r.extraReducers):[r.extraReducers],k={...T,...f.sliceCaseReducersByType};return zz(r.initialState,R=>{for(let P in k)R.addCase(P,k[P]);for(let P of f.sliceMatchers)R.addMatcher(P.matcher,P.reducer);for(let P of _)R.addMatcher(P.matcher,P.reducer);O&&R.addDefaultCase(O)})}const x=T=>T,b=new Map,j=new WeakMap;let S;function w(T,_){return S||(S=g()),S(T,_)}function N(){return S||(S=g()),S.getInitialState()}function E(T,_=!1){function O(R){let P=R[T];return typeof P>"u"&&_&&(P=nf(j,O,N)),P}function k(R=x){const P=nf(b,_,()=>new WeakMap);return nf(P,R,()=>{const F={};for(const[re,L]of Object.entries(r.selectors??{}))F[re]=Vz(L,R,()=>nf(j,R,N),_);return F})}return{reducerPath:T,getSelectors:k,get selectors(){return k(O)},selectSlice:O}}const A={name:s,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...E(o),injectInto(T,{reducerPath:_,...O}={}){const k=_??o;return T.inject({reducerPath:k,reducer:w},O),{...A,...E(k,!0)}}};return A}}function Vz(e,t,n,r){function s(o,...u){let d=t(o);return typeof d>"u"&&r&&(d=n()),e(d,...u)}return s.unwrapped=e,s}var na=Gz();function Wz(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Yz({type:e,reducerName:t,createNotation:n},r,s){let o,u;if("reducer"in r){if(n&&!Qz(r))throw new Error(Zr(17));o=r.reducer,u=r.prepare}else o=r;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Ra(e,u):Ra(e))}function Xz(e){return e._reducerDefinitionType==="asyncThunk"}function Qz(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Zz({type:e,reducerName:t},n,r,s){if(!s)throw new Error(Zr(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:f,settled:m,options:g}=n,x=s(e,o,g);r.exposeAction(t,x),u&&r.addCase(x.fulfilled,u),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:u||rf,pending:d||rf,rejected:f||rf,settled:m||rf})}function rf(){}var Jz="task",yO="listener",bO="completed",Tb="cancelled",e9=`task-${Tb}`,t9=`task-${bO}`,cy=`${yO}-${Tb}`,n9=`${yO}-${bO}`,Hm=class{constructor(e){this.code=e,this.message=`${Jz} ${Tb} (reason: ${e})`}name="TaskAbortError";message},_b=(e,t)=>{if(typeof e!="function")throw new TypeError(Zr(32))},Vf=()=>{},jO=(e,t=Vf)=>(e.catch(t),e),wO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),El=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Cl=e=>{if(e.aborted){const{reason:t}=e;throw new Hm(t)}};function NO(e,t){let n=Vf;return new Promise((r,s)=>{const o=()=>s(new Hm(e.reason));if(e.aborted){o();return}n=wO(e,o),t.finally(()=>n()).then(r,s)}).finally(()=>{n=Vf})}var r9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Hm?"cancelled":"rejected",error:n}}finally{t?.()}},Wf=e=>t=>jO(NO(e,t).then(n=>(Cl(e),n))),SO=e=>{const t=Wf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Fo}=Object,uA={},qm="listenerMiddleware",a9=(e,t)=>{const n=r=>wO(e,()=>El(r,e.reason));return(r,s)=>{_b(r);const o=new AbortController;n(o);const u=r9(async()=>{Cl(e),Cl(o.signal);const d=await r({pause:Wf(o.signal),delay:SO(o.signal),signal:o.signal});return Cl(o.signal),d},()=>El(o,t9));return s?.autoJoin&&t.push(u.catch(Vf)),{result:Wf(e)(u),cancel(){El(o,e9)}}}},i9=(e,t)=>{const n=async(r,s)=>{Cl(t);let o=()=>{};const d=[new Promise((f,m)=>{let g=e({predicate:r,effect:(x,b)=>{b.unsubscribe(),f([x,b.getState(),b.getOriginalState()])}});o=()=>{g(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await NO(t,Promise.race(d));return Cl(t),f}finally{o()}};return(r,s)=>jO(n(r,s))},EO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:o}=e;if(t)s=Ra(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(Zr(21));return _b(o),{predicate:s,type:t,effect:o}},CO=Fo(e=>{const{type:t,predicate:n,effect:r}=EO(e);return{id:qz(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>CO}),dA=(e,t)=>{const{type:n,effect:r,predicate:s}=EO(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===s)&&o.effect===r)},uy=e=>{e.pending.forEach(t=>{El(t,cy)})},s9=(e,t)=>()=>{for(const n of t.keys())uy(n);e.clear()},hA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},AO=Fo(Ra(`${qm}/add`),{withTypes:()=>AO}),l9=Ra(`${qm}/removeAll`),TO=Fo(Ra(`${qm}/remove`),{withTypes:()=>TO}),o9=(...e)=>{console.error(`${qm}/error`,...e)},od=(e={})=>{const t=new Map,n=new Map,r=j=>{const S=n.get(j)??0;n.set(j,S+1)},s=j=>{const S=n.get(j)??1;S===1?n.delete(j):n.set(j,S-1)},{extra:o,onError:u=o9}=e;_b(u);const d=j=>(j.unsubscribe=()=>t.delete(j.id),t.set(j.id,j),S=>{j.unsubscribe(),S?.cancelActive&&uy(j)}),f=j=>{const S=dA(t,j)??CO(j);return d(S)};Fo(f,{withTypes:()=>f});const m=j=>{const S=dA(t,j);return S&&(S.unsubscribe(),j.cancelActive&&uy(S)),!!S};Fo(m,{withTypes:()=>m});const g=async(j,S,w,N)=>{const E=new AbortController,A=i9(f,E.signal),T=[];try{j.pending.add(E),r(j),await Promise.resolve(j.effect(S,Fo({},w,{getOriginalState:N,condition:(_,O)=>A(_,O).then(Boolean),take:A,delay:SO(E.signal),pause:Wf(E.signal),extra:o,signal:E.signal,fork:a9(E.signal,T),unsubscribe:j.unsubscribe,subscribe:()=>{t.set(j.id,j)},cancelActiveListeners:()=>{j.pending.forEach((_,O,k)=>{_!==E&&(El(_,cy),k.delete(_))})},cancel:()=>{El(E,cy),j.pending.delete(E)},throwIfCancelled:()=>{Cl(E.signal)}})))}catch(_){_ instanceof Hm||hA(u,_,{raisedBy:"effect"})}finally{await Promise.all(T),El(E,n9),s(j),j.pending.delete(E)}},x=s9(t,n);return{middleware:j=>S=>w=>{if(!sO(w))return S(w);if(AO.match(w))return f(w.payload);if(l9.match(w)){x();return}if(TO.match(w))return m(w.payload);let N=j.getState();const E=()=>{if(N===uA)throw new Error(Zr(23));return N};let A;try{if(A=S(w),t.size>0){const T=j.getState(),_=Array.from(t.values());for(const O of _){let k=!1;try{k=O.predicate(w,T,N)}catch(R){k=!1,hA(u,R,{raisedBy:"predicate"})}k&&g(O,w,j,E)}}}finally{N=uA}return A},startListening:f,stopListening:m,clearListeners:x}};function Zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var c9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_O=na({name:"chartLayout",initialState:c9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,s,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:u9,setLayout:d9,setChartSize:h9,setScale:f9}=_O.actions,m9=_O.reducer;function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){g9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yf=Math.PI/180,v9=e=>e*180/Math.PI,Pn=(e,t,n,r)=>({x:e+Math.cos(-Yf*r)*n,y:t+Math.sin(-Yf*r)*n}),RO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},y9=(e,t)=>{var{x:n,y:r}=e,{x:s,y:o}=t;return Math.sqrt((n-s)**2+(r-o)**2)},b9=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:o}=t,u=y9({x:n,y:r},{x:s,y:o});if(u<=0)return{radius:u,angle:0};var d=(n-s)/u,f=Math.acos(d);return r>o&&(f=2*Math.PI-f),{radius:u,angle:v9(f),angleInRadian:f}},j9=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),o=Math.min(r,s);return{startAngle:t-o*360,endAngle:n-o*360}},w9=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(s,o);return e+u*360},N9=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:o}=b9({x:n,y:r},t),{innerRadius:u,outerRadius:d}=t;if(s<u||s>d||s===0)return null;var{startAngle:f,endAngle:m}=j9(t),g=o,x;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}return x?mA(mA({},t),{},{radius:s,angle:w9(g,t)}):null};function OO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){S9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S9(e,t,n){return(t=E9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=C9(e,"string");return typeof t=="symbol"?t:t+""}function C9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zt(e,t,n){return hn(e)||hn(t)?n:ai(t)?Pl(e,t,n):typeof t=="function"?t(e):n}var A9=(e,t,n,r,s)=>{var o,u=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,g=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,b=void 0;if(Vn(g-m)!==Vn(x-g)){var j=[];if(Vn(x-g)===Vn(s[1]-s[0])){b=x;var S=g+s[1]-s[0];j[0]=Math.min(S,(S+m)/2),j[1]=Math.max(S,(S+m)/2)}else{b=m;var w=x+s[1]-s[0];j[0]=Math.min(g,(w+g)/2),j[1]=Math.max(g,(w+g)/2)}var N=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>N[0]&&e<=N[1]||e>=j[0]&&e<=j[1]){({index:u}=n[f]);break}}else{var E=Math.min(m,x),A=Math.max(m,x);if(e>(E+g)/2&&e<=(A+g)/2){({index:u}=n[f]);break}}}else if(t){for(var T=0;T<d;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:u}=t[T]);break}}return u},T9=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&Ye(e[o]))return Na(Na({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&Ye(e[u]))return Na(Na({},e),{},{[u]:e[u]+(s||0)})}return e},qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",kO=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var s,o,u=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate));return s||u.push(t),o||u.push(n),u},DO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:o,scale:u,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:b,axisType:j}=e;if(!u)return null;var S=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=s==="category"&&u.bandwidth?u.bandwidth()/S:0;if(w=j==="angleAxis"&&o&&o.length>=2?Vn(o[0]-o[1])*2*w:w,x||b){var N=(x||b||[]).map((E,A)=>{var T=r?r.indexOf(E):E;return{coordinate:u(T)+w,value:E,offset:w,index:A}});return N.filter(E=>!_a(E.coordinate))}return f&&m?m.map((E,A)=>({coordinate:u(E)+w,value:E,index:A,offset:w})):u.ticks&&g!=null?u.ticks(g).map((E,A)=>({coordinate:u(E)+w,value:E,offset:w,index:A})):u.domain().map((E,A)=>({coordinate:u(E)+w,value:r?r[E]:E,index:A,offset:w}))},pA=1e-4,_9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-pA,o=Math.max(r[0],r[1])+pA,u=e(t[0]),d=e(t[n-1]);(u<s||u>o||d<s||d>o)&&e.domain([t[0],t[n-1]])}},R9=(e,t)=>{if(!t||t.length!==2||!Ye(t[0])||!Ye(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ye(e[0])||e[0]<n)&&(s[0]=n),(!Ye(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},O9=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,o=0,u=0;u<t;++u){var d=_a(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},k9=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,o=0;o<t;++o){var u=_a(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},D9={sign:O9,expand:r8,none:Yo,silhouette:a8,wiggle:i8,positive:k9},P9=(e,t,n)=>{var r=D9[n],s=n8().keys(t).value((o,u)=>+Zt(o,u,0)).order(Jv).offset(r);return s(e)};function M9(e){return e==null?void 0:String(e)}function xA(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!hn(s[t.dataKey])){var d=zR(n,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=Zt(s,hn(u)?t.dataKey:u);return hn(f)?null:t.scale(f)}var vA=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:o,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var d=Zt(o,t.dataKey,t.scale.domain()[u]);return hn(d)?null:t.scale(d)-s/2+r},I9=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},L9=e=>{var t=e.flat(2).filter(Ye);return[Math.min(...t),Math.max(...t)]},B9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$9=(e,t,n)=>{if(e!=null)return B9(Object.keys(e).reduce((r,s)=>{var o=e[s],{stackedData:u}=o,d=u.reduce((f,m)=>{var g=OO(m,t,n),x=L9(g);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},yA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vu=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=Bm(t,g=>g.coordinate),o=1/0,u=1,d=s.length;u<d;u++){var f=s[u],m=s[u-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function jA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:o}=e;return Na(Na({},t),{},{dataKey:n,payload:r,value:s,name:o})}function fc(e,t){if(e)return String(e);if(typeof t=="string")return t}function U9(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return r?N9({x:e,y:t},r):null}var z9=(e,t,n,r)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:u}=r;return Na(Na(Na({},r),Pn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,{angle:f}=r;return Na(Na(Na({},r),Pn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},H9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Yi=e=>e.layout.width,Xi=e=>e.layout.height,q9=e=>e.layout.scale,PO=e=>e.layout.margin,Fm=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Km=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),MO="data-recharts-item-index",IO="data-recharts-item-data-key",cd=60;function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){F9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V9=e=>e.brush.height;function W9(e){var t=Km(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:cd;return n+s}return n},0)}function Y9(e){var t=Km(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:cd;return n+s}return n},0)}function X9(e){var t=Fm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Q9(e){var t=Fm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Un=he([Yi,Xi,PO,V9,W9,Y9,X9,Q9,nO,gz],(e,t,n,r,s,o,u,d,f,m)=>{var g={left:(n.left||0)+s,right:(n.right||0)+o},x={top:(n.top||0)+u,bottom:(n.bottom||0)+d},b=af(af({},x),g),j=b.bottom;b.bottom+=r,b=T9(b,f,m);var S=e-b.left-b.right,w=t-b.top-b.bottom;return af(af({brushBottom:j},b),{},{width:Math.max(S,0),height:Math.max(w,0)})}),Z9=he(Un,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Rb=he(Yi,Xi,(e,t)=>({x:0,y:0,width:e,height:t})),J9=p.createContext(null),Sr=()=>p.useContext(J9)!=null,Gm=e=>e.brush,Vm=he([Gm,Un,PO],(e,t,n)=>({height:e.height,x:Ye(e.x)?e.x:t.left,y:Ye(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ye(e.width)?e.width:t.width})),q0={},F0={},K0={},NA;function e7(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:o}={}){let u,d=null;const f=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{d!==null&&(n.apply(u,d),u=void 0,d=null)},x=()=>{m&&g(),w()};let b=null;const j=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{S(),u=void 0,d=null},N=()=>{g()},E=function(...A){if(s?.aborted)return;u=this,d=A;const T=b==null;j(),f&&T&&g()};return E.schedule=j,E.cancel=w,E.flush=N,s?.addEventListener("abort",w,{once:!0}),E}e.debounce=t})(K0)),K0}var SA;function t7(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e7();function n(r,s=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:f}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let g,x=null;const b=t.debounce(function(...w){g=r.apply(this,w),x=null},s,{edges:m}),j=function(...w){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(g=r.apply(this,w),x=Date.now(),b.cancel(),b.schedule(),g):(b.apply(this,w),g)},S=()=>(b.flush(),g);return j.cancel=b.cancel,j.flush=S,j}e.debounce=n})(F0)),F0}var EA;function n7(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t7();function n(r,s=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(r,s,{leading:u,maxWait:s,trailing:d})}e.throttle=n})(q0)),q0}var G0,CA;function r7(){return CA||(CA=1,G0=n7().throttle),G0}var a7=r7();const i7=oi(a7);var Xf=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o]},LO=(e,t,n)=>{var{width:r="100%",height:s="100%",aspect:o,maxHeight:u}=n,d=Fi(r)?e:Number(r),f=Fi(s)?t:Number(s);return o&&o>0&&(d?f=d/o:f&&(d=f*o),u&&f>u&&(f=u)),{calculatedWidth:d,calculatedHeight:f}},s7={width:0,height:0,overflow:"visible"},l7={width:0,overflowX:"visible"},o7={height:0,overflowY:"visible"},c7={},u7=e=>{var{width:t,height:n}=e,r=Fi(t),s=Fi(n);return r&&s?s7:r?l7:s?o7:c7};function d7(e){var{width:t,height:n,aspect:r}=e,s=t,o=n;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:s,height:o}}function fr(e){return Number.isFinite(e)}function Xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(null,arguments)}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){h7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h7(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=m7(e,"string");return typeof t=="symbol"?t:t+""}function m7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BO=p.createContext({width:-1,height:-1});function $O(e){var{children:t,width:n,height:r}=e,s=p.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:p.createElement(BO.Provider,{value:s},t)}var Ob=()=>p.useContext(BO),g7=p.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s,height:o,minWidth:u=0,minHeight:d,maxHeight:f,children:m,debounce:g=0,id:x,className:b,onResize:j,style:S={}}=e,w=p.useRef(null),N=p.useRef();N.current=j,p.useImperativeHandle(t,()=>w.current);var[E,A]=p.useState({containerWidth:r.width,containerHeight:r.height}),T=p.useCallback((P,F)=>{A(re=>{var L=Math.round(P),G=Math.round(F);return re.containerWidth===L&&re.containerHeight===G?re:{containerWidth:L,containerHeight:G}})},[]);p.useEffect(()=>{var P=G=>{var J,{width:je,height:ge}=G[0].contentRect;T(je,ge),(J=N.current)===null||J===void 0||J.call(N,je,ge)};g>0&&(P=i7(P,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(P),{width:re,height:L}=w.current.getBoundingClientRect();return T(re,L),F.observe(w.current),()=>{F.disconnect()}},[T,g]);var{containerWidth:_,containerHeight:O}=E;Xf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:R}=LO(_,O,{width:s,height:o,aspect:n,maxHeight:f});return Xf(k>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,R,s,o,u,d,n),p.createElement("div",{id:x?"".concat(x):void 0,className:jt("recharts-responsive-container",b),style:TA(TA({},S),{},{width:s,height:o,minWidth:u,minHeight:d,maxHeight:f}),ref:w},p.createElement("div",{style:u7({width:s,height:o})},p.createElement($O,{width:k,height:R},m)))}),ud=p.forwardRef((e,t)=>{var n=Ob();if(Xo(n.width)&&Xo(n.height))return e.children;var{width:r,height:s}=d7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=LO(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Ye(o)&&Ye(u)?p.createElement($O,{width:o,height:u},e.children):p.createElement(g7,dy({},e,{width:r,height:s,ref:t}))}),Wm=()=>{var e,t=Sr(),n=Ge(Z9),r=Ge(Vm),s=(e=Ge(Gm))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},p7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},UO=()=>{var e;return(e=Ge(Un))!==null&&e!==void 0?e:p7},kb=()=>Ge(Yi),Db=()=>Ge(Xi),x7=()=>Ge(e=>e.layout.margin),wt=e=>e.layout.layoutType,Ym=()=>Ge(wt),Xm=e=>{var t=fn(),n=Sr(),{width:r,height:s}=e,o=Ob(),u=r,d=s;return o&&(u=o.width>0?o.width:r,d=o.height>0?o.height:s),p.useEffect(()=>{!n&&Xo(u)&&Xo(d)&&t(h9({width:u,height:d}))},[t,n,u,d]),null},v7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zO=na({name:"legend",initialState:v7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:vr()},removeLegendPayload:{reducer(e,t){var n=$i(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:vr()}}}),{setLegendSize:_A,setLegendSettings:y7,addLegendPayload:HO,removeLegendPayload:qO}=zO.actions,b7=zO.reducer,j7=["contextPayload"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(null,arguments)}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){Pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n){return(t=w7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S7(e,t){if(e==null)return{};var n,r,s=E7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function E7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C7(e){return e.value}function A7(e){var{contextPayload:t}=e,n=S7(e,j7),r=ZR(t,e.payloadUniqBy,C7),s=Qo(Qo({},n),{},{payload:r});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(wb,s)}function T7(e,t,n,r,s,o){var{layout:u,align:d,verticalAlign:f}=t,m,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&u==="vertical"?m={left:((r||0)-o.width)/2}:m=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?g={top:((s||0)-o.height)/2}:g=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Qo(Qo({},m),g)}function _7(e){var t=fn();return p.useEffect(()=>{t(y7(e))},[t,e]),null}function R7(e){var t=fn();return p.useEffect(()=>(t(_A(e)),()=>{t(_A({width:0,height:0}))}),[t,e]),null}function O7(e){var t=vz(),n=CU(),r=x7(),{width:s,height:o,wrapperStyle:u,portal:d}=e,[f,m]=rO([t]),g=kb(),x=Db();if(g==null||x==null)return null;var b=g-(r.left||0)-(r.right||0),j=Fl.getWidthOrHeight(e.layout,o,s,b),S=d?u:Qo(Qo({position:"absolute",width:j?.width||s||"auto",height:j?.height||o||"auto"},T7(u,e,r,g,x,f)),u),w=d??n;if(w==null)return null;var N=p.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:m},p.createElement(_7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(R7,{width:f.width,height:f.height}),p.createElement(A7,hy({},e,j,{margin:r,chartWidth:g,chartHeight:x,contextPayload:t})));return Rm.createPortal(N,w)}class Fl extends p.PureComponent{static getWidthOrHeight(t,n,r,s){return t==="vertical"&&Ye(n)?{height:n}:t==="horizontal"?{width:r||s}:null}render(){return p.createElement(O7,this.props)}}Pb(Fl,"displayName","Legend");Pb(Fl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){k7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7(e,t,n){return(t=D7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M7(e){return Array.isArray(e)&&ai(e[0])&&ai(e[1])?e.join(" ~ "):e}var I7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:o,formatter:u,itemSorter:d,wrapperClassName:f,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:b=!1}=e,j=()=>{if(o&&o.length){var O={padding:0,margin:0},k=(d?Bm(o,d):o).map((R,P)=>{if(R.type==="none")return null;var F=R.formatter||u||M7,{value:re,name:L}=R,G=re,J=L;if(F){var je=F(re,L,R,P,o);if(Array.isArray(je))[G,J]=je;else if(je!=null)G=je;else return null}var ge=V0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ge},ai(J)?p.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ai(J)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},G),p.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:O},k)}return null},S=V0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=V0({margin:0},s),N=!hn(g),E=N?g:"",A=jt("recharts-default-tooltip",f),T=jt("recharts-tooltip-label",m);N&&x&&o!==void 0&&o!==null&&(E=x(g,o));var _=b?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",fy({className:A,style:S},_),p.createElement("p",{className:T,style:w},p.isValidElement(E)?E:"".concat(E)),j())},yu="recharts-tooltip-wrapper",L7={visibility:"hidden"};function B7(e){var{coordinate:t,translateX:n,translateY:r}=e;return jt(yu,{["".concat(yu,"-right")]:Ye(n)&&t&&Ye(t.x)&&n>=t.x,["".concat(yu,"-left")]:Ye(n)&&t&&Ye(t.x)&&n<t.x,["".concat(yu,"-bottom")]:Ye(r)&&t&&Ye(t.y)&&r>=t.y,["".concat(yu,"-top")]:Ye(r)&&t&&Ye(t.y)&&r<t.y})}function kA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:o,reverseDirection:u,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(o&&Ye(o[r]))return o[r];var g=n[r]-d-(s>0?s:0),x=n[r]+s;if(t[r])return u[r]?g:x;var b=f[r];if(b==null)return 0;if(u[r]){var j=g,S=b;return j<S?Math.max(x,b):Math.max(g,b)}if(m==null)return 0;var w=x+d,N=b+m;return w>N?Math.max(g,b):Math.max(x,b)}function $7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function U7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,m,g,x;return u.height>0&&u.width>0&&n?(g=kA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),x=kA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),m=$7({translateX:g,translateY:x,useTranslate3d:d})):m=L7,{cssProperties:m,cssClasses:B7({translateX:g,translateY:x,coordinate:n})}}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){my(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function my(e,t,n){return(t=z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q7 extends p.PureComponent{constructor(){super(...arguments),my(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),my(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:o,coordinate:u,hasPayload:d,isAnimationActive:f,offset:m,position:g,reverseDirection:x,useTranslate3d:b,viewBox:j,wrapperStyle:S,lastBoundingBox:w,innerRef:N,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:T}=U7({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:j}),_=E?{}:sf(sf({transition:f&&t?"transform ".concat(r,"ms ").concat(s):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=sf(sf({},_),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},S);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:O,ref:N},o)}}var F7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fs={devToolsEnabled:!1,isSsr:F7()},FO=()=>Ge(e=>e.rootProps.accessibilityLayer);function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){K7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IA={curveBasisClosed:KU,curveBasisOpen:GU,curveBasis:FU,curveBumpX:RU,curveBumpY:OU,curveLinearClosed:VU,curveLinear:Im,curveMonotoneX:WU,curveMonotoneY:YU,curveNatural:XU,curveStep:QU,curveStepAfter:JU,curveStepBefore:ZU},lf=e=>fr(e.x)&&fr(e.y),bu=e=>e.x,ju=e=>e.y,W7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(id(e));return(n==="curveMonotone"||n==="curveBump")&&t?IA["".concat(n).concat(t==="vertical"?"Y":"X")]:IA[n]||Im},Y7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:o=!1}=e,u=W7(t,s),d=o?n.filter(lf):n,f;if(Array.isArray(r)){var m=o?r.filter(x=>lf(x)):r,g=d.map((x,b)=>MA(MA({},x),{},{base:m[b]}));return s==="vertical"?f=Zh().y(ju).x1(bu).x0(x=>x.base.x):f=Zh().x(bu).y1(ju).y0(x=>x.base.y),f.defined(lf).curve(u),f(g)}return s==="vertical"&&Ye(r)?f=Zh().y(ju).x1(bu).x0(r):Ye(r)?f=Zh().x(bu).y1(ju).y0(r):f=TR().x(bu).y(ju),f.defined(lf).curve(u),f(d)},Mb=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Y7(e):r;return p.createElement("path",gy({},ea(e),bb(e),{className:jt("recharts-curve",t),d:o===null?void 0:o,ref:s}))},X7=["x","y","top","left","width","height","className"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Q7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){Z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z7(e,t,n){return(t=J7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e,t){if(e==null)return{};var n,r,s=nH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rH=(e,t,n,r,s,o)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),aH=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:o=0,height:u=0,className:d}=e,f=tH(e,X7),m=Q7({x:t,y:n,top:r,left:s,width:o,height:u},f);return!Ye(t)||!Ye(n)||!Ye(o)||!Ye(u)||!Ye(r)||!Ye(s)?null:p.createElement("path",py({},Nr(m),{className:jt("recharts-cross",d),d:rH(t,n,o,u,r,s)}))};function iH(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){lH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lH(e,t,n){return(t=oH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t){var n=sH({},e),r=t,s=Object.keys(t),o=s.reduce((u,d)=>(u[d]===void 0&&r[d]!==void 0&&(u[d]=r[d]),u),n);return o}function uH(){}function dH(e){return e!=null}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=fH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KO=(e,t,n)=>e.map(r=>"".concat(gH(r)," ").concat(t,"ms ").concat(n)).join(","),pH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),Wu=(e,t)=>Object.keys(t).reduce((n,r)=>UA(UA({},n),{},{[r]:e(r,t[r])}),{});function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qf=(e,t,n)=>e+(t-e)*n,xy=e=>{var{from:t,to:n}=e;return t!==n},GO=(e,t,n)=>{var r=Wu((s,o)=>{if(xy(o)){var[u,d]=e(o.from,o.to,o.velocity);return nr(nr({},o),{},{from:u,velocity:d})}return o},t);return n<1?Wu((s,o)=>xy(o)?nr(nr({},o),{},{velocity:Qf(o.velocity,r[s].velocity,n),from:Qf(o.from,r[s].from,n)}):o,t):GO(e,r,n-1)};function bH(e,t,n,r,s,o){var u,d=r.reduce((b,j)=>nr(nr({},b),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),f=()=>Wu((b,j)=>j.from,d),m=()=>!Object.values(d).filter(xy).length,g=null,x=b=>{u||(u=b);var j=b-u,S=j/n.dt;d=GO(n,d,S),s(nr(nr(nr({},e),t),f())),u=b,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function jH(e,t,n,r,s,o,u){var d=null,f=s.reduce((x,b)=>nr(nr({},x),{},{[b]:[e[b],t[b]]}),{}),m,g=x=>{m||(m=x);var b=(x-m)/r,j=Wu((w,N)=>Qf(...N,n(b)),f);if(o(nr(nr(nr({},e),t),j)),b<1)d=u.setTimeout(g);else{var S=Wu((w,N)=>Qf(...N,n(1)),f);o(nr(nr(nr({},e),t),S))}};return()=>(d=u.setTimeout(g),()=>{d()})}const wH=(e,t,n,r,s,o)=>{var u=pH(e,t);return n.isStepper===!0?bH(e,t,n,u,s,o):jH(e,t,n,r,u,s,o)};var Zf=1e-4,VO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WO=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),HA=(e,t)=>n=>{var r=VO(e,t);return WO(r,n)},NH=(e,t)=>n=>{var r=VO(e,t),s=[...r.map((o,u)=>o*u).slice(1),0];return WO(s,n)},qA=function(){for(var t,n,r,s,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var f=u[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,s]=f[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else u.length===4&&([t,r,n,s]=u);var m=HA(t,n),g=HA(r,s),x=NH(t,n),b=S=>S>1?1:S<0?0:S,j=S=>{for(var w=S>1?1:S,N=w,E=0;E<8;++E){var A=m(N)-w,T=x(N);if(Math.abs(A-w)<Zf||T<Zf)return g(N);N=b(N-A/T)}return g(N)};return j.isStepper=!1,j},SH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,o=(u,d,f)=>{var m=-(u-d)*n,g=f*r,x=f+(m-g)*s/1e3,b=f*s/1e3+u;return Math.abs(b-d)<Zf&&Math.abs(x)<Zf?[d,0]:[b,x]};return o.isStepper=!0,o.dt=s,o},EH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qA(e);case"spring":return SH();default:if(e.split("(")[0]==="cubic-bezier")return qA(e)}return typeof e=="function"?e:null};function CH(e){var t,n=()=>null,r=!1,s=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var d=u,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(o.bind(null,m),f);return}o(f),s=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,s&&(s(),s=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class AH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,o=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}function TH(){return CH(new AH)}var _H=p.createContext(TH);function RH(e,t){var n=p.useContext(_H);return p.useMemo(()=>t??n(e),[e,t,n])}var OH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},FA={t:0},W0={t:1};function dd(e){var t=sr(e,OH),{isActive:n,canBegin:r,duration:s,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:f,children:m}=t,g=RH(t.animationId,t.animationManager),[x,b]=p.useState(n?FA:W0),j=p.useRef(null);return p.useEffect(()=>{n||b(W0)},[n]),p.useEffect(()=>{if(!n||!r)return uH;var S=wH(FA,W0,EH(o),s,b,g.getTimeoutController()),w=()=>{j.current=S()};return g.start([f,u,w,s,d]),()=>{g.stop(),j.current&&j.current(),d()}},[n,r,s,o,u,f,d,g]),m(x.t)}function hd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(qu(t)),r=p.useRef(e);return r.current!==e&&(n.current=qu(t),r.current=e),n.current}var kH=["radius"],DH=["radius"];function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){PH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PH(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(null,arguments)}function VA(e,t){if(e==null)return{};var n,r,s=LH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function LH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WA=(e,t,n,r,s)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(o>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,b=4;x<b;x++)g[x]=s[x]>o?o:s[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(t)),m+="L ".concat(e+n-d*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+u*g[1])),m+="L ".concat(e+n,",").concat(t+r-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-d*g[2],",").concat(t+r)),m+="L ".concat(e+d*g[3],",").concat(t+r),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-u*g[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var j=Math.min(o,s);m="M ".concat(e,",").concat(t+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+d*j,",").concat(t,`
            L `).concat(e+n-d*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n,",").concat(t+u*j,`
            L `).concat(e+n,",").concat(t+r-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+n-d*j,",").concat(t+r,`
            L `).concat(e+d*j,",").concat(t+r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e,",").concat(t+r-u*j," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},BH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YO=e=>{var t=sr(e,BH),n=p.useRef(null),[r,s]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&s(U)}catch{}},[]);var{x:o,y:u,width:d,height:f,radius:m,className:g}=t,{animationEasing:x,animationDuration:b,animationBegin:j,isAnimationActive:S,isUpdateAnimationActive:w}=t,N=p.useRef(d),E=p.useRef(f),A=p.useRef(o),T=p.useRef(u),_=p.useMemo(()=>({x:o,y:u,width:d,height:f,radius:m}),[o,u,d,f,m]),O=hd(_,"rectangle-");if(o!==+o||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var k=jt("recharts-rectangle",g);if(!w){var R=Nr(t),{radius:P}=R,F=VA(R,kH);return p.createElement("path",Jf({},F,{radius:typeof m=="number"?m:void 0,className:k,d:WA(o,u,d,f,m)}))}var re=N.current,L=E.current,G=A.current,J=T.current,je="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),$=KO(["strokeDasharray"],b,typeof x=="string"?x:void 0);return p.createElement(dd,{animationId:O,key:O,canBegin:r>0,duration:b,easing:x,isActive:w,begin:j},U=>{var V=jn(re,d,U),pe=jn(L,f,U),ke=jn(G,o,U),B=jn(J,u,U);n.current&&(N.current=V,E.current=pe,A.current=ke,T.current=B);var K;S?U>0?K={transition:$,strokeDasharray:ge}:K={strokeDasharray:je}:K={strokeDasharray:ge};var le=Nr(t),{radius:Y}=le,se=VA(le,DH);return p.createElement("path",Jf({},se,{radius:typeof m=="number"?m:void 0,className:k,d:WA(ke,B,V,pe,m),ref:n,style:GA(GA({},K),t.style)}))})};function XO(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:o}=e,u=Pn(t,n,r,s),d=Pn(t,n,r,o);return{points:[u,d],cx:t,cy:n,radius:r,startAngle:s,endAngle:o}}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}var $H=(e,t)=>{var n=Vn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},of=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:f}=e,m=d*(u?1:-1)+r,g=Math.asin(d/m)/Yf,x=f?s:s+o*g,b=Pn(t,n,m,x),j=Pn(t,n,r,x),S=f?s-o*g:s,w=Pn(t,n,m*Math.cos(g*Yf),S);return{center:b,circleTangency:j,lineTangency:w,theta:g}},QO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:o,endAngle:u}=e,d=$H(o,u),f=o+d,m=Pn(t,n,s,o),g=Pn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var b=Pn(t,n,r,o),j=Pn(t,n,r,f);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},UH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}=e,g=Vn(m-f),{circleTangency:x,lineTangency:b,theta:j}=of({cx:t,cy:n,radius:s,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),{circleTangency:S,lineTangency:w,theta:N}=of({cx:t,cy:n,radius:s,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:d}),E=d?Math.abs(f-m):Math.abs(f-m)-j-N;if(E<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QO({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:f,endAngle:m});var A="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(g<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:_,theta:O}=of({cx:t,cy:n,radius:r,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:k,lineTangency:R,theta:P}=of({cx:t,cy:n,radius:r,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),F=d?Math.abs(f-m):Math.abs(f-m)-O-P;if(F<0&&o===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},zH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZO=e=>{var t=sr(e,zH),{cx:n,cy:r,innerRadius:s,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g,className:x}=t;if(o<s||m===g)return null;var b=jt("recharts-sector",x),j=o-s,S=hr(u,j,0,!0),w;return S>0&&Math.abs(m-g)<360?w=UH({cx:n,cy:r,innerRadius:s,outerRadius:o,cornerRadius:Math.min(S,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:g}):w=QO({cx:n,cy:r,innerRadius:s,outerRadius:o,startAngle:m,endAngle:g}),p.createElement("path",vy({},Nr(t),{className:b,d:w}))};function HH(e,t,n){var r,s,o,u;if(e==="horizontal")r=t.x,o=r,s=n.top,u=n.top+n.height;else if(e==="vertical")s=t.y,u=s,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:g,angle:x}=t,b=Pn(d,f,m,x),j=Pn(d,f,g,x);r=b.x,s=b.y,o=j.x,u=j.y}else return XO(t);return[{x:r,y:s},{x:o,y:u}]}var Y0={},X0={},Q0={},YA;function qH(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Q0)),Q0}var XA;function FH(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(X0)),X0}var QA;function KH(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO(),n=FH();function r(s,o,u){u&&typeof u!="number"&&t.isIterateeCall(s,o,u)&&(o=u=void 0),s=n.toFinite(s),o===void 0?(o=s,s=0):o=n.toFinite(o),u=u===void 0?s<o?1:-1:n.toFinite(u);const d=Math.max(Math.ceil((o-s)/(u||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=u;return f}e.range=r})(Y0)),Y0}var Z0,ZA;function GH(){return ZA||(ZA=1,Z0=KH().range),Z0}var VH=GH();const JO=oi(VH);function Ms(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ib(e){let t,n,r;e.length!==2?(t=Ms,n=(d,f)=>Ms(e(d),f),r=(d,f)=>e(d)-f):(t=e===Ms||e===WH?e:YH,n=e,r=e);function s(d,f,m=0,g=d.length){if(m<g){if(t(f,f)!==0)return g;do{const x=m+g>>>1;n(d[x],f)<0?m=x+1:g=x}while(m<g)}return m}function o(d,f,m=0,g=d.length){if(m<g){if(t(f,f)!==0)return g;do{const x=m+g>>>1;n(d[x],f)<=0?m=x+1:g=x}while(m<g)}return m}function u(d,f,m=0,g=d.length){const x=s(d,f,m,g-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:s,center:u,right:o}}function YH(){return 0}function ek(e){return e===null?NaN:+e}function*XH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const QH=Ib(Ms),fd=QH.right;Ib(ek).center;class JA extends Map{constructor(t,n=eq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(e2(this,t))}has(t){return super.has(e2(this,t))}set(t,n){return super.set(ZH(this,t),n)}delete(t){return super.delete(JH(this,t))}}function e2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ZH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function JH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function eq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tq(e=Ms){if(e===Ms)return tk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function tk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nq=Math.sqrt(50),rq=Math.sqrt(10),aq=Math.sqrt(2);function em(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),u=o>=nq?10:o>=rq?5:o>=aq?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/u,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*u,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?em(e,t,n*2):[d,f,m]}function yy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,o,u]=r?em(t,e,n):em(e,t,n);if(!(o>=s))return[];const d=o-s+1,f=new Array(d);if(r)if(u<0)for(let m=0;m<d;++m)f[m]=(o-m)/-u;else for(let m=0;m<d;++m)f[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)f[m]=(s+m)/-u;else for(let m=0;m<d;++m)f[m]=(s+m)*u;return f}function by(e,t,n){return t=+t,e=+e,n=+n,em(e,t,n)[2]}function jy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?by(t,e,n):by(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function t2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function n2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function nk(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?tk:tq(s);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,g=Math.log(f),x=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*x*(f-x)/f)*(m-f/2<0?-1:1),j=Math.max(n,Math.floor(t-m*x/f+b)),S=Math.min(r,Math.floor(t+(f-m)*x/f+b));nk(e,t,j,S,s)}const o=e[t];let u=n,d=r;for(wu(e,n,t),s(e[r],o)>0&&wu(e,n,r);u<d;){for(wu(e,u,d),++u,--d;s(e[u],o)<0;)++u;for(;s(e[d],o)>0;)--d}s(e[n],o)===0?wu(e,n,d):(++d,wu(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function wu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iq(e,t,n){if(e=Float64Array.from(XH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return n2(e);if(t>=1)return t2(e);var r,s=(r-1)*t,o=Math.floor(s),u=t2(nk(e,o).subarray(0,o+1)),d=n2(e.subarray(o+1));return u+(d-u)*(s-o)}}function sq(e,t,n=ek){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),u=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return u+(d-u)*(s-o)}}function lq(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++r<s;)o[r]=e+r*n;return o}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wy=Symbol("implicit");function Lb(){var e=new JA,t=[],n=[],r=wy;function s(o){let u=e.get(o);if(u===void 0){if(r!==wy)return r;e.set(o,u=t.push(o)-1)}return n[u%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new JA;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return Lb(t,n).unknown(r)},ka.apply(s,arguments),s}function Bb(){var e=Lb().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,o,u,d=!1,f=0,m=0,g=.5;delete e.unknown;function x(){var b=t().length,j=s<r,S=j?s:r,w=j?r:s;o=(w-S)/Math.max(1,b-f+m*2),d&&(o=Math.floor(o)),S+=(w-S-o*(b-f))*g,u=o*(1-f),d&&(S=Math.round(S),u=Math.round(u));var N=lq(b).map(function(E){return S+o*E});return n(j?N.reverse():N)}return e.domain=function(b){return arguments.length?(t(b),x()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,d=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(d=!!b,x()):d},e.padding=function(b){return arguments.length?(f=Math.min(1,m=+b),x()):f},e.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),x()):f},e.paddingOuter=function(b){return arguments.length?(m=+b,x()):m},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),x()):g},e.copy=function(){return Bb(t(),[r,s]).round(d).paddingInner(f).paddingOuter(m).align(g)},ka.apply(x(),arguments)}function rk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rk(t())},e}function oq(){return rk(Bb.apply(null,arguments).paddingInner(1))}function $b(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ak(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function md(){}var Yu=.7,tm=1/Yu,Ko="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cq=/^#([0-9a-f]{3,8})$/,uq=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),dq=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),hq=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Xu}\\)$`),fq=new RegExp(`^rgba\\(${ni},${ni},${ni},${Xu}\\)$`),mq=new RegExp(`^hsl\\(${Xu},${ni},${ni}\\)$`),gq=new RegExp(`^hsla\\(${Xu},${ni},${ni},${Xu}\\)$`),r2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$b(md,Qu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:a2,formatHex:a2,formatHex8:pq,formatHsl:xq,formatRgb:i2,toString:i2});function a2(){return this.rgb().formatHex()}function pq(){return this.rgb().formatHex8()}function xq(){return ik(this).formatHsl()}function i2(){return this.rgb().formatRgb()}function Qu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?s2(t):n===3?new Ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?cf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?cf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uq.exec(e))?new Ir(t[1],t[2],t[3],1):(t=dq.exec(e))?new Ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hq.exec(e))?cf(t[1],t[2],t[3],t[4]):(t=fq.exec(e))?cf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mq.exec(e))?c2(t[1],t[2]/100,t[3]/100,1):(t=gq.exec(e))?c2(t[1],t[2]/100,t[3]/100,t[4]):r2.hasOwnProperty(e)?s2(r2[e]):e==="transparent"?new Ir(NaN,NaN,NaN,0):null}function s2(e){return new Ir(e>>16&255,e>>8&255,e&255,1)}function cf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ir(e,t,n,r)}function vq(e){return e instanceof md||(e=Qu(e)),e?(e=e.rgb(),new Ir(e.r,e.g,e.b,e.opacity)):new Ir}function Ny(e,t,n,r){return arguments.length===1?vq(e):new Ir(e,t,n,r??1)}function Ir(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$b(Ir,Ny,ak(md,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ir(Al(this.r),Al(this.g),Al(this.b),nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l2,formatHex:l2,formatHex8:yq,formatRgb:o2,toString:o2}));function l2(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}`}function yq(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}${bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function o2(){const e=nm(this.opacity);return`${e===1?"rgb(":"rgba("}${Al(this.r)}, ${Al(this.g)}, ${Al(this.b)}${e===1?")":`, ${e})`}`}function nm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Al(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bl(e){return e=Al(e),(e<16?"0":"")+e.toString(16)}function c2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ua(e,t,n,r)}function ik(e){if(e instanceof Ua)return new Ua(e.h,e.s,e.l,e.opacity);if(e instanceof md||(e=Qu(e)),!e)return new Ua;if(e instanceof Ua)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,d=o-s,f=(o+s)/2;return d?(t===o?u=(n-r)/d+(n<r)*6:n===o?u=(r-t)/d+2:u=(t-n)/d+4,d/=f<.5?o+s:2-o-s,u*=60):d=f>0&&f<1?0:u,new Ua(u,d,f,e.opacity)}function bq(e,t,n,r){return arguments.length===1?ik(e):new Ua(e,t,n,r??1)}function Ua(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$b(Ua,bq,ak(md,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new Ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ir(J0(e>=240?e-240:e+120,s,r),J0(e,s,r),J0(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Ua(u2(this.h),uf(this.s),uf(this.l),nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nm(this.opacity);return`${e===1?"hsl(":"hsla("}${u2(this.h)}, ${uf(this.s)*100}%, ${uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function u2(e){return e=(e||0)%360,e<0?e+360:e}function uf(e){return Math.max(0,Math.min(1,e||0))}function J0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ub=e=>()=>e;function jq(e,t){return function(n){return e+n*t}}function wq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Nq(e){return(e=+e)==1?sk:function(t,n){return n-t?wq(t,n,e):Ub(isNaN(t)?n:t)}}function sk(e,t){var n=t-e;return n?jq(e,n):Ub(isNaN(e)?t:e)}const d2=(function e(t){var n=Nq(t);function r(s,o){var u=n((s=Ny(s)).r,(o=Ny(o)).r),d=n(s.g,o.g),f=n(s.b,o.b),m=sk(s.opacity,o.opacity);return function(g){return s.r=u(g),s.g=d(g),s.b=f(g),s.opacity=m(g),s+""}}return r.gamma=e,r})(1);function Sq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function Eq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)s[u]=mc(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(d){for(u=0;u<r;++u)o[u]=s[u](d);return o}}function Aq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tq(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=mc(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var Sy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ev=new RegExp(Sy.source,"g");function _q(e){return function(){return e}}function Rq(e){return function(t){return e(t)+""}}function Oq(e,t){var n=Sy.lastIndex=ev.lastIndex=0,r,s,o,u=-1,d=[],f=[];for(e=e+"",t=t+"";(r=Sy.exec(e))&&(s=ev.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),d[u]?d[u]+=o:d[++u]=o),(r=r[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,f.push({i:u,x:rm(r,s)})),n=ev.lastIndex;return n<t.length&&(o=t.slice(n),d[u]?d[u]+=o:d[++u]=o),d.length<2?f[0]?Rq(f[0].x):_q(t):(t=f.length,function(m){for(var g=0,x;g<t;++g)d[(x=f[g]).i]=x.x(m);return d.join("")})}function mc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ub(t):(n==="number"?rm:n==="string"?(r=Qu(t))?(t=r,d2):Oq:t instanceof Qu?d2:t instanceof Date?Aq:Eq(t)?Sq:Array.isArray(t)?Cq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tq:rm)(e,t)}function zb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kq(e,t){t===void 0&&(t=e,e=mc);for(var n=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(s,s=t[++n]);return function(u){var d=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[d](u-d)}}function Dq(e){return function(){return e}}function am(e){return+e}var h2=[0,1];function br(e){return e}function Ey(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Dq(isNaN(t)?NaN:.5)}function Pq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Mq(e,t,n){var r=e[0],s=e[1],o=t[0],u=t[1];return s<r?(r=Ey(s,r),o=n(u,o)):(r=Ey(r,s),o=n(o,u)),function(d){return o(r(d))}}function Iq(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)s[u]=Ey(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(d){var f=fd(e,d,1,r)-1;return o[f](s[f](d))}}function gd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qm(){var e=h2,t=h2,n=mc,r,s,o,u=br,d,f,m;function g(){var b=Math.min(e.length,t.length);return u!==br&&(u=Pq(e[0],e[b-1])),d=b>2?Iq:Mq,f=m=null,x}function x(b){return b==null||isNaN(b=+b)?o:(f||(f=d(e.map(r),t,n)))(r(u(b)))}return x.invert=function(b){return u(s((m||(m=d(t,e.map(r),rm)))(b)))},x.domain=function(b){return arguments.length?(e=Array.from(b,am),g()):e.slice()},x.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},x.rangeRound=function(b){return t=Array.from(b),n=zb,g()},x.clamp=function(b){return arguments.length?(u=b?!0:br,g()):u!==br},x.interpolate=function(b){return arguments.length?(n=b,g()):n},x.unknown=function(b){return arguments.length?(o=b,x):o},function(b,j){return r=b,s=j,g()}}function Hb(){return Qm()(br,br)}function Lq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function im(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zo(e){return e=im(Math.abs(e)),e?e[1]:NaN}function Bq(e,t){return function(n,r){for(var s=n.length,o=[],u=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),o.push(n.substring(s-=d,s+d)),!((f+=d+1)>r));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function $q(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Uq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zu(e){if(!(t=Uq.exec(e)))throw new Error("invalid format: "+e);var t;return new qb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zu.prototype=qb.prototype;function qb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zq(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var lk;function Hq(e,t){var n=im(e,t);if(!n)return e+"";var r=n[0],s=n[1],o=s-(lk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+im(e,Math.max(0,t+o-1))[0]}function f2(e,t){var n=im(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const m2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f2(e*100,t),r:f2,s:Hq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function g2(e){return e}var p2=Array.prototype.map,x2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qq(e){var t=e.grouping===void 0||e.thousands===void 0?g2:Bq(p2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?g2:$q(p2.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=Zu(x);var b=x.fill,j=x.align,S=x.sign,w=x.symbol,N=x.zero,E=x.width,A=x.comma,T=x.precision,_=x.trim,O=x.type;O==="n"?(A=!0,O="g"):m2[O]||(T===void 0&&(T=12),_=!0,O="g"),(N||b==="0"&&j==="=")&&(N=!0,b="0",j="=");var k=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",R=w==="$"?r:/[%p]/.test(O)?u:"",P=m2[O],F=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function re(L){var G=k,J=R,je,ge,$;if(O==="c")J=P(L)+J,L="";else{L=+L;var U=L<0||1/L<0;if(L=isNaN(L)?f:P(Math.abs(L),T),_&&(L=zq(L)),U&&+L==0&&S!=="+"&&(U=!1),G=(U?S==="("?S:d:S==="-"||S==="("?"":S)+G,J=(O==="s"?x2[8+lk/3]:"")+J+(U&&S==="("?")":""),F){for(je=-1,ge=L.length;++je<ge;)if($=L.charCodeAt(je),48>$||$>57){J=($===46?s+L.slice(je+1):L.slice(je))+J,L=L.slice(0,je);break}}}A&&!N&&(L=t(L,1/0));var V=G.length+L.length+J.length,pe=V<E?new Array(E-V+1).join(b):"";switch(A&&N&&(L=t(pe+L,pe.length?E-J.length:1/0),pe=""),j){case"<":L=G+L+J+pe;break;case"=":L=G+pe+L+J;break;case"^":L=pe.slice(0,V=pe.length>>1)+G+L+J+pe.slice(V);break;default:L=pe+G+L+J;break}return o(L)}return re.toString=function(){return x+""},re}function g(x,b){var j=m((x=Zu(x),x.type="f",x)),S=Math.max(-8,Math.min(8,Math.floor(Zo(b)/3)))*3,w=Math.pow(10,-S),N=x2[8+S/3];return function(E){return j(w*E)+N}}return{format:m,formatPrefix:g}}var df,Fb,ok;Fq({thousands:",",grouping:[3],currency:["$",""]});function Fq(e){return df=qq(e),Fb=df.format,ok=df.formatPrefix,df}function Kq(e){return Math.max(0,-Zo(Math.abs(e)))}function Gq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zo(t)/3)))*3-Zo(Math.abs(e)))}function Vq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zo(t)-Zo(e))+1}function ck(e,t,n,r){var s=jy(e,t,n),o;switch(r=Zu(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Gq(s,u))&&(r.precision=o),ok(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Vq(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Kq(s))&&(r.precision=o-(r.type==="%")*2);break}}return Fb(r)}function Ks(e){var t=e.domain;return e.ticks=function(n){var r=t();return yy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return ck(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,o=r.length-1,u=r[s],d=r[o],f,m,g=10;for(d<u&&(m=u,u=d,d=m,m=s,s=o,o=m);g-- >0;){if(m=by(u,d,n),m===f)return r[s]=u,r[o]=d,t(r);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function uk(){var e=Hb();return e.copy=function(){return gd(e,uk())},ka.apply(e,arguments),Ks(e)}function dk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,am),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return dk(e).unknown(t)},e=arguments.length?Array.from(e,am):[0,1],Ks(n)}function hk(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],o=e[r],u;return o<s&&(u=n,n=r,r=u,u=s,s=o,o=u),e[n]=t.floor(s),e[r]=t.ceil(o),e}function v2(e){return Math.log(e)}function y2(e){return Math.exp(e)}function Wq(e){return-Math.log(-e)}function Yq(e){return-Math.exp(-e)}function Xq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qq(e){return e===10?Xq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function b2(e){return(t,n)=>-e(-t,n)}function Kb(e){const t=e(v2,y2),n=t.domain;let r=10,s,o;function u(){return s=Zq(r),o=Qq(r),n()[0]<0?(s=b2(s),o=b2(o),e(Wq,Yq)):e(v2,y2),t}return t.base=function(d){return arguments.length?(r=+d,u()):r},t.domain=function(d){return arguments.length?(n(d),u()):n()},t.ticks=d=>{const f=n();let m=f[0],g=f[f.length-1];const x=g<m;x&&([m,g]=[g,m]);let b=s(m),j=s(g),S,w;const N=d==null?10:+d;let E=[];if(!(r%1)&&j-b<N){if(b=Math.floor(b),j=Math.ceil(j),m>0){for(;b<=j;++b)for(S=1;S<r;++S)if(w=b<0?S/o(-b):S*o(b),!(w<m)){if(w>g)break;E.push(w)}}else for(;b<=j;++b)for(S=r-1;S>=1;--S)if(w=b>0?S/o(-b):S*o(b),!(w<m)){if(w>g)break;E.push(w)}E.length*2<N&&(E=yy(m,g,N))}else E=yy(b,j,Math.min(j-b,N)).map(o);return x?E.reverse():E},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Zu(f)).precision==null&&(f.trim=!0),f=Fb(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return g=>{let x=g/o(Math.round(s(g)));return x*r<r-.5&&(x*=r),x<=m?f(g):""}},t.nice=()=>n(hk(n(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function fk(){const e=Kb(Qm()).domain([1,10]);return e.copy=()=>gd(e,fk()).base(e.base()),ka.apply(e,arguments),e}function j2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gb(e){var t=1,n=e(j2(t),w2(t));return n.constant=function(r){return arguments.length?e(j2(t=+r),w2(t)):t},Ks(n)}function mk(){var e=Gb(Qm());return e.copy=function(){return gd(e,mk()).constant(e.constant())},ka.apply(e,arguments)}function N2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eF(e){return e<0?-e*e:e*e}function Vb(e){var t=e(br,br),n=1;function r(){return n===1?e(br,br):n===.5?e(Jq,eF):e(N2(n),N2(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Ks(t)}function Wb(){var e=Vb(Qm());return e.copy=function(){return gd(e,Wb()).exponent(e.exponent())},ka.apply(e,arguments),e}function tF(){return Wb.apply(null,arguments).exponent(.5)}function S2(e){return Math.sign(e)*e*e}function nF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gk(){var e=Hb(),t=[0,1],n=!1,r;function s(o){var u=nF(e(o));return isNaN(u)?r:n?Math.round(u):u}return s.invert=function(o){return e.invert(S2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,am)).map(S2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return gk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ka.apply(s,arguments),Ks(s)}function pk(){var e=[],t=[],n=[],r;function s(){var u=0,d=Math.max(1,t.length);for(n=new Array(d-1);++u<d;)n[u-1]=sq(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?r:t[fd(n,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ms),s()},o.range=function(u){return arguments.length?(t=Array.from(u),s()):t.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return pk().domain(e).range(t).unknown(r)},ka.apply(o,arguments)}function xk(){var e=0,t=1,n=1,r=[.5],s=[0,1],o;function u(f){return f!=null&&f<=f?s[fd(r,f,0,n)]:o}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return u}return u.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},u.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},u.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},u.unknown=function(f){return arguments.length&&(o=f),u},u.thresholds=function(){return r.slice()},u.copy=function(){return xk().domain([e,t]).range(s).unknown(o)},ka.apply(Ks(u),arguments)}function vk(){var e=[.5],t=[0,1],n,r=1;function s(o){return o!=null&&o<=o?t[fd(e,o,0,r)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return vk().domain(e).range(t).unknown(n)},ka.apply(s,arguments)}const tv=new Date,nv=new Date;function zn(e,t,n,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const u=s(o),d=s.ceil(o);return o-u<d-o?u:d},s.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),s.range=(o,u,d)=>{const f=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return f;let m;do f.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return f},s.filter=o=>zn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),n&&(s.count=(o,u)=>(tv.setTime(+o),nv.setTime(+u),e(tv),e(nv),Math.floor(n(tv,nv))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?u=>r(u)%o===0:u=>s.count(0,u)%o===0):s)),s}const sm=zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sm);sm.range;const Di=1e3,Sa=Di*60,Pi=Sa*60,Gi=Pi*24,Yb=Gi*7,E2=Gi*30,rv=Gi*365,jl=zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCSeconds());jl.range;const Xb=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getMinutes());Xb.range;const Qb=zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getUTCMinutes());Qb.range;const Zb=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di-e.getMinutes()*Sa)},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getHours());Zb.range;const Jb=zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCHours());Jb.range;const pd=zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sa)/Gi,e=>e.getDate()-1);pd.range;const Zm=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>e.getUTCDate()-1);Zm.range;const yk=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>Math.floor(e/Gi));yk.range;function Kl(e){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Sa)/Yb)}const Jm=Kl(0),lm=Kl(1),rF=Kl(2),aF=Kl(3),Jo=Kl(4),iF=Kl(5),sF=Kl(6);Jm.range;lm.range;rF.range;aF.range;Jo.range;iF.range;sF.range;function Gl(e){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Yb)}const eg=Gl(0),om=Gl(1),lF=Gl(2),oF=Gl(3),ec=Gl(4),cF=Gl(5),uF=Gl(6);eg.range;om.range;lF.range;oF.range;ec.range;cF.range;uF.range;const ej=zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ej.range;const tj=zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tj.range;const Vi=zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vi.range;const Wi=zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wi.range;function bk(e,t,n,r,s,o){const u=[[jl,1,Di],[jl,5,5*Di],[jl,15,15*Di],[jl,30,30*Di],[o,1,Sa],[o,5,5*Sa],[o,15,15*Sa],[o,30,30*Sa],[s,1,Pi],[s,3,3*Pi],[s,6,6*Pi],[s,12,12*Pi],[r,1,Gi],[r,2,2*Gi],[n,1,Yb],[t,1,E2],[t,3,3*E2],[e,1,rv]];function d(m,g,x){const b=g<m;b&&([m,g]=[g,m]);const j=x&&typeof x.range=="function"?x:f(m,g,x),S=j?j.range(m,+g+1):[];return b?S.reverse():S}function f(m,g,x){const b=Math.abs(g-m)/x,j=Ib(([,,N])=>N).right(u,b);if(j===u.length)return e.every(jy(m/rv,g/rv,x));if(j===0)return sm.every(Math.max(jy(m,g,x),1));const[S,w]=u[b/u[j-1][2]<u[j][2]/b?j-1:j];return S.every(w)}return[d,f]}const[dF,hF]=bk(Wi,tj,eg,yk,Jb,Qb),[fF,mF]=bk(Vi,ej,Jm,pd,Zb,Xb);function av(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gF(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,o=e.days,u=e.shortDays,d=e.months,f=e.shortMonths,m=Su(s),g=Eu(s),x=Su(o),b=Eu(o),j=Su(u),S=Eu(u),w=Su(d),N=Eu(d),E=Su(f),A=Eu(f),T={a:U,A:V,b:pe,B:ke,c:null,d:O2,e:O2,f:BF,g:WF,G:XF,H:MF,I:IF,j:LF,L:jk,m:$F,M:UF,p:B,q:K,Q:P2,s:M2,S:zF,u:HF,U:qF,V:FF,w:KF,W:GF,x:null,X:null,y:VF,Y:YF,Z:QF,"%":D2},_={a:le,A:Y,b:se,B:we,c:null,d:k2,e:k2,f:tK,g:dK,G:fK,H:ZF,I:JF,j:eK,L:Nk,m:nK,M:rK,p:fe,q,Q:P2,s:M2,S:aK,u:iK,U:sK,V:lK,w:oK,W:cK,x:null,X:null,y:uK,Y:hK,Z:mK,"%":D2},O={a:re,A:L,b:G,B:J,c:je,d:_2,e:_2,f:OF,g:T2,G:A2,H:R2,I:R2,j:AF,L:RF,m:CF,M:TF,p:F,q:EF,Q:DF,s:PF,S:_F,u:bF,U:jF,V:wF,w:yF,W:NF,x:ge,X:$,y:T2,Y:A2,Z:SF,"%":kF};T.x=k(n,T),T.X=k(r,T),T.c=k(t,T),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(H,I){return function(ee){var z=[],ve=-1,te=0,W=H.length,Q,ne,Ce;for(ee instanceof Date||(ee=new Date(+ee));++ve<W;)H.charCodeAt(ve)===37&&(z.push(H.slice(te,ve)),(ne=C2[Q=H.charAt(++ve)])!=null?Q=H.charAt(++ve):ne=Q==="e"?" ":"0",(Ce=I[Q])&&(Q=Ce(ee,ne)),z.push(Q),te=ve+1);return z.push(H.slice(te,ve)),z.join("")}}function R(H,I){return function(ee){var z=Nu(1900,void 0,1),ve=P(z,H,ee+="",0),te,W;if(ve!=ee.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(I&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(te=iv(Nu(z.y,0,1)),W=te.getUTCDay(),te=W>4||W===0?om.ceil(te):om(te),te=Zm.offset(te,(z.V-1)*7),z.y=te.getUTCFullYear(),z.m=te.getUTCMonth(),z.d=te.getUTCDate()+(z.w+6)%7):(te=av(Nu(z.y,0,1)),W=te.getDay(),te=W>4||W===0?lm.ceil(te):lm(te),te=pd.offset(te,(z.V-1)*7),z.y=te.getFullYear(),z.m=te.getMonth(),z.d=te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),W="Z"in z?iv(Nu(z.y,0,1)).getUTCDay():av(Nu(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(W+5)%7:z.w+z.U*7-(W+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,iv(z)):av(z)}}function P(H,I,ee,z){for(var ve=0,te=I.length,W=ee.length,Q,ne;ve<te;){if(z>=W)return-1;if(Q=I.charCodeAt(ve++),Q===37){if(Q=I.charAt(ve++),ne=O[Q in C2?I.charAt(ve++):Q],!ne||(z=ne(H,ee,z))<0)return-1}else if(Q!=ee.charCodeAt(z++))return-1}return z}function F(H,I,ee){var z=m.exec(I.slice(ee));return z?(H.p=g.get(z[0].toLowerCase()),ee+z[0].length):-1}function re(H,I,ee){var z=j.exec(I.slice(ee));return z?(H.w=S.get(z[0].toLowerCase()),ee+z[0].length):-1}function L(H,I,ee){var z=x.exec(I.slice(ee));return z?(H.w=b.get(z[0].toLowerCase()),ee+z[0].length):-1}function G(H,I,ee){var z=E.exec(I.slice(ee));return z?(H.m=A.get(z[0].toLowerCase()),ee+z[0].length):-1}function J(H,I,ee){var z=w.exec(I.slice(ee));return z?(H.m=N.get(z[0].toLowerCase()),ee+z[0].length):-1}function je(H,I,ee){return P(H,t,I,ee)}function ge(H,I,ee){return P(H,n,I,ee)}function $(H,I,ee){return P(H,r,I,ee)}function U(H){return u[H.getDay()]}function V(H){return o[H.getDay()]}function pe(H){return f[H.getMonth()]}function ke(H){return d[H.getMonth()]}function B(H){return s[+(H.getHours()>=12)]}function K(H){return 1+~~(H.getMonth()/3)}function le(H){return u[H.getUTCDay()]}function Y(H){return o[H.getUTCDay()]}function se(H){return f[H.getUTCMonth()]}function we(H){return d[H.getUTCMonth()]}function fe(H){return s[+(H.getUTCHours()>=12)]}function q(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var I=k(H+="",T);return I.toString=function(){return H},I},parse:function(H){var I=R(H+="",!1);return I.toString=function(){return H},I},utcFormat:function(H){var I=k(H+="",_);return I.toString=function(){return H},I},utcParse:function(H){var I=R(H+="",!0);return I.toString=function(){return H},I}}}var C2={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,pF=/^%/,xF=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(t)+s:s)}function vF(e){return e.replace(xF,"\\$&")}function Su(e){return new RegExp("^(?:"+e.map(vF).join("|")+")","i")}function Eu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yF(e,t,n){var r=Wn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bF(e,t,n){var r=Wn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jF(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wF(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function NF(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function A2(e,t,n){var r=Wn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function T2(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EF(e,t,n){var r=Wn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function CF(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _2(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function AF(e,t,n){var r=Wn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function R2(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function TF(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _F(e,t,n){var r=Wn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function RF(e,t,n){var r=Wn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OF(e,t,n){var r=Wn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kF(e,t,n){var r=pF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DF(e,t,n){var r=Wn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function PF(e,t,n){var r=Wn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function O2(e,t){return At(e.getDate(),t,2)}function MF(e,t){return At(e.getHours(),t,2)}function IF(e,t){return At(e.getHours()%12||12,t,2)}function LF(e,t){return At(1+pd.count(Vi(e),e),t,3)}function jk(e,t){return At(e.getMilliseconds(),t,3)}function BF(e,t){return jk(e,t)+"000"}function $F(e,t){return At(e.getMonth()+1,t,2)}function UF(e,t){return At(e.getMinutes(),t,2)}function zF(e,t){return At(e.getSeconds(),t,2)}function HF(e){var t=e.getDay();return t===0?7:t}function qF(e,t){return At(Jm.count(Vi(e)-1,e),t,2)}function wk(e){var t=e.getDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function FF(e,t){return e=wk(e),At(Jo.count(Vi(e),e)+(Vi(e).getDay()===4),t,2)}function KF(e){return e.getDay()}function GF(e,t){return At(lm.count(Vi(e)-1,e),t,2)}function VF(e,t){return At(e.getFullYear()%100,t,2)}function WF(e,t){return e=wk(e),At(e.getFullYear()%100,t,2)}function YF(e,t){return At(e.getFullYear()%1e4,t,4)}function XF(e,t){var n=e.getDay();return e=n>=4||n===0?Jo(e):Jo.ceil(e),At(e.getFullYear()%1e4,t,4)}function QF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function k2(e,t){return At(e.getUTCDate(),t,2)}function ZF(e,t){return At(e.getUTCHours(),t,2)}function JF(e,t){return At(e.getUTCHours()%12||12,t,2)}function eK(e,t){return At(1+Zm.count(Wi(e),e),t,3)}function Nk(e,t){return At(e.getUTCMilliseconds(),t,3)}function tK(e,t){return Nk(e,t)+"000"}function nK(e,t){return At(e.getUTCMonth()+1,t,2)}function rK(e,t){return At(e.getUTCMinutes(),t,2)}function aK(e,t){return At(e.getUTCSeconds(),t,2)}function iK(e){var t=e.getUTCDay();return t===0?7:t}function sK(e,t){return At(eg.count(Wi(e)-1,e),t,2)}function Sk(e){var t=e.getUTCDay();return t>=4||t===0?ec(e):ec.ceil(e)}function lK(e,t){return e=Sk(e),At(ec.count(Wi(e),e)+(Wi(e).getUTCDay()===4),t,2)}function oK(e){return e.getUTCDay()}function cK(e,t){return At(om.count(Wi(e)-1,e),t,2)}function uK(e,t){return At(e.getUTCFullYear()%100,t,2)}function dK(e,t){return e=Sk(e),At(e.getUTCFullYear()%100,t,2)}function hK(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function fK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ec(e):ec.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function mK(){return"+0000"}function D2(){return"%"}function P2(e){return+e}function M2(e){return Math.floor(+e/1e3)}var Io,Ek,Ck;gK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gK(e){return Io=gF(e),Ek=Io.format,Io.parse,Ck=Io.utcFormat,Io.utcParse,Io}function pK(e){return new Date(e)}function xK(e){return e instanceof Date?+e:+new Date(+e)}function nj(e,t,n,r,s,o,u,d,f,m){var g=Hb(),x=g.invert,b=g.domain,j=m(".%L"),S=m(":%S"),w=m("%I:%M"),N=m("%I %p"),E=m("%a %d"),A=m("%b %d"),T=m("%B"),_=m("%Y");function O(k){return(f(k)<k?j:d(k)<k?S:u(k)<k?w:o(k)<k?N:r(k)<k?s(k)<k?E:A:n(k)<k?T:_)(k)}return g.invert=function(k){return new Date(x(k))},g.domain=function(k){return arguments.length?b(Array.from(k,xK)):b().map(pK)},g.ticks=function(k){var R=b();return e(R[0],R[R.length-1],k??10)},g.tickFormat=function(k,R){return R==null?O:m(R)},g.nice=function(k){var R=b();return(!k||typeof k.range!="function")&&(k=t(R[0],R[R.length-1],k??10)),k?b(hk(R,k)):g},g.copy=function(){return gd(g,nj(e,t,n,r,s,o,u,d,f,m))},g}function vK(){return ka.apply(nj(fF,mF,Vi,ej,Jm,pd,Zb,Xb,jl,Ek).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yK(){return ka.apply(nj(dF,hF,Wi,tj,eg,Zm,Jb,Qb,jl,Ck).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tg(){var e=0,t=1,n,r,s,o,u=br,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:u(s===0?.5:(x=(o(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=o(e=+e),r=o(t=+t),s=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(b){var j,S;return arguments.length?([j,S]=b,u=x(j,S),m):[u(0),u(1)]}}return m.range=g(mc),m.rangeRound=g(zb),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return o=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),m}}function Gs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ak(){var e=Ks(tg()(br));return e.copy=function(){return Gs(e,Ak())},Qi.apply(e,arguments)}function Tk(){var e=Kb(tg()).domain([1,10]);return e.copy=function(){return Gs(e,Tk()).base(e.base())},Qi.apply(e,arguments)}function _k(){var e=Gb(tg());return e.copy=function(){return Gs(e,_k()).constant(e.constant())},Qi.apply(e,arguments)}function rj(){var e=Vb(tg());return e.copy=function(){return Gs(e,rj()).exponent(e.exponent())},Qi.apply(e,arguments)}function bK(){return rj.apply(null,arguments).exponent(.5)}function Rk(){var e=[],t=br;function n(r){if(r!=null&&!isNaN(r=+r))return t((fd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ms),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,o)=>iq(e,o/r))},n.copy=function(){return Rk(t).domain(e)},Qi.apply(n,arguments)}function ng(){var e=0,t=.5,n=1,r=1,s,o,u,d,f,m=br,g,x=!1,b;function j(w){return isNaN(w=+w)?b:(w=.5+((w=+g(w))-o)*(r*w<r*o?d:f),m(x?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,n]=w,s=g(e=+e),o=g(t=+t),u=g(n=+n),d=s===o?0:.5/(o-s),f=o===u?0:.5/(u-o),r=o<s?-1:1,j):[e,t,n]},j.clamp=function(w){return arguments.length?(x=!!w,j):x},j.interpolator=function(w){return arguments.length?(m=w,j):m};function S(w){return function(N){var E,A,T;return arguments.length?([E,A,T]=N,m=kq(w,[E,A,T]),j):[m(0),m(.5),m(1)]}}return j.range=S(mc),j.rangeRound=S(zb),j.unknown=function(w){return arguments.length?(b=w,j):b},function(w){return g=w,s=w(e),o=w(t),u=w(n),d=s===o?0:.5/(o-s),f=o===u?0:.5/(u-o),r=o<s?-1:1,j}}function Ok(){var e=Ks(ng()(br));return e.copy=function(){return Gs(e,Ok())},Qi.apply(e,arguments)}function kk(){var e=Kb(ng()).domain([.1,1,10]);return e.copy=function(){return Gs(e,kk()).base(e.base())},Qi.apply(e,arguments)}function Dk(){var e=Gb(ng());return e.copy=function(){return Gs(e,Dk()).constant(e.constant())},Qi.apply(e,arguments)}function aj(){var e=Vb(ng());return e.copy=function(){return Gs(e,aj()).exponent(e.exponent())},Qi.apply(e,arguments)}function jK(){return aj.apply(null,arguments).exponent(.5)}const _u=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bb,scaleDiverging:Ok,scaleDivergingLog:kk,scaleDivergingPow:aj,scaleDivergingSqrt:jK,scaleDivergingSymlog:Dk,scaleIdentity:dk,scaleImplicit:wy,scaleLinear:uk,scaleLog:fk,scaleOrdinal:Lb,scalePoint:oq,scalePow:Wb,scaleQuantile:pk,scaleQuantize:xk,scaleRadial:gk,scaleSequential:Ak,scaleSequentialLog:Tk,scaleSequentialPow:rj,scaleSequentialQuantile:Rk,scaleSequentialSqrt:bK,scaleSequentialSymlog:_k,scaleSqrt:tF,scaleSymlog:mk,scaleThreshold:vk,scaleTime:vK,scaleUtc:yK,tickFormat:ck},Symbol.toStringTag,{value:"Module"}));var Vs=e=>e.chartData,ij=he([Vs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rg=(e,t,n,r)=>r?ij(e):Vs(e);function Ll(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fr(t)&&fr(n))return!0}return!1}function I2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Pk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,o;if(fr(n))s=n;else if(typeof n=="function")return;if(fr(r))o=r;else if(typeof r=="function")return;var u=[s,o];if(Ll(u))return u}}function wK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ll(r))return I2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,u,d;if(s==="auto")t!=null&&(u=Math.min(...t));else if(Ye(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[0]))}catch{}else if(typeof s=="string"&&yA.test(s)){var f=yA.exec(s);if(f==null||t==null)u=void 0;else{var m=+f[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Ye(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&bA.test(o)){var g=bA.exec(o);if(g==null||t==null)d=void 0;else{var x=+g[1];d=t[1]+x}}else d=t?.[1];var b=[u,d];if(Ll(b))return t==null?b:I2(b,t,n)}}}var gc=1e9,NK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lj,un=!0,Oa="[DecimalError] ",Tl=Oa+"Invalid argument: ",sj=Oa+"Exponent out of range: ",pc=Math.floor,vl=Math.pow,SK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xr,Gn=1e7,tn=7,Mk=9007199254740991,cm=pc(Mk/tn),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,n,r,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===s?0:r>s^o.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*tn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Be.dividedBy=Be.div=function(e){return Ui(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,n=t.constructor;return Gt(Ui(t,new n(e),0,1),n.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return Mn(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,n=this,r=n.constructor,s=r.precision,o=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xr))throw Error(Oa+"NaN");if(n.s<1)throw Error(Oa+(n.s?"NaN":"-Infinity"));return n.eq(Xr)?new r(0):(un=!1,t=Ui(Ju(n,o),Ju(e,o),o),un=!0,Gt(t,s))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bk(t,e):Ik(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Oa+"NaN");return n.s?(un=!1,t=Ui(n,e,0,1).times(e),un=!0,n.minus(t)):Gt(new r(n),s)};Be.naturalExponential=Be.exp=function(){return Lk(this)};Be.naturalLogarithm=Be.ln=function(){return Ju(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ik(t,e):Bk(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Tl+e);if(t=Mn(s)+1,r=s.d.length-1,n=r*tn+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Be.squareRoot=Be.sqrt=function(){var e,t,n,r,s,o,u,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Oa+"NaN")}for(e=Mn(d),un=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ei(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=pc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(s.toString()),n=f.precision,s=u=n+3;;)if(o=r,r=o.plus(Ui(d,o,u+2)).times(.5),ei(o.d).slice(0,u)===(t=ei(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),s==u&&t=="4999"){if(Gt(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;u+=4}return un=!0,Gt(r,n)};Be.times=Be.mul=function(e){var t,n,r,s,o,u,d,f,m,g=this,x=g.constructor,b=g.d,j=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,f=b.length,m=j.length,f<m&&(o=b,b=j,j=o,u=f,f=m,m=u),o=[],u=f+m,r=u;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,s=f+r;s>r;)d=o[s]+j[r]*b[s-r-1]+t,o[s--]=d%Gn|0,t=d/Gn|0;o[s]=(o[s]+t)%Gn|0}for(;!o[--u];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,un?Gt(e,x.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ii(e,0,gc),t===void 0?t=r.rounding:ii(t,0,8),Gt(n,e+Mn(n)+1,t))};Be.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Bl(r,!0):(ii(e,0,gc),t===void 0?t=s.rounding:ii(t,0,8),r=Gt(new s(r),e+1,t),n=Bl(r,!0,e+1)),n};Be.toFixed=function(e,t){var n,r,s=this,o=s.constructor;return e===void 0?Bl(s):(ii(e,0,gc),t===void 0?t=o.rounding:ii(t,0,8),r=Gt(new o(s),e+Mn(s)+1,t),n=Bl(r.abs(),!1,e+Mn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Mn(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,n,r,s,o,u,d=this,f=d.constructor,m=12,g=+(e=new f(e));if(!e.s)return new f(Xr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Oa+"Infinity");return d}if(d.eq(Xr))return d;if(r=f.precision,e.eq(Xr))return Gt(d,r);if(t=e.e,n=e.d.length-1,u=t>=n,o=d.s,u){if((n=g<0?-g:g)<=Mk){for(s=new f(Xr),t=Math.ceil(r/tn+4),un=!1;n%2&&(s=s.times(d),B2(s.d,t)),n=pc(n/2),n!==0;)d=d.times(d),B2(d.d,t);return un=!0,e.s<0?new f(Xr).div(s):Gt(s,r)}}else if(o<0)throw Error(Oa+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,un=!1,s=e.times(Ju(d,r+m)),un=!0,s=Lk(s),s.s=o,s};Be.toPrecision=function(e,t){var n,r,s=this,o=s.constructor;return e===void 0?(n=Mn(s),r=Bl(s,n<=o.toExpNeg||n>=o.toExpPos)):(ii(e,1,gc),t===void 0?t=o.rounding:ii(t,0,8),s=Gt(new o(s),e,t),n=Mn(s),r=Bl(s,e<=n||n<=o.toExpNeg,e)),r};Be.toSignificantDigits=Be.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ii(e,1,gc),t===void 0?t=r.rounding:ii(t,0,8)),Gt(new r(n),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mn(e),n=e.constructor;return Bl(e,t<=n.toExpNeg||t>=n.toExpPos)};function Ik(e,t){var n,r,s,o,u,d,f,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),un?Gt(t,x):t;if(f=e.d,m=t.d,u=e.e,s=t.e,f=f.slice(),o=u-s,o){for(o<0?(r=f,o=-o,d=m.length):(r=m,s=u,d=f.length),u=Math.ceil(x/tn),d=u>d?u+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=f.length,o=m.length,d-o<0&&(o=d,r=m,m=f,f=r),n=0;o;)n=(f[--o]=f[o]+m[o]+n)/Gn|0,f[o]%=Gn;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,un?Gt(t,x):t}function ii(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Tl+e)}function ei(e){var t,n,r,s=e.length-1,o="",u=e[0];if(s>0){for(o+=u,t=1;t<s;t++)r=e[t]+"",n=tn-r.length,n&&(o+=ks(n)),o+=r;u=e[t],r=u+"",n=tn-r.length,n&&(o+=ks(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Ui=(function(){function e(r,s){var o,u=0,d=r.length;for(r=r.slice();d--;)o=r[d]*s+u,r[d]=o%Gn|0,u=o/Gn|0;return u&&r.unshift(u),r}function t(r,s,o,u){var d,f;if(o!=u)f=o>u?1:-1;else for(d=f=0;d<o;d++)if(r[d]!=s[d]){f=r[d]>s[d]?1:-1;break}return f}function n(r,s,o){for(var u=0;o--;)r[o]-=u,u=r[o]<s[o]?1:0,r[o]=u*Gn+r[o]-s[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,o,u){var d,f,m,g,x,b,j,S,w,N,E,A,T,_,O,k,R,P,F=r.constructor,re=r.s==s.s?1:-1,L=r.d,G=s.d;if(!r.s)return new F(r);if(!s.s)throw Error(Oa+"Division by zero");for(f=r.e-s.e,R=G.length,O=L.length,j=new F(re),S=j.d=[],m=0;G[m]==(L[m]||0);)++m;if(G[m]>(L[m]||0)&&--f,o==null?A=o=F.precision:u?A=o+(Mn(r)-Mn(s))+1:A=o,A<0)return new F(0);if(A=A/tn+2|0,m=0,R==1)for(g=0,G=G[0],A++;(m<O||g)&&A--;m++)T=g*Gn+(L[m]||0),S[m]=T/G|0,g=T%G|0;else{for(g=Gn/(G[0]+1)|0,g>1&&(G=e(G,g),L=e(L,g),R=G.length,O=L.length),_=R,w=L.slice(0,R),N=w.length;N<R;)w[N++]=0;P=G.slice(),P.unshift(0),k=G[0],G[1]>=Gn/2&&++k;do g=0,d=t(G,w,R,N),d<0?(E=w[0],R!=N&&(E=E*Gn+(w[1]||0)),g=E/k|0,g>1?(g>=Gn&&(g=Gn-1),x=e(G,g),b=x.length,N=w.length,d=t(x,w,b,N),d==1&&(g--,n(x,R<b?P:G,b))):(g==0&&(d=g=1),x=G.slice()),b=x.length,b<N&&x.unshift(0),n(w,x,N),d==-1&&(N=w.length,d=t(G,w,R,N),d<1&&(g++,n(w,R<N?P:G,N))),N=w.length):d===0&&(g++,w=[0]),S[m++]=g,d&&w[0]?w[N++]=L[_]||0:(w=[L[_]],N=1);while((_++<O||w[0]!==void 0)&&A--)}return S[0]||S.shift(),j.e=f,Gt(j,u?o+Mn(j)+1:o)}})();function Lk(e,t){var n,r,s,o,u,d,f=0,m=0,g=e.constructor,x=g.precision;if(Mn(e)>16)throw Error(sj+Mn(e));if(!e.s)return new g(Xr);for(un=!1,d=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(r=Math.log(vl(2,m))/Math.LN10*2+5|0,d+=r,n=s=o=new g(Xr),g.precision=d;;){if(s=Gt(s.times(e),d),n=n.times(++f),u=o.plus(Ui(s,n,d)),ei(u.d).slice(0,d)===ei(o.d).slice(0,d)){for(;m--;)o=Gt(o.times(o),d);return g.precision=x,t==null?(un=!0,Gt(o,x)):o}o=u}}function Mn(e){for(var t=e.e*tn,n=e.d[0];n>=10;n/=10)t++;return t}function sv(e,t,n){if(t>e.LN10.sd())throw un=!0,n&&(e.precision=n),Error(Oa+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function ks(e){for(var t="";e--;)t+="0";return t}function Ju(e,t){var n,r,s,o,u,d,f,m,g,x=1,b=10,j=e,S=j.d,w=j.constructor,N=w.precision;if(j.s<1)throw Error(Oa+(j.s?"NaN":"-Infinity"));if(j.eq(Xr))return new w(0);if(t==null?(un=!1,m=N):m=t,j.eq(10))return t==null&&(un=!0),sv(w,m);if(m+=b,w.precision=m,n=ei(S),r=n.charAt(0),o=Mn(j),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)j=j.times(e),n=ei(j.d),r=n.charAt(0),x++;o=Mn(j),r>1?(j=new w("0."+n),o++):j=new w(r+"."+n.slice(1))}else return f=sv(w,m+2,N).times(o+""),j=Ju(new w(r+"."+n.slice(1)),m-b).plus(f),w.precision=N,t==null?(un=!0,Gt(j,N)):j;for(d=u=j=Ui(j.minus(Xr),j.plus(Xr),m),g=Gt(j.times(j),m),s=3;;){if(u=Gt(u.times(g),m),f=d.plus(Ui(u,new w(s),m)),ei(f.d).slice(0,m)===ei(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(sv(w,m+2,N).times(o+""))),d=Ui(d,new w(x),m),w.precision=N,t==null?(un=!0,Gt(d,N)):d;d=f,s+=2}}function L2(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=pc(n/tn),e.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=tn;r<s;)e.d.push(+t.slice(r,r+=tn));t=t.slice(r),r=tn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),un&&(e.e>cm||e.e<-cm))throw Error(sj+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,s,o,u,d,f,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(r=t-u,r<0)r+=tn,s=t,m=x[g=0];else{if(g=Math.ceil((r+1)/tn),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;r%=tn,s=r-tn+u}if(n!==void 0&&(o=vl(10,u-s-1),d=m/o%10|0,f=t<0||x[g+1]!==void 0||m%o,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?s>0?m/vl(10,u-s):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(o=Mn(e),x.length=1,t=t-o-1,x[0]=vl(10,(tn-t%tn)%tn),e.e=pc(-t/tn)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,o=1,g--):(x.length=g+1,o=vl(10,tn-r),x[g]=s>0?(m/vl(10,u-s)%vl(10,s)|0)*o:0),f)for(;;)if(g==0){(x[0]+=o)==Gn&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=Gn)break;x[g--]=0,o=1}for(r=x.length;x[--r]===0;)x.pop();if(un&&(e.e>cm||e.e<-cm))throw Error(sj+Mn(e));return e}function Bk(e,t){var n,r,s,o,u,d,f,m,g,x,b=e.constructor,j=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),un?Gt(t,j):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),u=m-r,u){for(g=u<0,g?(n=f,u=-u,d=x.length):(n=x,r=m,d=f.length),s=Math.max(Math.ceil(j/tn),d)+2,u>s&&(u=s,n.length=1),n.reverse(),s=u;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,g=s<d,g&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){g=f[s]<x[s];break}u=0}for(g&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>u;){if(f[--s]<x[s]){for(o=s;o&&f[--o]===0;)f[o]=Gn-1;--f[o],f[s]+=Gn}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,un?Gt(t,j):t):new b(0)}function Bl(e,t,n){var r,s=Mn(e),o=ei(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+ks(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ks(-s-1)+o,n&&(r=n-u)>0&&(o+=ks(r))):s>=u?(o+=ks(s+1-u),n&&(r=n-s-1)>0&&(o=o+"."+ks(r))):((r=s+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(s+1===u&&(o+="."),o+=ks(r))),e.s<0?"-"+o:o}function B2(e,t){if(e.length>t)return e.length=t,!0}function $k(e){var t,n,r;function s(o){var u=this;if(!(u instanceof s))return new s(o);if(u.constructor=s,o instanceof s){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Tl+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return L2(u,o.toString())}else if(typeof o!="string")throw Error(Tl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,SK.test(o))L2(u,o);else throw Error(Tl+o)}if(s.prototype=Be,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=$k,s.config=s.set=EK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function EK(e){if(!e||typeof e!="object")throw Error(Oa+"Object expected");var t,n,r,s=["precision",1,gc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(pc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Tl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tl+n+": "+r);return this}var lj=$k(NK);Xr=new lj(1);const Mt=lj;var CK=e=>e,Uk={},zk=e=>e===Uk,$2=e=>function t(){return arguments.length===0||arguments.length===1&&zk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Hk=(e,t)=>e===1?t:$2(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=r.filter(u=>u!==Uk).length;return o>=e?t(...r):Hk(e-o,$2(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var m=r.map(g=>zk(g)?d.shift():g);return t(...m,...d)}))}),ag=e=>Hk(e.length,e),Cy=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},AK=ag((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),TK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return CK;var s=n.reverse(),o=s[0],u=s.slice(1);return function(){return u.reduce((d,f)=>f(d),o(...arguments))}},Ay=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),qk=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t&&s.every((u,d)=>{var f;return u===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function Fk(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function Kk(e,t,n){for(var r=new Mt(e),s=0,o=[];r.lt(t)&&s<1e5;)o.push(r.toNumber()),r=r.add(n),s++;return o}ag((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});ag((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});ag((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var Gk=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},Vk=(e,t,n)=>{if(e.lte(0))return new Mt(0);var r=Fk(e.toNumber()),s=new Mt(10).pow(r),o=e.div(s),u=r!==1?.05:.1,d=new Mt(Math.ceil(o.div(u).toNumber())).add(n).mul(u),f=d.mul(s);return t?new Mt(f.toNumber()):new Mt(Math.ceil(f.toNumber()))},_K=(e,t,n)=>{var r=new Mt(1),s=new Mt(e);if(!s.isint()&&n){var o=Math.abs(e);o<1?(r=new Mt(10).pow(Fk(e)-1),s=new Mt(Math.floor(s.div(r).toNumber())).mul(r)):o>1&&(s=new Mt(Math.floor(e)))}else e===0?s=new Mt(Math.floor((t-1)/2)):n||(s=new Mt(Math.floor(e)));var u=Math.floor((t-1)/2),d=TK(AK(f=>s.add(new Mt(f-u).mul(r)).toNumber()),Cy);return d(0,t)},Wk=function(t,n,r,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var u=Vk(new Mt(n).sub(t).div(r-1),s,o),d;t<=0&&n>=0?d=new Mt(0):(d=new Mt(t).add(n).div(2),d=d.sub(new Mt(d).mod(u)));var f=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new Mt(n).sub(d).div(u).toNumber()),g=f+m+1;return g>r?Wk(t,n,r,s,o+1):(g<r&&(m=n>0?m+(r-g):m,f=n>0?f:f+(r-g)),{step:u,tickMin:d.sub(new Mt(f).mul(u)),tickMax:d.add(new Mt(m).mul(u))})};function RK(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,d]=Gk([t,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Cy(0,r-1).map(()=>1/0)]:[...Cy(0,r-1).map(()=>-1/0),d];return t>n?Ay(f):f}if(u===d)return _K(u,r,s);var{step:m,tickMin:g,tickMax:x}=Wk(u,d,o,s,0),b=Kk(g,x.add(new Mt(.1).mul(m)),m);return t>n?Ay(b):b}function OK(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=Gk([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var d=Math.max(t,2),f=Vk(new Mt(u).sub(o).div(d-1),s,0),m=[...Kk(new Mt(o),new Mt(u),f),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>r?Ay(m):m}var kK=qk(RK),DK=qk(OK),Yk=e=>e.rootProps.maxBarSize,PK=e=>e.rootProps.barGap,Xk=e=>e.rootProps.barCategoryGap,MK=e=>e.rootProps.barSize,xd=e=>e.rootProps.stackOffset,oj=e=>e.options.chartName,cj=e=>e.rootProps.syncId,Qk=e=>e.rootProps.syncMethod,uj=e=>e.options.eventEmitter,Oi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ig=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},IK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oi.angleAxisId,includeHidden:!1,name:void 0,reversed:Oi.reversed,scale:Oi.scale,tick:Oi.tick,tickCount:void 0,ticks:void 0,type:Oi.type,unit:void 0},LK={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},BK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$K={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},dj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?BK:IK,hj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$K:LK,sg=e=>e.polarOptions,fj=he([Yi,Xi,Un],RO),Zk=he([sg,fj],(e,t)=>{if(e!=null)return hr(e.innerRadius,t,0)}),Jk=he([sg,fj],(e,t)=>{if(e!=null)return hr(e.outerRadius,t,t*.8)}),UK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},eD=he([sg],UK);he([dj,eD],ig);var tD=he([fj,Zk,Jk],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});he([hj,tD],ig);var nD=he([wt,sg,Zk,Jk,Yi,Xi],(e,t,n,r,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:d,startAngle:f,endAngle:m}=t;return{cx:hr(u,s,s/2),cy:hr(d,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),mn=(e,t)=>t,vd=(e,t,n)=>n;function mj(e){return e?.id}var Hn=e=>{var t=wt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xc=e=>e.tooltip.settings.axisId,qn=e=>{var t=Hn(e),n=xc(e);return yd(e,t,n)},rD=he([qn],e=>e?.dataKey);function aD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=n,u=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var g=mj(d);m.forEach((x,b)=>{var j=o==null||s?b:String(Zt(x,o,null)),S=Zt(x,d.dataKey,0),w;u.has(j)?w=u.get(j):w={},Object.assign(w,{[g]:S}),u.set(j,w)})}}),Array.from(u.values())}function lg(e){return e.stackId!=null&&e.dataKey!=null}var og=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(r){zK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zK(e,t,n){return(t=HK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HK(e){var t=qK(e,"string");return typeof t=="symbol"?t:t+""}function qK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=[0,"auto"],Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iD=(e,t)=>e.cartesianAxis.xAxis[t],Zi=(e,t)=>{var n=iD(e,t);return n??Kr},Gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ty,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cd},sD=(e,t)=>e.cartesianAxis.yAxis[t],Ji=(e,t)=>{var n=sD(e,t);return n??Gr},FK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??FK},vn=(e,t,n)=>{switch(t){case"xAxis":return Zi(e,n);case"yAxis":return Ji(e,n);case"zAxis":return gj(e,n);case"angleAxis":return dj(e,n);case"radiusAxis":return hj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},KK=(e,t,n)=>{switch(t){case"xAxis":return Zi(e,n);case"yAxis":return Ji(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yd=(e,t,n)=>{switch(t){case"xAxis":return Zi(e,n);case"yAxis":return Ji(e,n);case"angleAxis":return dj(e,n);case"radiusAxis":return hj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function pj(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ug=e=>e.graphicalItems.cartesianItems,GK=he([mn,vd],pj),xj=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),bd=he([ug,vn,GK],xj,{memoizeOptions:{resultEqualityCheck:cg}}),oD=he([bd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(lg)),cD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),VK=he([bd],cD),vj=e=>e.map(t=>t.data).filter(Boolean).flat(1),WK=he([bd],vj,{memoizeOptions:{resultEqualityCheck:cg}}),yj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},bj=he([WK,rg],yj),jj=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Zt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Zt(s,r)}))):e.map(r=>({value:r})),dg=he([bj,vn,bd],jj);function uD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Tf(e){if(ai(e)||e instanceof Date){var t=Number(e);if(fr(t))return t}}function z2(e){if(Array.isArray(e)){var t=[Tf(e[0]),Tf(e[1])];return Ll(t)?t:void 0}var n=Tf(e);if(n!=null)return[n,n]}function vc(e){return e.map(Tf).filter(dH)}function YK(e,t,n){return!n||typeof t!="number"||_a(t)?[]:n.length?vc(n.flatMap(r=>{var s=Zt(e,r.dataKey),o,u;if(Array.isArray(s)?[o,u]=s:o=u=s,!(!fr(o)||!fr(u)))return[t-o,t+u]})):[]}var XK=he([oD,rg,qn],aD),dD=(e,t,n)=>{var r={},s=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(s).map(o=>{var[u,d]=o,f=d.map(mj);return[u,{stackedData:P9(e,f,n),graphicalItems:d}]}))},_y=he([XK,oD,xd],dD),hD=(e,t,n,r)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var u=$9(e,s,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},QK=he([vn],e=>e.allowDataOverflow),wj=e=>{var t;if(e==null||!("domain"in e))return Ty;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=vc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Ty},Nj=he([vn],wj),Sj=he([Nj,QK],Pk),ZK=he([_y,Vs,mn,Sj],hD,{memoizeOptions:{resultEqualityCheck:og}}),hg=e=>e.errorBars,JK=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>uD(n,r)),dm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var o=s.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},Ej=(e,t,n,r,s)=>{var o,u;if(n.length>0&&e.forEach(d=>{n.forEach(f=>{var m,g,x=(m=r[f.id])===null||m===void 0?void 0:m.filter(E=>uD(s,E)),b=Zt(d,(g=t.dataKey)!==null&&g!==void 0?g:f.dataKey),j=YK(d,b,x);if(j.length>=2){var S=Math.min(...j),w=Math.max(...j);(o==null||S<o)&&(o=S),(u==null||w>u)&&(u=w)}var N=z2(b);N!=null&&(o=o==null?N[0]:Math.min(o,N[0]),u=u==null?N[1]:Math.max(u,N[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=z2(Zt(d,t.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),u=u==null?f[1]:Math.max(u,f[1]))}),fr(o)&&fr(u))return[o,u]},eG=he([bj,vn,VK,hg,mn],Ej,{memoizeOptions:{resultEqualityCheck:og}});function tG(e){var{value:t}=e;if(ai(t)||t instanceof Date)return t}var nG=(e,t,n)=>{var r=e.map(tG).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&UR(r))?JO(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},fD=e=>e.referenceElements.dots,yc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),rG=he([fD,mn,vd],yc),mD=e=>e.referenceElements.areas,aG=he([mD,mn,vd],yc),gD=e=>e.referenceElements.lines,iG=he([gD,mn,vd],yc),pD=(e,t)=>{var n=vc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sG=he(rG,mn,pD),xD=(e,t)=>{var n=vc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lG=he([aG,mn],xD),vD=(e,t)=>{var n=vc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},oG=he(iG,mn,vD),cG=he(sG,oG,lG,(e,t,n)=>dm(e,n,t)),Cj=(e,t,n,r,s,o,u,d)=>{if(n!=null)return n;var f=u==="vertical"&&d==="xAxis"||u==="horizontal"&&d==="yAxis",m=f?dm(r,o,s):dm(o,s);return wK(t,m,e.allowDataOverflow)},uG=he([vn,Nj,Sj,ZK,eG,cG,wt,mn],Cj,{memoizeOptions:{resultEqualityCheck:og}}),dG=[0,1],Aj=(e,t,n,r,s,o,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:d,type:f}=e,m=qs(t,o);return m&&d==null?JO(0,n.length):f==="category"?nG(r,e,m):s==="expand"?dG:u}},Tj=he([vn,wt,bj,dg,xd,mn,uG],Aj),yD=(e,t,n,r,s)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(id(o));return d in _u?d:"point"}}},bc=he([vn,wt,lD,oj,mn],yD);function hG(e){if(e!=null){if(e in _u)return _u[e]();var t="scale".concat(id(e));if(t in _u)return _u[t]()}}function _j(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=hG(t);if(s!=null){var o=s.domain(n).range(r);return _9(o),o}}}var Rj=(e,t,n)=>{var r=wj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ll(e))return kK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ll(e))return DK(e,t.tickCount,t.allowDecimals)}},Oj=he([Tj,yd,bc],Rj),kj=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ll(t)&&Array.isArray(n)&&n.length>0){var s=t[0],o=n[0],u=t[1],d=n[n.length-1];return[Math.min(s,o),Math.max(u,d)]}return t},fG=he([vn,Tj,Oj,mn],kj),mG=he(dg,vn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(vc(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/s}}),bD=he(mG,wt,Xk,Un,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!fr(e))return 0;var o=t==="vertical"?r.height:r.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var u=hr(n,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),gG=(e,t)=>{var n=Zi(e,t);return n==null||typeof n.padding!="string"?0:bD(e,"xAxis",t,n.padding)},pG=(e,t)=>{var n=Ji(e,t);return n==null||typeof n.padding!="string"?0:bD(e,"yAxis",t,n.padding)},xG=he(Zi,gG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),vG=he(Ji,pG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),yG=he([Un,xG,Vm,Gm,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:o}=r;return s?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bG=he([Un,wt,vG,Vm,Gm,(e,t,n)=>n],(e,t,n,r,s,o)=>{var{padding:u}=s;return o?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),jd=(e,t,n,r)=>{var s;switch(t){case"xAxis":return yG(e,n,r);case"yAxis":return bG(e,n,r);case"zAxis":return(s=gj(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return eD(e);case"radiusAxis":return tD(e,n);default:return}},jD=he([vn,jd],ig),jc=he([vn,bc,fG,jD],_j);he([bd,hg,mn],JK);function wD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fg=(e,t)=>t,mg=(e,t,n)=>n,jG=he(Fm,fg,mg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(wD)),wG=he(Km,fg,mg,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(wD)),ND=(e,t)=>({width:e.width,height:t.height}),NG=(e,t)=>{var n=typeof t.width=="number"?t.width:cd;return{width:n,height:e.height}},SD=he(Un,Zi,ND),SG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},EG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},CG=he(Xi,Un,jG,fg,mg,(e,t,n,r,s)=>{var o={},u;return n.forEach(d=>{var f=ND(t,d);u==null&&(u=SG(t,r,e));var m=r==="top"&&!s||r==="bottom"&&s;o[d.id]=u-Number(m)*f.height,u+=(m?-1:1)*f.height}),o}),AG=he(Yi,Un,wG,fg,mg,(e,t,n,r,s)=>{var o={},u;return n.forEach(d=>{var f=NG(t,d);u==null&&(u=EG(t,r,e));var m=r==="left"&&!s||r==="right"&&s;o[d.id]=u-Number(m)*f.width,u+=(m?-1:1)*f.width}),o}),TG=(e,t)=>{var n=Zi(e,t);if(n!=null)return CG(e,n.orientation,n.mirror)},_G=he([Un,Zi,TG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var s=n?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),RG=(e,t)=>{var n=Ji(e,t);if(n!=null)return AG(e,n.orientation,n.mirror)},OG=he([Un,Ji,RG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var s=n?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),ED=he(Un,Ji,(e,t)=>{var n=typeof t.width=="number"?t.width:cd;return{width:n,height:e.height}}),H2=(e,t,n)=>{switch(t){case"xAxis":return SD(e,n).width;case"yAxis":return ED(e,n).height;default:return}},CD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:o,dataKey:u}=n,d=qs(e,r),f=t.map(m=>m.value);if(u&&d&&o==="category"&&s&&UR(f))return f}},Dj=he([wt,dg,vn,mn],CD),AD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:o}=n,u=qs(e,r);if(u&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Pj=he([wt,dg,yd,mn],AD),q2=he([wt,KK,bc,jc,Dj,Pj,jd,Oj,mn],(e,t,n,r,s,o,u,d,f)=>{if(t==null)return null;var m=qs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:d,range:u,realScaleType:n,scale:r}}),kG=(e,t,n,r,s,o,u,d,f)=>{if(!(t==null||r==null)){var m=qs(e,f),{type:g,ticks:x,tickCount:b}=t,j=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=g==="category"&&r.bandwidth?r.bandwidth()/j:0;S=f==="angleAxis"&&o!=null&&o.length>=2?Vn(o[0]-o[1])*2*S:S;var w=x||s;if(w){var N=w.map((E,A)=>{var T=u?u.indexOf(E):E;return{index:A,coordinate:r(T)+S,value:E,offset:S}});return N.filter(E=>!_a(E.coordinate))}return m&&d?d.map((E,A)=>({coordinate:r(E)+S,value:E,index:A,offset:S})):r.ticks?r.ticks(b).map(E=>({coordinate:r(E)+S,value:E,offset:S})):r.domain().map((E,A)=>({coordinate:r(E)+S,value:u?u[E]:E,index:A,offset:S}))}},TD=he([wt,yd,bc,jc,Oj,jd,Dj,Pj,mn],kG),DG=(e,t,n,r,s,o,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=qs(e,u),{tickCount:f}=t,m=0;return m=u==="angleAxis"&&r?.length>=2?Vn(r[0]-r[1])*2*m:m,d&&o?o.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.ticks?n.ticks(f).map(g=>({coordinate:n(g)+m,value:g,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:s?s[g]:g,index:x,offset:m}))}},Ls=he([wt,yd,jc,jd,Dj,Pj,mn],DG),Bs=he(vn,jc,(e,t)=>{if(!(e==null||t==null))return um(um({},e),{},{scale:t})}),PG=he([vn,bc,Tj,jD],_j);he((e,t,n)=>gj(e,n),PG,(e,t)=>{if(!(e==null||t==null))return um(um({},e),{},{scale:t})});var MG=he([wt,Fm,Km],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_D=e=>e.options.defaultTooltipEventType,RD=e=>e.options.validateTooltipEventTypes;function OD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Mj(e,t){var n=_D(e),r=RD(e);return OD(t,n,r)}function IG(e){return Ge(t=>Mj(t,e))}var kD=(e,t)=>{var n,r=Number(t);if(!(_a(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},LG=e=>e.tooltip.settings,Ps={active:!1,index:null,dataKey:void 0,coordinate:void 0},BG={itemInteraction:{click:Ps,hover:Ps},axisInteraction:{click:Ps,hover:Ps},keyboardInteraction:Ps,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DD=na({name:"tooltip",initialState:BG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:vr()},removeTooltipEntrySettings:{reducer(e,t){var n=$i(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:vr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$G,removeTooltipEntrySettings:UG,setTooltipSettingsState:zG,setActiveMouseOverItemIndex:PD,mouseLeaveItem:HG,mouseLeaveChart:MD,setActiveClickItemIndex:qG,setMouseOverAxisIndex:ID,setMouseClickAxisIndex:FG,setSyncInteraction:Ry,setKeyboardInteraction:Oy}=DD.actions,KG=DD.reducer;function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){GG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GG(e,t,n){return(t=VG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function XG(e){return e.index!=null}var LD=(e,t,n,r)=>{if(t==null)return Ps;var s=YG(e,t,n);if(s==null)return Ps;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(XG(s)){if(o)return hf(hf({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return hf(hf({},Ps),{},{coordinate:s.coordinate})},Ij=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!fr(r))return n;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(r,o)))},BD=(e,t,n,r,s,o,u,d)=>{if(!(o==null||d==null)){var f=u[0],m=f==null?void 0:d(f.positions,o);if(m!=null)return m;var g=s?.[Number(o)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},$D=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===s})},wd=e=>e.options.tooltipPayloadSearcher,wc=e=>e.tooltip;function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(r){QG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QG(e,t,n){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eV(e,t){return e??t}var UD=(e,t,n,r,s,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:g}=n,x=[];return e.reduce((b,j)=>{var S,{dataDefinedOnItem:w,settings:N}=j,E=eV(w,d),A=Array.isArray(E)?OO(E,m,g):E,T=(S=N?.dataKey)!==null&&S!==void 0?S:r,_=N?.nameKey,O;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&u==="axis"?O=zR(A,r,s):O=o(A,t,f,_),Array.isArray(O))O.forEach(R=>{var P=G2(G2({},N),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(jA({tooltipEntrySettings:P,dataKey:R.dataKey,payload:R.payload,value:Zt(R.payload,R.dataKey),name:R.name}))});else{var k;b.push(jA({tooltipEntrySettings:N,dataKey:T,payload:O,value:Zt(O,T),name:(k=Zt(O,_))!==null&&k!==void 0?k:N?.name}))}return b},x)}},Lj=he([qn,wt,lD,oj,Hn],yD),tV=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nV=he([Hn,xc],pj),Nd=he([tV,qn,nV],xj,{memoizeOptions:{resultEqualityCheck:cg}}),rV=he([Nd],e=>e.filter(lg)),aV=he([Nd],vj,{memoizeOptions:{resultEqualityCheck:cg}}),Nc=he([aV,Vs],yj),iV=he([rV,Vs,qn],aD),Bj=he([Nc,qn,Nd],jj),zD=he([qn],wj),sV=he([qn],e=>e.allowDataOverflow),HD=he([zD,sV],Pk),lV=he([Nd],e=>e.filter(lg)),oV=he([iV,lV,xd],dD),cV=he([oV,Vs,Hn,HD],hD),uV=he([Nd],cD),dV=he([Nc,qn,uV,hg,Hn],Ej,{memoizeOptions:{resultEqualityCheck:og}}),hV=he([fD,Hn,xc],yc),fV=he([hV,Hn],pD),mV=he([mD,Hn,xc],yc),gV=he([mV,Hn],xD),pV=he([gD,Hn,xc],yc),xV=he([pV,Hn],vD),vV=he([fV,xV,gV],dm),yV=he([qn,zD,HD,cV,dV,vV,wt,Hn],Cj),qD=he([qn,wt,Nc,Bj,xd,Hn,yV],Aj),bV=he([qD,qn,Lj],Rj),jV=he([qn,qD,bV,Hn],kj),FD=e=>{var t=Hn(e),n=xc(e),r=!1;return jd(e,t,n,r)},KD=he([qn,FD],ig),GD=he([qn,Lj,jV,KD],_j),wV=he([wt,Bj,qn,Hn],CD),NV=he([wt,Bj,qn,Hn],AD),SV=(e,t,n,r,s,o,u,d)=>{if(t){var{type:f}=t,m=qs(e,d);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=d==="angleAxis"&&s!=null&&s?.length>=2?Vn(s[0]-s[1])*2*x:x,m&&u?u.map((b,j)=>({coordinate:r(b)+x,value:b,index:j,offset:x})):r.domain().map((b,j)=>({coordinate:r(b)+x,value:o?o[b]:b,index:j,offset:x}))}}},es=he([wt,qn,Lj,GD,FD,wV,NV,Hn],SV),$j=he([_D,RD,LG],(e,t,n)=>OD(n.shared,e,t)),VD=e=>e.tooltip.settings.trigger,Uj=e=>e.tooltip.settings.defaultIndex,gg=he([wc,$j,VD,Uj],LD),$s=he([gg,Nc],Ij),WD=he([es,$s],kD),YD=he([gg],e=>{if(e)return e.dataKey}),XD=he([wc,$j,VD,Uj],$D),EV=he([Yi,Xi,wt,Un,es,Uj,XD,wd],BD),CV=he([gg,EV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),AV=he([gg],e=>e.active),TV=he([XD,$s,Vs,rD,WD,wd,$j],UD),_V=he([TV],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){RV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RV(e,t,n){return(t=OV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DV=()=>Ge(qn),PV=()=>{var e=DV(),t=Ge(es),n=Ge(GD);return Vu(W2(W2({},e),{},{scale:n}),t)},MV=()=>Ge(oj),zj=(e,t)=>t,QD=(e,t,n)=>n,Hj=(e,t,n,r)=>r,IV=he(es,e=>Bm(e,t=>t.coordinate)),qj=he([wc,zj,QD,Hj],LD),ZD=he([qj,Nc],Ij),LV=(e,t,n)=>{if(t!=null){var r=wc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},JD=he([wc,zj,QD,Hj],$D),hm=he([Yi,Xi,wt,Un,es,Hj,JD,wd],BD),BV=he([qj,hm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),eP=he(es,ZD,kD),$V=he([JD,ZD,Vs,rD,eP,wd,zj],UD),UV=he([qj],e=>({isActive:e.active,activeIndex:e.index})),zV=(e,t,n,r,s,o,u,d)=>{if(!(!e||!t||!r||!s||!o)){var f=U9(e.chartX,e.chartY,t,n,d);if(f){var m=H9(f,t),g=A9(m,u,o,r,s),x=z9(t,o,g,f);return{activeIndex:String(g),activeCoordinate:x}}}};function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(null,arguments)}function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){HV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HV(e,t,n){return(t=qV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KV(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,g=t,x=n,b=r;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var j,S;if(m==="ScatterChart")j=g,S=aH;else if(m==="BarChart")j=iH(u,g,s,o),S=YO;else if(u==="radial"){var{cx:w,cy:N,radius:E,startAngle:A,endAngle:T}=XO(g);j={cx:w,cy:N,startAngle:A,endAngle:T,innerRadius:E,outerRadius:E},S=ZO}else j={points:HH(u,g,s)},S=Mb;var _=typeof d=="object"&&"className"in d?d.className:void 0,O=ff(ff(ff(ff({stroke:"#ccc",pointerEvents:"none"},s),j),Dl(d)),{},{payload:x,payloadIndex:b,className:jt("recharts-tooltip-cursor",_)});return p.isValidElement(d)?p.cloneElement(d,O):p.createElement(S,O)}function GV(e){var t=PV(),n=UO(),r=Ym(),s=MV();return p.createElement(KV,ky({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var tP=p.createContext(null),VV=()=>p.useContext(tP),lv={exports:{}},X2;function WV(){return X2||(X2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function o(f,m,g,x,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var j=new s(g,x||f,b),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],j]:f._events[S].push(j):(f._events[S]=j,f._eventsCount++),f}function u(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=n?n+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,j=x.length,S=new Array(j);b<j;b++)S[b]=x[b].fn;return S},d.prototype.listenerCount=function(m){var g=n?n+m:m,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,g,x,b,j,S){var w=n?n+m:m;if(!this._events[w])return!1;var N=this._events[w],E=arguments.length,A,T;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,x),!0;case 4:return N.fn.call(N.context,g,x,b),!0;case 5:return N.fn.call(N.context,g,x,b,j),!0;case 6:return N.fn.call(N.context,g,x,b,j,S),!0}for(T=1,A=new Array(E-1);T<E;T++)A[T-1]=arguments[T];N.fn.apply(N.context,A)}else{var _=N.length,O;for(T=0;T<_;T++)switch(N[T].once&&this.removeListener(m,N[T].fn,void 0,!0),E){case 1:N[T].fn.call(N[T].context);break;case 2:N[T].fn.call(N[T].context,g);break;case 3:N[T].fn.call(N[T].context,g,x);break;case 4:N[T].fn.call(N[T].context,g,x,b);break;default:if(!A)for(O=1,A=new Array(E-1);O<E;O++)A[O-1]=arguments[O];N[T].fn.apply(N[T].context,A)}}return!0},d.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},d.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},d.prototype.removeListener=function(m,g,x,b){var j=n?n+m:m;if(!this._events[j])return this;if(!g)return u(this,j),this;var S=this._events[j];if(S.fn)S.fn===g&&(!b||S.once)&&(!x||S.context===x)&&u(this,j);else{for(var w=0,N=[],E=S.length;w<E;w++)(S[w].fn!==g||b&&!S[w].once||x&&S[w].context!==x)&&N.push(S[w]);N.length?this._events[j]=N.length===1?N[0]:N:u(this,j)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(lv)),lv.exports}var YV=WV();const XV=oi(YV);var ed=new XV,Dy="recharts.syncEvent.tooltip",Q2="recharts.syncEvent.brush";function Fj(e,t){if(t){var n=Number.parseInt(t,10);if(!_a(n))return e?.[n]}}var QV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nP=na({name:"options",initialState:QV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ZV=nP.reducer,{createEventEmitter:JV}=nP.actions;function eW(e){return e.tooltip.syncInteraction}var tW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rP=na({name:"chartData",initialState:tW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Z2,setDataStartEndIndexes:nW,setComputedData:qae}=rP.actions,rW=rP.reducer,aW=["x","y"];function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){iW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iW(e,t,n){return(t=sW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oW(e,t){if(e==null)return{};var n,r,s=cW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function cW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aP=()=>{};function uW(){var e=Ge(cj),t=Ge(uj),n=fn(),r=Ge(Qk),s=Ge(es),o=Ym(),u=Wm(),d=Ge(f=>f.rootProps.className);p.useEffect(()=>{if(e==null)return aP;var f=(m,g,x)=>{if(t!==x&&e===m){if(r==="index"){var b;if(u&&g!==null&&g!==void 0&&(b=g.payload)!==null&&b!==void 0&&b.coordinate&&g.payload.sourceViewBox){var j=g.payload.coordinate,{x:S,y:w}=j,N=oW(j,aW),{x:E,y:A,width:T,height:_}=g.payload.sourceViewBox,O=Lo(Lo({},N),{},{x:u.x+(T?(S-E)/T:0)*u.width,y:u.y+(_?(w-A)/_:0)*u.height});n(Lo(Lo({},g),{},{payload:Lo(Lo({},g.payload),{},{coordinate:O})}))}else n(g);return}if(s!=null){var k;if(typeof r=="function"){var R={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},P=r(s,R);k=s[P]}else r==="value"&&(k=s.find($=>String($.value)===g.payload.label));var{coordinate:F}=g.payload;if(k==null||g.payload.active===!1||F==null||u==null){n(Ry({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:re,y:L}=F,G=Math.min(re,u.x+u.width),J=Math.min(L,u.y+u.height),je={x:o==="horizontal"?k.coordinate:G,y:o==="horizontal"?J:k.coordinate},ge=Ry({active:g.payload.active,coordinate:je,dataKey:g.payload.dataKey,index:String(k.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox});n(ge)}}};return ed.on(Dy,f),()=>{ed.off(Dy,f)}},[d,n,t,e,r,s,o,u])}function dW(){var e=Ge(cj),t=Ge(uj),n=fn();p.useEffect(()=>{if(e==null)return aP;var r=(s,o,u)=>{t!==u&&e===s&&n(nW(o))};return ed.on(Q2,r),()=>{ed.off(Q2,r)}},[n,t,e])}function hW(){var e=fn();p.useEffect(()=>{e(JV())},[e]),uW(),dW()}function fW(e,t,n,r,s,o){var u=Ge(j=>LV(j,e,t)),d=Ge(uj),f=Ge(cj),m=Ge(Qk),g=Ge(eW),x=g?.active,b=Wm();p.useEffect(()=>{if(!x&&f!=null&&d!=null){var j=Ry({active:o,coordinate:n,dataKey:u,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:b});ed.emit(Dy,f,j,d)}},[x,n,u,s,r,d,f,m,o,b])}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){mW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xW(e){return e.dataKey}function vW(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(I7,t)}var nT=[],yW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Fs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Sd(e){var t=sr(e,yW),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:o,content:u,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:g,position:x,reverseDirection:b,useTranslate3d:j,wrapperStyle:S,cursor:w,shared:N,trigger:E,defaultIndex:A,portal:T,axisId:_}=t,O=fn(),k=typeof A=="number"?String(A):A;p.useEffect(()=>{O(zG({shared:N,trigger:E,axisId:_,active:n,defaultIndex:k}))},[O,N,E,_,n,k]);var R=Wm(),P=FO(),F=IG(N),{activeIndex:re,isActive:L}=Ge(se=>UV(se,F,E,k)),G=Ge(se=>$V(se,F,E,k)),J=Ge(se=>eP(se,F,E,k)),je=Ge(se=>BV(se,F,E,k)),ge=G,$=VV(),U=n??L,[V,pe]=rO([ge,U]),ke=F==="axis"?J:void 0;fW(F,E,je,ke,re,U);var B=T??$;if(B==null)return null;var K=ge??nT;U||(K=nT),d&&K.length&&(K=ZR(ge.filter(se=>se.value!=null&&(se.hide!==!0||t.includeHidden)),g,xW));var le=K.length>0,Y=p.createElement(q7,{allowEscapeViewBox:r,animationDuration:s,animationEasing:o,isAnimationActive:f,active:U,coordinate:je,hasPayload:le,offset:m,position:x,reverseDirection:b,useTranslate3d:j,viewBox:R,wrapperStyle:S,lastBoundingBox:V,innerRef:pe,hasPortalFromProps:!!T},vW(u,tT(tT({},t),{},{payload:K,label:ke,active:U,coordinate:je,accessibilityLayer:P})));return p.createElement(p.Fragment,null,Rm.createPortal(Y,B),U&&p.createElement(GV,{cursor:w,tooltipEventType:F,coordinate:je,payload:ge,index:re}))}var Ed=e=>null;Ed.displayName="Cell";function bW(e,t,n){return(t=jW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NW{constructor(t){bW(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function SW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){EW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EW(e,t,n){return(t=CW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TW={cacheSize:2e3,enableCache:!0},iP=SW({},TW),aT=new NW(iP.cacheSize),_W={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iT="recharts_measurement_span";function RW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(d)}var sT=(e,t)=>{try{var n=document.getElementById(iT);n||(n=document.createElement("span"),n.setAttribute("id",iT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,_W,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ou=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fs.isSsr)return{width:0,height:0};if(!iP.enableCache)return sT(t,n);var r=RW(t,n),s=aT.get(r);if(s)return s;var o=sT(t,n);return aT.set(r,o),o},lT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DW=Object.keys(sP),qo="NaN";function PW(e,t){return e*sP[t]}class Mr{static parse(t){var n,[,r,s]=(n=kW.exec(t))!==null&&n!==void 0?n:[];return new Mr(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_a(t)&&(this.unit=""),n!==""&&!OW.test(n)&&(this.num=NaN,this.unit=""),DW.includes(n)&&(this.num=PW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _a(this.num)}}function lP(e){if(e.includes(qo))return qo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,o]=(n=lT.exec(t))!==null&&n!==void 0?n:[],u=Mr.parse(r??""),d=Mr.parse(o??""),f=s==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return qo;t=t.replace(lT,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,b]=(m=oT.exec(t))!==null&&m!==void 0?m:[],j=Mr.parse(g??""),S=Mr.parse(b??""),w=x==="+"?j.add(S):j.subtract(S);if(w.isNaN())return qo;t=t.replace(oT,w.toString())}return t}var cT=/\(([^()]*)\)/;function MW(e){for(var t=e,n;(n=cT.exec(t))!=null;){var[,r]=n;t=t.replace(cT,lP(r))}return t}function IW(e){var t=e.replace(/\s+/g,"");return t=MW(t),t=lP(t),t}function LW(e){try{return IW(e)}catch{return qo}}function ov(e){var t=LW(e.slice(5,-1));return t===qo?"":t}var BW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$W=["dx","dy","angle","className","breakAll"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Py.apply(null,arguments)}function uT(e,t){if(e==null)return{};var n,r,s=UW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function UW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oP=/[ \f\n\r\t\v\u2028\u2029]+/,cP=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];hn(t)||(n?s=t.toString().split(""):s=t.toString().split(oP));var o=s.map(d=>({word:d,width:Ou(d,r).width})),u=n?0:Ou("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},zW=(e,t,n,r,s)=>{var{maxLines:o,children:u,style:d,breakAll:f}=e,m=Ye(o),g=u,x=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((G,J)=>{var{word:je,width:ge}=J,$=G[G.length-1];if($&&(r==null||s||$.width+ge+n<Number(r)))$.words.push(je),$.width+=ge+n;else{var U={words:[je],width:ge};G.push(U)}return G},[])},b=x(t),j=re=>re.reduce((L,G)=>L.width>G.width?L:G);if(!m||s)return b;var S=b.length>o||j(b).width>Number(r);if(!S)return b;for(var w="",N=re=>{var L=g.slice(0,re),G=cP({breakAll:f,style:d,children:L+w}).wordsWithComputedWidth,J=x(G),je=J.length>o||j(J).width>Number(r);return[je,J]},E=0,A=g.length-1,T=0,_;E<=A&&T<=g.length-1;){var O=Math.floor((E+A)/2),k=O-1,[R,P]=N(k),[F]=N(O);if(!R&&!F&&(E=O+1),R&&F&&(A=O-1),!R&&F){_=P;break}T++}return _||b},dT=e=>{var t=hn(e)?[]:e.toString().split(oP);return[{words:t}]},HW=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:o,maxLines:u}=e;if((t||n)&&!Fs.isSsr){var d,f,m=cP({breakAll:o,children:r,style:s});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;d=g,f=x}else return dT(r);return zW({breakAll:o,children:r,maxLines:u,style:s},d,f,t,n)}return dT(r)},hT="#808080",pg=p.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=hT}=e,g=uT(e,BW),x=p.useMemo(()=>HW({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:b,dy:j,angle:S,className:w,breakAll:N}=g,E=uT(g,$W);if(!ai(n)||!ai(r)||x.length===0)return null;var A=n+(Ye(b)?b:0),T=r+(Ye(j)?j:0),_;switch(f){case"start":_=ov("calc(".concat(o,")"));break;case"middle":_=ov("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:_=ov("calc(".concat(x.length-1," * -").concat(s,")"));break}var O=[];if(u){var k=x[0].width,{width:R}=g;O.push("scale(".concat(Ye(R)?R/k:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(A,", ").concat(T,")")),O.length&&(E.transform=O.join(" ")),p.createElement("text",Py({},Nr(E),{ref:t,x:A,y:T,className:jt("recharts-text",w),textAnchor:d,fill:m.includes("url")?hT:m}),x.map((P,F)=>{var re=P.words.join(N?"":" ");return p.createElement("tspan",{x:A,dy:F===0?_:s,key:"".concat(re,"-").concat(F)},re)}))});pg.displayName="Text";var qW=["labelRef"];function FW(e,t){if(e==null)return{};var n,r,s=KW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function KW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){GW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GW(e,t,n){return(t=VW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(null,arguments)}var uP=p.createContext(null),YW=e=>{var{x:t,y:n,width:r,height:s,children:o}=e,u=p.useMemo(()=>({x:t,y:n,width:r,height:s}),[t,n,r,s]);return p.createElement(uP.Provider,{value:u},o)},dP=()=>{var e=p.useContext(uP),t=Wm();return e||t},XW=p.createContext(null),QW=()=>{var e=p.useContext(XW),t=Ge(nD);return e||t},ZW=e=>{var{value:t,formatter:n}=e,r=hn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Kj=e=>e!=null&&typeof e=="function",JW=(e,t)=>{var n=Vn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},eY=(e,t,n,r,s)=>{var{offset:o,className:u}=e,{cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:x,endAngle:b,clockWise:j}=s,S=(m+g)/2,w=JW(x,b),N=w>=0?1:-1,E,A;switch(t){case"insideStart":E=x+N*o,A=j;break;case"insideEnd":E=b-N*o,A=!j;break;case"end":E=b+N*o,A=j;break;default:throw new Error("Unsupported position ".concat(t))}A=w<=0?A:!A;var T=Pn(d,f,S,E),_=Pn(d,f,S,E+(A?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(_.x,",").concat(_.y),k=hn(e.id)?qu("recharts-radial-line-"):e.id;return p.createElement("text",ki({},r,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",u)}),p.createElement("defs",null,p.createElement("path",{id:k,d:O})),p.createElement("textPath",{xlinkHref:"#".concat(k)},n))},tY=(e,t,n)=>{var{cx:r,cy:s,innerRadius:o,outerRadius:u,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:g,y:x}=Pn(r,s,u+t,m);return{x:g,y:x,textAnchor:g>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:j,y:S}=Pn(r,s,b,m);return{x:j,y:S,textAnchor:"middle",verticalAnchor:"middle"}},hP=e=>"cx"in e&&Ye(e.cx),nY=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,o;n!=null&&!hP(n)&&(o=n);var{x:u,y:d,width:f,height:m}=t,g=m>=0?1:-1,x=g*r,b=g>0?"end":"start",j=g>0?"start":"end",S=f>=0?1:-1,w=S*r,N=S>0?"end":"start",E=S>0?"start":"end";if(s==="top"){var A={x:u+f/2,y:d-g*r,textAnchor:"middle",verticalAnchor:b};return Sn(Sn({},A),o?{height:Math.max(d-o.y,0),width:f}:{})}if(s==="bottom"){var T={x:u+f/2,y:d+m+x,textAnchor:"middle",verticalAnchor:j};return Sn(Sn({},T),o?{height:Math.max(o.y+o.height-(d+m),0),width:f}:{})}if(s==="left"){var _={x:u-w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return Sn(Sn({},_),o?{width:Math.max(_.x-o.x,0),height:m}:{})}if(s==="right"){var O={x:u+f+w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"};return Sn(Sn({},O),o?{width:Math.max(o.x+o.width-O.x,0),height:m}:{})}var k=o?{width:f,height:m}:{};return s==="insideLeft"?Sn({x:u+w,y:d+m/2,textAnchor:E,verticalAnchor:"middle"},k):s==="insideRight"?Sn({x:u+f-w,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},k):s==="insideTop"?Sn({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:j},k):s==="insideBottom"?Sn({x:u+f/2,y:d+m-x,textAnchor:"middle",verticalAnchor:b},k):s==="insideTopLeft"?Sn({x:u+w,y:d+x,textAnchor:E,verticalAnchor:j},k):s==="insideTopRight"?Sn({x:u+f-w,y:d+x,textAnchor:N,verticalAnchor:j},k):s==="insideBottomLeft"?Sn({x:u+w,y:d+m-x,textAnchor:E,verticalAnchor:b},k):s==="insideBottomRight"?Sn({x:u+f-w,y:d+m-x,textAnchor:N,verticalAnchor:b},k):s&&typeof s=="object"&&(Ye(s.x)||Fi(s.x))&&(Ye(s.y)||Fi(s.y))?Sn({x:u+hr(s.x,f),y:d+hr(s.y,m),textAnchor:"end",verticalAnchor:"end"},k):Sn({x:u+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},k)},rY={offset:5};function Ds(e){var t=sr(e,rY),{viewBox:n,position:r,value:s,children:o,content:u,className:d="",textBreakAll:f,labelRef:m}=t,g=QW(),x=dP(),b=r==="center"?x:g??x,j=n||b;if(!j||hn(s)&&hn(o)&&!p.isValidElement(u)&&typeof u!="function")return null;var S=Sn(Sn({},t),{},{viewBox:j});if(p.isValidElement(u)){var{labelRef:w}=S,N=FW(S,qW);return p.cloneElement(u,N)}var E;if(typeof u=="function"){if(E=p.createElement(u,S),p.isValidElement(E))return E}else E=ZW(t);var A=hP(j),T=Nr(t);if(A&&(r==="insideStart"||r==="insideEnd"||r==="end"))return eY(t,r,E,T,j);var _=A?tY(j,t.offset,t.position):nY(t,j);return p.createElement(pg,ki({ref:m,className:jt("recharts-label",d)},T,_,{breakAll:f}),E)}Ds.displayName="Label";var aY=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?p.createElement(Ds,ki({key:"label-implicit"},r)):ai(e)?p.createElement(Ds,ki({key:"label-implicit",value:e},r)):p.isValidElement(e)?e.type===Ds?p.cloneElement(e,Sn({key:"label-implicit"},r)):p.createElement(Ds,ki({key:"label-implicit",content:e},r)):Kj(e)?p.createElement(Ds,ki({key:"label-implicit",content:e},r)):e&&typeof e=="object"?p.createElement(Ds,ki({},e,{key:"label-implicit"},r)):null};function iY(e){var{label:t,labelRef:n}=e,r=dP();return aY(t,r,n)||null}var cv={},uv={},mT;function sY(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(uv)),uv}var dv={},gT;function lY(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(dv)),dv}var pT;function oY(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sY(),n=lY(),r=Nb();function s(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=s})(cv)),cv}var hv,xT;function cY(){return xT||(xT=1,hv=oY().last),hv}var uY=cY();const dY=oi(uY);var hY=["valueAccessor"],fY=["dataKey","clockWise","id","textBreakAll"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(null,arguments)}function vT(e,t){if(e==null)return{};var n,r,s=mY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function mY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gY=e=>Array.isArray(e.value)?dY(e.value):e.value,fP=p.createContext(void 0),mP=fP.Provider,gP=p.createContext(void 0),pY=gP.Provider;function xY(){return p.useContext(fP)}function vY(){return p.useContext(gP)}function _f(e){var{valueAccessor:t=gY}=e,n=vT(e,hY),{dataKey:r,clockWise:s,id:o,textBreakAll:u}=n,d=vT(n,fY),f=xY(),m=vY(),g=f||m;return!g||!g.length?null:p.createElement(ir,{className:"recharts-label-list"},g.map((x,b)=>{var j,S=hn(r)?t(x,b):Zt(x&&x.payload,r),w=hn(o)?{}:{id:"".concat(o,"-").concat(b)};return p.createElement(Ds,fm({key:"label-".concat(b)},Nr(x),d,w,{fill:(j=n.fill)!==null&&j!==void 0?j:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:u,viewBox:x.viewBox,index:b}))}))}_f.displayName="LabelList";function Gj(e){var{label:t}=e;return t?t===!0?p.createElement(_f,{key:"labelList-implicit"}):p.isValidElement(t)||Kj(t)?p.createElement(_f,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(_f,fm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}var pP=e=>{var{cx:t,cy:n,r,className:s}=e,o=jt("recharts-dot",s);return t===+t&&n===+n&&r===+r?p.createElement("circle",My({},ea(e),bb(e),{className:o,cx:t,cy:n,r})):null},xP=e=>e.graphicalItems.polarItems,yY=he([mn,vd],pj),xg=he([xP,vn,yY],xj),bY=he([xg],vj),vg=he([bY,ij],yj),jY=he([vg,vn,xg],jj);he([vg,vn,xg],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var o,u=Zt(r,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Zt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var yT=()=>{},wY=he([vg,vn,xg,hg,mn],Ej),NY=he([vn,Nj,Sj,yT,wY,yT,wt,mn],Cj),vP=he([vn,wt,vg,jY,xd,mn,NY],Aj),SY=he([vP,vn,bc],Rj);he([vn,vP,SY,mn],kj);var EY={radiusAxis:{},angleAxis:{}},yP=na({name:"polarAxis",initialState:EY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Fae,removeRadiusAxis:Kae,addAngleAxis:Gae,removeAngleAxis:Vae}=yP.actions,CY=yP.reducer;function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){AY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AY(e,t,n){return(t=TY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RY=(e,t)=>t,Vj=he([xP,RY],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),OY=[],Wj=(e,t,n)=>n?.length===0?OY:n,bP=he([ij,Vj,Wj],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(o=>jT(jT({},t.presentationProps),o.props))),s!=null)return s}}),kY=he([bP,Vj,Wj],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,s)=>{var o,u=Zt(r,t.nameKey,t.name),d;return n!=null&&(o=n[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:fc(u,t.dataKey),color:d,payload:r,type:t.legendType}})}),DY=he([bP,Vj,Wj,Un],(e,t,n,r)=>{if(!(t==null||e==null))return DX({offset:r,pieSettings:t,displayedData:e,cells:n})}),fv={exports:{}},Ut={};var wT;function PY(){if(wT)return Ut;wT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case s:case r:case f:case m:case b:return w;default:switch(w=w&&w.$$typeof,w){case u:case d:case x:case g:return w;case o:return w;default:return N}}case t:return N}}}return Ut.ContextConsumer=o,Ut.ContextProvider=u,Ut.Element=e,Ut.ForwardRef=d,Ut.Fragment=n,Ut.Lazy=x,Ut.Memo=g,Ut.Portal=t,Ut.Profiler=s,Ut.StrictMode=r,Ut.Suspense=f,Ut.SuspenseList=m,Ut.isContextConsumer=function(w){return S(w)===o},Ut.isContextProvider=function(w){return S(w)===u},Ut.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ut.isForwardRef=function(w){return S(w)===d},Ut.isFragment=function(w){return S(w)===n},Ut.isLazy=function(w){return S(w)===x},Ut.isMemo=function(w){return S(w)===g},Ut.isPortal=function(w){return S(w)===t},Ut.isProfiler=function(w){return S(w)===s},Ut.isStrictMode=function(w){return S(w)===r},Ut.isSuspense=function(w){return S(w)===f},Ut.isSuspenseList=function(w){return S(w)===m},Ut.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===s||w===r||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===g||w.$$typeof===u||w.$$typeof===o||w.$$typeof===d||w.$$typeof===j||w.getModuleId!==void 0)},Ut.typeOf=S,Ut}var NT;function MY(){return NT||(NT=1,fv.exports=PY()),fv.exports}var IY=MY(),ST=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ET=null,mv=null,jP=e=>{if(e===ET&&Array.isArray(mv))return mv;var t=[];return p.Children.forEach(e,n=>{hn(n)||(IY.isFragment(n)?t=t.concat(jP(n.props.children)):t.push(n))}),mv=t,ET=e,t};function Yj(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>ST(s)):r=[ST(t)],jP(e).forEach(s=>{var o=Pl(s,"type.displayName")||Pl(s,"type.name");r.indexOf(o)!==-1&&n.push(s)}),n}var wP=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,gv={},CT;function LY(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(gv)),gv}var pv,AT;function BY(){return AT||(AT=1,pv=LY().isPlainObject),pv}var $Y=BY();const UY=oi($Y);function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){zY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zY(e,t,n){return(t=HY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(null,arguments)}var RT=(e,t,n,r,s)=>{var o=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-o/2,",").concat(t+s),u+="L ".concat(e+n-o/2-r,",").concat(t+s),u+="L ".concat(e,",").concat(t," Z"),u},FY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KY=e=>{var t=sr(e,FY),{x:n,y:r,upperWidth:s,lowerWidth:o,height:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,b=p.useRef(null),[j,S]=p.useState(-1),w=p.useRef(s),N=p.useRef(o),E=p.useRef(u),A=p.useRef(n),T=p.useRef(r),_=hd(e,"trapezoid-");if(p.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var je=b.current.getTotalLength();je&&S(je)}catch{}},[]),n!==+n||r!==+r||s!==+s||o!==+o||u!==+u||s===0&&o===0||u===0)return null;var O=jt("recharts-trapezoid",d);if(!x)return p.createElement("g",null,p.createElement("path",mm({},Nr(t),{className:O,d:RT(n,r,s,o,u)})));var k=w.current,R=N.current,P=E.current,F=A.current,re=T.current,L="0px ".concat(j===-1?1:j,"px"),G="".concat(j,"px 0px"),J=KO(["strokeDasharray"],m,f);return p.createElement(dd,{animationId:_,key:_,canBegin:j>0,duration:m,easing:f,isActive:x,begin:g},je=>{var ge=jn(k,s,je),$=jn(R,o,je),U=jn(P,u,je),V=jn(F,n,je),pe=jn(re,r,je);b.current&&(w.current=ge,N.current=$,E.current=U,A.current=V,T.current=pe);var ke=je>0?{transition:J,strokeDasharray:G}:{strokeDasharray:L};return p.createElement("path",mm({},Nr(t),{className:O,d:RT(V,pe,ge,$,U),ref:b,style:_T(_T({},ke),t.style)}))})},GY=["option","shapeType","propTransformer","activeClassName","isActive"];function VY(e,t){if(e==null)return{};var n,r,s=WY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function WY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){YY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YY(e,t,n){return(t=XY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZY(e,t){return gm(gm({},t),e)}function JY(e,t){return e==="symbols"}function kT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return p.createElement(YO,n);case"trapezoid":return p.createElement(KY,n);case"sector":return p.createElement(ZO,n);case"symbols":if(JY(t))return p.createElement(yb,n);break;default:return null}}function eX(e){return p.isValidElement(e)?e.props:e}function NP(e){var{option:t,shapeType:n,propTransformer:r=ZY,activeClassName:s="recharts-active-shape",isActive:o}=e,u=VY(e,GY),d;if(p.isValidElement(t))d=p.cloneElement(t,gm(gm({},u),eX(t)));else if(typeof t=="function")d=t(u);else if(UY(t)&&typeof t!="boolean"){var f=r(t,u);d=p.createElement(kT,{shapeType:n,elementProps:f})}else{var m=u;d=p.createElement(kT,{shapeType:n,elementProps:m})}return o?p.createElement(ir,{className:s},d):d}var Xj=(e,t)=>{var n=fn();return(r,s)=>o=>{e?.(r,s,o),n(PD({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Qj=e=>{var t=fn();return(n,r)=>s=>{e?.(n,r,s),t(HG())}},Zj=(e,t)=>{var n=fn();return(r,s)=>o=>{e?.(r,s,o),n(qG({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Jj(e){var{fn:t,args:n}=e,r=fn(),s=Sr();return p.useLayoutEffect(()=>{if(!s){var o=t(n);return r($G(o)),()=>{r(UG(o))}}},[t,n,r,s]),null}var SP=()=>{};function EP(e){var{legendPayload:t}=e,n=fn(),r=Sr();return p.useLayoutEffect(()=>r?SP:(n(HO(t)),()=>{n(qO(t))}),[n,r,t]),null}function tX(e){var{legendPayload:t}=e,n=fn(),r=Ge(wt);return p.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?SP:(n(HO(t)),()=>{n(qO(t))}),[n,r,t]),null}var xv,nX=()=>{var[e]=p.useState(()=>qu("uid-"));return e},rX=(xv=Gy.useId)!==null&&xv!==void 0?xv:nX;function aX(e,t){var n=rX();return t||(e?"".concat(e,"-").concat(n):n)}var iX=p.createContext(void 0),ew=e=>{var{id:t,type:n,children:r}=e,s=aX("recharts-".concat(n),t);return p.createElement(iX.Provider,{value:s},r(s))},sX={cartesianItems:[],polarItems:[]},CP=na({name:"graphicalItems",initialState:sX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:vr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,s=$i(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},prepare:vr()},removeCartesianGraphicalItem:{reducer(e,t){var n=$i(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:vr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:vr()},removePolarGraphicalItem:{reducer(e,t){var n=$i(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:vr()}}}),{addCartesianGraphicalItem:lX,replaceCartesianGraphicalItem:oX,removeCartesianGraphicalItem:cX,addPolarGraphicalItem:uX,removePolarGraphicalItem:dX}=CP.actions,hX=CP.reducer;function AP(e){var t=fn(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(lX(e)):n.current!==e&&t(oX({prev:n.current,next:e})),n.current=e},[t,e]),p.useLayoutEffect(()=>()=>{n.current&&(t(cX(n.current)),n.current=null)},[t]),null}function fX(e){var t=fn();return p.useLayoutEffect(()=>(t(uX(e)),()=>{t(dX(e))}),[t,e]),null}var mX=["onMouseEnter","onClick","onMouseLeave"],gX=["id"],pX=["id"];function tw(e,t){if(e==null)return{};var n,r,s=xX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function xX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us.apply(null,arguments)}function jX(e){var t=p.useMemo(()=>Yj(e.children,Ed),[e.children]),n=Ge(r=>kY(r,e.id,t));return n==null?null:p.createElement(tX,{legendPayload:n})}function wX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:o,fill:u,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:u,dataKey:t,nameKey:n,name:fc(d,t),hide:f,type:m,color:u,unit:""}}}var NX=(e,t)=>e>t?"start":e<t?"end":"middle",SX=(e,t,n)=>hr(typeof t=="function"?t(e):t,n,n*.8),EX=(e,t,n)=>{var{top:r,left:s,width:o,height:u}=t,d=RO(o,u),f=s+hr(e.cx,o,o/2),m=r+hr(e.cy,u,u/2),g=hr(e.innerRadius,d,0),x=SX(n,e.outerRadius,d),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:f,cy:m,innerRadius:g,outerRadius:x,maxRadius:b}},CX=(e,t)=>{var n=Vn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function AX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var TX=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var n=jt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Mb,Us({},t,{type:"linear",className:n}))},_X=(e,t,n)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),p.isValidElement(r)))return r;var s=jt("recharts-pie-label-text",AX(e));return p.createElement(pg,Us({},t,{alignmentBaseline:"middle",className:s}),r)};function RX(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:o,dataKey:u}=n;if(!r||!s||!t)return null;var d=ea(n),f=Dl(s),m=Dl(o),g=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,x=t.map((b,j)=>{var S=(b.startAngle+b.endAngle)/2,w=Pn(b.cx,b.cy,b.outerRadius+g,S),N=cn(cn(cn(cn({},d),b),{},{stroke:"none"},f),{},{index:j,textAnchor:NX(w.x,b.cx)},w),E=cn(cn(cn(cn({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:j,points:[Pn(b.cx,b.cy,b.outerRadius,S),w],key:"line"});return p.createElement(ir,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(j)},o&&TX(o,E),_X(s,N,Zt(b,u)))});return p.createElement(ir,{className:"recharts-pie-labels"},x)}function OX(e){var{sectors:t,props:n,showLabels:r}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(Gj,{label:s}):p.createElement(RX,{sectors:t,props:n,showLabels:r})}function kX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s}=e,o=Ge($s),{onMouseEnter:u,onClick:d,onMouseLeave:f}=s,m=tw(s,mX),g=Xj(u,s.dataKey),x=Qj(f),b=Zj(d,s.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((j,S)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=n&&String(S)===o,N=o?r:null,E=w?n:N,A=cn(cn({},j),{},{stroke:j.stroke,tabIndex:-1,[MO]:S,[IO]:s.dataKey});return p.createElement(ir,Us({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},sd(m,j,S),{onMouseEnter:g(j,S),onMouseLeave:x(j,S),onClick:b(j,S)}),p.createElement(NP,Us({option:E,isActive:w,shapeType:"sector"},A)))}))}function DX(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:o}=e,{cornerRadius:u,startAngle:d,endAngle:f,dataKey:m,nameKey:g,tooltipType:x}=n,b=Math.abs(n.minAngle),j=CX(d,f),S=Math.abs(j),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,N=r.filter(k=>Zt(k,m,0)!==0).length,E=(S>=360?N:N-1)*w,A=S-N*b-E,T=r.reduce((k,R)=>{var P=Zt(R,m,0);return k+(Ye(P)?P:0)},0),_;if(T>0){var O;_=r.map((k,R)=>{var P=Zt(k,m,0),F=Zt(k,g,R),re=EX(n,o,k),L=(Ye(P)?P:0)/T,G,J=cn(cn({},k),s&&s[R]&&s[R].props);R?G=O.endAngle+Vn(j)*w*(P!==0?1:0):G=d;var je=G+Vn(j)*((P!==0?b:0)+L*A),ge=(G+je)/2,$=(re.innerRadius+re.outerRadius)/2,U=[{name:F,value:P,payload:J,dataKey:m,type:x}],V=Pn(re.cx,re.cy,$,ge);return O=cn(cn(cn(cn({},n.presentationProps),{},{percent:L,cornerRadius:u,name:F,tooltipPayload:U,midAngle:ge,middleRadius:$,tooltipPosition:V},J),re),{},{value:P,startAngle:G,endAngle:je,payload:J,paddingAngle:Vn(j)*w}),O})}return _}function PX(e){var{showLabels:t,sectors:n,children:r}=e,s=p.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return p.createElement(pY,{value:t?s:void 0},r)}function MX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:g,onAnimationEnd:x}=t,b=hd(t,"recharts-pie-"),j=n.current,[S,w]=p.useState(!1),N=p.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),E=p.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return p.createElement(PX,{showLabels:!S,sectors:r},p.createElement(dd,{animationId:b,begin:o,duration:u,isActive:s,easing:d,onAnimationStart:E,onAnimationEnd:N,key:b},A=>{var T=[],_=r&&r[0],O=_?.startAngle;return r?.forEach((k,R)=>{var P=j&&j[R],F=R>0?Pl(k,"paddingAngle",0):0;if(P){var re=jn(P.endAngle-P.startAngle,k.endAngle-k.startAngle,A),L=cn(cn({},k),{},{startAngle:O+F,endAngle:O+re+F});T.push(L),O=L.endAngle}else{var{endAngle:G,startAngle:J}=k,je=jn(0,G-J,A),ge=cn(cn({},k),{},{startAngle:O+F,endAngle:O+je+F});T.push(ge),O=ge.endAngle}}),n.current=T,p.createElement(ir,null,p.createElement(kX,{sectors:T,activeShape:f,inactiveShape:m,allOtherPieProps:t}))}),p.createElement(OX,{showLabels:!S,sectors:r,props:t}),t.children)}var IX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Fs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function LX(e){var{id:t}=e,n=tw(e,gX),{hide:r,className:s,rootTabIndex:o}=e,u=p.useMemo(()=>Yj(e.children,Ed),[e.children]),d=Ge(g=>DY(g,t,u)),f=p.useRef(null),m=jt("recharts-pie",s);return r||d==null?(f.current=null,p.createElement(ir,{tabIndex:o,className:m})):p.createElement(p.Fragment,null,p.createElement(Jj,{fn:wX,args:cn(cn({},e),{},{sectors:d})}),p.createElement(ir,{tabIndex:o,className:m},p.createElement(MX,{props:cn(cn({},n),{},{sectors:d}),previousSectorsRef:f})))}function TP(e){var t=sr(e,IX),{id:n}=t,r=tw(t,pX),s=ea(r);return p.createElement(ew,{id:n,type:"pie"},o=>p.createElement(p.Fragment,null,p.createElement(fX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(jX,Us({},r,{id:o})),p.createElement(LX,Us({},r,{id:o}))))}TP.displayName="Pie";function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function MT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){BX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zX={xAxis:{},yAxis:{},zAxis:{}},_P=na({name:"cartesianAxis",initialState:zX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:vr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:vr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:vr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:vr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:vr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:vr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,s=e.yAxis[n];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==s.width&&Math.abs(r-o[0])<=1)return;var u=[...o,r].slice(-3);e.yAxis[n]=MT(MT({},e.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:HX,removeXAxis:qX,addYAxis:FX,removeYAxis:KX,addZAxis:Wae,removeZAxis:Yae,updateYAxisWidth:GX}=_P.actions,VX=_P.reducer,WX=he([Un],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),YX=he([WX,Yi,Xi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),nw=()=>Ge(YX),XX=()=>Ge(_V);function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){QX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QX(e,t,n){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var u=LT(LT({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Dl(s)),bb(s)),d;return p.isValidElement(s)?d=p.cloneElement(s,u):typeof s=="function"?d=s(u):d=p.createElement(pP,u),p.createElement(ir,{className:"recharts-active-dot"},d)};function tQ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,o=Ge($s),u=XX();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return hn(d)?null:eQ({point:d,childIndex:Number(o),mainColor:n,dataKey:s,activeDot:r})}var nQ="Invariant failed";function rQ(e,t){throw new Error(nQ)}var aQ=["x","y"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iy.apply(null,arguments)}function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){iQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iQ(e,t,n){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oQ(e,t){if(e==null)return{};var n,r,s=cQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function cQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uQ(e,t){var{x:n,y:r}=e,s=oQ(e,aQ),o="".concat(n),u=parseInt(o,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||s.height),g=parseInt(m,10),x="".concat(t.width||s.width),b=parseInt(x,10);return Cu(Cu(Cu(Cu(Cu({},t),s),u?{x:u}:{}),f?{y:f}:{}),{},{height:g,width:b,name:t.name,radius:t.radius})}function rw(e){return p.createElement(NP,Iy({shapeType:"rectangle",propTransformer:uQ,activeClassName:"recharts-active-bar"},e))}var dQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(Ye(t))return t;var o=Ye(r)||hn(r);return o?t(r,s):(o||rQ(),n)}},hQ={},RP=na({name:"errorBars",initialState:hQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:s}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:Xae,replaceErrorBar:Qae,removeErrorBar:Zae}=RP.actions,fQ=RP.reducer,mQ=["children"];function gQ(e,t){if(e==null)return{};var n,r,s=pQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function pQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vQ=p.createContext(xQ);function OP(e){var{children:t}=e,n=gQ(e,mQ);return p.createElement(vQ.Provider,{value:n},t)}function aw(e,t){var n,r,s=Ge(m=>Zi(m,e)),o=Ge(m=>Ji(m,t)),u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Kr.allowDataOverflow,d=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Gr.allowDataOverflow,f=u||d;return{needClip:f,needClipX:u,needClipY:d}}function kP(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=nw(),{needClipX:o,needClipY:u,needClip:d}=aw(t,n);if(!d)return null;var{x:f,y:m,width:g,height:x}=s;return p.createElement("clipPath",{id:"clipPath-".concat(r)},p.createElement("rect",{x:o?f:f-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var yQ=["onMouseEnter","onMouseLeave","onClick"],bQ=["value","background","tooltipPosition"],jQ=["id"],wQ=["onMouseEnter","onClick","onMouseLeave"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){NQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NQ(e,t,n){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pm(e,t){if(e==null)return{};var n,r,s=CQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function CQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AQ=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:r,value:fc(n,t),payload:e}]};function TQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:fc(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:d}}}function _Q(e){var t=Ge($s),{data:n,dataKey:r,background:s,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:f}=o,m=pm(o,yQ),g=Xj(u,r),x=Qj(d),b=Zj(f,r);if(!s||n==null)return null;var j=Dl(s);return p.createElement(p.Fragment,null,n.map((S,w)=>{var{value:N,background:E,tooltipPosition:A}=S,T=pm(S,bQ);if(!E)return null;var _=g(S,w),O=x(S,w),k=b(S,w),R=yr(yr(yr(yr(yr({option:s,isActive:String(w)===t},T),{},{fill:"#eee"},E),j),sd(m,S,w)),{},{onMouseEnter:_,onMouseLeave:O,onClick:k,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return p.createElement(rw,zs({key:"background-bar-".concat(w)},R))}))}function RQ(e){var{showLabels:t,children:n,rects:r}=e,s=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return yr(yr({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return p.createElement(mP,{value:t?s:void 0},n)}function OQ(e){var{shape:t,activeBar:n,baseProps:r,entry:s,index:o,dataKey:u}=e,d=Ge($s),f=Ge(YD),m=n&&String(o)===d&&(f==null||u===f),g=m?n:t;return p.createElement(rw,zs({},r,{name:String(r.name)},s,{isActive:m,option:g,index:o,dataKey:u}))}function kQ(e){var{shape:t,baseProps:n,entry:r,index:s,dataKey:o}=e;return p.createElement(rw,zs({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:s,dataKey:o}))}function DQ(e){var{data:t,props:n}=e,r=ea(n),{id:s}=r,o=pm(r,jQ),{shape:u,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:g,onMouseLeave:x}=n,b=pm(n,wQ),j=Xj(m,d),S=Qj(x),w=Zj(g,d);return t?p.createElement(p.Fragment,null,t.map((N,E)=>p.createElement(ir,zs({key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(E),className:"recharts-bar-rectangle"},sd(b,N,E),{onMouseEnter:j(N,E),onMouseLeave:S(N,E),onClick:w(N,E)}),f?p.createElement(OQ,{shape:u,activeBar:f,baseProps:o,entry:N,index:E,dataKey:d}):p.createElement(kQ,{shape:u,baseProps:o,entry:N,index:E,dataKey:d})))):null}function PQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:g}=t,x=n.current,b=hd(t,"recharts-bar-"),[j,S]=p.useState(!1),w=!j,N=p.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),E=p.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return p.createElement(RQ,{showLabels:w,rects:r},p.createElement(dd,{animationId:b,begin:u,duration:d,isActive:o,easing:f,onAnimationEnd:N,onAnimationStart:E,key:b},A=>{var T=A===1?r:r?.map((_,O)=>{var k=x&&x[O];if(k)return yr(yr({},_),{},{x:jn(k.x,_.x,A),y:jn(k.y,_.y,A),width:jn(k.width,_.width,A),height:jn(k.height,_.height,A)});if(s==="horizontal"){var R=jn(0,_.height,A);return yr(yr({},_),{},{y:_.y+_.height-R,height:R})}var P=jn(0,_.width,A);return yr(yr({},_),{},{width:P})});return A>0&&(n.current=T??null),T==null?null:p.createElement(ir,null,p.createElement(DQ,{props:t,data:T}))}),p.createElement(Gj,{label:t.label}),t.children)}function MQ(e){var t=p.useRef(null);return p.createElement(PQ,{previousRectanglesRef:t,props:e})}var DP=0,IQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Zt(e,t)}};class LQ extends p.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:o,yAxisId:u,needClip:d,background:f,id:m}=this.props;if(t||n==null)return null;var g=jt("recharts-bar",s),x=m;return p.createElement(ir,{className:g,id:m},d&&p.createElement("defs",null,p.createElement(kP,{clipPathId:x,xAxisId:o,yAxisId:u})),p.createElement(ir,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},p.createElement(_Q,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),p.createElement(MQ,this.props)))}}var BQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Fs.isSsr,legendType:"rect",minPointSize:DP,xAxisId:0,yAxisId:0};function $Q(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=aw(t,n),b=Ym(),j=Sr(),S=Yj(e.children,Ed),w=Ge(A=>fZ(A,t,n,j,e.id,S));if(b!=="vertical"&&b!=="horizontal")return null;var N,E=w?.[0];return E==null||E.height==null||E.width==null?N=0:N=b==="vertical"?E.height/2:E.width/2,p.createElement(OP,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:IQ,errorBarOffset:N},p.createElement(LQ,zs({},e,{layout:b,needClip:x,data:w,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:g})))}function UQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:g,displayedData:x,offset:b,cells:j,parentViewBox:S}=e,w=t==="horizontal"?d:u,N=g?w.scale.domain():null,E=I9({numericAxis:w});return x.map((A,T)=>{var _,O,k,R,P,F;g?_=R9(g[T],N):(_=Zt(A,n),Array.isArray(_)||(_=[E,_]));var re=dQ(r,DP)(_[1],T);if(t==="horizontal"){var L,[G,J]=[d.scale(_[0]),d.scale(_[1])];O=vA({axis:u,ticks:f,bandSize:o,offset:s.offset,entry:A,index:T}),k=(L=J??G)!==null&&L!==void 0?L:void 0,R=s.size;var je=G-J;if(P=_a(je)?0:je,F={x:O,y:b.top,width:R,height:b.height},Math.abs(re)>0&&Math.abs(P)<Math.abs(re)){var ge=Vn(P||re)*(Math.abs(re)-Math.abs(P));k-=ge,P+=ge}}else{var[$,U]=[u.scale(_[0]),u.scale(_[1])];if(O=$,k=vA({axis:d,ticks:m,bandSize:o,offset:s.offset,entry:A,index:T}),R=U-$,P=s.size,F={x:b.left,y:k,width:b.width,height:P},Math.abs(re)>0&&Math.abs(R)<Math.abs(re)){var V=Vn(R||re)*(Math.abs(re)-Math.abs(R));R+=V}}if(O==null||k==null||R==null||P==null)return null;var pe=yr(yr({},A),{},{x:O,y:k,width:R,height:P,value:g?_:_[1],payload:A,background:F,tooltipPosition:{x:O+R/2,y:k+P/2},parentViewBox:S},j&&j[T]&&j[T].props);return pe}).filter(Boolean)}function zQ(e){var t=sr(e,BQ),n=Sr();return p.createElement(ew,{id:t.id,type:"bar"},r=>p.createElement(p.Fragment,null,p.createElement(EP,{legendPayload:AQ(t)}),p.createElement(Jj,{fn:TQ,args:t}),p.createElement(AP,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:M9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement($Q,zs({},t,{id:r}))))}var iw=p.memo(zQ);iw.displayName="Bar";function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(r){HQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KQ=(e,t)=>t,GQ=(e,t,n)=>n,VQ=(e,t,n,r)=>r,WQ=(e,t,n,r,s)=>s,Cd=he([ug,WQ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),YQ=he([Cd],e=>e?.maxBarSize),XQ=(e,t,n,r,s,o)=>o,zT=(e,t,n)=>{var r=n??e;if(!hn(r))return hr(r,t,0)},QQ=he([wt,ug,KQ,GQ,VQ],(e,t,n,r,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),ZQ=(e,t,n,r)=>{var s=wt(e);return s==="horizontal"?_y(e,"yAxis",n,r):_y(e,"xAxis",t,r)},JQ=(e,t,n)=>{var r=wt(e);return r==="horizontal"?H2(e,"xAxis",t):H2(e,"yAxis",n)},eZ=(e,t,n)=>{var r={},s=e.filter(lg),o=e.filter(m=>m.stackId==null),u=s.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),r),d=Object.entries(u).map(m=>{var[g,x]=m,b=x.map(S=>S.dataKey),j=zT(t,n,x[0].barSize);return{stackId:g,dataKeys:b,barSize:j}}),f=o.map(m=>{var g=[m.dataKey].filter(b=>b!=null),x=zT(t,n,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...d,...f]},tZ=he([QQ,MK,JQ],eZ),nZ=(e,t,n,r,s)=>{var o,u,d=Cd(e,t,n,r,s);if(d!=null){var f=wt(e),m=Yk(e),{maxBarSize:g}=d,x=hn(g)?m:g,b,j;return f==="horizontal"?(b=Bs(e,"xAxis",t,r),j=Ls(e,"xAxis",t,r)):(b=Bs(e,"yAxis",n,r),j=Ls(e,"yAxis",n,r)),(o=(u=Vu(b,j,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},PP=(e,t,n,r)=>{var s=wt(e),o,u;return s==="horizontal"?(o=Bs(e,"xAxis",t,r),u=Ls(e,"xAxis",t,r)):(o=Bs(e,"yAxis",n,r),u=Ls(e,"yAxis",n,r)),Vu(o,u)};function rZ(e,t,n,r,s){var o=r.length;if(!(o<1)){var u=hr(e,n,0,!0),d,f=[];if(fr(r[0].barSize)){var m=!1,g=n/o,x=r.reduce((E,A)=>E+(A.barSize||0),0);x+=(o-1)*u,x>=n&&(x-=(o-1)*u,u=0),x>=n&&g>0&&(m=!0,g*=.9,x=o*g);var b=(n-x)/2>>0,j={offset:b-u,size:0};d=r.reduce((E,A)=>{var T,_={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:j.offset+j.size+u,size:m?g:(T=A.barSize)!==null&&T!==void 0?T:0}},O=[...E,_];return j=O[O.length-1].position,O},f)}else{var S=hr(t,n,0,!0);n-2*S-(o-1)*u<=0&&(u=0);var w=(n-2*S-(o-1)*u)/o;w>1&&(w>>=0);var N=fr(s)?Math.min(w,s):w;d=r.reduce((E,A,T)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(w+u)*T+(w-N)/2,size:N}}],f)}return d}}var aZ=(e,t,n,r,s,o,u)=>{var d=hn(u)?t:u,f=rZ(n,r,s!==o?s:o,e,d);return s!==o&&f!=null&&(f=f.map(m=>mf(mf({},m),{},{position:mf(mf({},m.position),{},{offset:m.position.offset-s/2})}))),f},iZ=he([tZ,Yk,PK,Xk,nZ,PP,YQ],aZ),sZ=(e,t,n,r)=>Bs(e,"xAxis",t,r),lZ=(e,t,n,r)=>Bs(e,"yAxis",n,r),oZ=(e,t,n,r)=>Ls(e,"xAxis",t,r),cZ=(e,t,n,r)=>Ls(e,"yAxis",n,r),uZ=he([iZ,Cd],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),dZ=(e,t)=>{var n=mj(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:o}=s;if(o)return o.find(u=>u.key===n)}}}},hZ=he([ZQ,Cd],dZ),fZ=he([Un,Rb,sZ,lZ,oZ,cZ,uZ,wt,rg,PP,hZ,Cd,XQ],(e,t,n,r,s,o,u,d,f,m,g,x,b)=>{var{chartData:j,dataStartIndex:S,dataEndIndex:w}=f;if(!(x==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||s==null||o==null||m==null)){var{data:N}=x,E;if(N!=null&&N.length>0?E=N:E=j?.slice(S,w+1),E!=null)return UQ({layout:d,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:o,stackedData:g,displayedData:E,offset:e,cells:b})}}),MP=e=>{var{chartData:t}=e,n=fn(),r=Sr();return p.useEffect(()=>r?()=>{}:(n(Z2(t)),()=>{n(Z2(void 0))}),[t,n,r]),null},HT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},IP=na({name:"brush",initialState:HT,reducers:{setBrushSettings(e,t){return t.payload==null?HT:t.payload}}}),{setBrushSettings:Jae}=IP.actions,mZ=IP.reducer;function gZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sw{static create(t){return new sw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}gZ(sw,"EPS",1e-4);function vZ(e){return(e%180+180)%180}var yZ=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=vZ(s),u=o*Math.PI/180,d=Math.atan(r/n),f=u>d&&u<Math.PI-d?r/Math.sin(u):n/Math.cos(u);return Math.abs(f)},bZ={dots:[],areas:[],lines:[]},LP=na({name:"referenceElements",initialState:bZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=$i(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=$i(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=$i(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:eie,removeDot:tie,addArea:nie,removeArea:rie,addLine:aie,removeLine:iie}=LP.actions,jZ=LP.reducer,wZ=p.createContext(void 0),NZ=e=>{var{children:t}=e,[n]=p.useState("".concat(qu("recharts"),"-clip")),r=nw();if(r==null)return null;var{x:s,y:o,width:u,height:d}=r;return p.createElement(wZ.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:s,y:o,height:d,width:u}))),t)};function tc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function BP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function SZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return yZ(r,n)}function EZ(e,t,n){var r=n==="width",{x:s,y:o,width:u,height:d}=e;return t===1?{start:r?s:o,end:r?s+u:o+d}:{start:r?s+u:o+d,end:r?s:o}}function xm(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-s)<=0}function CZ(e,t){return BP(e,t+1)}function AZ(e,t,n,r,s){for(var o=(r||[]).slice(),{start:u,end:d}=t,f=0,m=1,g=u,x=function(){var S=r?.[f];if(S===void 0)return{v:BP(r,m)};var w=f,N,E=()=>(N===void 0&&(N=n(S,w)),N),A=S.coordinate,T=f===0||xm(e,A,E,g,d);T||(f=0,g=u,m+=1),T&&(g=A+e*(E()/2+s),f+=m)},b;m<=o.length;)if(b=x(),b)return b.v;return[]}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(r){TZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TZ(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OZ(e,t,n,r,s){for(var o=(r||[]).slice(),u=o.length,{start:d}=t,{end:f}=t,m=function(b){var j=o[b],S,w=()=>(S===void 0&&(S=n(j,b)),S);if(b===u-1){var N=e*(j.coordinate+e*w()/2-f);o[b]=j=cr(cr({},j),{},{tickCoord:N>0?j.coordinate-N*e:j.coordinate})}else o[b]=j=cr(cr({},j),{},{tickCoord:j.coordinate});var E=xm(e,j.tickCoord,w,d,f);E&&(f=j.tickCoord-e*(w()/2+s),o[b]=cr(cr({},j),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function kZ(e,t,n,r,s,o){var u=(r||[]).slice(),d=u.length,{start:f,end:m}=t;if(o){var g=r[d-1],x=n(g,d-1),b=e*(g.coordinate+e*x/2-m);u[d-1]=g=cr(cr({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate});var j=xm(e,g.tickCoord,()=>x,f,m);j&&(m=g.tickCoord-e*(x/2+s),u[d-1]=cr(cr({},g),{},{isShow:!0}))}for(var S=o?d-1:d,w=function(A){var T=u[A],_,O=()=>(_===void 0&&(_=n(T,A)),_);if(A===0){var k=e*(T.coordinate-e*O()/2-f);u[A]=T=cr(cr({},T),{},{tickCoord:k<0?T.coordinate-k*e:T.coordinate})}else u[A]=T=cr(cr({},T),{},{tickCoord:T.coordinate});var R=xm(e,T.tickCoord,O,f,m);R&&(f=T.tickCoord+e*(O()/2+s),u[A]=cr(cr({},T),{},{isShow:!0}))},N=0;N<S;N++)w(N);return u}function lw(e,t,n){var{tick:r,ticks:s,viewBox:o,minTickGap:u,orientation:d,interval:f,tickFormatter:m,unit:g,angle:x}=e;if(!s||!s.length||!r)return[];if(Ye(f)||Fs.isSsr){var b;return(b=CZ(s,Ye(f)?f:0))!==null&&b!==void 0?b:[]}var j=[],S=d==="top"||d==="bottom"?"width":"height",w=g&&S==="width"?Ou(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},N=(T,_)=>{var O=typeof m=="function"?m(T.value,_):T.value;return S==="width"?SZ(Ou(O,{fontSize:t,letterSpacing:n}),w,x):Ou(O,{fontSize:t,letterSpacing:n})[S]},E=s.length>=2?Vn(s[1].coordinate-s[0].coordinate):1,A=EZ(o,E,S);return f==="equidistantPreserveStart"?AZ(E,A,N,s,u):(f==="preserveStart"||f==="preserveStartEnd"?j=kZ(E,A,N,s,u,f==="preserveStartEnd"):j=OZ(E,A,N,s,u),j.filter(T=>T.isShow))}var DZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+o,m=u+f+d+(n?r:0);return Math.round(m)}return 0},PZ=["axisLine","width","height","className","hide","ticks"],MZ=["viewBox"],IZ=["viewBox"];function Ly(e,t){if(e==null)return{};var n,r,s=LZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function LZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(null,arguments)}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){BZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BZ(e,t,n){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Z(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ow={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function zZ(e){var{x:t,y:n,width:r,height:s,orientation:o,mirror:u,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var m=Bn(Bn(Bn({},f),ea(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!u||o==="bottom"&&u);m=Bn(Bn({},m),{},{x1:t,y1:n+g*s,x2:t+r,y2:n+g*s})}else{var x=+(o==="left"&&!u||o==="right"&&u);m=Bn(Bn({},m),{},{x1:t+x*r,y1:n,x2:t+x*r,y2:n+s})}return p.createElement("line",$l({},m,{className:jt("recharts-cartesian-axis-line",Pl(d,"className"))}))}function HZ(e,t,n,r,s,o,u,d,f){var m,g,x,b,j,S,w=d?-1:1,N=e.tickSize||u,E=Ye(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=g=e.coordinate,b=n+ +!d*s,x=b-w*N,S=x-w*f,j=E;break;case"left":x=b=e.coordinate,g=t+ +!d*r,m=g-w*N,j=m-w*f,S=E;break;case"right":x=b=e.coordinate,g=t+ +d*r,m=g+w*N,j=m+w*f,S=E;break;default:m=g=e.coordinate,b=n+ +d*s,x=b+w*N,S=x+w*f,j=E;break}return{line:{x1:m,y1:x,x2:g,y2:b},tick:{x:j,y:S}}}function qZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function FZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function KZ(e){var{option:t,tickProps:n,value:r}=e,s,o=jt(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,Bn(Bn({},n),{},{className:o}));else if(typeof t=="function")s=t(Bn(Bn({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=jt(u,t?.className)),s=p.createElement(pg,$l({},n,{className:u}),r)}return s}function GZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:s,tickFormatter:o,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:g,x,y:b,width:j,height:S,tickSize:w,tickMargin:N,fontSize:E,letterSpacing:A,getTicksConfig:T,events:_}=e,O=lw(Bn(Bn({},T),{},{ticks:t}),E,A),k=qZ(m,g),R=FZ(m,g),P=ea(T),F=Dl(n),re={};typeof r=="object"&&(re=r);var L=Bn(Bn({},P),{},{fill:"none"},re),G=O.map((J,je)=>{var{line:ge,tick:$}=HZ(J,x,b,j,S,m,w,g,N),U=Bn(Bn(Bn(Bn({textAnchor:k,verticalAnchor:R},P),{},{stroke:"none",fill:s},F),$),{},{index:je,payload:J,visibleTicksCount:O.length,tickFormatter:o,padding:d},f);return p.createElement(ir,$l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},sd(_,J,je)),r&&p.createElement("line",$l({},L,ge,{className:jt("recharts-cartesian-axis-tick-line",Pl(r,"className"))})),n&&p.createElement(KZ,{option:n,tickProps:U,value:"".concat(typeof o=="function"?o(J.value,je):J.value).concat(u||"")}))});return G.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},G):null}var VZ=p.forwardRef((e,t)=>{var{axisLine:n,width:r,height:s,className:o,hide:u,ticks:d}=e,f=Ly(e,PZ),[m,g]=p.useState(""),[x,b]=p.useState(""),j=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return DZ({ticks:j.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=p.useCallback(w=>{if(w){var N=w.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=N;var E=N[0];if(E){var A=window.getComputedStyle(E),T=A.fontSize,_=A.letterSpacing;(T!==m||_!==x)&&(g(T),b(_))}}},[m,x]);return u||r!=null&&r<=0||s!=null&&s<=0?null:p.createElement(ir,{className:jt("recharts-cartesian-axis",o),ref:S},p.createElement(zZ,{x:e.x,y:e.y,width:r,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ea(e)}),p.createElement(GZ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:x,getTicksConfig:e,events:f}),p.createElement(YW,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(iY,{label:e.label,labelRef:e.labelRef}),e.children))}),WZ=p.memo(VZ,(e,t)=>{var{viewBox:n}=e,r=Ly(e,MZ),{viewBox:s}=t,o=Ly(t,IZ);return tc(n,s)&&tc(r,o)}),cw=p.forwardRef((e,t)=>{var n=sr(e,ow);return p.createElement(WZ,$l({},n,{ref:t}))});cw.displayName="CartesianAxis";var YZ=["x1","y1","x2","y2","key"],XZ=["offset"],QZ=["xAxisId","yAxisId"],ZZ=["xAxisId","yAxisId"];function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(null,arguments)}function vm(e,t){if(e==null)return{};var n,r,s=nJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:o,height:u,ry:d}=e;return p.createElement("rect",{x:r,y:s,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $P(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:o,y2:u,key:d}=t,f=vm(t,YZ),m=ea(f),{offset:g}=m,x=vm(m,XZ);n=p.createElement("line",wl({},x,{x1:r,y1:s,x2:o,y2:u,fill:"none",key:d}))}return n}function aJ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=vm(e,QZ),f=s.map((m,g)=>{var x=dr(dr({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(g),index:g});return $P(r,x)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function iJ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=vm(e,ZZ),f=s.map((m,g)=>{var x=dr(dr({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(g),index:g});return $P(r,x)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function sJ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:o,height:u,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var g=m.map((x,b)=>{var j=!m[b+1],S=j?s+u-x:m[b+1]-x;if(S<=0)return null;var w=b%t.length;return p.createElement("rect",{key:"react-".concat(b),y:x,x:r,height:S,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function lJ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:o,width:u,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var g=m.map((x,b)=>{var j=!m[b+1],S=j?s+u-x:m[b+1]-x;if(S<=0)return null;var w=b%n.length;return p.createElement("rect",{key:"react-".concat(b),x,y:o,width:S,height:d,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var oJ=(e,t)=>{var{xAxis:n,width:r,height:s,offset:o}=e;return kO(lw(dr(dr(dr({},ow),n),{},{ticks:DO(n),viewBox:{x:0,y:0,width:r,height:s}})),o.left,o.left+o.width,t)},cJ=(e,t)=>{var{yAxis:n,width:r,height:s,offset:o}=e;return kO(lw(dr(dr(dr({},ow),n),{},{ticks:DO(n),viewBox:{x:0,y:0,width:r,height:s}})),o.top,o.top+o.height,t)},uJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ad(e){var t=kb(),n=Db(),r=UO(),s=dr(dr({},sr(e,uJ)),{},{x:Ye(e.x)?e.x:r.left,y:Ye(e.y)?e.y:r.top,width:Ye(e.width)?e.width:r.width,height:Ye(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:u,x:d,y:f,width:m,height:g,syncWithTicks:x,horizontalValues:b,verticalValues:j}=s,S=Sr(),w=Ge(F=>q2(F,"xAxis",o,S)),N=Ge(F=>q2(F,"yAxis",u,S));if(!Ye(m)||m<=0||!Ye(g)||g<=0||!Ye(d)||d!==+d||!Ye(f)||f!==+f)return null;var E=s.verticalCoordinatesGenerator||oJ,A=s.horizontalCoordinatesGenerator||cJ,{horizontalPoints:T,verticalPoints:_}=s;if((!T||!T.length)&&typeof A=="function"){var O=b&&b.length,k=A({yAxis:N?dr(dr({},N),{},{ticks:O?b:N.ticks}):void 0,width:t,height:n,offset:r},O?!0:x);Xf(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(T=k)}if((!_||!_.length)&&typeof E=="function"){var R=j&&j.length,P=E({xAxis:w?dr(dr({},w),{},{ticks:R?j:w.ticks}):void 0,width:t,height:n,offset:r},R?!0:x);Xf(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(_=P)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(rJ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(sJ,wl({},s,{horizontalPoints:T})),p.createElement(lJ,wl({},s,{verticalPoints:_})),p.createElement(aJ,wl({},s,{offset:r,horizontalPoints:T,xAxis:w,yAxis:N})),p.createElement(iJ,wl({},s,{offset:r,verticalPoints:_,xAxis:w,yAxis:N})))}Ad.displayName="CartesianGrid";var UP=(e,t,n,r)=>Bs(e,"xAxis",t,r),zP=(e,t,n,r)=>Ls(e,"xAxis",t,r),HP=(e,t,n,r)=>Bs(e,"yAxis",n,r),qP=(e,t,n,r)=>Ls(e,"yAxis",n,r),dJ=he([wt,UP,HP,zP,qP],(e,t,n,r,s)=>qs(e,"xAxis")?Vu(t,r,!1):Vu(n,s,!1)),hJ=(e,t,n,r,s)=>s;function fJ(e){return e.type==="line"}var mJ=he([ug,hJ],(e,t)=>e.filter(fJ).find(n=>n.id===t)),gJ=he([wt,UP,HP,zP,qP,mJ,dJ,rg],(e,t,n,r,s,o,u,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:g}=d;if(!(o==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||u==null)){var{dataKey:x,data:b}=o,j;if(b!=null&&b.length>0?j=b:j=f?.slice(m,g+1),j!=null)return BJ({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:u,displayedData:j})}});function pJ(e){var t=Dl(e),n=3,r=2;if(t!=null){var{r:s,strokeWidth:o}=t,u=Number(s),d=Number(o);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(d)||d<0)&&(d=r),{r:u,strokeWidth:d}}return{r:n,strokeWidth:r}}var xJ=["id"],vJ=["type","layout","connectNulls","needClip"],yJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uw(e,t){if(e==null)return{};var n,r,s=NJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function NJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(null,arguments)}var SJ=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:r,value:fc(n,t),payload:e}]};function EJ(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:o,name:u,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:fc(u,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var FP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CJ(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var AJ=(e,t,n)=>{var r=n.reduce((x,b)=>x+b);if(!r)return FP(t,e);for(var s=Math.floor(e/r),o=e%r,u=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>o){d=[...n.slice(0,f),o-m];break}var g=d.length%2===0?[0,u]:[u];return[...CJ(n,s),...d,...g].map(x=>"".concat(x,"px")).join(", ")};function TJ(e,t){var n;if(p.isValidElement(e))n=p.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=jt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=p.createElement(pP,Ul({},t,{className:r}))}return n}function _J(e,t){return e==null?!1:t?!0:e.length===1}function RJ(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:o,needClip:u}=r;if(!_J(n,s))return null;var{id:d}=r,f=uw(r,xJ),m=wP(s),g=ea(f),x=yU(s),b=n.map((S,w)=>{var N=Wr(Wr(Wr({key:"dot-".concat(w),r:3},g),x),{},{index:w,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return TJ(s,N)}),j={clipPath:u?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return p.createElement(ir,Ul({className:"recharts-line-dots",key:"dots"},j),b)}function OJ(e){var{showLabels:t,children:n,points:r}=e,s=p.useMemo(()=>r?.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return Wr(Wr({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return p.createElement(mP,{value:t?s:null},n)}function VT(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:o}=e,{type:u,layout:d,connectNulls:f,needClip:m}=o,g=uw(o,vJ),x=Wr(Wr({},Nr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:d,connectNulls:f,strokeDasharray:s??o.strokeDasharray});return p.createElement(p.Fragment,null,r?.length>1&&p.createElement(Mb,Ul({},x,{pathRef:n})),p.createElement(RJ,{points:r,clipPathId:t,props:o}))}function kJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function DJ(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:g,animationEasing:x,animateNewValues:b,width:j,height:S,onAnimationEnd:w,onAnimationStart:N}=n,E=s.current,A=hd(n,"recharts-line-"),[T,_]=p.useState(!1),O=!T,k=p.useCallback(()=>{typeof w=="function"&&w(),_(!1)},[w]),R=p.useCallback(()=>{typeof N=="function"&&N(),_(!0)},[N]),P=kJ(r.current),F=o.current;return p.createElement(OJ,{points:u,showLabels:O},n.children,p.createElement(dd,{animationId:A,begin:m,duration:g,isActive:f,easing:x,onAnimationEnd:k,onAnimationStart:R,key:A},re=>{var L=jn(F,P+F,re),G=Math.min(L,P),J;if(f)if(d){var je="".concat(d).split(/[,\s]+/gim).map(U=>parseFloat(U));J=AJ(G,P,je)}else J=FP(P,G);else J=d==null?void 0:String(d);if(E){var ge=E.length/u.length,$=re===1?u:u.map((U,V)=>{var pe=Math.floor(V*ge);if(E[pe]){var ke=E[pe];return Wr(Wr({},U),{},{x:jn(ke.x,U.x,re),y:jn(ke.y,U.y,re)})}return b?Wr(Wr({},U),{},{x:jn(j*2,U.x,re),y:jn(S/2,U.y,re)}):Wr(Wr({},U),{},{x:U.x,y:U.y})});return s.current=$,p.createElement(VT,{props:n,points:$,clipPathId:t,pathRef:r,strokeDasharray:J})}return re>0&&P>0&&(s.current=u,o.current=G),p.createElement(VT,{props:n,points:u,clipPathId:t,pathRef:r,strokeDasharray:J})}),p.createElement(Gj,{label:n.label}))}function PJ(e){var{clipPathId:t,props:n}=e,r=p.useRef(null),s=p.useRef(0),o=p.useRef(null);return p.createElement(DJ,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:o})}var MJ=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Zt(e.payload,t)});class IJ extends p.Component{render(){var{hide:t,dot:n,points:r,className:s,xAxisId:o,yAxisId:u,top:d,left:f,width:m,height:g,id:x,needClip:b}=this.props;if(t)return null;var j=jt("recharts-line",s),S=x,{r:w,strokeWidth:N}=pJ(n),E=wP(n),A=w*2+N;return p.createElement(p.Fragment,null,p.createElement(ir,{className:j},b&&p.createElement("defs",null,p.createElement(kP,{clipPathId:S,xAxisId:o,yAxisId:u}),!E&&p.createElement("clipPath",{id:"clipPath-dots-".concat(S)},p.createElement("rect",{x:f-A/2,y:d-A/2,width:m+A,height:g+A}))),p.createElement(OP,{xAxisId:o,yAxisId:u,data:r,dataPointFormatter:MJ,errorBarOffset:0},p.createElement(PJ,{props:this.props,clipPathId:S}))),p.createElement(tQ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var KP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Fs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LJ(e){var t=sr(e,KP),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:f,hide:m,isAnimationActive:g,label:x,legendType:b,xAxisId:j,yAxisId:S,id:w}=t,N=uw(t,yJ),{needClip:E}=aw(j,S),A=nw(),T=Ym(),_=Sr(),O=Ge(re=>gJ(re,j,S,_,w));if(T!=="horizontal"&&T!=="vertical"||O==null||A==null)return null;var{height:k,width:R,x:P,y:F}=A;return p.createElement(IJ,Ul({},N,{id:w,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:o,animationEasing:u,isAnimationActive:g,hide:m,label:x,legendType:b,xAxisId:j,yAxisId:S,points:O,layout:T,height:k,width:R,left:P,top:F,needClip:E}))}function BJ(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:o,dataKey:u,bandSize:d,displayedData:f}=e;return f.map((m,g)=>{var x=Zt(m,u);if(t==="horizontal"){var b=xA({axis:n,ticks:s,bandSize:d,entry:m,index:g}),j=hn(x)?null:r.scale(x);return{x:b,y:j,value:x,payload:m}}var S=hn(x)?null:n.scale(x),w=xA({axis:r,ticks:o,bandSize:d,entry:m,index:g});return S==null||w==null?null:{x:S,y:w,value:x,payload:m}}).filter(Boolean)}function $J(e){var t=sr(e,KP),n=Sr();return p.createElement(ew,{id:t.id,type:"line"},r=>p.createElement(p.Fragment,null,p.createElement(EP,{legendPayload:SJ(t)}),p.createElement(Jj,{fn:EJ,args:t}),p.createElement(AP,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),p.createElement(LJ,Ul({},t,{id:r}))))}var dw=p.memo($J);dw.displayName="Line";var UJ=["dangerouslySetInnerHTML","ticks"],zJ=["id"],HJ=["domain"],qJ=["domain"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(null,arguments)}function ym(e,t){if(e==null)return{};var n,r,s=FJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function FJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KJ(e){var t=fn();return p.useLayoutEffect(()=>(t(HX(e)),()=>{t(qX(e))}),[e,t]),null}var GJ=e=>{var{xAxisId:t,className:n}=e,r=Ge(Rb),s=Sr(),o="xAxis",u=Ge(N=>jc(N,o,t,s)),d=Ge(N=>TD(N,o,t,s)),f=Ge(N=>SD(N,t)),m=Ge(N=>_G(N,t)),g=Ge(N=>iD(N,t));if(f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,j=ym(e,UJ),{id:S}=g,w=ym(g,zJ);return p.createElement(cw,By({},j,w,{scale:u,x:m.x,y:m.y,width:f.width,height:f.height,className:jt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:d}))},VJ={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,height:Kr.height,hide:!1,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tickCount:Kr.tickCount,type:Kr.type,xAxisId:0},WJ=e=>{var t,n,r,s,o,u=sr(e,VJ);return p.createElement(p.Fragment,null,p.createElement(KJ,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(s=u.minTickGap)!==null&&s!==void 0?s:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),p.createElement(GJ,u))},YJ=(e,t)=>{var{domain:n}=e,r=ym(e,HJ),{domain:s}=t,o=ym(t,qJ);return tc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:tc({domain:n},{domain:s}):!1},Td=p.memo(WJ,YJ);Td.displayName="XAxis";var XJ=["dangerouslySetInnerHTML","ticks"],QJ=["id"],ZJ=["domain"],JJ=["domain"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(null,arguments)}function bm(e,t){if(e==null)return{};var n,r,s=eee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tee(e){var t=fn();return p.useLayoutEffect(()=>(t(FX(e)),()=>{t(KX(e))}),[e,t]),null}var nee=e=>{var{yAxisId:t,className:n,width:r,label:s}=e,o=p.useRef(null),u=p.useRef(null),d=Ge(Rb),f=Sr(),m=fn(),g="yAxis",x=Ge(O=>jc(O,g,t,f)),b=Ge(O=>ED(O,t)),j=Ge(O=>OG(O,t)),S=Ge(O=>TD(O,g,t,f)),w=Ge(O=>sD(O,t));if(p.useLayoutEffect(()=>{if(!(r!=="auto"||!b||Kj(s)||p.isValidElement(s)||w==null)){var O=o.current;if(O){var k=O.getCalculatedWidth();Math.round(b.width)!==Math.round(k)&&m(GX({id:t,width:k}))}}},[S,b,m,s,t,r,w]),b==null||j==null||w==null)return null;var{dangerouslySetInnerHTML:N,ticks:E}=e,A=bm(e,XJ),{id:T}=w,_=bm(w,QJ);return p.createElement(cw,$y({},A,_,{ref:o,labelRef:u,scale:x,x:j.x,y:j.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:jt("recharts-".concat(g," ").concat(g),n),viewBox:d,ticks:S}))},ree={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:Gr.allowDecimals,allowDuplicatedCategory:Gr.allowDuplicatedCategory,hide:!1,mirror:Gr.mirror,orientation:Gr.orientation,padding:Gr.padding,reversed:Gr.reversed,scale:Gr.scale,tickCount:Gr.tickCount,type:Gr.type,width:Gr.width,yAxisId:0},aee=e=>{var t,n,r,s,o,u=sr(e,ree);return p.createElement(p.Fragment,null,p.createElement(tee,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(s=u.minTickGap)!==null&&s!==void 0?s:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),p.createElement(nee,u))},iee=(e,t)=>{var{domain:n}=e,r=bm(e,ZJ),{domain:s}=t,o=bm(t,JJ);return tc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(s)&&s.length===2?n[0]===s[0]&&n[1]===s[1]:tc({domain:n},{domain:s}):!1},_d=p.memo(aee,iee);_d.displayName="YAxis";var vv={exports:{}},yv={};var WT;function see(){if(WT)return yv;WT=1;var e=ac();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return yv.useSyncExternalStoreWithSelector=function(f,m,g,x,b){var j=s(null);if(j.current===null){var S={hasValue:!1,value:null};j.current=S}else S=j.current;j=u(function(){function N(O){if(!E){if(E=!0,A=O,O=x(O),b!==void 0&&S.hasValue){var k=S.value;if(b(k,O))return T=k}return T=O}if(k=T,n(A,O))return k;var R=x(O);return b!==void 0&&b(k,R)?(A=O,k):(A=O,T=R)}var E=!1,A,T,_=g===void 0?null:g;return[function(){return N(m())},_===null?void 0:function(){return N(_())}]},[m,g,x,b]);var w=r(f,j[0],j[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),d(w),w},yv}var YT;function lee(){return YT||(YT=1,vv.exports=see()),vv.exports}lee();function oee(e){e()}function cee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var XT={notify(){},get:()=>[]};function uee(e,t){let n,r=XT,s=0,o=!1;function u(w){g();const N=r.subscribe(w);let E=!1;return()=>{E||(E=!0,N(),x())}}function d(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return o}function g(){s++,n||(n=e.subscribe(f),r=cee())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=XT)}function b(){o||(o=!0,g())}function j(){o&&(o=!1,x())}const S={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:b,tryUnsubscribe:j,getListeners:()=>r};return S}var dee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hee=dee(),fee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mee=fee(),gee=()=>hee||mee?p.useLayoutEffect:p.useEffect,pee=gee(),xee=Symbol.for("react-redux-context"),vee=typeof globalThis<"u"?globalThis:{};function yee(){if(!p.createContext)return{};const e=vee[xee]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var bee=yee();function jee(e){const{children:t,context:n,serverState:r,store:s}=e,o=p.useMemo(()=>{const f=uee(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=p.useMemo(()=>s.getState(),[s]);pee(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,u]);const d=n||bee;return p.createElement(d.Provider,{value:o},t)}var wee=jee,Nee=(e,t)=>t,hw=he([Nee,wt,nD,Hn,KD,es,IV,Un],zV),fw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},GP=Ra("mouseClick"),VP=od();VP.startListening({actionCreator:GP,effect:(e,t)=>{var n=e.payload,r=hw(t.getState(),fw(n));r?.activeIndex!=null&&t.dispatch(FG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Uy=Ra("mouseMove"),WP=od();WP.startListening({actionCreator:Uy,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=Mj(r,r.tooltip.settings.shared),o=hw(r,fw(n));s==="axis"&&(o?.activeIndex!=null?t.dispatch(ID({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(MD()))}});var QT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},YP=na({name:"rootProps",initialState:QT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:QT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),See=YP.reducer,{updateOptions:Eee}=YP.actions,XP=na({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Cee}=XP.actions,Aee=XP.reducer,QP=Ra("keyDown"),ZP=Ra("focus"),mw=od();mw.startListening({actionCreator:QP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(Ij(s,Nc(n))),d=es(n);if(o==="Enter"){var f=hm(n,"axis","hover",String(s.index));t.dispatch(Oy({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=MG(n),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,b=u+x*g;if(!(d==null||b>=d.length||b<0)){var j=hm(n,"axis","hover",String(b));t.dispatch(Oy({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});mw.startListening({actionCreator:ZP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var o="0",u=hm(n,"axis","hover",String(o));t.dispatch(Oy({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var ja=Ra("externalEvent"),JP=od();JP.startListening({actionCreator:ja,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:CV(n),activeDataKey:YD(n),activeIndex:$s(n),activeLabel:WD(n),activeTooltipIndex:$s(n),isTooltipActive:AV(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Tee=he([wc],e=>e.tooltipItemPayloads),_ee=he([Tee,wd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:o}=s;if(o!=null){var u=t(o,n);return u}}}),eM=Ra("touchMove"),tM=od();tM.startListening({actionCreator:eM,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=Mj(r,r.tooltip.settings.shared);if(s==="axis"){var o=hw(r,fw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(ID({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var u,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(MO),g=(u=f.getAttribute(IO))!==null&&u!==void 0?u:void 0,x=_ee(t.getState(),m,g);t.dispatch(PD({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var Ree=iO({brush:mZ,cartesianAxis:VX,chartData:rW,errorBars:fQ,graphicalItems:hX,layout:m9,legend:b7,options:ZV,polarAxis:CY,polarOptions:Aee,referenceElements:jZ,rootProps:See,tooltip:KG}),Oee=function(t){return $z({reducer:Ree,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([VP.middleware,WP.middleware,mw.middleware,JP.middleware,tM.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(xO({type:"raf"}))},devTools:Fs.devToolsEnabled})};function nM(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=Sr(),o=p.useRef(null);if(s)return n;o.current==null&&(o.current=Oee(t));var u=Sb;return p.createElement(wee,{context:u,store:o.current},n)}function rM(e){var{layout:t,margin:n}=e,r=fn(),s=Sr();return p.useEffect(()=>{s||(r(d9(t)),r(u9(n)))},[r,s,t,n]),null}function aM(e){var t=fn();return p.useEffect(()=>{t(Eee(e))},[t,e]),null}var kee=["children"];function Dee(e,t){if(e==null)return{};var n,r,s=Pee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Pee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jm.apply(null,arguments)}var Mee={width:"100%",height:"100%",display:"block"},Iee=p.forwardRef((e,t)=>{var n=kb(),r=Db(),s=FO();if(!Xo(n)||!Xo(r))return null;var{children:o,otherAttributes:u,title:d,desc:f}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=s?0:void 0,typeof u.role=="string"?g=u.role:g=s?"application":void 0,p.createElement(hb,jm({},u,{title:d,desc:f,role:g,tabIndex:m,width:n,height:r,style:Mee,ref:t}),o)}),Lee=e=>{var{children:t}=e,n=Ge(Vm);if(!n)return null;var{width:r,height:s,y:o,x:u}=n;return p.createElement(hb,{width:r,height:s,x:u,y:o},t)},ZT=p.forwardRef((e,t)=>{var{children:n}=e,r=Dee(e,kee),s=Sr();return s?p.createElement(Lee,null,n):p.createElement(Iee,jm({ref:t},r),n)});function Bee(){var e=fn(),[t,n]=p.useState(null),r=Ge(q9);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;fr(o)&&o!==r&&e(f9(o))}},[t,e,r]),n}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){Uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uee(e,t,n){return(t=zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zee(e){var t=Hee(e,"string");return typeof t=="symbol"?t:t+""}function Hee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(null,arguments)}var qee=()=>(hW(),null);function wm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Fee=p.forwardRef((e,t)=>{var n,r,s=p.useRef(null),[o,u]=p.useState({containerWidth:wm((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:wm((r=e.style)===null||r===void 0?void 0:r.height)}),d=p.useCallback((m,g)=>{u(x=>{var b=Math.round(m),j=Math.round(g);return x.containerWidth===b&&x.containerHeight===j?x:{containerWidth:b,containerHeight:j}})},[]),f=p.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:g,height:x}=m.getBoundingClientRect();d(g,x);var b=S=>{var{width:w,height:N}=S[0].contentRect;d(w,N)},j=new ResizeObserver(b);j.observe(m),s.current=j}},[t,d]);return p.useEffect(()=>()=>{var m=s.current;m?.disconnect()},[d]),p.createElement(p.Fragment,null,p.createElement(Xm,{width:o.containerWidth,height:o.containerHeight}),p.createElement("div",zl({ref:f},e)))}),Kee=p.forwardRef((e,t)=>{var{width:n,height:r}=e,[s,o]=p.useState({containerWidth:wm(n),containerHeight:wm(r)}),u=p.useCallback((f,m)=>{o(g=>{var x=Math.round(f),b=Math.round(m);return g.containerWidth===x&&g.containerHeight===b?g:{containerWidth:x,containerHeight:b}})},[]),d=p.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:g}=f.getBoundingClientRect();u(m,g)}},[t,u]);return p.createElement(p.Fragment,null,p.createElement(Xm,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",zl({ref:d},e)))}),Gee=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return p.createElement(p.Fragment,null,p.createElement(Xm,{width:n,height:r}),p.createElement("div",zl({ref:t},e)))}),Vee=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return Fi(n)||Fi(r)?p.createElement(Kee,zl({},e,{ref:t})):p.createElement(Gee,zl({},e,{ref:t}))});function Wee(e){return e===!0?Fee:Vee}var Yee=p.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:b,onTouchEnd:j,onTouchMove:S,onTouchStart:w,style:N,width:E,responsive:A,dispatchTouchEvents:T=!0}=e,_=p.useRef(null),O=fn(),[k,R]=p.useState(null),[P,F]=p.useState(null),re=Bee(),L=Ob(),G=L?.width>0?L.width:E,J=L?.height>0?L.height:s,je=p.useCallback(H=>{re(H),typeof t=="function"&&t(H),R(H),F(H),H!=null&&(_.current=H)},[re,t,R,F]),ge=p.useCallback(H=>{O(GP(H)),O(ja({handler:o,reactEvent:H}))},[O,o]),$=p.useCallback(H=>{O(Uy(H)),O(ja({handler:m,reactEvent:H}))},[O,m]),U=p.useCallback(H=>{O(MD()),O(ja({handler:g,reactEvent:H}))},[O,g]),V=p.useCallback(H=>{O(Uy(H)),O(ja({handler:x,reactEvent:H}))},[O,x]),pe=p.useCallback(()=>{O(ZP())},[O]),ke=p.useCallback(H=>{O(QP(H.key))},[O]),B=p.useCallback(H=>{O(ja({handler:u,reactEvent:H}))},[O,u]),K=p.useCallback(H=>{O(ja({handler:d,reactEvent:H}))},[O,d]),le=p.useCallback(H=>{O(ja({handler:f,reactEvent:H}))},[O,f]),Y=p.useCallback(H=>{O(ja({handler:b,reactEvent:H}))},[O,b]),se=p.useCallback(H=>{O(ja({handler:w,reactEvent:H}))},[O,w]),we=p.useCallback(H=>{T&&O(eM(H)),O(ja({handler:S,reactEvent:H}))},[O,T,S]),fe=p.useCallback(H=>{O(ja({handler:j,reactEvent:H}))},[O,j]),q=Wee(A);return p.createElement(tP.Provider,{value:k},p.createElement(wR.Provider,{value:P},p.createElement(q,{width:G??N?.width,height:J??N?.height,className:jt("recharts-wrapper",r),style:$ee({position:"relative",cursor:"default",width:G,height:J},N),onClick:ge,onContextMenu:B,onDoubleClick:K,onFocus:pe,onKeyDown:ke,onMouseDown:le,onMouseEnter:$,onMouseLeave:U,onMouseMove:V,onMouseUp:Y,onTouchEnd:fe,onTouchMove:we,onTouchStart:se,ref:je},p.createElement(qee,null),n)))}),Xee=["width","height","responsive","children","className","style","compact","title","desc"];function Qee(e,t){if(e==null)return{};var n,r,s=Zee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Zee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iM=p.forwardRef((e,t)=>{var{width:n,height:r,responsive:s,children:o,className:u,style:d,compact:f,title:m,desc:g}=e,x=Qee(e,Xee),b=ea(x);return f?p.createElement(p.Fragment,null,p.createElement(Xm,{width:n,height:r}),p.createElement(ZT,{otherAttributes:b,title:m,desc:g},o)):p.createElement(Yee,{className:u,style:d,width:n,height:r,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(ZT,{otherAttributes:b,title:m,desc:g,ref:t},p.createElement(NZ,null,o)))});function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}var Jee={top:5,right:5,bottom:5,left:5},ete={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jee,reverseStackOrder:!1,syncMethod:"index",responsive:!1},sM=p.forwardRef(function(t,n){var r,s=sr(t.categoricalChartProps,ete),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,g={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(nM,{preloadedState:{options:g},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:o},p.createElement(MP,{chartData:m.data}),p.createElement(rM,{layout:s.layout,margin:s.margin}),p.createElement(aM,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(iM,zy({},s,{ref:n})))}),tte=["axis"],lM=p.forwardRef((e,t)=>p.createElement(sM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tte,tooltipPayloadSearcher:Fj,categoricalChartProps:e,ref:t})),nte=["axis","item"],oM=p.forwardRef((e,t)=>p.createElement(sM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nte,tooltipPayloadSearcher:Fj,categoricalChartProps:e,ref:t}));function rte(e){var t=fn();return p.useEffect(()=>{t(Cee(e))},[t,e]),null}var ate=["layout"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function ite(e,t){if(e==null)return{};var n,r,s=ste(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ste(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lte={top:5,right:5,bottom:5,left:5},ote={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},cte=p.forwardRef(function(t,n){var r,s=sr(t.categoricalChartProps,ote),{layout:o}=s,u=ite(s,ate),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=t,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(nM,{preloadedState:{options:x},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},p.createElement(MP,{chartData:s.data}),p.createElement(rM,{layout:o,margin:s.margin}),p.createElement(aM,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(rte,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(iM,Hy({},u,{ref:n})))}),ute=["item"],dte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hte=p.forwardRef((e,t)=>{var n=sr(e,dte);return p.createElement(cte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ute,tooltipPayloadSearcher:Fj,categoricalChartProps:n,ref:t})});const st=(e,t)=>{if(e==null||Number.isNaN(e))return t?.fallback??"";const n=new Intl.NumberFormat("vi-VN").format(e),r=t?.unit??"VND";return r?`${n} ${r}`:n};function fte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function mte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function gte({data:e,isLoading:t,xKey:n,yKey:r,height:s=300}){return t?a.jsx(fte,{}):!e||e.length===0?a.jsx(mte,{}):a.jsx("div",{style:{height:`${s}px`},children:a.jsx(ud,{width:"100%",height:"100%",children:a.jsxs(oM,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Ad,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Td,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(_d,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"},tickFormatter:o=>st(o,{unit:"VND"})}),a.jsx(Sd,{formatter:(o,u)=>[st(o),u==="profit"?"Li nhun":u],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Fl,{}),a.jsx(iw,{dataKey:r,name:r==="profit"?"Li nhun":r,fill:"#10b981",radius:[8,8,0,0],className:"fill-emerald-600"})]})})})}function pte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function xte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function cM({data:e,isLoading:t,xKey:n,yKey:r,lines:s,height:o=300}){if(t)return a.jsx(pte,{});if(!e||e.length===0)return a.jsx(xte,{});const u=s||(r?[{key:r,label:r,color:"#3b82f6"}]:[]);return a.jsx("div",{style:{height:`${o}px`},children:a.jsx(ud,{width:"100%",height:"100%",children:a.jsxs(lM,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Ad,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Td,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(_d,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"}}),a.jsx(Sd,{labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(d,f)=>f==="accounts"||f==="account"?[d,"Ti khon"]:[d,f]}),a.jsx(Fl,{}),u.map(d=>a.jsx(dw,{type:"monotone",dataKey:d.key,stroke:d.color,strokeWidth:2,dot:{r:4},activeDot:{r:6},name:d.label},d.key))]})})})}function vte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function yte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function bte({data:e,isLoading:t,xKey:n,bars:r,height:s=300}){return t?a.jsx(vte,{}):!e||e.length===0?a.jsx(yte,{}):a.jsx("div",{style:{height:`${s}px`},children:a.jsx(ud,{width:"100%",height:"100%",children:a.jsxs(oM,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Ad,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Td,{dataKey:n,axisLine:!1,tickLine:!1,className:"text-xs",tick:{fill:"#6b7280"}}),a.jsx(_d,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280"}}),a.jsx(Sd,{labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Fl,{}),r.map(o=>a.jsx(iw,{dataKey:o.key,stackId:"a",fill:o.color,radius:[0,0,0,0],name:o.label},o.key))]})})})}function jte(){return a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg animate-pulse"})})}function wte(){return a.jsx("div",{className:"h-64 flex flex-col items-center justify-center text-sm text-gray-500",children:a.jsx("p",{children:"Cha c d liu  hin th."})})}function Nte({data:e,isLoading:t,colors:n=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"],height:r=300}){if(t)return a.jsx(jte,{});if(!e||e.length===0)return a.jsx(wte,{});const s=e.reduce((o,u)=>o+u.value,0);return a.jsx("div",{style:{height:`${r}px`},children:a.jsx(ud,{width:"100%",height:"100%",children:a.jsxs(hte,{children:[a.jsx(TP,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:o=>{const{name:u,percent:d}=o;return`${u}: ${(d*100).toFixed(0)}%`},outerRadius:80,innerRadius:50,fill:"#8884d8",dataKey:"value",children:e.map((o,u)=>a.jsx(Ed,{fill:n[u%n.length]},`cell-${u}`))}),a.jsx(Sd,{formatter:o=>[st(o),`T l: ${(o/s*100).toFixed(1)}%`],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Fl,{formatter:o=>{const u=e.find(d=>d.name===o);return u?`${o}: ${st(u.value)}`:o}})]})})})}function Ste({data:e,isLoading:t}){return a.jsxs(at,{className:"border-blue-100",children:[a.jsxs(Hi,{className:"bg-gradient-to-r from-blue-50 to-transparent border-b border-blue-50",children:[a.jsx(qi,{className:"text-lg font-semibold text-gray-900",children:"Phn tch doanh thu h thng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Li nhun h thng theo thi gian (12 thng gn nht)"})]}),a.jsx(Jr,{className:"pt-6",children:a.jsx(gte,{data:e,isLoading:t,xKey:"time",yKey:"profit",height:350})})]})}function Ete({data:e,isLoading:t}){return a.jsxs(at,{className:"border-purple-100",children:[a.jsxs(Hi,{className:"bg-gradient-to-r from-purple-50 to-transparent border-b border-purple-50",children:[a.jsx(qi,{className:"text-lg font-semibold text-gray-900",children:"Xu hng tng trng ngi dng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S lng ti khon mi theo thng"})]}),a.jsx(Jr,{className:"pt-6",children:a.jsx(cM,{data:e,isLoading:t,xKey:"month",yKey:"accounts",height:300,lines:[{key:"accounts",label:"Ti khon",color:"#8b5cf6"}]})})]})}function Cte({data:e,isLoading:t}){return a.jsxs(at,{className:"border-orange-100",children:[a.jsxs(Hi,{className:"bg-gradient-to-r from-orange-50 to-transparent border-b border-orange-50",children:[a.jsx(qi,{className:"text-lg font-semibold text-gray-900",children:"Tng quan vng i u gi"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phn b trng thi u gi theo thng (12 thng gn nht)"})]}),a.jsx(Jr,{className:"pt-6",children:a.jsx(bte,{data:e,isLoading:t,xKey:"month",bars:[{key:"approved",label:" duyt",color:"#10b981"},{key:"rejected",label:"T chi",color:"#ef4444"},{key:"ongoing",label:"ang din ra",color:"#3b82f6"},{key:"completed",label:"Hon tt",color:"#8b5cf6"},{key:"failed",label:"Tht bi",color:"#f59e0b"}],height:350})})]})}function Ate({data:e,isLoading:t}){return a.jsxs(at,{className:"border-red-100",children:[a.jsxs(Hi,{className:"bg-gradient-to-r from-red-50 to-transparent border-b border-red-50",children:[a.jsx(qi,{className:"text-lg font-semibold text-gray-900",children:"Gim st ri ro"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S lng bo co v tranh chp theo thi gian (12 thng gn nht)"})]}),a.jsx(Jr,{className:"pt-6",children:a.jsx(cM,{data:e,isLoading:t,xKey:"time",lines:[{key:"reports",label:"Bo co",color:"#ef4444"},{key:"disputes",label:"Tranh chp",color:"#f59e0b"}],height:350})})]})}function Tte({data:e,isLoading:t}){return a.jsxs(at,{className:"border-indigo-100",children:[a.jsxs(Hi,{className:"bg-gradient-to-r from-indigo-50 to-transparent border-b border-indigo-50",children:[a.jsx(qi,{className:"text-lg font-semibold text-gray-900",children:"Bin ng v h thng"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phn b tin vo v tin ra t bin ng s d"})]}),a.jsx(Jr,{className:"pt-6",children:a.jsx(Nte,{data:e,isLoading:t,colors:["#10b981","#ef4444"],height:300})})]})}function e_(){return a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"h-16 bg-gray-100 rounded-lg animate-pulse"},t))})}function t_({users:e,role:t}){return e.length===0?a.jsxs("div",{className:"text-center text-sm text-gray-500 py-8 border border-dashed rounded-lg",children:["Cha c d liu ",t==="farmer"?"nng dn":"thng li"," no."]}):a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${r===0?"bg-yellow-100 text-yellow-700":r===1?"bg-gray-100 text-gray-700":r===2?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:r+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||n.email}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]}),a.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Aa,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n.reputationScore})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.auctionCount," phin u gi"]})]})})]},n.id))})}function _te({farmers:e,wholesalers:t,isLoading:n}){return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(at,{className:"border-yellow-100",children:[a.jsx(Hi,{className:"bg-gradient-to-r from-yellow-50 to-transparent border-b border-yellow-50",children:a.jsxs(qi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center",children:a.jsx(Aa,{className:"w-5 h-5 text-yellow-600"})}),"Top 5 Nng dn uy tn"]})}),a.jsx(Jr,{className:"pt-6",children:n?a.jsx(e_,{}):a.jsx(t_,{users:e,role:"farmer"})})]}),a.jsxs(at,{className:"border-blue-100",children:[a.jsx(Hi,{className:"bg-gradient-to-r from-blue-50 to-transparent border-b border-blue-50",children:a.jsxs(qi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:a.jsx(Is,{className:"w-5 h-5 text-blue-600"})}),"Top 5 Thng li uy tn"]})}),a.jsx(Jr,{className:"pt-6",children:n?a.jsx(e_,{}):a.jsx(t_,{users:t,role:"wholesaler"})})]})]})}function Rte(){return a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>a.jsx("div",{className:"h-20 bg-gray-100 rounded-lg animate-pulse"},t))})}function Ote({auctions:e,isLoading:t}){return a.jsxs(at,{className:"border-pink-100",children:[a.jsxs(Hi,{className:"bg-gradient-to-r from-pink-50 to-transparent border-b border-pink-50",children:[a.jsxs(qi,{className:"text-lg font-semibold flex items-center gap-2 text-gray-900",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-pink-100 flex items-center justify-center",children:a.jsx(nb,{className:"w-5 h-5 text-pink-600"})}),"u gi ang hot"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Top 5 u gi ang din ra theo s lt u gi"})]}),a.jsx(Jr,{className:"pt-6",children:t?a.jsx(Rte,{}):e.length>0?a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl hover:bg-gradient-to-r hover:from-pink-50/50 hover:to-transparent hover:border-pink-200 transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${r===0?"bg-red-100 text-red-700":r===1?"bg-orange-100 text-orange-700":r===2?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:r+1}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["Nng dn: ",n.farmerName,"  ",n.sessionCode]})})]}),a.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Is,{className:"w-4 h-4 text-emerald-600"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:st(n.currentHighestBid)})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.totalBids," lt u gi"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Iu,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-500",children:n.remainingTime})]})})]})]},n.id))}):a.jsx("div",{className:"text-center text-sm text-gray-500 py-8 border border-dashed rounded-lg",children:"Cha c u gi no ang din ra."})})]})}const kte="https://gateway.a-379.store",or=new Dm(kte),Ot={async getFarms(){return or.get(De.farm.list,{cache:!1})},async deleteFarm(e){return or.delete(De.farm.delete(e),{invalidateCache:De.farm.list})},async getCustardAppleTypes(){return or.get(De.farm.custardAppleType.list,{cache:!1})},async getCustardAppleTypeById(e){return or.get(De.farm.custardAppleType.detail(e),{cache:!1})},async createCustardAppleType(e){return or.post(De.farm.custardAppleType.create,e,{invalidateCache:De.farm.custardAppleType.list})},async updateCustardAppleType(e,t){return or.put(De.farm.custardAppleType.update(e),t,{invalidateCache:De.farm.custardAppleType.list})},async deleteCustardAppleType(e){return or.delete(De.farm.custardAppleType.delete(e),{invalidateCache:De.farm.custardAppleType.list})},async getCropsByFarmId(e){return or.get(De.farm.cropByFarm(e),{cache:!1})},async getHarvests(){return or.get(De.farm.harvest.list,{cache:!1})},async getHarvestById(e){return or.get(De.farm.harvest.detail(e),{cache:!1})},async getHarvestsByCropId(e){return or.get(De.farm.harvest.byCrop(e),{cache:!1})},async getCurrentHarvestByCropId(e){return or.get(De.farm.harvest.currentByCrop(e),{cache:!1})},async getHarvestImagesByHarvestId(e){return or.get(De.farm.harvest.images(e),{cache:!1})},async getHarvestGradeDetails(){return or.get(De.farm.harvest.gradeDetail.list,{cache:!1})},async getHarvestGradeDetailById(e){return or.get(De.farm.harvest.gradeDetail.detail(e),{cache:!1})},async getHarvestGradeDetailsByHarvestId(e){return or.get(De.farm.harvest.gradeDetail.byHarvest(e),{cache:!1})}},Dte="https://gateway.a-379.store",ba=new Dm(Dte),tt={async getEnglishAuctions(e,t=1,n=10){const r={...e&&{status:e},pageNumber:t,pageSize:n};return ba.get(De.auction.englishAuction.list,{cache:!1,params:r})},async getEnglishAuctionById(e){return ba.get(`${De.auction.englishAuction.list}/${e}`,{cache:!1})},async getHarvestsByAuctionSessionId(e){return ba.get(De.auction.englishAuction.harvestsBySession(e),{cache:!1})},async updateEnglishAuctionStatus(e,t){return ba.put(`${De.auction.englishAuction.list}/${e}/status`,null,{params:{status:t}})},async getAuctionLogsByAuctionId(e){return ba.get(De.auction.auctionLog.byAuction(e),{cache:!1})},async getAuctionLogsByType(e){return ba.get(De.auction.auctionLog.byType(e),{cache:!1})},async pauseEnglishAuction(e){return ba.post(De.auction.englishAuction.pause,e)},async resumeEnglishAuction(e){return ba.post(De.auction.englishAuction.resume,e)},async getAuctionExtends(){return ba.get(De.auction.auctionExtend.list,{cache:!1})},async getAuctionExtendsByAuctionId(e){return ba.get(De.auction.auctionExtend.byAuction(e),{cache:!1})},async getAuctionPausesByAuctionId(e){return ba.get(De.auction.auctionPause.byAuction(e),{cache:!1})},async getBidLogsByAuctionId(e){return ba.get(De.auction.bidLog.byAuction(e),{cache:!1})}},Pte=1,Mte=10,nc={async getReports(e={}){const{status:t,type:n,pageNumber:r=Pte,pageSize:s=Mte}=e;return nt.get(De.report.list,{cache:!1,params:{pageNumber:r,pageSize:s,...t&&{status:t},...n&&{type:n}}})},async getReportsByAuctionId(e){return nt.get(De.report.byAuction(e),{cache:!1})},async updateReportStatus(e,t){return nt.put(De.report.detail(e),{reportStatus:t},{invalidateCache:De.report.list})}},jr={async list(){return nt.get(De.users.list,{cache:!0,cacheTTL:300*1e3})},async getById(e){return nt.get(De.users.detail(e),{cache:!1})},async updateStatus(e,t){return nt.put(De.users.updateStatus(e),t,{invalidateCache:De.users.list})}},On={async getWallets(){return nt.get(De.wallet.list,{cache:!1})},async getSystemWallet(){return nt.get(De.wallet.system,{cache:!1})},async getWalletById(e){return nt.get(De.wallet.detail(e),{cache:!1})},async getWalletByUserId(e){return nt.get(De.wallet.byUser(e),{cache:!1})},async getLedgers(){return nt.get(De.ledger.list,{cache:!1})},async getLedgersByWallet(e){return nt.get(De.ledger.byWallet(e),{cache:!1})},async createLedger(e){return nt.post(De.ledger.create,e,{invalidateCache:De.ledger.list})},async getLedgersByTransaction(e){return nt.get(De.ledger.byTransaction(e),{cache:!1})},async getTransactions(){return nt.get(De.transaction.list,{cache:!1})},async getTransactionById(e){return nt.get(De.transaction.detail(e),{cache:!1})},async getTransactionsByWallet(e){return nt.get(De.transaction.byWallet(e),{cache:!1})},async getWithdrawRequests(){return nt.get(De.withdrawRequest.list,{cache:!1})},async getWithdrawRequestById(e){return nt.get(De.withdrawRequest.detail(e),{cache:!1})},async getWithdrawRequestsByUser(e){return nt.get(De.withdrawRequest.byUser(e),{cache:!1})},async getMyWithdrawRequests(){return nt.get(De.withdrawRequest.myRequests,{cache:!1})},async createWithdrawRequest(e){return nt.post(De.withdrawRequest.create,e,{invalidateCache:De.withdrawRequest.list})},async approveWithdrawRequest(e){return nt.post(De.withdrawRequest.approve(e),{},{invalidateCache:De.withdrawRequest.list})},async rejectWithdrawRequest(e,t){return nt.post(De.withdrawRequest.reject(e),t||{},{invalidateCache:De.withdrawRequest.list})},async completeWithdrawRequest(e){return nt.post(De.withdrawRequest.complete(e),{},{invalidateCache:De.withdrawRequest.list})},async getUserBankAccountById(e){return nt.get(De.userBankAccount.detail(e),{cache:!1})},async getBanks(){return nt.get(De.bank.list,{cache:!1})},async getEscrowById(e){return nt.get(De.escrow.detail(e),{cache:!1})},async getEscrowByAuctionId(e){return nt.get(De.escrow.byAuction(e),{cache:!1})},async getEscrowByBuyRequestId(e){return nt.get(De.escrow.byBuyRequest(e),{cache:!1})}},Go={async getPending(){return nt.get(De.certification.pending,{cache:!1})},async getById(e){return nt.get(De.certification.detail(e),{cache:!1})},async getByUserId(e){return nt.get(De.certification.byUser(e),{cache:!1})},async approve(e,t){return nt.put(De.certification.approve(e),t,{invalidateCache:De.certification.pending})}};class Ite{getSystemProfit(t){return nt.get(De.statistics.systemProfit,{cacheTTL:60*1e3,params:t})}getSystemProfitCurrentMonth(){return nt.get(De.statistics.systemProfitCurrentMonth,{cacheTTL:60*1e3})}getSystemProfitCurrentYear(){return nt.get(De.statistics.systemProfitCurrentYear,{cacheTTL:60*1e3})}}const gf=new Ite;function uM(e,t=3e4,n=!0,r=!0){const s=p.useRef(null),o=p.useRef(e);p.useEffect(()=>{o.current=e},[e]);const u=p.useCallback(()=>{!n||t<=0||(s.current&&clearInterval(s.current),r&&o.current(),s.current=setInterval(()=>{o.current()},t))},[n,t,r]),d=p.useCallback(()=>{s.current&&(clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>(n?u():d(),()=>{d()}),[n,u,d]),{start:u,stop:d}}const La=e=>new Intl.NumberFormat("vi-VN").format(e);function Lte(){const e=mr(),{toast:t}=$n(),[n,r]=p.useState(!0),[s,o]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState([]),[g,x]=p.useState([]),[b,j]=p.useState([]),[S,w]=p.useState([]),[N,E]=p.useState(null),[A,T]=p.useState([]),[_,O]=p.useState(new Map),[k,R]=p.useState([]),[P,F]=p.useState(null),[re,L]=p.useState("current-year"),[G,J]=p.useState(()=>{const Y=new Date,se=new Date;return se.setDate(se.getDate()-30),{start:se.toISOString().split("T")[0],end:Y.toISOString().split("T")[0],timeRange:"daily"}}),je=p.useCallback(async()=>{r(!0),d(null);try{const[Y,se,we,fe,q,H,I]=await Promise.all([Ot.getFarms(),tt.getEnglishAuctions(void 0,1,500),nc.getReports({pageNumber:1,pageSize:100}),jr.list(),On.getSystemWallet(),Go.getPending(),gf.getSystemProfitCurrentYear()]);m(Y.data??[]),x(se.data?.items??[]),j(we.data?.items??[]),R(H.data??[]),E(q.data??null);const ee=fe.data;if(Array.isArray(ee)?w(ee):ee&&"items"in ee?w(ee.items):w([]),q.data?.id)try{const z=await On.getLedgersByWallet(q.data.id);T(z.data??[])}catch(z){console.error("Error loading system wallet ledgers:",z),T([])}F(I.data??null)}catch(Y){const se=Y instanceof Error?Y.message:"Khng th ti d liu dashboard";d(se),t({title:ie.ERROR,description:se,variant:"destructive"})}finally{r(!1)}},[t]),ge=p.useCallback(async Y=>{if(Y.length){o(!0);try{const se=Y.map(q=>tt.getBidLogsByAuctionId(q).catch(()=>({data:[]}))),we=await Promise.all(se),fe=new Map;Y.forEach((q,H)=>{const I=we[H]?.data??[];fe.set(q,I)}),O(fe)}catch(se){console.error("Error loading bid logs:",se)}finally{o(!1)}}},[]);p.useEffect(()=>{je()},[je]),p.useEffect(()=>{if(g.length>0){const Y=g.filter(se=>se.status==="Completed"||se.status==="OnGoing").slice(0,10).map(se=>se.id);ge(Y)}},[g,ge]),p.useEffect(()=>{(async()=>{try{if(re==="current-year"){const we=await gf.getSystemProfitCurrentYear();F(we.data??null);return}if(re==="current-month"){const we=await gf.getSystemProfitCurrentMonth();F(we.data??null);return}const se=await gf.getSystemProfit({startDate:G.start,endDate:G.end,timeRange:G.timeRange});F(se.data??null)}catch(se){console.error("Error loading system profit:",se),F(null)}})()},[re,G]),uM(je,3e4,!1,!1);const $=p.useMemo(()=>{const Y=f.length,se=S.length,we=S.filter(ve=>ve.status===0).length,fe=k.length,q=g.filter(ve=>ve.status==="Pending").length,H=g.filter(ve=>ve.status==="OnGoing").length,I=N?.balance??0,ee=b.filter(ve=>ve.reportStatus==="Pending").length,z=b.filter(ve=>ve.reportStatus==="InReview").length;return[{title:"Tng s nng tri",value:La(Y),change:`${La(f.filter(ve=>ve.isActive).length)} ang hot ng`,trend:"up",highlight:!0},{title:"Tng s ti khon",value:La(se),change:`${La(we)} ch xc thc`,trend:"up"},{title:"Ch xc thc",value:La(we+fe),change:`${La(we)} ti khon, ${La(fe)} chng ch`,trend:"neutral"},{title:"u gi ch duyt",value:La(q),change:`${La(H)} ang din ra`,trend:"up"},{title:"Tng doanh thu h thng",value:st(I,{fallback:"0 VND"}),change:"S d v h thng",trend:"up"},{title:"Bo co ch xem xt",value:La(ee),change:`${La(z)} tranh chp`,trend:ee>0?"up":"neutral"}]},[f,S,k,g,N,b]),U=p.useMemo(()=>{if(P?.data?.length)return P.data.map(we=>({time:we.time.includes("-")?we.time.split("-").reverse().join("/"):we.time,profit:we.profit}));if(!A.length)return[];const Y=new Date,se=[];for(let we=11;we>=0;we--){const fe=new Date(Y.getFullYear(),Y.getMonth()-we,1),q=`T${fe.getMonth()+1}/${fe.getFullYear()}`,I=A.filter(ee=>{if(!ee.createdAt)return!1;const z=new Date(ee.createdAt);return z.getFullYear()===fe.getFullYear()&&z.getMonth()===fe.getMonth()}).reduce((ee,z)=>ee+(z.direction===1?z.amount:-z.amount),0);se.push({time:q,profit:I})}return se},[A,P]),V=p.useMemo(()=>{if(!S.length)return[];const Y=new Map;S.forEach(fe=>{const q=new Date(fe.createdAt),H=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,I=Y.get(H)||0;Y.set(H,I+1)});const se=new Date,we=[];for(let fe=11;fe>=0;fe--){const q=new Date(se.getFullYear(),se.getMonth()-fe,1),H=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,I=`T${q.getMonth()+1}/${q.getFullYear()}`;we.push({month:I,accounts:Y.get(H)||0})}return we},[S]),pe=p.useMemo(()=>{if(!g.length)return[];const Y=new Map;g.forEach(fe=>{const q=new Date(fe.createdAt),H=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`;Y.has(H)||Y.set(H,{approved:0,rejected:0,ongoing:0,completed:0,failed:0});const I=Y.get(H);fe.status==="Approved"?I.approved++:fe.status==="Rejected"?I.rejected++:fe.status==="OnGoing"||fe.status==="Pause"?I.ongoing++:fe.status==="Completed"?I.completed++:(fe.status==="NoWinner"||fe.status==="Cancelled")&&I.failed++});const se=new Date,we=[];for(let fe=11;fe>=0;fe--){const q=new Date(se.getFullYear(),se.getMonth()-fe,1),H=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,I=`T${q.getMonth()+1}/${q.getFullYear()}`,ee=Y.get(H)||{approved:0,rejected:0,ongoing:0,completed:0,failed:0};we.push({month:I,...ee})}return we},[g]),ke=p.useMemo(()=>{if(!b.length)return[];const Y=new Map;b.forEach(fe=>{const q=new Date(fe.createdAt),H=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`;Y.has(H)||Y.set(H,{reports:0,disputes:0});const I=Y.get(H);(fe.reportStatus==="Pending"||fe.reportStatus==="InReview")&&I.reports++,fe.reportStatus==="InReview"&&I.disputes++});const se=new Date,we=[];for(let fe=11;fe>=0;fe--){const q=new Date(se.getFullYear(),se.getMonth()-fe,1),H=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,I=`T${q.getMonth()+1}/${q.getFullYear()}`,ee=Y.get(H)||{reports:0,disputes:0};we.push({time:I,...ee})}return we},[b]),B=p.useMemo(()=>{if(!A.length)return[];let Y=0,se=0;return A.forEach(we=>{we.direction===1?Y+=we.amount:we.direction===2&&(se+=we.amount)}),[{name:"Tin vo",value:Y},{name:"Tin ra",value:se}].filter(we=>we.value>0)},[A]),K=p.useMemo(()=>{const Y=new Map;_.forEach((q,H)=>{q.forEach(I=>{Y.has(I.userId)||Y.set(I.userId,new Set),Y.get(I.userId).add(H)})});const se=new Map;Y.forEach((q,H)=>{se.set(H,q.size)});const we=S.filter(q=>(typeof q.role=="string"?q.role.toLowerCase():q.roleObject?.name?.toLowerCase()||"")==="farmer"&&(q.reputationScore??0)>0).map(q=>({id:q.id,name:`${q.firstName} ${q.lastName}`.trim()||q.email,email:q.email,reputationScore:q.reputationScore??0,auctionCount:se.get(q.id)||0,role:"farmer"})).sort((q,H)=>H.reputationScore-q.reputationScore).slice(0,5),fe=S.filter(q=>(typeof q.role=="string"?q.role.toLowerCase():q.roleObject?.name?.toLowerCase()||"")==="wholesaler"&&(q.reputationScore??0)>0).map(q=>({id:q.id,name:`${q.firstName} ${q.lastName}`.trim()||q.email,email:q.email,reputationScore:q.reputationScore??0,auctionCount:se.get(q.id)||0,role:"wholesaler"})).sort((q,H)=>H.reputationScore-q.reputationScore).slice(0,5);return{farmers:we,wholesalers:fe}},[S,_]),le=p.useMemo(()=>g.filter(se=>se.status==="OnGoing").map(se=>{const we=_.get(se.id)??[],fe=se.endDate?new Date(se.endDate):null,q=new Date,H=fe?fe.getTime()-q.getTime():0,I=Math.max(0,Math.floor(H/(1e3*60*60))),ee=Math.floor(I/24),z=ee>0?`${ee} ngy`:I>0?`${I} gi`:"Sp kt thc",ve=S.find(W=>W.id===se.farmerId),te=ve?`${ve.firstName} ${ve.lastName}`.trim()||ve.email:"Cha xc nh";return{id:se.id,auctionName:se.note||`Phin ${se.sessionCode}`,farmerName:te,currentHighestBid:se.currentPrice??se.startingPrice??0,totalBids:we.length,remainingTime:z,sessionCode:se.sessionCode}}).filter(se=>se.totalBids>0).sort((se,we)=>we.totalBids-se.totalBids).slice(0,5),[g,_,S]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/20",children:a.jsx(Y_,{className:"w-6 h-6 text-white"})}),"Bng iu khin"]}),a.jsx("p",{className:"text-gray-600 ml-[52px]",children:"Tng quan h thng v phn tch d liu"}),u&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:u})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(ce,{onClick:()=>e("/admin/reports"),className:"shadow-sm hover:shadow-md transition-shadow",children:"Qun l bo co"}),a.jsxs(ce,{variant:"outline",onClick:je,disabled:n,className:"shadow-sm hover:shadow-md transition-shadow",children:[a.jsx(ti,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Lm mi"]})]})]})}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-emerald-600 rounded-full"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tng quan h thng"})]}),a.jsx(pU,{stats:$,isLoading:n})]}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Is,{className:"w-5 h-5 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Phn tch doanh thu"})]})]}),a.jsxs("div",{className:"mb-4 flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:["current-year","current-month","custom"].map(Y=>a.jsxs(ce,{variant:re===Y?"default":"outline",size:"sm",onClick:()=>L(Y),children:[Y==="current-year"&&"Nm nay",Y==="current-month"&&"Thng ny",Y==="custom"&&"Ty chnh"]},Y))}),re==="custom"&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 w-full lg:w-auto",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"T ngy"}),a.jsx("input",{type:"date",value:G.start,onChange:Y=>J(se=>({...se,start:Y.target.value})),max:G.end,className:"rounded-md border border-gray-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"n ngy"}),a.jsx("input",{type:"date",value:G.end,onChange:Y=>J(se=>({...se,end:Y.target.value})),min:G.start,max:new Date().toISOString().split("T")[0],className:"rounded-md border border-gray-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-600 mb-1",children:"Nhm theo"}),a.jsxs("select",{value:G.timeRange,onChange:Y=>J(se=>({...se,timeRange:Y.target.value})),className:"rounded-md border border-gray-200 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",children:[a.jsx("option",{value:"daily",children:"Ngy"}),a.jsx("option",{value:"monthly",children:"Thng"})]})]})]})]}),a.jsx(Ste,{data:U,isLoading:n})]}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-purple-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($u,{className:"w-5 h-5 text-purple-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tng trng & Doanh thu"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Ete,{data:V,isLoading:n}),a.jsx(Tte,{data:B,isLoading:n})]})]}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-orange-600 rounded-full"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Vng i u gi"})]}),a.jsx(Cte,{data:pe,isLoading:n})]}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-red-500 to-red-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(km,{className:"w-5 h-5 text-red-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gim st ri ro"})]})]}),a.jsx(Ate,{data:ke,isLoading:n})]}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-yellow-500 to-yellow-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Aa,{className:"w-5 h-5 text-yellow-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bng xp hng uy tn"})]})]}),a.jsx(_te,{farmers:K.farmers,wholesalers:K.wholesalers,isLoading:n})]}),a.jsxs("section",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-pink-500 to-pink-600 rounded-full"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jL,{className:"w-5 h-5 text-pink-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"u gi ang hot"})]})]}),a.jsx(Ote,{auctions:le,isLoading:n||s})]})]})}const rn=({children:e,className:t})=>a.jsx("div",{className:_t("overflow-hidden rounded-3xl border border-emerald-50/80 bg-white/80 shadow-[0_20px_60px_rgba(15,118,110,0.08)] backdrop-blur","transition-all duration-300",t),children:a.jsx("table",{className:"min-w-full divide-y divide-emerald-50/80 text-sm text-slate-700",children:e})}),an=({children:e})=>a.jsx("thead",{className:"bg-gradient-to-r from-emerald-50/90 via-white to-transparent text-[11px] uppercase tracking-[0.18em] text-emerald-600",children:e}),xe=({children:e,className:t,style:n})=>a.jsx("th",{style:n,className:_t("px-6 py-4 text-left font-semibold text-[11px] tracking-[0.18em]","text-emerald-700/80",t),children:e}),sn=({children:e})=>a.jsx("tbody",{className:"divide-y divide-emerald-50 bg-white/90",children:e}),rt=({children:e,className:t})=>a.jsx("tr",{className:_t("transition-all duration-200","odd:bg-white even:bg-emerald-50/30","hover:-translate-y-[1px] hover:bg-emerald-50/70 hover:shadow-[0_12px_30px_rgba(15,118,110,0.12)]",t),children:e}),be=({children:e,className:t,style:n})=>a.jsx("td",{style:n,className:_t("px-6 py-4 text-sm text-slate-700 align-middle","first:pl-6 last:pr-6","whitespace-nowrap",t),children:e}),Re=p.forwardRef(({className:e,variant:t="default",...n},r)=>{const s={default:"bg-emerald-600/90 text-white shadow-[0_4px_12px_rgba(16,185,129,0.35)]",outline:"border border-emerald-200 bg-white text-emerald-700",soft:"bg-emerald-50/90 text-emerald-700 backdrop-blur-sm",success:"bg-green-100 text-green-700",warning:"bg-amber-100 text-amber-700",danger:"bg-rose-100 text-rose-700"};return a.jsx("div",{ref:r,className:_t("inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-wide shadow-sm transition-all duration-200",s[t],e),...n})});Re.displayName="Badge";function ar(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function n_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dM(...e){return t=>{let n=!1;const r=e.map(s=>{const o=n_(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():n_(e[s],null)}}}}function si(...e){return p.useCallback(dM(...e),e)}function Bte(e,t){const n=p.createContext(t),r=o=>{const{children:u,...d}=o,f=p.useMemo(()=>d,Object.values(d));return a.jsx(n.Provider,{value:f,children:u})};r.displayName=e+"Provider";function s(o){const u=p.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function yg(e,t=[]){let n=[];function r(o,u){const d=p.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:b,children:j,...S}=x,w=b?.[e]?.[f]||d,N=p.useMemo(()=>S,Object.values(S));return a.jsx(w.Provider,{value:N,children:j})};m.displayName=o+"Provider";function g(x,b){const j=b?.[e]?.[f]||d,S=p.useContext(j);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=n.map(u=>p.createContext(u));return function(d){const f=d?.[e]||o;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return s.scopeName=e,[r,$te(s,...t)]}function $te(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const u=r.reduce((d,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...d,...x}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var td=globalThis?.document?p.useLayoutEffect:()=>{},Ute=Gy[" useId ".trim().toString()]||(()=>{}),zte=0;function ku(e){const[t,n]=p.useState(Ute());return td(()=>{n(r=>r??String(zte++))},[e]),t?`radix-${t}`:""}var Hte=Gy[" useInsertionEffect ".trim().toString()]||td;function gw({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,u]=qte({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:s;{const g=p.useRef(e!==void 0);p.useEffect(()=>{const x=g.current;x!==d&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const m=p.useCallback(g=>{if(d){const x=Fte(g)?g(e):g;x!==e&&u.current?.(x)}else o(g)},[d,e,o,u]);return[f,m]}function qte({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return Hte(()=>{o.current=t},[t]),p.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function Fte(e){return typeof e=="function"}function Nm(e){const t=Kte(e),n=p.forwardRef((r,s)=>{const{children:o,...u}=r,d=p.Children.toArray(o),f=d.find(Vte);if(f){const m=f.props.children,g=d.map(x=>x===f?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:x);return a.jsx(t,{...u,ref:s,children:p.isValidElement(m)?p.cloneElement(m,void 0,g):null})}return a.jsx(t,{...u,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Kte(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const u=Yte(s),d=Wte(o,s.props);return s.type!==p.Fragment&&(d.ref=r?dM(r,u):u),p.cloneElement(s,d)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gte=Symbol("radix.slottable");function Vte(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gte}function Wte(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{const f=o(...d);return s(...d),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Yte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Xte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Er=Xte.reduce((e,t)=>{const n=Nm(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:u,...d}=s,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Qte(e,t){e&&Rm.flushSync(()=>e.dispatchEvent(t))}function rc(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current?.(...n),[])}function Zte(e,t=globalThis?.document){const n=rc(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Jte="DismissableLayer",qy="dismissableLayer.update",ene="dismissableLayer.pointerDownOutside",tne="dismissableLayer.focusOutside",r_,hM=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fM=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...f}=e,m=p.useContext(hM),[g,x]=p.useState(null),b=g?.ownerDocument??globalThis?.document,[,j]=p.useState({}),S=si(t,R=>x(R)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(N),A=g?w.indexOf(g):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,_=A>=E,O=ane(R=>{const P=R.target,F=[...m.branches].some(re=>re.contains(P));!_||F||(s?.(R),u?.(R),R.defaultPrevented||d?.())},b),k=ine(R=>{const P=R.target;[...m.branches].some(re=>re.contains(P))||(o?.(R),u?.(R),R.defaultPrevented||d?.())},b);return Zte(R=>{A===m.layers.size-1&&(r?.(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},b),p.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(r_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),a_(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=r_)}},[g,b,n,m]),p.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),a_())},[g,m]),p.useEffect(()=>{const R=()=>j({});return document.addEventListener(qy,R),()=>document.removeEventListener(qy,R)},[]),a.jsx(Er.div,{...f,ref:S,style:{pointerEvents:T?_?"auto":"none":void 0,...e.style},onFocusCapture:ar(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ar(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ar(e.onPointerDownCapture,O.onPointerDownCapture)})});fM.displayName=Jte;var nne="DismissableLayerBranch",rne=p.forwardRef((e,t)=>{const n=p.useContext(hM),r=p.useRef(null),s=si(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(Er.div,{...e,ref:s})});rne.displayName=nne;function ane(e,t=globalThis?.document){const n=rc(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){mM(ene,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ine(e,t=globalThis?.document){const n=rc(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&mM(tne,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function a_(){const e=new CustomEvent(qy);document.dispatchEvent(e)}function mM(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Qte(s,o):s.dispatchEvent(o)}var bv="focusScope.autoFocusOnMount",jv="focusScope.autoFocusOnUnmount",i_={bubbles:!1,cancelable:!0},sne="FocusScope",gM=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...u}=e,[d,f]=p.useState(null),m=rc(s),g=rc(o),x=p.useRef(null),b=si(t,w=>f(w)),j=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let w=function(T){if(j.paused||!d)return;const _=T.target;d.contains(_)?x.current=_:Os(x.current,{select:!0})},N=function(T){if(j.paused||!d)return;const _=T.relatedTarget;_!==null&&(d.contains(_)||Os(x.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Os(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const A=new MutationObserver(E);return d&&A.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),A.disconnect()}}},[r,d,j.paused]),p.useEffect(()=>{if(d){l_.add(j);const w=document.activeElement;if(!d.contains(w)){const E=new CustomEvent(bv,i_);d.addEventListener(bv,m),d.dispatchEvent(E),E.defaultPrevented||(lne(hne(pM(d)),{select:!0}),document.activeElement===w&&Os(d))}return()=>{d.removeEventListener(bv,m),setTimeout(()=>{const E=new CustomEvent(jv,i_);d.addEventListener(jv,g),d.dispatchEvent(E),E.defaultPrevented||Os(w??document.body,{select:!0}),d.removeEventListener(jv,g),l_.remove(j)},0)}}},[d,m,g,j]);const S=p.useCallback(w=>{if(!n&&!r||j.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(N&&E){const A=w.currentTarget,[T,_]=one(A);T&&_?!w.shiftKey&&E===_?(w.preventDefault(),n&&Os(T,{select:!0})):w.shiftKey&&E===T&&(w.preventDefault(),n&&Os(_,{select:!0})):E===A&&w.preventDefault()}},[n,r,j.paused]);return a.jsx(Er.div,{tabIndex:-1,...u,ref:b,onKeyDown:S})});gM.displayName=sne;function lne(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Os(r,{select:t}),document.activeElement!==n)return}function one(e){const t=pM(e),n=s_(t,e),r=s_(t.reverse(),e);return[n,r]}function pM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function s_(e,t){for(const n of e)if(!cne(n,{upTo:t}))return n}function cne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function une(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&une(e)&&t&&e.select()}}var l_=dne();function dne(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=o_(e,t),e.unshift(t)},remove(t){e=o_(e,t),e[0]?.resume()}}}function o_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function hne(e){return e.filter(t=>t.tagName!=="A")}var fne="Portal",xM=p.forwardRef((e,t)=>{const{container:n,...r}=e,[s,o]=p.useState(!1);td(()=>o(!0),[]);const u=n||s&&globalThis?.document?.body;return u?D3.createPortal(a.jsx(Er.div,{...r,ref:t}),u):null});xM.displayName=fne;function mne(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Rd=e=>{const{present:t,children:n}=e,r=gne(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=si(r.ref,pne(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Rd.displayName="Presence";function gne(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),u=e?"mounted":"unmounted",[d,f]=mne(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=pf(r.current);o.current=d==="mounted"?m:"none"},[d]),td(()=>{const m=r.current,g=s.current;if(g!==e){const b=o.current,j=pf(m);e?f("MOUNT"):j==="none"||m?.display==="none"?f("UNMOUNT"):f(g&&b!==j?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),td(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=j=>{const w=pf(r.current).includes(CSS.escape(j.animationName));if(j.target===t&&w&&(f("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=j=>{j.target===t&&(o.current=pf(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function pf(e){return e?.animationName||"none"}function pne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wv=0;function xne(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??c_()),document.body.insertAdjacentElement("beforeend",e[1]??c_()),wv++,()=>{wv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wv--}},[])}function c_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ja=function(){return Ja=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ja.apply(this,arguments)};function vM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function vne(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Rf="right-scroll-bar-position",Of="width-before-scroll-bar",yne="with-scroll-bars-hidden",bne="--removed-body-scroll-bar-size";function Nv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jne(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var wne=typeof window<"u"?p.useLayoutEffect:p.useEffect,u_=new WeakMap;function Nne(e,t){var n=jne(null,function(r){return e.forEach(function(s){return Nv(s,r)})});return wne(function(){var r=u_.get(n);if(r){var s=new Set(r),o=new Set(e),u=n.current;s.forEach(function(d){o.has(d)||Nv(d,null)}),o.forEach(function(d){s.has(d)||Nv(d,u)})}u_.set(n,e)},[e]),n}function Sne(e){return e}function Ene(e,t){t===void 0&&(t=Sne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(r=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(o),u=n}var f=function(){var g=u;u=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return s}function Cne(e){e===void 0&&(e={});var t=Ene(null);return t.options=Ja({async:!0,ssr:!1},e),t}var yM=function(e){var t=e.sideCar,n=vM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ja({},n))};yM.isSideCarExport=!0;function Ane(e,t){return e.useMedium(t),yM}var bM=Cne(),Sv=function(){},bg=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Sv,onWheelCapture:Sv,onTouchMoveCapture:Sv}),s=r[0],o=r[1],u=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,g=e.enabled,x=e.shards,b=e.sideCar,j=e.noRelative,S=e.noIsolation,w=e.inert,N=e.allowPinchZoom,E=e.as,A=E===void 0?"div":E,T=e.gapMode,_=vM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,k=Nne([n,t]),R=Ja(Ja({},_),s);return p.createElement(p.Fragment,null,g&&p.createElement(O,{sideCar:bM,removeScrollBar:m,shards:x,noRelative:j,noIsolation:S,inert:w,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:T}),u?p.cloneElement(p.Children.only(d),Ja(Ja({},R),{ref:k})):p.createElement(A,Ja({},R,{className:f,ref:k}),d))});bg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bg.classNames={fullWidth:Of,zeroRight:Rf};var Tne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _ne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Tne();return t&&e.setAttribute("nonce",t),e}function Rne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function One(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_ne())&&(Rne(t,n),One(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Dne=function(){var e=kne();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},jM=function(){var e=Dne(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Pne={left:0,top:0,right:0,gap:0},Ev=function(e){return parseInt(e||"",10)||0},Mne=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ev(n),Ev(r),Ev(s)]},Ine=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pne;var t=Mne(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Lne=jM(),Vo="data-scroll-locked",Bne=function(e,t,n,r){var s=e.left,o=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Vo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rf,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Of,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Rf," .").concat(Rf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vo,`] {
    `).concat(bne,": ").concat(d,`px;
  }
`)},d_=function(){var e=parseInt(document.body.getAttribute(Vo)||"0",10);return isFinite(e)?e:0},$ne=function(){p.useEffect(function(){return document.body.setAttribute(Vo,(d_()+1).toString()),function(){var e=d_()-1;e<=0?document.body.removeAttribute(Vo):document.body.setAttribute(Vo,e.toString())}},[])},Une=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;$ne();var o=p.useMemo(function(){return Ine(s)},[s]);return p.createElement(Lne,{styles:Bne(o,!t,s,n?"":"!important")})},Fy=!1;if(typeof window<"u")try{var xf=Object.defineProperty({},"passive",{get:function(){return Fy=!0,!0}});window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{Fy=!1}var Bo=Fy?{passive:!1}:!1,zne=function(e){return e.tagName==="TEXTAREA"},wM=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!zne(e)&&n[t]==="visible")},Hne=function(e){return wM(e,"overflowY")},qne=function(e){return wM(e,"overflowX")},h_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=NM(e,r);if(s){var o=SM(e,r),u=o[1],d=o[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fne=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Kne=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},NM=function(e,t){return e==="v"?Hne(t):qne(t)},SM=function(e,t){return e==="v"?Fne(t):Kne(t)},Gne=function(e,t){return e==="h"&&t==="rtl"?-1:1},Vne=function(e,t,n,r,s){var o=Gne(e,window.getComputedStyle(t).direction),u=o*r,d=n.target,f=t.contains(d),m=!1,g=u>0,x=0,b=0;do{if(!d)break;var j=SM(e,d),S=j[0],w=j[1],N=j[2],E=w-N-o*S;(S||E)&&NM(e,d)&&(x+=E,b+=S);var A=d.parentNode;d=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(x)<1||!g&&Math.abs(b)<1)&&(m=!0),m},vf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},f_=function(e){return[e.deltaX,e.deltaY]},m_=function(e){return e&&"current"in e?e.current:e},Wne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Yne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xne=0,$o=[];function Qne(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Xne++)[0],o=p.useState(jM)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=vne([e.lockRef.current],(e.shards||[]).map(m_),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var E=vf(w),A=n.current,T="deltaX"in w?w.deltaX:A[0]-E[0],_="deltaY"in w?w.deltaY:A[1]-E[1],O,k=w.target,R=Math.abs(T)>Math.abs(_)?"h":"v";if("touches"in w&&R==="h"&&k.type==="range")return!1;var P=h_(R,k);if(!P)return!0;if(P?O=R:(O=R==="v"?"h":"v",P=h_(R,k)),!P)return!1;if(!r.current&&"changedTouches"in w&&(T||_)&&(r.current=O),!O)return!0;var F=r.current||O;return Vne(F,N,w,F==="h"?T:_)},[]),f=p.useCallback(function(w){var N=w;if(!(!$o.length||$o[$o.length-1]!==o)){var E="deltaY"in N?f_(N):vf(N),A=t.current.filter(function(O){return O.name===N.type&&(O.target===N.target||N.target===O.shadowParent)&&Wne(O.delta,E)})[0];if(A&&A.should){N.cancelable&&N.preventDefault();return}if(!A){var T=(u.current.shards||[]).map(m_).filter(Boolean).filter(function(O){return O.contains(N.target)}),_=T.length>0?d(N,T[0]):!u.current.noIsolation;_&&N.cancelable&&N.preventDefault()}}},[]),m=p.useCallback(function(w,N,E,A){var T={name:w,delta:N,target:E,should:A,shadowParent:Zne(E)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(_){return _!==T})},1)},[]),g=p.useCallback(function(w){n.current=vf(w),r.current=void 0},[]),x=p.useCallback(function(w){m(w.type,f_(w),w.target,d(w,e.lockRef.current))},[]),b=p.useCallback(function(w){m(w.type,vf(w),w.target,d(w,e.lockRef.current))},[]);p.useEffect(function(){return $o.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Bo),document.addEventListener("touchmove",f,Bo),document.addEventListener("touchstart",g,Bo),function(){$o=$o.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,Bo),document.removeEventListener("touchmove",f,Bo),document.removeEventListener("touchstart",g,Bo)}},[]);var j=e.removeScrollBar,S=e.inert;return p.createElement(p.Fragment,null,S?p.createElement(o,{styles:Yne(s)}):null,j?p.createElement(Une,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Zne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Jne=Ane(bM,Qne);var EM=p.forwardRef(function(e,t){return p.createElement(bg,Ja({},e,{ref:t,sideCar:Jne}))});EM.classNames=bg.classNames;var ere=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Uo=new WeakMap,yf=new WeakMap,bf={},Cv=0,CM=function(e){return e&&(e.host||CM(e.parentNode))},tre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=CM(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nre=function(e,t,n,r){var s=tre(t,Array.isArray(e)?e:[e]);bf[n]||(bf[n]=new WeakMap);var o=bf[n],u=[],d=new Set,f=new Set(s),m=function(x){!x||d.has(x)||(d.add(x),m(x.parentNode))};s.forEach(m);var g=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))g(b);else try{var j=b.getAttribute(r),S=j!==null&&j!=="false",w=(Uo.get(b)||0)+1,N=(o.get(b)||0)+1;Uo.set(b,w),o.set(b,N),u.push(b),w===1&&S&&yf.set(b,!0),N===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",b,E)}})};return g(t),d.clear(),Cv++,function(){u.forEach(function(x){var b=Uo.get(x)-1,j=o.get(x)-1;Uo.set(x,b),o.set(x,j),b||(yf.has(x)||x.removeAttribute(r),yf.delete(x)),j||x.removeAttribute(n)}),Cv--,Cv||(Uo=new WeakMap,Uo=new WeakMap,yf=new WeakMap,bf={})}},rre=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=ere(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),nre(r,s,n,"aria-hidden")):function(){return null}},jg="Dialog",[AM]=yg(jg),[are,Ka]=AM(jg),TM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:u=!0}=e,d=p.useRef(null),f=p.useRef(null),[m,g]=gw({prop:r,defaultProp:s??!1,onChange:o,caller:jg});return a.jsx(are,{scope:t,triggerRef:d,contentRef:f,contentId:ku(),titleId:ku(),descriptionId:ku(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};TM.displayName=jg;var _M="DialogTrigger",ire=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ka(_M,n),o=si(t,s.triggerRef);return a.jsx(Er.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vw(s.open),...r,ref:o,onClick:ar(e.onClick,s.onOpenToggle)})});ire.displayName=_M;var pw="DialogPortal",[sre,RM]=AM(pw,{forceMount:void 0}),OM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Ka(pw,t);return a.jsx(sre,{scope:t,forceMount:n,children:p.Children.map(r,u=>a.jsx(Rd,{present:n||o.open,children:a.jsx(xM,{asChild:!0,container:s,children:u})}))})};OM.displayName=pw;var Sm="DialogOverlay",kM=p.forwardRef((e,t)=>{const n=RM(Sm,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ka(Sm,e.__scopeDialog);return o.modal?a.jsx(Rd,{present:r||o.open,children:a.jsx(ore,{...s,ref:t})}):null});kM.displayName=Sm;var lre=Nm("DialogOverlay.RemoveScroll"),ore=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ka(Sm,n);return a.jsx(EM,{as:lre,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Er.div,{"data-state":vw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hl="DialogContent",DM=p.forwardRef((e,t)=>{const n=RM(Hl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Ka(Hl,e.__scopeDialog);return a.jsx(Rd,{present:r||o.open,children:o.modal?a.jsx(cre,{...s,ref:t}):a.jsx(ure,{...s,ref:t})})});DM.displayName=Hl;var cre=p.forwardRef((e,t)=>{const n=Ka(Hl,e.__scopeDialog),r=p.useRef(null),s=si(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return rre(o)},[]),a.jsx(PM,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ar(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&o.preventDefault()}),onFocusOutside:ar(e.onFocusOutside,o=>o.preventDefault())})}),ure=p.forwardRef((e,t)=>{const n=Ka(Hl,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(PM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),PM=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...u}=e,d=Ka(Hl,n),f=p.useRef(null),m=si(t,f);return xne(),a.jsxs(a.Fragment,{children:[a.jsx(gM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(fM,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":vw(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(fre,{titleId:d.titleId}),a.jsx(gre,{contentRef:f,descriptionId:d.descriptionId})]})]})}),xw="DialogTitle",MM=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ka(xw,n);return a.jsx(Er.h2,{id:s.titleId,...r,ref:t})});MM.displayName=xw;var IM="DialogDescription",dre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ka(IM,n);return a.jsx(Er.p,{id:s.descriptionId,...r,ref:t})});dre.displayName=IM;var LM="DialogClose",hre=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ka(LM,n);return a.jsx(Er.button,{type:"button",...r,ref:t,onClick:ar(e.onClick,()=>s.onOpenChange(!1))})});hre.displayName=LM;function vw(e){return e?"open":"closed"}var BM="DialogTitleWarning",[sie,$M]=Bte(BM,{contentName:Hl,titleName:xw,docsSlug:"dialog"}),fre=({titleId:e})=>{const t=$M(BM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mre="DialogDescriptionWarning",gre=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$M(mre).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},pre=TM,xre=OM,UM=kM,zM=DM,HM=MM;const Xt=pre,vre=xre,qM=p.forwardRef(({className:e,...t},n)=>a.jsx(UM,{ref:n,className:_t("fixed inset-0 z-40 bg-black/40 backdrop-blur-md transition-opacity animate-in fade-in-0",e),...t}));qM.displayName=UM.displayName;const Ft=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(vre,{children:[a.jsx(qM,{}),a.jsx(zM,{ref:r,className:_t("fixed z-50 grid w-full max-w-lg gap-6 rounded-3xl border border-white/40 bg-white/90 backdrop-blur-2xl px-7 py-7 shadow-[0_30px_80px_rgba(15,118,110,0.2)] duration-200 animate-in fade-in-0 zoom-in-90 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",e),...n,children:t})]}));Ft.displayName=zM.displayName;const Qt=({className:e,...t})=>a.jsx("div",{className:_t("flex flex-col space-y-2 text-center sm:text-left",e),...t}),Kt=p.forwardRef(({className:e,...t},n)=>a.jsx(HM,{ref:n,className:_t("text-xl font-semibold tracking-tight",e),...t}));Kt.displayName=HM.displayName;function yre(){const[e,t]=p.useState([]),[n,r]=p.useState({}),[s,o]=p.useState(!1),[u,d]=p.useState(null),f=10,[m,g]=p.useState(1),[x,b]=p.useState({}),{toast:j}=$n(),[S,w]=p.useState(""),[N,E]=p.useState("all"),[A,T]=p.useState("all"),[_,O]=p.useState(null),[k,R]=p.useState(!1),[P,F]=p.useState([]),[re,L]=p.useState(!1),[G,J]=p.useState(!1),[je,ge]=p.useState(null),[$,U]=p.useState(!1),[V,pe]=p.useState(!0),ke=p.useCallback(async({silent:W=!1}={})=>{o(!0),d(null);try{const Q=await jr.list();if(Q.isSuccess){const ne=Q.data,Ce=Array.isArray(ne)?ne:ne?.items??[],Fe=Ie=>{const Xe=Ie.role;if(typeof Xe=="string"&&(Xe==="farmer"||Xe==="wholesaler"))return Xe;if(Xe&&typeof Xe=="object"&&"name"in Xe){const it=String(Xe.name||"").toLowerCase();if(it==="admin"||it==="farmer"||it==="wholesaler")return it}return"wholesaler"},Oe=Ce.map(Ie=>{const it=(Ie.status??1)===2?"inactive":"active";return{id:Ie.id,fullName:`${Ie.firstName} ${Ie.lastName}`.trim(),email:Ie.email,role:Fe(Ie),status:it,createdAt:Ie.createdAt}});t(Oe),r(Object.fromEntries(Ce.map(Ie=>[Ie.id,Ie]))),b(Object.fromEntries(Ce.map(Ie=>[Ie.id,(Ie.status??1)===2]))),g(1),W||j({title:ie.SUCCESS,description:Ux.FETCH_SUCCESS})}else{const ne=Q.message||Ux.FETCH_ERROR;d(ne),j({title:ie.ERROR,description:ne,variant:"destructive"})}}catch(Q){const ne=Q instanceof Error?Q.message:Ux.FETCH_ERROR;d(ne),j({title:ie.ERROR,description:ne,variant:"destructive"})}finally{o(!1)}},[j]);p.useEffect(()=>{ke({silent:!0})},[ke]);const B=W=>new Date(W).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),K=p.useMemo(()=>{let W=e;const Q=S.trim().toLowerCase();return Q&&(W=W.filter(ne=>ne.fullName.toLowerCase().includes(Q)||ne.email.toLowerCase().includes(Q)||ne.id.toLowerCase().includes(Q))),N!=="all"&&(W=W.filter(ne=>ne.role===N)),A!=="all"&&(W=W.filter(ne=>A==="active"?!x[ne.id]:A==="inactive"?x[ne.id]:!0)),W.sort((ne,Ce)=>{const Fe=new Date(ne.createdAt).getTime();return new Date(Ce.createdAt).getTime()-Fe})},[e,S,N,A,x]);p.useEffect(()=>{g(1)},[S,N,A]);const le=W=>{switch(W){case"farmer":return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Farmer"});case"wholesaler":return a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:"Wholesaler"});default:return a.jsx(Re,{variant:"outline",children:"Unknown"})}},Y=W=>{switch(W){case"active":return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"});case"inactive":return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng hot ng"});default:return a.jsx(Re,{variant:"outline",children:"Unknown"})}},se=(W,Q)=>{Q&&!x[W.id]?(ge(W),pe(!0),J(!0)):!Q&&x[W.id]&&(ge(W),pe(!1),J(!0))},we=async()=>{if(je){U(!0);try{const W=await jr.updateStatus(je.id,{status:V?2:1,reason:V?"Ti khon b kha bi qun tr vin":"Ti khon c m kha bi qun tr vin"});if(W.isSuccess)j({title:ie.SUCCESS,description:V?"Kha ti khon thnh cng":"M kha ti khon thnh cng"}),J(!1),ge(null),await ke({silent:!0});else{const Q=W.message||(V?"Khng th kha ti khon. Vui lng th li.":"Khng th m kha ti khon. Vui lng th li.");j({title:ie.ERROR,description:Q,variant:"destructive"})}}catch(W){const Q=W instanceof Error?W.message:V?"Khng th kha ti khon. Vui lng th li.":"Khng th m kha ti khon. Vui lng th li.";j({title:ie.ERROR,description:Q,variant:"destructive"})}finally{U(!1)}}},fe=W=>{const Q=n[W];Q?(O(Q),R(!0),L(!0),Go.getByUserId(W).then(ne=>{ne.isSuccess&&ne.data?F(Array.isArray(ne.data)?ne.data:[]):F([])}).catch(()=>F([])).finally(()=>L(!1))):j({title:ie.ERROR,description:"Khng tm thy thng tin chi tit ngi dng",variant:"destructive"})},q=W=>{switch(W){case 0:return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(Re,{variant:"outline",children:"Unknown"})}},H=Math.max(1,Math.ceil(K.length/f)),I=Math.min(m,H),ee=(I-1)*f,z=K.slice(ee,ee+f),ve=I>1,te=I<H;return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l ngi dng"}),a.jsx("p",{className:"text-base text-gray-600",children:"Theo di trng thi ti khon v phn quyn."})]}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ngi dng"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s?"ang ti...":`Hin th ${K.length} / ${e.length} ngi dng`,u&&a.jsxs("span",{className:"text-red-600",children:["  ",u]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:S,onChange:W=>w(W.target.value),placeholder:"Tm theo tn, email hoc ID",className:"pl-9"})]}),a.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>ke(),disabled:s,children:s?"ang ti...":"Lm mi"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>{E("all"),g(1)},className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${N==="all"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Tt c vai tr",a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:e.length})]}),a.jsxs("button",{type:"button",onClick:()=>{E("farmer"),g(1)},className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${N==="farmer"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Farmer",a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:e.filter(W=>W.role==="farmer").length})]}),a.jsxs("button",{type:"button",onClick:()=>{E("wholesaler"),g(1)},className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${N==="wholesaler"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:["Wholesaler",a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:e.filter(W=>W.role==="wholesaler").length})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ad,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${A!=="all"?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:A,onChange:W=>{T(W.target.value),g(1)},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${A!=="all"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:"active",children:"Hot ng"}),a.jsx("option",{value:"inactive",children:"Khng hot ng"})]}),a.jsx(Om,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${A!=="all"?"text-emerald-600":"text-gray-400"}`})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:s?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[30%]",children:"H v tn"}),a.jsx(xe,{className:"w-[20%]",children:"Email"}),a.jsx(xe,{className:"w-[12%]",children:"Vai tr"}),a.jsx(xe,{className:"w-[12%]",children:"Trng thi"}),a.jsx(xe,{className:"w-[10%] text-right",children:"Kha"}),a.jsx(xe,{className:"w-[16%] text-center",children:"Thao tc"})]})}),a.jsx(sn,{children:Array.from({length:5}).map((W,Q)=>a.jsx(rt,{children:[35,25,15,15,10].map((ne,Ce)=>a.jsx(be,{style:{width:`${ne}%`},children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})},Ce))},Q))})]}):z.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:block",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[30%] text-left",children:"H v tn"}),a.jsx(xe,{className:"w-[20%] text-left",children:"Email"}),a.jsx(xe,{className:"w-[12%] text-left",children:"Vai tr"}),a.jsx(xe,{className:"w-[12%] text-left",children:"Trng thi"}),a.jsx(xe,{className:"w-[10%] text-right",children:"Kha"}),a.jsx(xe,{className:"w-[16%] text-center",children:"Thao tc"})]})}),a.jsx(sn,{children:z.map(W=>a.jsxs(rt,{className:"min-h-[56px]",children:[a.jsx(be,{className:"font-medium text-gray-900",children:a.jsx("div",{className:"truncate",title:W.fullName,children:W.fullName})}),a.jsxs(be,{children:[a.jsx("div",{className:"truncate text-gray-700",title:W.email,children:W.email}),a.jsxs("p",{className:"text-xs text-gray-500",children:["To: ",B(W.createdAt)]})]}),a.jsx(be,{children:le(W.role)}),a.jsx(be,{children:Y(W.status)}),a.jsx(be,{className:"text-center",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none justify-end",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!x[W.id],onChange:Q=>se(W,Q.target.checked)}),a.jsx("span",{className:`w-10 h-6 rounded-full ${x[W.id]?"bg-rose-500":"bg-green-500"} relative transition-colors`,"aria-hidden":"true",children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${x[W.id]?"translate-x-4":""}`})}),a.jsx("span",{className:"text-xs text-gray-600",children:x[W.id]?"Blocked":"Active"})]})}),a.jsx(be,{className:"text-center",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>fe(W.id),className:"text-xs",children:[a.jsx(wr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})})]},W.id))})]})}),a.jsx("div",{className:"md:hidden space-y-3",children:z.map(W=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-[0.3em]",children:"Ngi dng"}),a.jsx("h3",{className:"font-semibold text-gray-900 truncate",title:W.fullName,children:W.fullName}),a.jsx("p",{className:"text-sm text-gray-500 truncate",title:W.email,children:W.email})]}),a.jsx($u,{className:"h-5 w-5 text-gray-400"})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[le(W.role),Y(W.status)]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",W.id]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ngy to: ",B(W.createdAt)]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",className:"peer sr-only",checked:!!x[W.id],onChange:Q=>se(W,Q.target.checked)}),a.jsx("span",{className:`w-9 h-5 rounded-full ${x[W.id]?"bg-rose-500":"bg-green-500"} relative transition-colors`,"aria-hidden":"true",children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-4 h-4 rounded-full bg-white shadow transition-transform ${x[W.id]?"translate-x-4":""}`})}),a.jsx("span",{className:"text-xs text-gray-600",children:x[W.id]?" kha":"ang hot ng"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>fe(W.id),className:"text-xs",children:[a.jsx(wr,{className:"h-4 w-4 mr-1.5"}),"Chi tit"]})]})]},W.id))}),H>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",I,"/",H]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.max(1,W-1)),disabled:!ve,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(W=>Math.min(H,W+1)),disabled:!te,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-10 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx($u,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c ngi dng no ph hp"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Th thay i t kha tm kim, b lc hoc ti li danh sch ngi dng."}),a.jsx(ce,{onClick:()=>{w(""),E("all"),T("all"),ke()},children:"Xa b lc v ti li"})]})})]}),a.jsx(Xt,{open:G,onOpenChange:J,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:`text-xl font-semibold ${V?"text-red-600":"text-green-600"}`,children:V?"Xc nhn kha ti khon":"Xc nhn m kha ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:V?"Bn c chc chn mun kha ti khon ca ngi dng ny?":"Bn c chc chn mun m kha ti khon ca ngi dng ny?"}),je&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:je.fullName}),a.jsx("p",{className:"text-xs text-gray-600",children:je.email})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:V?'Ti khon s b chuyn sang trng thi "Banned" v khng th ng nhp.':'Ti khon s c chuyn sang trng thi "Active" v c th ng nhp li.'})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ce,{variant:"outline",onClick:()=>{J(!1),ge(null)},disabled:$,children:"Hy"}),a.jsx(ce,{variant:"outline",onClick:we,disabled:$,className:V?"text-red-600 border-red-600 hover:bg-red-50":"text-green-600 border-green-600 hover:bg-green-50",children:$?V?"ang kha...":"ang m kha...":V?"Xc nhn kha":"Xc nhn m kha"})]})]})]})}),a.jsx(Xt,{open:k,onOpenChange:R,children:a.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit ngi dng"})}),_?a.jsxs("div",{className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Thng tin c bn"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"ID"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 font-mono break-all",children:_.id})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Email"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 break-all",children:_.email})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"H"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.firstName||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Tn"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.lastName||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"S in thoi"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.phoneNumber||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Vai tr"}),a.jsx("div",{className:"mt-1",children:le(e.find(W=>W.id===_.id)?.role||"wholesaler")})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"a ch"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl bg-white p-4 sm:col-span-2",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"a ch"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.address||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"X/Phng"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.communes||""})]}),a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Tnh/Thnh ph"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.province||""})]})]})]}),(_.status!==void 0||_.reputationScore!==void 0)&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Trng thi & Uy tn"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.status!==void 0&&a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Trng thi"}),a.jsxs("div",{className:"mt-1",children:[_.status===0&&a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"}),_.status===1&&a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"}),_.status===2&&a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:"B cm"})]})]}),_.reputationScore!==void 0&&a.jsxs("div",{className:"rounded-2xl bg-white p-4",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"im uy tn"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_.reputationScore})]})]})]}),_.verifications&&_.verifications.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[a.jsx(wr,{className:"h-4 w-4"}),"Ti liu xc minh"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.verifications.map(W=>a.jsxs("div",{className:"rounded-2xl bg-white p-4 border border-slate-200",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-2",children:W.documentType===0?"CCCD mt trc":W.documentType===1?"CCCD mt sau":"Giy php li xe"}),a.jsx("div",{className:"aspect-[16/10] bg-gray-100 rounded-lg overflow-hidden mb-2",children:a.jsx("img",{src:W.url,alt:W.documentType===0?"CCCD mt trc":"CCCD mt sau",className:"w-full h-full object-cover",onError:Q=>{const ne=Q.target;ne.style.display="none";const Ce=ne.parentElement;Ce&&(Ce.innerHTML='<div class="w-full h-full flex items-center justify-center text-xs text-gray-400">Khng th ti hnh nh</div>')}})}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Ti ln: ",B(W.createdAt)]})]},W.id))})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-5",children:[a.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[a.jsx(Aa,{className:"h-4 w-4"}),"Chng ch  duyt"]}),re?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"ang ti chng ch..."})]}):P.length>0?a.jsx("div",{className:"space-y-3",children:P.map(W=>a.jsxs("div",{className:"rounded-2xl bg-white p-4 border border-slate-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-1",children:W.certificationName}),a.jsx("p",{className:"text-xs text-slate-600",children:W.issuingOrganization})]}),q(W.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 mb-0.5",children:"Ngy cp"}),a.jsx("p",{className:"text-slate-900 font-medium",children:B(W.issueDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 mb-0.5",children:"Ngy ht hn"}),a.jsx("p",{className:"text-slate-900 font-medium",children:B(W.expiryDate)})]})]}),W.certificateUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:W.certificateUrl,alt:W.certificationName,className:"w-full max-w-xs rounded-lg border border-slate-200 shadow-sm",onError:Q=>{const ne=Q.target;ne.style.display="none"}})})]},W.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Aa,{className:"h-10 w-10 text-slate-400 mx-auto mb-2"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Cha c chng ch no c duyt"})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c thng tin  hin th"})})]})})]})}function bre(e){const t=e+"CollectionProvider",[n,r]=yg(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:N,children:E}=w,A=Rs.useRef(null),T=Rs.useRef(new Map).current;return a.jsx(s,{scope:N,itemMap:T,collectionRef:A,children:E})};u.displayName=t;const d=e+"CollectionSlot",f=Nm(d),m=Rs.forwardRef((w,N)=>{const{scope:E,children:A}=w,T=o(d,E),_=si(N,T.collectionRef);return a.jsx(f,{ref:_,children:A})});m.displayName=d;const g=e+"CollectionItemSlot",x="data-radix-collection-item",b=Nm(g),j=Rs.forwardRef((w,N)=>{const{scope:E,children:A,...T}=w,_=Rs.useRef(null),O=si(N,_),k=o(g,E);return Rs.useEffect(()=>(k.itemMap.set(_,{ref:_,...T}),()=>void k.itemMap.delete(_))),a.jsx(b,{[x]:"",ref:O,children:A})});j.displayName=g;function S(w){const N=o(e+"CollectionConsumer",w);return Rs.useCallback(()=>{const A=N.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((k,R)=>T.indexOf(k.ref.current)-T.indexOf(R.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:j},S,r]}var jre=p.createContext(void 0);function FM(e){const t=p.useContext(jre);return e||t||"ltr"}var Av="rovingFocusGroup.onEntryFocus",wre={bubbles:!1,cancelable:!0},Od="RovingFocusGroup",[Ky,KM,Nre]=bre(Od),[Sre,GM]=yg(Od,[Nre]),[Ere,Cre]=Sre(Od),VM=p.forwardRef((e,t)=>a.jsx(Ky.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ky.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Are,{...e,ref:t})})}));VM.displayName=Od;var Are=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,b=p.useRef(null),j=si(t,b),S=FM(o),[w,N]=gw({prop:u,defaultProp:d??null,onChange:f,caller:Od}),[E,A]=p.useState(!1),T=rc(m),_=KM(n),O=p.useRef(!1),[k,R]=p.useState(0);return p.useEffect(()=>{const P=b.current;if(P)return P.addEventListener(Av,T),()=>P.removeEventListener(Av,T)},[T]),a.jsx(Ere,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:w,onItemFocus:p.useCallback(P=>N(P),[N]),onItemShiftTab:p.useCallback(()=>A(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>R(P=>P-1),[]),children:a.jsx(Er.div,{tabIndex:E||k===0?-1:0,"data-orientation":r,...x,ref:j,style:{outline:"none",...e.style},onMouseDown:ar(e.onMouseDown,()=>{O.current=!0}),onFocus:ar(e.onFocus,P=>{const F=!O.current;if(P.target===P.currentTarget&&F&&!E){const re=new CustomEvent(Av,wre);if(P.currentTarget.dispatchEvent(re),!re.defaultPrevented){const L=_().filter($=>$.focusable),G=L.find($=>$.active),J=L.find($=>$.id===w),ge=[G,J,...L].filter(Boolean).map($=>$.ref.current);XM(ge,g)}}O.current=!1}),onBlur:ar(e.onBlur,()=>A(!1))})})}),WM="RovingFocusGroupItem",YM=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:u,...d}=e,f=ku(),m=o||f,g=Cre(WM,n),x=g.currentTabStopId===m,b=KM(n),{onFocusableItemAdd:j,onFocusableItemRemove:S,currentTabStopId:w}=g;return p.useEffect(()=>{if(r)return j(),()=>S()},[r,j,S]),a.jsx(Ky.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:a.jsx(Er.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:ar(e.onMouseDown,N=>{r?g.onItemFocus(m):N.preventDefault()}),onFocus:ar(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:ar(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=Rre(N,g.orientation,g.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=b().filter(_=>_.focusable).map(_=>_.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const _=T.indexOf(N.currentTarget);T=g.loop?Ore(T,_+1):T.slice(_+1)}setTimeout(()=>XM(T))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:w!=null}):u})})});YM.displayName=WM;var Tre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _re(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Rre(e,t,n){const r=_re(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tre[r]}function XM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ore(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var kre=VM,Dre=YM,wg="Tabs",[Pre]=yg(wg,[GM]),QM=GM(),[Mre,yw]=Pre(wg),ZM=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:u="horizontal",dir:d,activationMode:f="automatic",...m}=e,g=FM(d),[x,b]=gw({prop:r,onChange:s,defaultProp:o??"",caller:wg});return a.jsx(Mre,{scope:n,baseId:ku(),value:x,onValueChange:b,orientation:u,dir:g,activationMode:f,children:a.jsx(Er.div,{dir:g,"data-orientation":u,...m,ref:t})})});ZM.displayName=wg;var JM="TabsList",e4=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=yw(JM,n),u=QM(n);return a.jsx(kre,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(Er.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});e4.displayName=JM;var t4="TabsTrigger",n4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,u=yw(t4,n),d=QM(n),f=i4(u.baseId,r),m=s4(u.baseId,r),g=r===u.value;return a.jsx(Dre,{asChild:!0,...d,focusable:!s,active:g,children:a.jsx(Er.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:t,onMouseDown:ar(e.onMouseDown,x=>{!s&&x.button===0&&x.ctrlKey===!1?u.onValueChange(r):x.preventDefault()}),onKeyDown:ar(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(r)}),onFocus:ar(e.onFocus,()=>{const x=u.activationMode!=="manual";!g&&!s&&x&&u.onValueChange(r)})})})});n4.displayName=t4;var r4="TabsContent",a4=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...u}=e,d=yw(r4,n),f=i4(d.baseId,r),m=s4(d.baseId,r),g=r===d.value,x=p.useRef(g);return p.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(Rd,{present:s||g,children:({present:b})=>a.jsx(Er.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:b&&o})})});a4.displayName=r4;function i4(e,t){return`${e}-trigger-${t}`}function s4(e,t){return`${e}-content-${t}`}var Ire=ZM,l4=e4,o4=n4,c4=a4;const Ws=Ire,ts=p.forwardRef(({className:e,...t},n)=>a.jsx(l4,{ref:n,className:_t("inline-flex h-11 items-center justify-center rounded-xl bg-gray-100 p-1 text-gray-500 shadow-inner",e),...t}));ts.displayName=l4.displayName;const bt=p.forwardRef(({className:e,...t},n)=>a.jsx(o4,{ref:n,className:_t("inline-flex min-w-[90px] items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200","hover:bg-white/80 hover:text-emerald-600","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2","data-[state=active]:bg-white data-[state=active]:text-emerald-700 data-[state=active]:shadow-md","data-[state=active]:ring-1 data-[state=active]:ring-emerald-200",e),...t}));bt.displayName=o4.displayName;const Mi=p.forwardRef(({className:e,...t},n)=>a.jsx(c4,{ref:n,className:_t("mt-4 outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2",e),...t}));Mi.displayName=c4.displayName;const Tv=({accounts:e,onViewAccount:t,onApproveAccount:n,onRejectAccount:r,isApproving:s,isRejecting:o,formatDate:u,getStatusBadge:d})=>e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(uc,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c ti khon no"}),a.jsx("p",{className:"text-gray-600",children:"Hin ti khng c ti khon no cn xt duyt"})]}):a.jsx("div",{className:"space-y-4",children:e.map(f=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:f.fullName}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(rb,{className:"w-4 h-4"}),a.jsx("span",{children:f.email})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ru,{className:"w-4 h-4"}),a.jsx("span",{children:f.farmName})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"S in thoi:"}),a.jsx("p",{className:"text-gray-600",children:f.phone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Din tch:"}),a.jsx("p",{className:"text-gray-600",children:f.farmSize})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_l,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:u(f.submittedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[d(f.status),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>t(f),className:"h-8 px-3 text-xs",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),f.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(ce,{size:"sm",onClick:()=>n(f),disabled:s||o,className:"bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:[a.jsx(X_,{className:"w-3 h-3 mr-1"}),s?"ang duyt...":"Duyt"]}),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>r(f),disabled:s||o,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 text-xs",children:[a.jsx(ql,{className:"w-3 h-3 mr-1"}),"T chi"]})]})]})]})},f.id))}),Lre=({certifications:e,usersMap:t={},onViewCertification:n,onApproveCertification:r,onRejectCertification:s,isApproving:o,isRejecting:u,formatDate:d,getStatusBadge:f})=>e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Aa,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c chng ch no"}),a.jsx("p",{className:"text-gray-600",children:"Hin ti khng c chng ch no cn xt duyt"})]}):a.jsx("div",{className:"space-y-4",children:e.map(m=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:m.certificationName}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 flex-wrap",children:[t[m.userId]&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(uc,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium text-gray-900",children:`${t[m.userId].firstName} ${t[m.userId].lastName}`.trim()||t[m.userId].email})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Y3,{className:"w-4 h-4"}),a.jsx("span",{children:m.issuingOrganization})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_l,{className:"w-4 h-4"}),a.jsxs("span",{children:["Cp ngy: ",d(m.issueDate)]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ht hn:"}),a.jsx("p",{className:"text-gray-600",children:d(m.expiryDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Ngy np:"}),a.jsx("p",{className:"text-gray-600",children:d(m.createdAt)})]}),m.rejectionReason&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"L do t chi:"}),a.jsx("p",{className:"text-red-600",children:m.rejectionReason})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[f(m.status),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>n(m),className:"h-8 px-3 text-xs",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),m.status===0&&a.jsxs(a.Fragment,{children:[a.jsxs(ce,{size:"sm",onClick:()=>r(m),disabled:o||u,className:"bg-emerald-600 hover:bg-emerald-700 text-white text-xs",children:[a.jsx(X_,{className:"w-3 h-3 mr-1"}),o?"ang duyt...":"Duyt"]}),a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>s(m),disabled:o||u,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 text-xs",children:[a.jsx(ql,{className:"w-3 h-3 mr-1"}),"T chi"]})]})]})]})},m.id))}),Bre=({pendingAccounts:e,approvedAccounts:t,rejectedAccounts:n,pendingCertifications:r,isLoading:s,error:o,onViewAccount:u,onApproveAccount:d,onRejectAccount:f,onViewCertification:m,onApproveCertification:g,onRejectCertification:x,isApproving:b,isRejecting:j,formatDate:S,getStatusBadge:w,getCertificationStatusBadge:N})=>a.jsxs(Ws,{defaultValue:"pending",className:"w-full",children:[a.jsxs(ts,{className:"grid w-full grid-cols-4 mb-6",children:[a.jsxs(bt,{value:"pending",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:["Ti khon (",e.length,")"]}),a.jsxs(bt,{value:"approved",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[" duyt (",t.length,")"]}),a.jsxs(bt,{value:"rejected",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[" t chi (",n.length,")"]}),a.jsxs(bt,{value:"certifications",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:["Chng ch (",r.length,")"]})]}),a.jsx(Mi,{value:"pending",className:"space-y-4",children:a.jsxs(at,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon ch duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",e.length," ti khon ang ch xt duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):a.jsx(Tv,{accounts:e,onViewAccount:u,onApproveAccount:d,onRejectAccount:f,isApproving:b,isRejecting:j,formatDate:S,getStatusBadge:w})]})}),a.jsx(Mi,{value:"approved",className:"space-y-4",children:a.jsxs(at,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon  duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",t.length," ti khon  c duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Q_,{className:"h-16 w-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c ti khon no c duyt"}),a.jsx("p",{className:"text-gray-600",children:"Cc ti khon c duyt s hin th  y"})]}):a.jsx(Tv,{accounts:t,onViewAccount:u,onApproveAccount:()=>{},onRejectAccount:()=>{},isApproving:!1,isRejecting:!1,formatDate:S,getStatusBadge:w})]})}),a.jsx(Mi,{value:"rejected",className:"space-y-4",children:a.jsxs(at,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch ti khon  t chi"}),a.jsxs("p",{className:"text-gray-600",children:["C ",n.length," ti khon  b t chi"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ri,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c ti khon no b t chi"}),a.jsx("p",{className:"text-gray-600",children:"Cc ti khon b t chi s hin th  y"})]}):a.jsx(Tv,{accounts:n,onViewAccount:u,onApproveAccount:()=>{},onRejectAccount:()=>{},isApproving:!1,isRejecting:!1,formatDate:S,getStatusBadge:w})]})}),a.jsx(Mi,{value:"certifications",className:"space-y-4",children:a.jsxs(at,{className:"p-6 border-0 shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch chng ch ch duyt"}),a.jsxs("p",{className:"text-gray-600",children:["C ",r.length," chng ch ang ch xt duyt"]})]}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Aa,{className:"h-16 w-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cha c chng ch no ch duyt"}),a.jsx("p",{className:"text-gray-600",children:"Cc chng ch ch duyt s hin th  y"})]}):a.jsx(Lre,{certifications:r,onViewCertification:m,onApproveCertification:g,onRejectCertification:x,isApproving:b,isRejecting:j,formatDate:S,getStatusBadge:N})]})})]}),$re=({account:e,isOpen:t,onClose:n,formatDate:r})=>{const[s,o]=p.useState([]),[u,d]=p.useState(!1);p.useEffect(()=>{e&&t?(d(!0),Go.getByUserId(e.id).then(m=>{m.isSuccess&&m.data&&o(Array.isArray(m.data)?m.data:[])}).catch(()=>o([])).finally(()=>d(!1))):o([])},[e,t]);const f=m=>{switch(m){case 0:return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(Re,{variant:"outline",children:"Unknown"})}};return e?a.jsx(Xt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{className:"pb-4 border-b border-gray-200",children:a.jsxs(Kt,{className:"text-2xl font-semibold text-gray-900",children:["Chi tit ti khon: ",e.fullName]})}),a.jsxs("div",{className:"space-y-8 py-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(uc,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin c nhn"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"H v tn"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.fullName})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),a.jsx("p",{className:"text-gray-900 break-all",children:e.email})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"S in thoi"}),a.jsx("p",{className:"text-gray-900",children:e.phone})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch"}),a.jsx("p",{className:"text-gray-900 break-words",children:e.address})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Ru,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin nng tri"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tn nng tri"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.farmName})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch nng tri"}),a.jsx("p",{className:"text-gray-900 break-words",children:e.farmAddress})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Din tch"}),a.jsx("p",{className:"text-gray-900",children:e.farmSize})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Loi hnh"}),a.jsx("p",{className:"text-gray-900",children:e.farmType})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(wr,{className:"h-4 w-4 text-emerald-600"})}),"Ti liu xc minh"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.verifications&&e.verifications.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.verifications.map(m=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:m.documentType===0?"CCCD mt trc":m.documentType===1?"CCCD mt sau":"Giy php li xe"}),a.jsxs("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-4 hover:border-emerald-400 transition-colors",children:[a.jsx("div",{className:"aspect-[16/10] bg-gray-100 rounded-lg overflow-hidden mb-3",children:a.jsx("img",{src:m.url,alt:m.documentType===0?"CCCD mt trc":"CCCD mt sau",className:"w-full h-full object-cover rounded-lg",onError:g=>{const x=g.target;x.style.display="none";const b=x.parentElement;b&&(b.innerHTML='<div class="w-full h-full flex items-center justify-center text-xs text-gray-400">Khng th ti hnh nh</div>')}})}),a.jsx("p",{className:"text-xs text-gray-600 text-center",children:m.documentType===0?"Cn cc cng dn - Mt trc":"Cn cc cng dn - Mt sau"}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:["Ti ln: ",r(m.createdAt)]})]})]},m.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cha c ti liu xc minh no"})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(_l,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin np n"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("p",{className:"text-gray-900",children:[a.jsx("span",{className:"font-medium",children:"Ngy np:"})," ",r(e.submittedAt)]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Aa,{className:"h-4 w-4 text-emerald-600"})}),"Chng ch  duyt"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti chng ch..."})]}):s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(m=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:m.certificationName}),a.jsx("p",{className:"text-sm text-gray-600",children:m.issuingOrganization})]}),f(m.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy cp:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:r(m.issueDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy ht hn:"}),a.jsx("p",{className:"text-gray-900 font-medium",children:r(m.expiryDate)})]})]}),m.certificateUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:m.certificateUrl,alt:m.certificationName,className:"w-full max-w-md rounded-lg border border-gray-200 shadow-sm",onError:g=>{const x=g.target;x.style.display="none"}})})]},m.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cha c chng ch no c duyt"})]})})]})]})]})}):null},rr=p.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{ref:n,className:_t("flex min-h-[110px] w-full rounded-2xl border border-transparent bg-white/80 px-4 py-3 text-sm text-gray-900 shadow-[0_12px_28px_rgba(15,118,110,0.08)] transition-all duration-300 placeholder:text-gray-400","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50 focus-visible:border-emerald-500/60 focus-visible:ring-offset-2","hover:border-emerald-200 hover:shadow-[0_16px_38px_rgba(15,118,110,0.12)]","disabled:cursor-not-allowed disabled:bg-gray-50 disabled:opacity-70",e),...t}));rr.displayName="Textarea";const Ure=({account:e,isOpen:t,onClose:n,rejectReason:r,setRejectReason:s,onConfirmReject:o,isRejecting:u})=>{const d=()=>{e&&r.trim()&&o(e.id,r.trim())};return a.jsx(Xt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi ti khon ny? Hnh ng ny khng th hon tc."}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Tn: ",e.fullName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Email: ",e.email]}),e.farmName&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Nng tri: ",e.farmName]})]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi *"}),a.jsx(rr,{id:"rejectReason",placeholder:"Nhp l do t chi ti khon ny...",value:r,onChange:f=>s(f.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:u,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:d,disabled:!r.trim()||u,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:u?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ri,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})})},zre=({account:e,isOpen:t,onClose:n,onConfirmApprove:r,isApproving:s})=>{const o=()=>{e&&r(e.id)};return a.jsx(Xt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt ti khon"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt ti khon ny? Ti khon s c chuyn sang trng thi " duyt" v ngi dng c th s dng ti khon ny.'}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Tn: ",e.fullName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Email: ",e.email]}),e.farmName&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Nng tri: ",e.farmName]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:s,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:o,disabled:s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})})},Hre=({certification:e,user:t,isOpen:n,onClose:r,formatDate:s,getStatusBadge:o})=>e?a.jsx(Xt,{open:n,onOpenChange:r,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{className:"pb-4 border-b border-gray-200",children:a.jsxs(Kt,{className:"text-2xl font-semibold text-gray-900 flex items-center gap-3",children:[a.jsx(Aa,{className:"h-6 w-6 text-emerald-600"}),"Chi tit chng ch: ",e.certificationName]})}),a.jsxs("div",{className:"space-y-8 py-6",children:[t&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(uc,{className:"h-4 w-4 text-blue-600"})}),"Thng tin ngi gi"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"H v tn"}),a.jsx("p",{className:"text-gray-900 font-medium",children:`${t.firstName} ${t.lastName}`.trim()||"Cha c thng tin"})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rb,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900 break-all",children:t.email})]})]}),t.phoneNumber&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"S in thoi"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tR,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900",children:t.phoneNumber})]})]}),t.address&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"a ch"}),a.jsxs("p",{className:"text-gray-900 break-words",children:[t.address,t.communes&&`, ${t.communes}`,t.province&&`, ${t.province}`]})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Bi,{className:"h-4 w-4 text-emerald-600"})}),"Thng tin chng ch"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tn chng ch"}),a.jsx("p",{className:"text-gray-900 font-medium",children:e.certificationName})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:o(e.status)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"T chc cp"}),a.jsx("p",{className:"text-gray-900",children:e.issuingOrganization})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Loi chng ch"}),a.jsxs("p",{className:"text-gray-900",children:["Loi ",e.type]})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy cp"}),a.jsx("p",{className:"text-gray-900",children:s(e.issueDate)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy ht hn"}),a.jsx("p",{className:"text-gray-900",children:s(e.expiryDate)})]}),e.rejectionReason&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"L do t chi"}),a.jsx("p",{className:"text-red-600",children:e.rejectionReason})]}),e.reviewedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Ngy xt duyt"}),a.jsx("p",{className:"text-gray-900",children:s(e.reviewedAt)})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Aa,{className:"h-4 w-4 text-emerald-600"})}),"Hnh nh chng ch"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"max-w-2xl w-full",children:a.jsx("img",{src:e.certificateUrl,alt:e.certificationName,className:"w-full h-auto rounded-lg border border-gray-200 shadow-sm",onError:u=>{const d=u.target;d.src="/placeholder-certificate.jpg",d.alt="Khng th ti hnh nh"}})})})})]})]})]})}):null,qre=({certification:e,isOpen:t,onClose:n,rejectReason:r,setRejectReason:s,onConfirmReject:o,isRejecting:u})=>{const d=()=>{e&&r.trim()&&o(e.id,r.trim())};return a.jsx(Xt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi chng ch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi chng ch ny? Hnh ng ny khng th hon tc."}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Chng ch: ",e.certificationName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["T chc cp: ",e.issuingOrganization]})]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi *"}),a.jsx(rr,{id:"rejectReason",placeholder:"Nhp l do t chi chng ch ny...",value:r,onChange:f=>s(f.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:u,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:d,disabled:!r.trim()||u,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:u?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ri,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})})},Fre=({certification:e,isOpen:t,onClose:n,onConfirmApprove:r,isApproving:s})=>{const o=()=>{e&&r(e.id)};return a.jsx(Xt,{open:t,onOpenChange:n,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt chng ch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt chng ch ny? Chng ch s c chuyn sang trng thi " duyt" v ngi dng c th s dng chng ch ny.'}),e&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Chng ch: ",e.certificationName]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["T chc cp: ",e.issuingOrganization]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:n,disabled:s,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:o,disabled:s,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})})},_v=e=>new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Kre=e=>{switch(e){case"pending":return{text:"Ch duyt",className:"text-yellow-600 border-yellow-600"};case"approved":return{text:" duyt",className:"text-green-600 border-green-600"};case"rejected":return{text:" t chi",className:"text-red-600 border-red-600"};default:return{text:"Unknown",className:""}}},Gre=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(null),[s,o]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState(!1),[g,x]=p.useState(!1),[b,j]=p.useState(!1),[S,w]=p.useState(!1),[N,E]=p.useState([]),[A,T]=p.useState([]),[_,O]=p.useState([]),[k,R]=p.useState([]),[P,F]=p.useState(null),[re,L]=p.useState(!1),[G,J]=p.useState(!1),[je,ge]=p.useState(!1),[$,U]=p.useState(""),[V,pe]=p.useState(!1),[ke,B]=p.useState(null),[K,le]=p.useState({}),{toast:Y}=$n(),se=p.useCallback((Pe,Le)=>{let Me="Cha c thng tin",Ze="Cha c thng tin",lt="Cha c thng tin",It="Cha c thng tin";Pe.role==="farmer"&&Le[Pe.id]&&(Me=Le[Pe.id].name||"Cha c thng tin",Ze=`${Pe.address}, ${Pe.communes}, ${Pe.province}`,lt="Cha c thng tin",It="Cha c thng tin");const ln={0:"pending",1:"approved",2:"rejected"};return{id:Pe.id,email:Pe.email,fullName:`${Pe.firstName} ${Pe.lastName}`.trim(),phone:Pe.phoneNumber||"Cha c",address:`${Pe.address}, ${Pe.communes}, ${Pe.province}`,farmName:Me,farmAddress:Ze,farmSize:lt,farmType:It,submittedAt:Pe.createdAt,status:ln[Pe.status??0]||"pending",documents:[],verifications:Pe.verifications||[]}},[]),we=p.useCallback(async({silent:Pe=!1}={})=>{pe(!0),B(null);try{const[Le,Me]=await Promise.all([jr.list(),Ot.getFarms().catch(()=>({isSuccess:!1,data:[]}))]);if(Le.isSuccess){const Ze=Le.data,lt=Array.isArray(Ze)?Ze:Ze?.items??[],It={};Me.isSuccess&&Me.data&&Array.isArray(Me.data)&&Me.data.forEach(Nt=>{Nt.userId&&!It[Nt.userId]&&(It[Nt.userId]={name:Nt.name})});const ln=lt.map(Nt=>se(Nt,It)),Yn=ln.filter(Nt=>Nt.status==="pending"),Cn=ln.filter(Nt=>Nt.status==="approved"),Xn=ln.filter(Nt=>Nt.status==="rejected");E(Yn),T(Cn),O(Xn),Pe||Y({title:ie.SUCCESS,description:Ai.FETCH_SUCCESS})}else{const Ze=Le.message||Ai.FETCH_ERROR;B(Ze),Pe||Y({title:ie.ERROR,description:Ze,variant:"destructive"})}}catch(Le){const Me=Le instanceof Error?Le.message:Ai.FETCH_ERROR;B(Me),console.error("Li khi ti danh sch ti khon:",Le),Pe||Y({title:ie.ERROR,description:Me,variant:"destructive"})}finally{pe(!1)}},[se,Y]),fe=p.useCallback(async({silent:Pe=!1}={})=>{pe(!0),B(null);try{const Le=await Go.getPending();if(Le.isSuccess){const Me=Array.isArray(Le.data)?Le.data:[];if(R(Me),Me.length>0)try{const Ze=[...new Set(Me.map(It=>It.userId))],lt=await jr.list();if(lt.isSuccess){const It=lt.data,ln=Array.isArray(It)?It:It?.items??[],Yn={};ln.forEach(Cn=>{Ze.includes(Cn.id)&&(Yn[Cn.id]=Cn)}),le(Cn=>({...Cn,...Yn}))}}catch(Ze){console.error("Li khi ti thng tin ngi dng:",Ze)}Pe||Y({title:ie.SUCCESS,description:Ti.FETCH_SUCCESS})}else{const Me=Le.message||Ti.FETCH_ERROR;B(Me),Pe||Y({title:ie.ERROR,description:Me,variant:"destructive"})}}catch(Le){const Me=Le instanceof Error?Le.message:Ti.FETCH_ERROR;B(Me),console.error("Li khi ti danh sch chng ch:",Le),Pe||Y({title:ie.ERROR,description:Me,variant:"destructive"})}finally{pe(!1)}},[Y]);p.useEffect(()=>{we({silent:!0}),fe({silent:!0})},[we,fe]);const q=Pe=>{r(Pe),x(!0)},H=async Pe=>{j(!0);try{const Le=await jr.updateStatus(Pe,{status:1,reason:"Ti khon  c duyt bi qun tr vin"});if(Le.isSuccess)Y({title:ie.SUCCESS,description:Ai.APPROVE_SUCCESS}),x(!1),r(null),await we({silent:!0});else{const Me=Le.message||Ai.APPROVE_ERROR;B(Me),Y({title:ie.ERROR,description:Me,variant:"destructive"})}}catch(Le){console.error("Error approving account:",Le);const Me=Le instanceof Error?Le.message:Ai.APPROVE_ERROR;B(Me),Y({title:ie.ERROR,description:Me,variant:"destructive"})}finally{j(!1)}},I=async(Pe,Le)=>{w(!0);try{const Me=await jr.updateStatus(Pe,{status:2,reason:Le||"Ti khon b t chi bi qun tr vin"});if(Me.isSuccess)Y({title:ie.SUCCESS,description:Ai.REJECT_SUCCESS}),m(!1),d(""),r(null),await we({silent:!0});else{const Ze=Me.message||Ai.REJECT_ERROR;B(Ze),Y({title:ie.ERROR,description:Ze,variant:"destructive"})}}catch(Me){console.error("Error rejecting account:",Me);const Ze=Me instanceof Error?Me.message:Ai.REJECT_ERROR;B(Ze),Y({title:ie.ERROR,description:Ze,variant:"destructive"})}finally{w(!1)}},ee=Pe=>{t(Pe),o(!0)},z=Pe=>{r(Pe),m(!0)},ve=()=>{t(null),o(!1)},te=()=>{m(!1),d(""),r(null)},W=Pe=>{F(Pe),ge(!0)},Q=async Pe=>{j(!0);try{const Le=await Go.approve(Pe,{status:1});if(Le.isSuccess)Y({title:ie.SUCCESS,description:Ti.APPROVE_SUCCESS}),ge(!1),F(null),await fe({silent:!0});else{const Me=Le.message||Ti.APPROVE_ERROR;B(Me),Y({title:ie.ERROR,description:Me,variant:"destructive"})}}catch(Le){console.error("Error approving certification:",Le);const Me=Le instanceof Error?Le.message:Ti.APPROVE_ERROR;B(Me),Y({title:ie.ERROR,description:Me,variant:"destructive"})}finally{j(!1)}},ne=async(Pe,Le)=>{w(!0);try{const Me=await Go.approve(Pe,{status:2,rejectionReason:Le});if(Me.isSuccess)Y({title:ie.SUCCESS,description:Ti.REJECT_SUCCESS}),J(!1),U(""),await fe({silent:!0});else{const Ze=Me.message||Ti.REJECT_ERROR;B(Ze),Y({title:ie.ERROR,description:Ze,variant:"destructive"})}}catch(Me){console.error("Error rejecting certification:",Me);const Ze=Me instanceof Error?Me.message:Ti.REJECT_ERROR;B(Ze),Y({title:ie.ERROR,description:Ze,variant:"destructive"})}finally{w(!1)}},Ce=Pe=>{F(Pe),L(!0)},Fe=Pe=>{F(Pe),J(!0)},Oe=()=>{F(null),L(!1)},Ie=()=>{J(!1),U("")},Xe=Pe=>{const Le=Kre(Pe);return a.jsx(Re,{variant:"outline",className:Le.className,children:Le.text})},it=Pe=>{switch(Pe){case 0:return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch duyt"});case 1:return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:" duyt"});case 2:return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:" t chi"});case 3:return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Ht hn"});default:return a.jsx(Re,{variant:"outline",children:"Unknown"})}};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Qun l xt duyt ti khon"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Duyt v qun l cc ti khon nng dn ang ch xt duyt"})]}),a.jsx(Bre,{pendingAccounts:N,approvedAccounts:A,rejectedAccounts:_,pendingCertifications:k,isLoading:V,error:ke,onViewAccount:ee,onApproveAccount:q,onRejectAccount:z,onViewCertification:Ce,onApproveCertification:W,onRejectCertification:Fe,isApproving:b,isRejecting:S,formatDate:_v,getStatusBadge:Xe,getCertificationStatusBadge:it}),a.jsx($re,{account:e,isOpen:s,onClose:ve,formatDate:_v}),a.jsx(zre,{account:n,isOpen:g,onClose:()=>{x(!1),r(null)},onConfirmApprove:H,isApproving:b}),a.jsx(Ure,{account:n,isOpen:f,onClose:te,rejectReason:u,setRejectReason:d,onConfirmReject:I,isRejecting:S}),a.jsx(Hre,{certification:P,user:P?K[P.userId]:null,isOpen:re,onClose:Oe,formatDate:_v,getStatusBadge:it}),a.jsx(qre,{certification:P,isOpen:G,onClose:Ie,rejectReason:$,setRejectReason:U,onConfirmReject:ne,isRejecting:S}),a.jsx(Fre,{certification:P,isOpen:je,onClose:()=>{ge(!1),F(null)},onConfirmApprove:Q,isApproving:b})]})};let zo=null;const Vre=300*1e3;function Wre(){const e=mr(),[t,n]=p.useState([]),[r,s]=p.useState(!1),[o,u]=p.useState({}),[d,f]=p.useState(!1),[m,g]=p.useState(""),x=10,[b,j]=p.useState(1),[S,w]=p.useState(null),{toast:N}=$n(),E=L=>{e(`${et.ADMIN_CROPS}?farmId=${L}`)},A=p.useCallback(async L=>{f(!0);try{const J=[];for(let je=0;je<L.length;je+=5){const ge=L.slice(je,je+5),$=await Promise.all(ge.map(async V=>{try{const pe=await Ot.getCropsByFarmId(V.id),ke=pe.isSuccess&&Array.isArray(pe.data)?pe.data.length:0;return[V.id,ke]}catch{return[V.id,0]}}));J.push(...$.map(([V,pe])=>[V,pe]));const U=Object.fromEntries(J);u(V=>({...V,...U}))}}catch(G){console.error("Li khi ly s lng crop cho cc nng tri:",G),N({title:ie.INFO,description:yl.CROP_COUNT_ERROR})}finally{f(!1)}},[N]),T=p.useCallback(async({silent:L=!1}={})=>{s(!0),w(null);try{const G=await Ot.getFarms();if(G.isSuccess&&G.data){let J={};const je=Date.now();if(zo&&je-zo.timestamp<Vre)J=zo.data;else try{const $=await jr.list();if($.isSuccess){const U=$.data,V=Array.isArray(U)?U:U?.items??[];J=Object.fromEntries(V.map(pe=>[pe.id,pe])),zo={data:J,timestamp:je}}}catch($){console.error("Li khi ly thng tin ngi dng:",$),zo&&(J=zo.data)}const ge=G.data.map($=>{const U=J[$.userId],V=U?`${U.firstName||""} ${U.lastName||""}`.trim()||U.email:"Cha xc nh",pe=U?.address?`${U.address}${U.communes?`, ${U.communes}`:""}${U.province?`, ${U.province}`:""}`.trim():"Cha cp nht";return{id:$.id,name:$.name,owner:V,location:pe||"Cha cp nht",size:"Cha cp nht",type:"Cha cp nht",status:$.isActive?"active":"inactive",createdAt:$.createdAt,imageUrl:$.farmImage}});n(ge),A(ge),L||N({title:ie.SUCCESS,description:yl.FETCH_SUCCESS})}else{const J=G.message||yl.FETCH_ERROR;w(J),N({title:ie.ERROR,description:J,variant:"destructive"})}}catch(G){const J=G instanceof Error?G.message:yl.FETCH_ERROR;w(J),N({title:ie.ERROR,description:J,variant:"destructive"})}finally{s(!1)}},[N]);p.useEffect(()=>{T({silent:!0})},[T]);const _=p.useMemo(()=>{const L=m.trim().toLowerCase();return t.filter(G=>!L||G.name.toLowerCase().includes(L)||G.owner.toLowerCase().includes(L)||G.location.toLowerCase().includes(L))},[t,m]);p.useEffect(()=>{j(1)},[m]);const O=L=>new Date(L).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),k=L=>L==="active"?a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Hot ng"}):a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng hot ng"}),R=Math.max(1,Math.ceil(_.length/x)),F=(Math.min(b,R)-1)*x,re=_.slice(F,F+x);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l nng tri"}),a.jsx("p",{className:"text-base text-gray-600",children:"Danh sch nng tri ca ngi dng"})]}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch nng tri"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[r?"ang ti...":`Hin th ${_.length} / ${t.length} nng tri`,S&&a.jsxs("span",{className:"text-red-600",children:["  ",S]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:m,onChange:L=>g(L.target.value),placeholder:"Tm theo tn, ch s hu...",className:"pl-9"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>T(),disabled:r,children:[a.jsx(ti,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:r?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left w-[18%]",children:"Tn nng tri"}),a.jsx(xe,{className:"text-left w-[15%]",children:"Ch s hu"}),a.jsx(xe,{className:"text-left w-[22%]",children:"a im"}),a.jsx(xe,{className:"text-left w-[8%]",children:"Din tch"}),a.jsx(xe,{className:"text-left w-[9%]",children:"Trng thi"}),a.jsx(xe,{className:"text-left w-[10%]",children:"Ngy to"}),a.jsx(xe,{className:"text-right w-[8%]",children:"L t"}),a.jsx(xe,{className:"text-right w-[10%]",children:"Thao tc"})]})}),a.jsx(sn,{children:[...Array(5)].map((L,G)=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"w-[18%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[15%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[22%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[8%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[9%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(be,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"text-right w-[8%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-12 ml-auto"})}),a.jsx(be,{className:"text-right w-[10%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 ml-auto"})})]},G))})]}):_.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left w-[18%]",children:"Tn nng tri"}),a.jsx(xe,{className:"text-left w-[15%]",children:"Ch s hu"}),a.jsx(xe,{className:"text-left w-[22%]",children:"a im"}),a.jsx(xe,{className:"text-left w-[9%]",children:"Trng thi"}),a.jsx(xe,{className:"text-left w-[10%]",children:"Ngy to"}),a.jsx(xe,{className:"text-right w-[8%]",children:"L t"}),a.jsx(xe,{className:"text-right w-[8%]",children:"Thao tc"})]})}),a.jsx(sn,{children:re.map(L=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"font-medium min-h-[48px] w-[18%]",children:a.jsx("button",{onClick:()=>e(et.ADMIN_FARM_PROFILE.replace(":farmId",L.id)),className:"text-left truncate max-w-[240px] text-blue-600 hover:text-blue-700 hover:underline",title:L.name,children:L.name})}),a.jsx(be,{className:"min-h-[48px] w-[15%]",children:a.jsx("div",{className:"truncate max-w-[200px]",title:L.owner,children:L.owner})}),a.jsx(be,{className:"min-h-[48px] w-[22%]",children:a.jsx("div",{className:"truncate max-w-[280px]",title:L.location,children:L.location})}),a.jsx(be,{className:"min-h-[48px] w-[9%]",children:k(L.status)}),a.jsx(be,{className:"text-sm min-h-[48px] w-[10%]",children:O(L.createdAt)}),a.jsxs(be,{className:"text-sm text-right min-h-[48px] w-[8%]",children:[o[L.id]??""," l"]}),a.jsx(be,{className:"text-right min-h-[48px] w-[10%]",children:a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>E(L.id),children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Xem v trng"]})})]},L.id))})]}),R>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",b,"/",R]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.max(1,L-1)),disabled:b<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.min(R,L+1)),disabled:b>=R,children:"Sau"})]})]})]}),a.jsxs("div",{className:"lg:hidden space-y-4",children:[re.map(L=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[L.imageUrl&&a.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-full h-36 object-cover rounded mb-2"}),a.jsx("button",{onClick:()=>e(et.ADMIN_FARM_PROFILE.replace(":farmId",L.id)),className:"font-medium text-gray-900 truncate text-left text-blue-600 hover:text-blue-700 hover:underline",title:L.name,children:L.name}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",title:L.owner,children:["Ch s hu: ",L.owner]})]}),a.jsx("div",{className:"ml-2",children:k(L.status)})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{className:"truncate",title:L.location,children:[a.jsx("span",{className:"font-medium",children:"a im:"})," ",L.location]}),a.jsxs("div",{className:"flex gap-4 text-xs",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:"Din tch:"})," ",L.size]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",L.type]})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Ngy to:"})," ",O(L.createdAt)]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"S crop:"})," ",o[L.id]??""]}),a.jsx("div",{className:"pt-2",children:a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>E(L.id),children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Xem v trng"]})})]})]})},L.id)),R>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",b,"/",R]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.max(1,L-1)),disabled:b<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>j(L=>Math.min(R,L+1)),disabled:b>=R,children:"Sau"})]})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(eR,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m?"Khng tm thy nng tri":"Cha c nng tri no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:m?"Th tm kim vi t kha khc":"Hin ti cha c nng tri no trong h thng"}),m&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>g(""),children:"Xa b lc"})]})})]})]})}function Rv(e){return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function Ri(e){return new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}function Yre(e){switch(e){case"Draft":return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Bn nhp"});case"Pending":return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"i xt duyt"});case"Rejected":return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:"B t chi"});case"Approved":return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Chp nhn"});case"OnGoing":return a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:"ang din ra"});case"Completed":return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Hon thnh"});case"NoWinner":return a.jsx(Re,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Khng ngi chin thng"});case"Cancelled":return a.jsx(Re,{variant:"outline",className:"text-rose-600 border-rose-600",children:"Hy"});default:return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng xc nh"})}}function Xre(){const{farmId:e}=oc(),t=mr(),{toast:n}=$n(),[r,s]=p.useState(null),[o,u]=p.useState([]),[d,f]=p.useState([]),[m,g]=p.useState(!0),[x,b]=p.useState(new Map),[j,S]=p.useState(null),[w,N]=p.useState(!1);return p.useEffect(()=>{(async()=>{if(e)try{g(!0);const A=await Ot.getFarms();if(A.isSuccess&&A.data){const T=A.data.find(_=>_.id===e);if(T){s(T);const _=await Ot.getCropsByFarmId(e);if(_.isSuccess&&_.data){const R=[];for(const P of _.data){const F=await Ot.getHarvestsByCropId(P.id);let re=F.isSuccess&&F.data?F.data:[],L;try{const ge=await Ot.getCurrentHarvestByCropId(P.id);ge.isSuccess&&ge.data&&(L=ge.data)}catch{console.log(`Crop ${P.id} khng c current harvest`)}const G=[],J=new Map;for(const ge of re)try{const $=await Ot.getHarvestGradeDetailsByHarvestId(ge.id),U=$.isSuccess&&$.data?$.data.map(V=>({id:V.id,grade:V.grade?.toString(),quantity:V.quantity,unit:V.unit})):[];try{const V=await Ot.getHarvestImagesByHarvestId(ge.id);V.isSuccess&&V.data&&J.set(ge.id,V.data)}catch(V){console.error(`Li ly images cho harvest ${ge.id}:`,V)}G.push({...ge,harvestGradeDetailDTOs:U})}catch($){console.error(`Li ly grade detail cho harvest ${ge.id}:`,$),G.push(ge)}b(ge=>{const $=new Map(ge);return J.forEach((U,V)=>{$.set(V,U)}),$});const je=G.sort((ge,$)=>{if(L){if(ge.id===L.id)return-1;if($.id===L.id)return 1}return new Date($.createdAt).getTime()-new Date(ge.createdAt).getTime()});R.push({...P,harvests:je,currentHarvest:L})}u(R)}const O=["Pending","Approved","Rejected","OnGoing","Completed","NoWinner","Cancelled","Draft"],k=[];for(const R of O){const P=await tt.getEnglishAuctions(R,1,1e3);if(P.isSuccess&&P.data){const re=(P.data.items||[]).filter(L=>L.farmerId===T.userId);for(const L of re)try{const G=await nc.getReportsByAuctionId(L.id),J=G.isSuccess&&G.data?G.data.items:[];k.push({...L,reports:J})}catch(G){console.error(`Li ly reports cho auction ${L.id}:`,G),k.push({...L,reports:[]})}}}k.sort((R,P)=>new Date(P.createdAt).getTime()-new Date(R.createdAt).getTime()),f(k)}else n({title:ie.ERROR,description:"Khng tm thy nng tri",variant:"destructive"}),t(et.ADMIN_FARMS)}}catch(A){const T=A instanceof Error?A.message:" xy ra li khi ti d liu";n({title:ie.ERROR,description:T,variant:"destructive"})}finally{g(!1)}})()},[e,t,n]),m?a.jsx("div",{className:"mx-auto max-w-[1800px] p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(ce,{variant:"outline",onClick:()=>t(et.ADMIN_FARMS),className:"mb-4",children:[a.jsx(cc,{className:"w-4 h-4 mr-2"}),"Quay li"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"H S Nng Tri"})]}),a.jsx(at,{className:"mb-6 p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[r.farmImage&&a.jsx("img",{src:r.farmImage,alt:r.name,className:"w-32 h-32 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(eR,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.name}),a.jsx(Re,{variant:"outline",className:r.isActive?"text-green-600 border-green-600":"text-gray-600 border-gray-600",children:r.isActive?"Hot ng":"Khng hot ng"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(uc,{className:"w-4 h-4"}),a.jsxs("span",{children:["User ID: ",r.userId]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(_l,{className:"w-4 h-4"}),a.jsxs("span",{children:["Ngy to: ",Ri(r.createdAt)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(_l,{className:"w-4 h-4"}),a.jsxs("span",{children:["Cp nht: ",r.updatedAt?Ri(r.updatedAt):"Cha cp nht"]})]})]}),(()=>{const E=d.filter(T=>T.status==="Completed"&&(T.winningPrice||T.currentPrice)),A=E.reduce((T,_)=>T+(_.winningPrice??_.currentPrice??0),0);return a.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Z_,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"font-semibold text-gray-900",children:"Tng doanh thu t u gi"})]}),a.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:st(A)}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["T ",E.length," phin u gi  hon tt"]})]})})()]})]})}),a.jsxs(at,{className:"mb-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(Lu,{className:"w-6 h-6 text-emerald-600"}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["L Trng (",o.length,")"]})]}),o.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c l trng no"}):a.jsx("div",{className:"space-y-6",children:o.map(E=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["L trng #",E.id.slice(0,8)]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Din tch:"})," ",E.area," m"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",E.custardAppleType]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"S cy:"})," ",E.treeCount]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian canh tc:"})," ",E.farmingDuration," ngy"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Ngy bt u:"})," ",Ri(E.startPlantingDate)]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"D kin thu hoch:"})," ",Ri(E.nearestHarvestDate)]})]}),E.note&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",E.note]})]})}),a.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(nR,{className:"w-5 h-5 text-blue-600"}),a.jsxs("h4",{className:"font-semibold text-gray-900",children:["V Thu Hoch (",E.harvests.length,")"]}),E.currentHarvest&&a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"C v hin ti"})]}),E.harvests.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c v thu hoch no"}):a.jsx("div",{className:"space-y-3",children:E.harvests.map(A=>{const T=E.currentHarvest?.id===A.id;return a.jsxs("div",{className:`p-4 rounded-lg border ${T?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cf,{className:`w-4 h-4 ${T?"text-green-600":"text-gray-600"}`}),a.jsx("span",{className:"font-semibold text-sm",children:T?"V hin ti":"V trc"}),T&&a.jsx(Re,{variant:"outline",className:"text-xs text-green-600 border-green-600",children:"ang hot ng"})]}),a.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:[A.id.slice(0,8),"..."]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm text-gray-700 mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy bt u:"}),a.jsx("span",{className:"ml-2",children:Ri(A.startDate)})]}),A.harvestDate&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy thu hoch:"}),a.jsx("span",{className:"ml-2",children:Ri(A.harvestDate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Tng s lng:"}),a.jsxs("span",{className:"ml-2 font-semibold",children:[A.totalQuantity," ",A.unit]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Gi bn:"}),a.jsx("span",{className:"ml-2 font-semibold text-green-600",children:st(A.salePrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Ngy to:"}),a.jsx("span",{className:"ml-2 text-xs",children:Rv(A.createdAt)})]}),A.updatedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Cp nht:"}),a.jsx("span",{className:"ml-2 text-xs",children:Rv(A.updatedAt)})]})]}),A.note&&a.jsxs("div",{className:"mb-3 p-2 bg-white rounded border border-gray-200",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Ghi ch:"}),a.jsx("p",{className:"text-sm text-gray-700 mt-1",children:A.note})]}),A.harvestGradeDetailDTOs&&A.harvestGradeDetailDTOs.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Chi tit phn loi:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:A.harvestGradeDetailDTOs.map((_,O)=>a.jsx("div",{className:"p-2 bg-white rounded border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Cp ",_.grade]}),a.jsxs(Re,{variant:"outline",className:"text-xs",children:[_.quantity," ",_.unit]})]})},O))})]}),(()=>{const _=x.get(A.id)||[];return _.length===0?null:a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-base font-semibold text-gray-900",children:["Hnh nh (",_.length,"):"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{S(A),N(!0)},className:"text-sm",children:[a.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Xem tt c"]})]}),a.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[_.slice(0,3).map(O=>a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("img",{src:O.imageUrl,alt:`Harvest ${A.id}`,className:"w-64 h-48 object-cover rounded-xl border-2 border-gray-200 hover:border-emerald-400 hover:shadow-xl transition-all cursor-pointer",onClick:()=>{S(A),N(!0)}}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-xl"})]},O.id)),_.length>3&&a.jsxs("div",{className:"w-64 h-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:border-emerald-400 hover:bg-gray-50 transition-all flex-shrink-0",onClick:()=>{S(A),N(!0)},children:[a.jsx(Ef,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsxs("span",{className:"text-base font-semibold text-gray-600",children:["+",_.length-3]}),a.jsx("span",{className:"text-sm text-gray-500",children:"nh khc"})]})]})]})})()]},A.id)})})]})]},E.id))})]}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nb,{className:"w-6 h-6 text-emerald-600"}),a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Phin u Gi (",d.length,")"]})]}),(()=>{const A=d.filter(T=>T.status==="Completed"&&(T.winningPrice||T.currentPrice)).reduce((T,_)=>T+(_.winningPrice??_.currentPrice??0),0);return A>0?a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tng doanh thu"}),a.jsx("p",{className:"text-xl font-bold text-emerald-600",children:st(A)})]}):null})()]}),d.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c phin u gi no"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(E=>a.jsx(at,{className:"p-4 hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-emerald-300",onClick:()=>t(et.ADMIN_AUCTIONS_BY_ID.replace(":id",E.id)),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate mb-1",children:E.sessionCode}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:E.note||"Khng c ghi ch"})]}),Yre(E.status)]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi khi im"}),a.jsx("span",{className:"text-sm font-bold text-blue-700",children:st(E.startingPrice)})]}),E.currentPrice&&a.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi hin ti"}),a.jsx("span",{className:"text-sm font-bold text-green-700",children:st(E.currentPrice)})]}),E.winningPrice&&a.jsxs("div",{className:"flex items-center justify-between p-2 bg-amber-50 rounded",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Gi thng"}),a.jsx("span",{className:"text-sm font-bold text-amber-700",children:st(E.winningPrice)})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ngy bt u:"}),a.jsx("span",{className:"font-medium",children:Ri(E.publishDate)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ngy kt thc:"}),a.jsx("span",{className:"font-medium",children:Ri(E.endDate)})]}),E.reports.length>0&&a.jsxs("div",{className:"flex items-center gap-1 pt-1",children:[a.jsx(J_,{className:"w-3 h-3 text-orange-600"}),a.jsxs("span",{className:"text-orange-600 font-medium",children:[E.reports.length," bo co"]})]})]}),a.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[a.jsxs(ce,{size:"sm",variant:"outline",onClick:A=>{A.stopPropagation(),t(et.ADMIN_AUCTIONS_BY_ID.replace(":id",E.id))},className:"text-xs",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),"Xem chi tit"]}),E.status==="Completed"&&(E.winningPrice||E.currentPrice)&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Doanh thu"}),a.jsx("p",{className:"text-sm font-bold text-emerald-600",children:st(E.winningPrice??E.currentPrice??0)})]})]})]})},E.id))})]}),a.jsx(Xt,{open:w,onOpenChange:N,children:a.jsxs(Ft,{className:"max-w-6xl w-full max-h-[90vh] overflow-y-auto p-6",children:[a.jsx(Qt,{className:"mb-4 pb-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{className:"text-lg font-semibold text-gray-900",children:["Hnh nh thu hoch",j&&a.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(Ngy bt u: ",Ri(j.startDate),")"]})]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>N(!1),className:"h-8 w-8 p-0 hover:bg-gray-100",children:a.jsx(ql,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"mt-4",children:j?(()=>{const E=x.get(j.id)||[];return E.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((A,T)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden rounded-lg border border-gray-200 bg-gray-50 hover:border-emerald-400 transition-all shadow-sm hover:shadow-lg",children:a.jsx("img",{src:A.imageUrl,alt:`Harvest image ${T+1}`,className:"w-full h-full object-contain p-2"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-lg pointer-events-none"}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:Rv(A.createdAt)})})]},A.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ef,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c hnh nh no cho v thu hoch ny."})]})})():a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti..."})]})})]})})]}):a.jsx("div",{className:"mx-auto max-w-[1800px] p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy nng tri"})})})}function Qre(){const[e,t]=A3(),[n,r]=p.useState([]),[s,o]=p.useState([]),[u,d]=p.useState(!1),[f,m]=p.useState(null),[g,x]=p.useState(""),b=10,[j,S]=p.useState(1),[w,N]=p.useState(null),[E,A]=p.useState([]),[T,_]=p.useState(!1),[O,k]=p.useState(!1),[R,P]=p.useState(null),[F,re]=p.useState(null),[L,G]=p.useState(null),{toast:J}=$n(),je=p.useCallback(async({silent:q=!1}={})=>{P(null);try{const H=await Ot.getFarms();if(H.isSuccess&&H.data){const I=H.data.map(ee=>({id:ee.id,name:ee.name,owner:"Cha cp nht",location:"Cha cp nht",size:"Cha cp nht",type:"Cha cp nht",status:ee.isActive?"active":"inactive",createdAt:ee.createdAt,imageUrl:ee.farmImage}));r(I),q||J({title:ie.SUCCESS,description:yl.FETCH_SUCCESS})}else{const I=H.message||yl.FETCH_ERROR;P(I),J({title:ie.ERROR,description:I,variant:"destructive"})}}catch(H){const I=H instanceof Error?H.message:yl.FETCH_ERROR;P(I),J({title:ie.ERROR,description:I,variant:"destructive"})}},[J]),ge=p.useCallback(async(q,{silent:H=!1}={})=>{d(!0),re(null);try{const I=q?n.filter(z=>z.id===q):n;if(I.length===0){o([]),H||J({title:ie.INFO,description:Vh.NO_FARM_SELECTED});return}const ee=[];for(const z of I)try{const ve=await Ot.getCropsByFarmId(z.id);if(ve.isSuccess&&ve.data){const te=ve.data.map(W=>({id:W.id,name:`${W.custardAppleType} (${W.treeCount} cy)`,type:W.custardAppleType,area:`${W.area}`,plantedAt:W.startPlantingDate,expectedHarvestAt:W.nearestHarvestDate,status:"growing",description:W.note||void 0,treeCount:W.treeCount,farmingDuration:W.farmingDuration,farmId:z.id,farmName:z.name}));ee.push(...te)}}catch(ve){console.error(`Li khi ti cy trng ca nng tri ${z.name}:`,ve),J({title:ie.INFO,description:`${Vh.PARTIAL_ERROR} (${z.name})`})}o(ee),H||J({title:ie.SUCCESS,description:Vh.FETCH_SUCCESS})}catch(I){const ee=I instanceof Error?I.message:Vh.FETCH_ERROR;re(ee),J({title:ie.ERROR,description:ee,variant:"destructive"})}finally{d(!1)}},[n,J]);p.useEffect(()=>{je({silent:!0})},[je]),p.useEffect(()=>{if(n.length>0){const q=e.get("farmId");q&&(n.some(I=>I.id===q)?m(q):t({}))}},[n,e,t]),p.useEffect(()=>{n.length>0&&ge(f||void 0,{silent:!0})},[n,f,ge]);const $=q=>new Date(q).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),U=q=>q==="growing"?a.jsx(Re,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:"ang sinh trng"}):q==="harvested"?a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:" thu hoch"}):q==="paused"?a.jsx(Re,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Tm dng"}):null,V=q=>{m(q),S(1),t(q?{farmId:q}:{})},pe=async q=>{N(q),k(!0),_(!0),G(null);try{const H=await Ot.getHarvestsByCropId(q.id);H.isSuccess&&H.data?(A(H.data),J({title:ie.SUCCESS,description:zx.FETCH_SUCCESS})):(A([]),J({title:ie.INFO,description:zx.FETCH_ERROR}))}catch(H){const I=H instanceof Error?H.message:zx.FETCH_ERROR;console.error("Li khi ti danh sch thu hoch:",H),A([]),G(I),J({title:ie.ERROR,description:I,variant:"destructive"})}finally{_(!1)}},ke=()=>{k(!1),N(null),A([])},B=q=>q?new Date(q).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",K=f?s.filter(q=>q.farmId===f):s,le=p.useMemo(()=>{const q=g.trim().toLowerCase();return K.filter(H=>!q||H.name.toLowerCase().includes(q)||H.farmName.toLowerCase().includes(q)||H.type.toLowerCase().includes(q)||H.description&&H.description.toLowerCase().includes(q))},[K,g]);p.useEffect(()=>{S(1)},[g,f]);const Y=Math.max(1,Math.ceil(le.length/b)),we=(Math.min(j,Y)-1)*b,fe=le.slice(we,we+b);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"L trng"}),a.jsx("p",{className:"text-base text-gray-600",children:"Danh sch l trng ca cc nng tri"})]}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch l trng"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[u?"ang ti...":`Hin th ${le.length} / ${s.length} l trng`,F&&a.jsxs("span",{className:"text-red-600",children:["  ",F]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:g,onChange:q=>x(q.target.value),placeholder:"Tm theo tn, nng tri, loi...",className:"pl-9"})]}),a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>ge(f||void 0),disabled:u||n.length===0,children:[a.jsx(ti,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),u?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(ad,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${f?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:f||"",onChange:q=>{V(q.target.value||null),S(1)},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${f?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Tt c nng tri"}),n.map(q=>{const H=s.filter(I=>I.farmId===q.id).length;return a.jsxs("option",{value:q.id,children:[q.name," (",H,")"]},q.id)})]}),a.jsx(Om,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${f?"text-emerald-600":"text-gray-400"}`})]})}),R&&a.jsx("p",{className:"text-xs text-red-600 mt-2",children:R})]}),a.jsx("div",{className:"overflow-x-auto",children:u?a.jsx("div",{className:"min-w-[1000px]",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left w-[22%] min-w-[200px]",children:"L trng"}),a.jsx(xe,{className:"text-left w-[26%] min-w-[220px]",children:"Thng tin"}),a.jsx(xe,{className:"text-left hidden lg:table-cell w-[14%] min-w-[110px]",children:"Gieo trng"}),a.jsx(xe,{className:"text-left hidden xl:table-cell w-[14%] min-w-[130px]",children:"D kin thu hoch"}),a.jsx(xe,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(xe,{className:"text-right w-[14%] min-w-[120px] whitespace-nowrap",children:"Thao tc"})]})}),a.jsx(sn,{children:[...Array(5)].map((q,H)=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"w-[22%]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-24"})]})}),a.jsx(be,{className:"w-[26%]",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse hidden md:block"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse hidden md:block w-32"})]})}),a.jsx(be,{className:"hidden lg:table-cell w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"hidden xl:table-cell w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(be,{className:"text-right w-[14%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-20 ml-auto"})})]},H))})]})}):le.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-w-[900px]",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left w-[22%] min-w-[200px]",children:"L trng"}),a.jsx(xe,{className:"text-left w-[26%] min-w-[220px]",children:"Thng tin"}),a.jsx(xe,{className:"text-left hidden lg:table-cell w-[14%] min-w-[110px]",children:"Gieo trng"}),a.jsx(xe,{className:"text-left hidden xl:table-cell w-[14%] min-w-[130px]",children:"D kin thu hoch"}),a.jsx(xe,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(xe,{className:"text-right w-[14%] min-w-[120px] whitespace-nowrap",children:"Thao tc"})]})}),a.jsx(sn,{children:fe.map(q=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"min-h-[48px] w-[22%]",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:q.name}),a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:q.farmName})]})}),a.jsx(be,{className:"text-sm min-h-[48px] w-[26%]",children:a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{children:["Din tch: ",a.jsxs("span",{className:"font-medium",children:[q.area," m"]})]}),a.jsxs("div",{className:"hidden md:block",children:["S cy: ",a.jsx("span",{className:"font-medium",children:q.treeCount??""})]}),a.jsxs("div",{className:"hidden md:block text-xs text-gray-500",children:["Thi gian canh tc: ",q.farmingDuration?`${q.farmingDuration} ngy`:""]}),q.description&&a.jsxs("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:q.description,children:["M t: ",q.description]})]})}),a.jsx(be,{className:"text-sm min-h-[36px] hidden lg:table-cell w-[14%]",children:$(q.plantedAt)}),a.jsx(be,{className:"text-sm min-h-[36px] hidden xl:table-cell w-[14%]",children:$(q.expectedHarvestAt)}),a.jsx(be,{className:"min-h-[48px] w-[10%]",children:U(q.status)}),a.jsx(be,{className:"text-right min-h-[48px] min-w-[120px] whitespace-nowrap w-[14%]",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>pe(q),children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Chi tit"})]})})]},q.id))})]})}),Y>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",j,"/",Y]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>S(q=>Math.max(1,q-1)),disabled:j<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>S(q=>Math.min(Y,q+1)),disabled:j>=Y,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g||f?"Khng tm thy v trng":"Cha c v trng no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:g||f?"Th tm kim vi t kha khc hoc chn nng tri khc":"Hin ti cha c v trng no trong h thng"}),(g||f)&&a.jsxs("div",{className:"flex gap-2 justify-center",children:[g&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>x(""),children:"Xa tm kim"}),f&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>V(null),children:"Xa b lc"})]})]})})]}),a.jsx(Xt,{open:O,onOpenChange:k,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{children:["Danh sch thu hoch - ",w?.name]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:ke,className:"h-6 w-6 p-0",children:a.jsx(ql,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"mt-4",children:[L&&a.jsx("p",{className:"text-sm text-red-600 text-center mb-3",children:L}),T?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"ang ti danh sch thu hoch..."}):E.length>0?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[18%] min-w-[120px]",children:"Ngy bt u"}),a.jsx(xe,{className:"w-[18%] min-w-[120px]",children:"Ngy thu hoch"}),a.jsx(xe,{className:"w-[14%] min-w-[100px]",children:"S lng"}),a.jsx(xe,{className:"w-[10%] min-w-[80px]",children:"n v"}),a.jsx(xe,{className:"w-[16%] min-w-[120px]",children:"Gi bn"}),a.jsx(xe,{className:"w-[24%] min-w-[200px]",children:"Ghi ch"})]})}),a.jsx(sn,{children:E.map(q=>a.jsxs(rt,{children:[a.jsx(be,{className:"text-xs w-[18%]",children:B(q.startDate)}),a.jsx(be,{className:"text-xs w-[18%]",children:q.harvestDate?B(q.harvestDate):a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Cha thu hoch"})}),a.jsx(be,{className:"text-xs w-[14%]",children:q.totalQuantity}),a.jsx(be,{className:"text-xs w-[10%]",children:q.unit}),a.jsx(be,{className:"text-xs w-[16%]",children:q.salePrice>0?st(q.salePrice):""}),a.jsx(be,{className:"text-xs text-gray-600 w-[24%]",children:q.note||""})]},q.id))})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Cha c d liu thu hoch."})]})]})})]})}function Zre(){const[e,t]=p.useState(1),[n,r]=p.useState([]),[s,o]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState({name:"",description:""}),[g,x]=p.useState(!1),[b,j]=p.useState(!1),[S,w]=p.useState(null),[N,E]=p.useState({name:"",description:""}),[A,T]=p.useState(!1),[_,O]=p.useState(null),[k,R]=p.useState(!1),[P,F]=p.useState(""),[re,L]=p.useState(null),{toast:G}=$n(),J=5,je=p.useCallback(async({silent:q=!1}={})=>{o(!0),L(null);try{const H=await Ot.getCustardAppleTypes();if(H.isSuccess&&H.data)r(H.data),q||G({title:ie.SUCCESS,description:pa.FETCH_SUCCESS});else{const I=H.message||pa.FETCH_ERROR;L(I),G({title:ie.ERROR,description:I,variant:"destructive"})}}catch(H){const I=H instanceof Error?H.message:pa.FETCH_ERROR;L(I),G({title:ie.ERROR,description:I,variant:"destructive"})}finally{o(!1)}},[G]);p.useEffect(()=>{je({silent:!0})},[je]);const ge=p.useMemo(()=>{const q=P.trim().toLowerCase();return q?n.filter(H=>H.name.toLowerCase().includes(q)||(H.description||"").toLowerCase().includes(q)):n},[n,P]);p.useEffect(()=>{t(1)},[P]);const $=()=>m({name:"",description:""}),U=()=>{$(),d(!0)},V=(q,H)=>{m(I=>({...I,[q]:H}))},pe=()=>{$(),d(!1)},ke=async()=>{if(!(!f.name.trim()||g)){x(!0);try{const q={name:f.name.trim(),description:f.description?.trim()||void 0},H=await Ot.createCustardAppleType(q);if(H.isSuccess){await je();const I=Math.max(1,Math.ceil((n.length+1)/J));t(I),pe(),G({title:ie.SUCCESS,description:pa.CREATE_SUCCESS})}else{const I=H.message||pa.CREATE_ERROR;G({title:ie.ERROR,description:I,variant:"destructive"})}}catch(q){const H=q instanceof Error?q.message:pa.CREATE_ERROR;G({title:ie.ERROR,description:H,variant:"destructive"})}finally{x(!1)}}},B=q=>{w(q.id),E({name:q.name,description:q.description||""}),j(!0)},K=()=>{j(!1),w(null),E({name:"",description:""})},le=(q,H)=>{E(I=>({...I,[q]:H}))},Y=async()=>{if(!(!S||!N.name.trim()||A)){T(!0);try{const q={name:N.name.trim(),description:N.description?.trim()||void 0},H=await Ot.updateCustardAppleType(S,q);if(H.isSuccess)await je(),K(),G({title:ie.SUCCESS,description:pa.UPDATE_SUCCESS});else{const I=H.message||pa.UPDATE_ERROR;G({title:ie.ERROR,description:I,variant:"destructive"})}}catch(q){const H=q instanceof Error?q.message:pa.UPDATE_ERROR;G({title:ie.ERROR,description:H,variant:"destructive"})}finally{T(!1)}}},se=q=>O(q),we=async()=>{if(!(!_||k)){R(!0);try{const q=await Ot.deleteCustardAppleType(_.id);if(q.isSuccess){await je();const H=n.length-1,I=Math.max(1,Math.ceil(H/J));e>I&&t(Math.max(1,I)),S===_.id&&K(),O(null),G({title:ie.SUCCESS,description:pa.DELETE_SUCCESS})}else{const H=q.message||pa.DELETE_ERROR;G({title:ie.ERROR,description:H,variant:"destructive"})}}catch(q){const H=q instanceof Error?q.message:pa.DELETE_ERROR;G({title:ie.ERROR,description:H,variant:"destructive"})}finally{R(!1)}}},fe=()=>O(null);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l loi mng cu"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"To v cp nht danh mc phc v cc quy trnh nng tri."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:P,onChange:q=>F(q.target.value),placeholder:"Tm theo tn hoc m t",className:"pl-9"})]}),!u&&a.jsx(ce,{onClick:U,children:"Thm loi mng cu"})]})]}),a.jsxs(at,{className:"card-responsive",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch loi mng cu"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[s?"ang ti...":`C ${ge.length} loi`,re?`  Li: ${re}`:""]})]}),u&&a.jsx(ce,{variant:"outline",onClick:pe,disabled:g,children:"Hy thm mi"})]}),u&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn loi"}),a.jsx(nn,{value:f.name,onChange:q=>V("name",q.target.value),placeholder:"V d: Mng cu B en"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(rr,{rows:2,value:f.description,onChange:q=>V("description",q.target.value),placeholder:"c im ni bt, lu  canh tc, bo qun..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:pe,disabled:g,children:"Hy"}),a.jsx(ce,{onClick:ke,disabled:g,children:g?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:s?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[30%] min-w-[160px] text-left",children:"Tn"}),a.jsx(xe,{className:"w-[50%] min-w-[240px] text-left",children:"M t"}),a.jsx(xe,{className:"text-right w-[20%] min-w-[140px]",children:"Thao tc"})]})}),a.jsx(sn,{children:Array.from({length:3}).map((q,H)=>a.jsxs(rt,{children:[a.jsx(be,{className:"py-5 w-[30%]",children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(be,{className:"py-5 w-[50%]",children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(be,{className:"py-5 text-right w-[20%]",children:a.jsx("div",{className:"ml-auto h-4 w-24 animate-pulse rounded bg-gray-200"})})]},H))})]}):ge.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[30%] min-w-[160px] text-left",children:"Tn"}),a.jsx(xe,{className:"w-[50%] min-w-[240px] text-left",children:"M t"}),a.jsx(xe,{className:"text-right w-[20%] min-w-[140px]",children:"Thao tc"})]})}),a.jsx(sn,{children:(()=>{const q=Math.max(1,Math.ceil(ge.length/J)),I=(Math.min(e,q)-1)*J;return ge.slice(I,I+J).map(z=>a.jsxs(rt,{children:[a.jsx(be,{className:"font-medium w-[30%]",children:z.name}),a.jsx(be,{className:"text-sm text-gray-600 w-[50%]",children:z.description||""}),a.jsx(be,{className:"text-right w-[20%]",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>B(z),children:[a.jsx(Bu,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>se(z),children:[a.jsx(Fv,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},z.id))})()})]}),(()=>{if(ge.length<=J)return null;const q=Math.max(1,Math.ceil(ge.length/J)),H=e>1,I=e<q;return a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",e,"/",q]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>t(ee=>Math.max(1,ee-1)),disabled:!H,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>t(ee=>Math.min(q,ee+1)),disabled:!I,children:"Sau"})]})]})})()]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(rR,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c loi mng cu no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm loi mi  bt u phn loi sn phm cho h thng."}),a.jsx(ce,{onClick:U,children:"Thm loi u tin"})]})})]}),a.jsx(Xt,{open:b,onOpenChange:q=>{q||K()},children:a.jsxs(Ft,{className:"max-w-lg",children:[a.jsx(Qt,{children:a.jsx(Kt,{children:"Chnh sa loi mng cu"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"edit-custard-name",children:"Tn loi"}),a.jsx("input",{id:"edit-custard-name",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",value:N.name,onChange:q=>le("name",q.target.value),placeholder:"Tn loi mng cu"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"edit-custard-description",children:"M t"}),a.jsx("textarea",{id:"edit-custard-description",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",rows:3,value:N.description,onChange:q=>le("description",q.target.value),placeholder:"Cp nht thng tin m t, ghi ch..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:K,disabled:A,children:"Hy"}),a.jsx(ce,{onClick:Y,disabled:A,children:A?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Xt,{open:!!_,onOpenChange:q=>{q||fe()},children:a.jsxs(Ft,{className:"max-w-sm",children:[a.jsx(Qt,{children:a.jsx(Kt,{children:"Xa loi mng cu"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa loi mng cu ",a.jsx("span",{className:"font-semibold text-gray-900",children:_?.name}),"? Thao tc ny khng th hon tc."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:fe,disabled:k,children:"Hy"}),a.jsx(ce,{variant:"destructive",onClick:we,disabled:k,children:k?"ang xa...":"Xa"})]})]})})]})}function Jre(){const[e,t]=p.useState([]),[n,r]=p.useState(!1),s=5,[o,u]=p.useState(1),[d,f]=p.useState(null),[m,g]=p.useState([]),[x,b]=p.useState([]),[j,S]=p.useState(!1),[w,N]=p.useState(!1),[E,A]=p.useState(!1),T=async()=>{r(!0);try{const G=await Ot.getHarvests();G.isSuccess&&G.data&&t(G.data)}catch(G){console.error("Li khi ti danh sch thu hoch:",G)}finally{r(!1)}};p.useEffect(()=>{T()},[]);const _=G=>G?new Date(G).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",O=async G=>{f(G),A(!0),S(!0),N(!0);try{const[J,je]=await Promise.all([Ot.getHarvestGradeDetailsByHarvestId(G.id),Ot.getHarvestImagesByHarvestId(G.id).catch(()=>({isSuccess:!1,data:[]}))]);J.isSuccess&&J.data?g(J.data):g([]),je.isSuccess&&je.data?b(je.data):b([])}catch(J){console.error("Li khi ti chi tit thu hoch:",J),g([]),b([])}finally{S(!1),N(!1)}},k=()=>{A(!1),f(null),g([]),b([])},R=e,P=Math.max(1,Math.ceil(R.length/s)),F=Math.min(o,P),re=(F-1)*s,L=R.slice(re,re+s);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thu hoch"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Danh sch tt c cc v thu hoch"})]}),a.jsxs(at,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch thu hoch"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:["C ",R.length," v thu hoch trong h thng"]})]}),a.jsx("div",{className:"overflow-x-auto",children:n?a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch thu hoch..."}):R.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[17%] min-w-[140px]",children:"Ngy bt u"}),a.jsx(xe,{className:"w-[17%] min-w-[140px]",children:"Ngy thu hoch"}),a.jsx(xe,{className:"w-[12%] min-w-[100px]",children:"S lng"}),a.jsx(xe,{className:"w-[10%] min-w-[80px]",children:"n v"}),a.jsx(xe,{className:"w-[14%] min-w-[120px]",children:"Gi bn"}),a.jsx(xe,{className:"w-[15%] min-w-[150px]",children:"Ghi ch"}),a.jsx(xe,{className:"w-[15%] min-w-[150px] text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:L.map(G=>a.jsxs(rt,{children:[a.jsx(be,{className:"text-xs w-[17%]",children:_(G.startDate)}),a.jsx(be,{className:"text-xs w-[17%]",children:G.harvestDate?_(G.harvestDate):a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Cha thu hoch"})}),a.jsx(be,{className:"text-xs w-[12%]",children:G.totalQuantity}),a.jsx(be,{className:"text-xs w-[10%]",children:G.unit}),a.jsx(be,{className:"text-xs w-[14%]",children:G.salePrice>0?st(G.salePrice):""}),a.jsx(be,{className:"text-xs text-gray-600 w-[15%]",children:G.note||""}),a.jsx(be,{className:"text-right w-[15%]",children:a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>O(G),className:"text-xs",children:"Xem chi tit"})})]},G.id))})]}),R.length>s&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",F,"/",P]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(G=>Math.max(1,G-1)),disabled:F<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(G=>Math.min(P,G+1)),disabled:F>=P,children:"Sau"})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c d liu thu hoch."})})]}),a.jsx(Xt,{open:E,onOpenChange:A,children:a.jsxs(Ft,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{children:["Chi tit phn loi thu hoch",d&&a.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(Ngy bt u: ",_(d.startDate),")"]})]}),a.jsx(ce,{variant:"ghost",size:"sm",onClick:k,className:"h-6 w-6 p-0",children:a.jsx(ql,{className:"h-4 w-4"})})]})}),a.jsxs("div",{className:"mt-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Chi tit phn loi"}),j?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"ang ti chi tit phn loi..."}):m.length>0?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[20%] min-w-[100px]",children:"Cp "}),a.jsx(xe,{className:"w-[20%] min-w-[120px]",children:"S lng"}),a.jsx(xe,{className:"w-[15%] min-w-[80px]",children:"n v"}),a.jsx(xe,{className:"w-[45%] min-w-[200px]",children:"Ngy to"})]})}),a.jsx(sn,{children:m.map(G=>a.jsxs(rt,{children:[a.jsx(be,{className:"text-xs w-[20%]",children:a.jsxs(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:["Cp ",G.grade]})}),a.jsx(be,{className:"text-xs w-[20%]",children:G.quantity}),a.jsx(be,{className:"text-xs w-[15%]",children:G.unit}),a.jsx(be,{className:"text-xs w-[45%]",children:_(G.createdAt)})]},G.id))})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Cha c d liu phn loi thu hoch."})]}),d&&a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Hnh nh (",x.length,")"]}),w?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti hnh nh..."})]}):x.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map((G,J)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden rounded-lg border border-gray-200 bg-gray-50 hover:border-emerald-400 transition-all shadow-sm hover:shadow-lg",children:a.jsx("img",{src:G.imageUrl,alt:`Harvest image ${J+1}`,className:"w-full h-full object-contain p-2"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-opacity rounded-lg pointer-events-none"}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:_(G.createdAt)})})]},G.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ef,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c hnh nh no cho v thu hoch ny."})]})]})]})]})})]})}const Ov=[{id:"ORD001",farm:"Nng tri A",customer:"Nguyn Vn A",total:15e4,status:"pending",createdAt:"2024-01-15T10:30:00Z",auctionId:"AUC-001",auctionTitle:"Phin u gi nng sn tun 45",winnerName:"Nguyn Vn A",payment:{depositPaid:!0,depositAmount:3e4,remainingPaid:!1,remainingAmount:12e4},farmerBank:{bankName:"Vietcombank",accountName:"Nguyen Van A",accountNumber:"0123456789"},buyerBank:{bankName:"Techcombank",accountName:"Le Thi B",accountNumber:"9876543210"},messages:[{from:"buyer",content:"Ti mun xc nhn thi gian giao hng d kin?",time:"2024-01-15T11:00:00Z"},{from:"farmer",content:"D kin ngy 18/01, ti s lin h shipper.",time:"2024-01-15T11:10:00Z"}]},{id:"ORD002",farm:"Nng tri B",customer:"Trn Th B",total:2e5,status:"confirmed",createdAt:"2024-01-14T14:20:00Z",auctionId:"AUC-002",auctionTitle:"u gi c bit cui thng",winnerName:"i l D",payment:{depositPaid:!0,depositAmount:5e4,remainingPaid:!0,remainingAmount:15e4},farmerBank:{bankName:"ACB",accountName:"Tran Thi B",accountNumber:"111222333"},buyerBank:{bankName:"VietinBank",accountName:"Cong ty D",accountNumber:"333222111"},messages:[{from:"buyer",content:"Hng nhn , cm n.",time:"2024-01-21T09:00:00Z"},{from:"farmer",content:"Cm n  ng h.",time:"2024-01-21T09:10:00Z"}]},{id:"ORD003",farm:"Nng tri C",customer:"L Vn C",total:3e5,status:"delivered",createdAt:"2024-01-13T09:15:00Z",auctionId:"AUC-003",auctionTitle:"Phin u gi s 3",winnerName:"Nh bn l E",payment:{depositPaid:!0,depositAmount:6e4,remainingPaid:!0,remainingAmount:24e4},farmerBank:{bankName:"MB Bank",accountName:"Le Van C",accountNumber:"555666777"},buyerBank:{bankName:"BIDV",accountName:"Nha ban le E",accountNumber:"777666555"},messages:[{from:"farmer",content:"n  giao thnh cng.",time:"2024-01-16T16:00:00Z"}],complaint:{by:"buyer",content:"Mt s tri b dp, mong h tr.",time:"2024-01-16T17:00:00Z"}}];function eae(){const[e,t]=p.useState(null),[n,r]=p.useState(!1),s=g=>{t(g),r(!0)},o=()=>{r(!1),t(null)},u=(g,x)=>{const b=x==="farmer"?g.farmerBank:g.buyerBank;if(!b)return;const j=`Ngn hng: ${b.bankName}
Ch TK: ${b.accountName}
S TK: ${b.accountNumber}`;navigator&&navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(j).catch(()=>{})},d=g=>new Date(g).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),f=g=>st(g),m=g=>g==="pending"?a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Ch xc nhn"}):g==="confirmed"?a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:" xc nhn"}):g==="shipping"?a.jsx(Re,{variant:"outline",className:"text-purple-600 border-purple-600",children:"ang giao"}):g==="delivered"?a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:" giao"}):g==="cancelled"?a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:" hy"}):a.jsx(Re,{variant:"outline",children:"Unknown"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Qun l n hng"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Danh sch n hng ca cc nng tri"})]}),a.jsxs(at,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold text-gray-900 mb-2",children:"Danh sch n hng"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:["C ",Ov.length," n hng trong h thng"]})]}),a.jsxs("div",{className:"overflow-x-hidden",children:[a.jsx("div",{className:"hidden md:block",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[8%]",children:"M"}),a.jsx(xe,{className:"w-[14%]",children:"Nng tri"}),a.jsx(xe,{className:"w-[14%]",children:"Khch hng"}),a.jsx(xe,{className:"w-[10%]",children:"Tng"}),a.jsx(xe,{className:"w-[10%]",children:"Trng thi"}),a.jsx(xe,{className:"w-[10%]",children:"Ngy"}),a.jsx(xe,{className:"w-[12%]",children:"Cc"}),a.jsx(xe,{className:"w-[12%]",children:"Cn li"}),a.jsx(xe,{className:"w-[10%] text-right",children:" "})]})}),a.jsx(sn,{children:Ov.map(g=>a.jsxs(rt,{children:[a.jsx(be,{className:"font-mono text-xs w-[8%]",children:g.id}),a.jsx(be,{className:"w-[14%]",children:a.jsx("div",{className:"truncate max-w-[160px]",title:g.farm,children:g.farm})}),a.jsx(be,{className:"w-[14%]",children:a.jsx("div",{className:"truncate max-w-[160px]",title:g.customer,children:g.customer})}),a.jsx(be,{className:"font-medium text-xs w-[10%]",children:f(g.total)}),a.jsx(be,{className:"w-[10%]",children:m(g.status)}),a.jsx(be,{className:"text-xs w-[10%]",children:d(g.createdAt)}),a.jsx(be,{className:"w-[12%]",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-default select-none whitespace-nowrap text-xs",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${g.payment.depositPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-700",children:g.payment.depositPaid?" cc":"Cha cc"}),a.jsxs("span",{className:"hidden lg:inline text-gray-500",children:[" ",f(g.payment.depositAmount)]})]})}),a.jsx(be,{className:"w-[12%]",children:a.jsxs("label",{className:"inline-flex items-center gap-2 cursor-default select-none whitespace-nowrap text-xs",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${g.payment.remainingPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-700",children:g.payment.remainingPaid?" TT":"Cha TT"}),a.jsxs("span",{className:"hidden lg:inline text-gray-500",children:[" ",f(g.payment.remainingAmount)]})]})}),a.jsx(be,{className:"text-right whitespace-nowrap w-[10%]",children:a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>s(g),className:"h-7 px-2 text-xs",children:"Xem chi tit"})})]},g.id))})]})}),a.jsx("div",{className:"md:hidden space-y-3",children:Ov.map(g=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",title:g.id,children:g.id}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",title:g.customer,children:["Khch hng: ",g.customer]})]}),a.jsx("div",{className:"ml-2",children:m(g.status)})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Nng tri:"}),a.jsx("span",{className:"truncate max-w-[150px]",title:g.farm,children:g.farm})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Tng tin:"}),a.jsx("span",{className:"font-medium text-green-600",children:f(g.total)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Cc:"}),a.jsxs("span",{className:"text-xs",children:[g.payment.depositPaid?" cc":"Cha cc","  ",f(g.payment.depositAmount)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Cn li:"}),a.jsxs("span",{className:"text-xs",children:[g.payment.remainingPaid?" TT":"Cha TT","  ",f(g.payment.remainingAmount)]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Ngy to:"})," ",d(g.createdAt)]}),a.jsx("div",{className:"pt-2 text-right",children:a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>s(g),children:"Xem chi tit"})})]})]})},g.id))})]})]}),n&&e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:o}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Chi tit n hng  ",e.id]}),a.jsx("button",{onClick:o,className:"p-1 rounded hover:bg-gray-100",children:a.jsx(ql,{className:"w-5 h-5 text-gray-600"})})]}),a.jsxs("div",{className:"p-5 space-y-5 max-h-[80vh] overflow-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Nng tri:"})," ",a.jsx("span",{className:"font-medium",children:e.farm})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Khch hng:"})," ",a.jsx("span",{className:"font-medium",children:e.customer})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tng tin:"})," ",a.jsx("span",{className:"font-medium text-green-600",children:f(e.total)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-500",children:"Trng thi:"})," ",m(e.status)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy to:"})," ",a.jsx("span",{className:"font-medium",children:d(e.createdAt)})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thng tin phin u gi"}),e.auctionId?a.jsxs("div",{className:"text-sm text-gray-700 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"M phin:"})," ",a.jsx("span",{className:"font-medium",children:e.auctionId})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-gray-500",children:"Tiu :"})," ",a.jsx("span",{className:"font-medium",children:e.auctionTitle})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngi thng:"})," ",a.jsx("span",{className:"font-medium",children:e.winnerName})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"n hng khng lin kt phin u gi."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thanh ton"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${e.payment.depositPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-500",children:"Cc:"}),a.jsx("span",{className:"font-medium",children:e.payment.depositPaid?" cc":"Cha cc"}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("span",{className:"font-medium",children:f(e.payment.depositAmount)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${e.payment.remainingPaid?"bg-emerald-600":"bg-gray-300"}`}),a.jsx("span",{className:"text-gray-500",children:"Cn li:"}),a.jsx("span",{className:"font-medium",children:e.payment.remainingPaid?" thanh ton":"Cha thanh ton"}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsx("span",{className:"font-medium",children:f(e.payment.remainingAmount)})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Phn hi gia nng tri v ngi mua"}),e.messages&&e.messages.length>0?a.jsx("div",{className:"space-y-2 text-sm",children:e.messages.map((g,x)=>a.jsxs("div",{className:"border rounded p-2 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[a.jsx("span",{className:"font-medium",children:g.from==="farmer"?"Nng tri":"Ngi mua"}),a.jsx("span",{children:""}),a.jsx("span",{children:d(g.time)})]}),a.jsx("div",{className:"text-gray-800",children:g.content})]},x))}):a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c phn hi."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Khiu ni"}),e.complaint?a.jsxs("div",{className:"text-sm text-gray-700 border rounded p-3 bg-orange-50",children:[a.jsxs("div",{className:"mb-1 text-xs text-gray-600",children:["Bn khiu ni: ",a.jsx("span",{className:"font-medium",children:e.complaint.by==="farmer"?"Nng tri":"Ngi mua"}),"  ",d(e.complaint.time)]}),a.jsx("div",{className:"whitespace-pre-wrap",children:e.complaint.content})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c khiu ni."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Thng tin chuyn khon"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Nng tri"}),e.farmerBank?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:["Ngn hng: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.bankName})]}),a.jsxs("div",{children:["Ch TK: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.accountName})]}),a.jsxs("div",{children:["S TK: ",a.jsx("span",{className:"font-medium",children:e.farmerBank.accountNumber})]}),a.jsx(ce,{size:"sm",className:"mt-2",onClick:()=>u(e,"farmer"),children:"Sao chp thng tin"})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Cha c thng tin."})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Ngi mua"}),e.buyerBank?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:["Ngn hng: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.bankName})]}),a.jsxs("div",{children:["Ch TK: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.accountName})]}),a.jsxs("div",{children:["S TK: ",a.jsx("span",{className:"font-medium",children:e.buyerBank.accountNumber})]}),a.jsx(ce,{size:"sm",className:"mt-2",onClick:()=>u(e,"buyer"),children:"Sao chp thng tin"})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Cha c thng tin."})]})]})]})]}),a.jsx("div",{className:"p-4 border-t flex justify-end",children:a.jsx(ce,{variant:"outline",onClick:o,children:"ng"})})]})]})]})}function tae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Qun l sn phm"})}function nae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Qun l n v vn chuyn"})}function rae({open:e,onOpenChange:t,children:n}){return a.jsxs("div",{role:"dialog","aria-modal":"true",className:_t("fixed inset-0 z-50 flex min-h-full items-center justify-center px-4 py-6 transition-all duration-200",e?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-md transition-opacity",onClick:()=>t(!1)}),a.jsx("div",{className:"relative z-10 w-full max-w-lg",children:n})]})}const u4=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:_t("rounded-3xl border border-white/30 bg-white/95 p-7 shadow-[0_30px_80px_rgba(15,118,110,0.18)] backdrop-blur-2xl","animate-in fade-in-0 zoom-in-95",e),...t}));u4.displayName="AlertDialogContent";const aae=({className:e,...t})=>a.jsx("div",{className:_t("space-y-2 text-center sm:text-left",e),...t}),d4=p.forwardRef(({className:e,...t},n)=>a.jsx("h2",{ref:n,className:_t("text-2xl font-bold tracking-tight text-slate-900",e),...t}));d4.displayName="AlertDialogTitle";const h4=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:_t("text-sm text-slate-500",e),...t}));h4.displayName="AlertDialogDescription";const f4=p.forwardRef(({className:e,...t},n)=>a.jsx(ce,{ref:n,variant:"outline",className:_t("w-full sm:w-auto",e),...t}));f4.displayName="AlertDialogCancel";const iae=p.forwardRef(({className:e,...t},n)=>a.jsx(ce,{ref:n,className:_t("w-full sm:w-auto",e),...t}));iae.displayName="AlertDialogAction";function Ng({isOpen:e,onOpenChange:t,onConfirm:n,title:r,description:s,actionLabel:o,actionVariant:u,isLoading:d=!1,children:f}){const[m,g]=p.useState(!1),x=async()=>{g(!0);try{await n(),t(!1)}catch(w){console.error(w)}finally{g(!1)}},j=(()=>{switch(u){case"approve":return{icon:Ea,bgColor:"bg-emerald-600 hover:bg-emerald-700",borderColor:"border-emerald-200",textColor:"text-emerald-900",lightBg:"bg-emerald-50"};case"reject":return{icon:ri,bgColor:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200",textColor:"text-red-900",lightBg:"bg-red-50"};case"pending":return{icon:Iu,bgColor:"bg-amber-600 hover:bg-amber-700",borderColor:"border-amber-200",textColor:"text-amber-900",lightBg:"bg-amber-50"};default:return{icon:lL,bgColor:"bg-gray-600 hover:bg-gray-700",borderColor:"border-gray-200",textColor:"text-gray-900",lightBg:"bg-gray-50"}}})(),S=j.icon;return a.jsx(rae,{open:e,onOpenChange:t,children:a.jsxs(u4,{className:"max-w-md",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 mx-auto rounded-full ${j.lightBg}`,children:a.jsx(S,{className:`w-6 h-6 ${j.textColor}`})}),a.jsxs(aae,{className:"text-center",children:[a.jsx(d4,{className:"text-lg font-semibold",children:r}),a.jsx(h4,{className:"text-sm leading-relaxed mt-2",children:s})]}),f&&a.jsx("div",{className:"mt-4 space-y-3",children:f}),a.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[a.jsx(f4,{disabled:m||d,className:"px-4 py-2 font-medium",onClick:()=>{!m&&!d&&t(!1)},children:"Hy"}),a.jsx("button",{onClick:x,disabled:m||d,className:`${j.bgColor} text-white px-4 py-2 rounded-md font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:m||d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"ang x l..."]}):a.jsxs(a.Fragment,{children:[a.jsx(S,{className:"w-4 h-4"}),o]})})]})]})})}function g_(e){return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function sae(e){switch(e){case"Draft":return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Bn nhp"});case"Pending":return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"i xt duyt"});case"Rejected":return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:"B t chi"});case"Approved":return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Chp nhn"});case"OnGoing":return a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:"ang din ra"});case"Pause":return a.jsx(Re,{variant:"outline",className:"text-amber-600 border-amber-600",children:"ang tm dng"});case"Completed":return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Hon thnh"});case"NoWinner":return a.jsx(Re,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Khng ngi chin thng"});case"Cancelled":return a.jsx(Re,{variant:"outline",className:"text-rose-600 border-rose-600",children:"Hy"});default:return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng xc nh"})}}function lae(){const e=mr(),[t,n]=p.useState("all"),[r,s]=p.useState([]),[o,u]=p.useState(1),[d]=p.useState(10),[f,m]=p.useState(0),[g,x]=p.useState(0),[b,j]=p.useState(!1),[S,w]=p.useState(""),{toast:N}=$n(),[E,A]=p.useState(""),[T,_]=p.useState(null),[O,k]=p.useState(""),[R,P]=p.useState("0"),[F,re]=p.useState({}),[L,G]=p.useState({isOpen:!1,auctionId:null,actionType:null}),[J,je]=p.useState({all:0,Draft:0,Pending:0,Rejected:0,Approved:0,OnGoing:0,Pause:0,Completed:0,NoWinner:0,Cancelled:0}),ge=p.useCallback(async({silent:I=!1}={})=>{j(!0);try{let ee=[],z=0,ve=0;const te=await Ot.getFarms();if(!te.isSuccess||!te.data)throw new Error("Khng th ti danh sch nng tri");const W=te.data;if(t==="all"){const Q=["Pending","Approved","Rejected","OnGoing","Pause","Completed","NoWinner","Cancelled"],ne=await Promise.all(Q.map(Ie=>tt.getEnglishAuctions(Ie,1,1e3)));ee=[],ne.forEach(Ie=>{if(Ie.isSuccess&&Ie.data){const Xe=Ie.data.items.map(it=>{const Pe=W.find(Le=>Le.userId===it.farmerId);return{...it,farmName:Pe?Pe.name:"Unknown",farmId:Pe?Pe.id:void 0,uiStatus:it.status,verified:!1}});ee.push(...Xe),z+=Ie.data.totalCount}});const Ce=(o-1)*d,Fe=Ce+d,Oe=ee.slice(Ce,Fe);ve=Math.ceil(ee.length/d),s(Oe),m(ve),x(z)}else{const Q=await tt.getEnglishAuctions(t,o,d);if(Q.isSuccess&&Q.data){const ne=Q.data.items.map(Ce=>{const Fe=W.find(Oe=>Oe.userId===Ce.farmerId);return{...Ce,farmName:Fe?Fe.name:"Unknown",farmId:Fe?Fe.id:void 0,uiStatus:Ce.status,verified:!1}});s(ne),m(Q.data.totalPages),x(Q.data.totalCount)}else{const ne=Q.message||ft.FETCH_ERROR;N({title:ie.ERROR,description:ne,variant:"destructive"});return}}I||N({title:ie.SUCCESS,description:ft.FETCH_SUCCESS})}catch(ee){const z=ee instanceof Error?ee.message:ft.FETCH_ERROR;console.error("Error fetching auctions:",ee),N({title:ie.ERROR,description:z,variant:"destructive"})}finally{j(!1)}},[o,d,t,N]);p.useEffect(()=>{ge({silent:!0})},[ge]);const $=p.useCallback(async()=>{const I=["all","Pending","Approved","Rejected","OnGoing","Pause","Completed","Draft","NoWinner","Cancelled"];try{const ee=await Promise.all(I.map(async z=>{const ve=await tt.getEnglishAuctions(z==="all"?void 0:z,1,1),te=ve.data,W=ve.isSuccess&&te?te.totalCount:te?.items?.length??0;return[z,W]}));je(Object.fromEntries(ee))}catch(ee){console.error("Khng th ti s lng phin theo trng thi:",ee)}},[]);p.useEffect(()=>{$()},[$]),uM(()=>{ge({silent:!0}),$()},3e4,!0,!1);const U=p.useCallback(async I=>{try{const ee=I.map(async te=>{try{const W=await tt.getAuctionExtendsByAuctionId(te);return W.isSuccess&&W.data?[te,W.data]:[te,[]]}catch(W){return console.error(`Error fetching extends for auction ${te}:`,W),[te,[]]}}),z=await Promise.all(ee),ve=Object.fromEntries(z);re(te=>({...te,...ve}))}catch(ee){console.error("Error fetching auction extends:",ee)}},[]);p.useEffect(()=>{if(r.length>0){const ee=r.map(z=>z.id).filter(z=>!F[z]);ee.length>0&&U(ee)}},[r,F,U]);const V=p.useCallback(I=>(F[I]||[]).reduce((z,ve)=>z+ve.extendDurationInMinutes,0),[F]),pe=(I,ee)=>{ee==="pause"&&(A(""),_(null),k("")),ee==="resume"&&P("0"),G({isOpen:!0,auctionId:I,actionType:ee})},ke=async()=>{if(!L.auctionId||!L.actionType)return;if(L.actionType==="pause"){if(!T)throw N({title:ie.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"}),new Error("PAUSE_REASON_CATEGORY_REQUIRED");if(T!=="other"&&!O)throw N({title:ie.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_SPECIFIC_REQUIRED");const z=E.trim();if(!z)throw N({title:ie.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_REQUIRED");try{const ve=await tt.pauseEnglishAuction({auctionId:L.auctionId,reason:z});if(ve.isSuccess)s(te=>te.map(W=>W.id===L.auctionId?{...W,status:"Pause",uiStatus:"Pause"}:W)),N({title:ie.SUCCESS,description:ft.PAUSE_SUCCESS}),$(),ge({silent:!0});else{const te=ve.message||ft.PAUSE_ERROR;N({title:ie.ERROR,description:te,variant:"destructive"})}}catch(ve){const te=ve instanceof Error?ve.message:ft.PAUSE_ERROR;throw console.error(ve),N({title:ie.ERROR,description:te,variant:"destructive"}),ve}return}if(L.actionType==="resume"){const z=Math.max(0,Number(R)||0);try{const ve=await tt.resumeEnglishAuction({auctionId:L.auctionId,extendMinute:z});if(ve.isSuccess){if(s(te=>te.map(W=>W.id===L.auctionId?{...W,status:"OnGoing",uiStatus:"OnGoing"}:W)),L.auctionId)try{const te=await tt.getAuctionExtendsByAuctionId(L.auctionId);te.isSuccess&&te.data&&re(W=>({...W,[L.auctionId]:te.data||[]}))}catch(te){console.error("Error refreshing auction extends:",te)}N({title:ie.SUCCESS,description:ft.RESUME_SUCCESS}),$(),ge({silent:!0})}else{const te=ve.message||ft.RESUME_ERROR;N({title:ie.ERROR,description:te,variant:"destructive"})}}catch(ve){const te=ve instanceof Error?ve.message:ft.RESUME_ERROR;throw console.error(ve),N({title:ie.ERROR,description:te,variant:"destructive"}),ve}return}const ee={approve:"Approved",reject:"Rejected",pending:"Pending",stop:"Completed",cancel:"Cancelled"}[L.actionType];try{const z=await tt.updateEnglishAuctionStatus(L.auctionId,ee);if(z.isSuccess)s(ve=>ve.map(te=>te.id===L.auctionId?{...te,status:ee,uiStatus:ee}:te)),N({title:ie.SUCCESS,description:ft.STATUS_UPDATE_SUCCESS}),$(),ge({silent:!0});else{const ve=z.message||ft.STATUS_UPDATE_ERROR;N({title:ie.ERROR,description:ve,variant:"destructive"}),$()}}catch(z){const ve=z instanceof Error?z.message:ft.STATUS_UPDATE_ERROR;throw console.error(z),N({title:ie.ERROR,description:ve,variant:"destructive"}),$(),z}},K=L.actionType?{approve:{title:"Xc nhn duyt phin u gi",description:"Bn c chc chn mun duyt phin u gi ny? Phin s c kch hot v c sn cho ngi dng.",actionLabel:"Duyt",variant:"approve"},reject:{title:"Xc nhn t chi phin u gi",description:"Bn c chc chn mun t chi phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"T chi",variant:"reject"},pending:{title:'t phin u gi v trng thi "i xt duyt"',description:'Bn c chc chn mun t li phin ny v trng thi "i xt duyt"?',actionLabel:"Xc nhn",variant:"pending"},stop:{title:"Xc nhn dng phin u gi",description:"Bn c chc chn mun dng phin u gi ny? Phin s kt thc ngay lp tc.",actionLabel:"Dng",variant:"reject"},cancel:{title:"Xc nhn hy phin u gi",description:"Bn c chc chn mun hy phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"Hy",variant:"reject"},pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s tm thi b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) v m li phin u gi.",actionLabel:"Tip tc",variant:"approve"}}[L.actionType]:null,le=I=>{if(I){G(ee=>({...ee,isOpen:I}));return}G({isOpen:!1,auctionId:null,actionType:null}),A(""),_(null),k(""),P("0")},Y={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},se=(()=>{if(L.actionType==="pause"){const I=T,ee=I&&I!=="other"?Y[I].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(Y).map(([z,ve],te)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-category",value:z,checked:T===z,onChange:()=>{_(z),k(""),A("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[te+1,". ",ve.title]})})]})},z)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-category",value:"other",checked:T==="other",onChange:()=>{_("other"),k(""),A("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),I&&I!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:ee.map((z,ve)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"pause-reason-specific",value:z,checked:O===z,onChange:()=>{k(z);const te=Y[I].title;A(`${te}: ${z}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:z})})]})},ve))})]}),I==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(rr,{id:"pause-reason",rows:3,value:E,onChange:z=>A(z.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do tm dng s c ghi nhn trong lch s hot ng ca phin."})]})}return L.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"resume-extend",children:"Gia hn thm (pht)"}),a.jsx(nn,{id:"resume-extend",type:"number",min:0,value:R,onChange:I=>P(I.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"t 0 nu khng mun gia hn thi gian."})]}):null})(),we=[{key:"all",label:"Tt c"},{key:"Pending",label:"i xt duyt"},{key:"Approved",label:" duyt"},{key:"Rejected",label:"T chi"},{key:"OnGoing",label:"ang din ra"},{key:"Pause",label:"Tm dng"}],fe=[{key:"Completed",label:"Hon thnh"},{key:"NoWinner",label:"Khng ngi chin thng"},{key:"Cancelled",label:"Hy"}],q=p.useMemo(()=>{const I=S.trim().toLowerCase();return r.filter(ee=>!I||ee.sessionCode.toLowerCase().includes(I)||ee.farmName.toLowerCase().includes(I)||ee.note.toLowerCase().includes(I)).sort((ee,z)=>{const ve=new Date(ee.createdAt).getTime();return new Date(z.createdAt).getTime()-ve})},[r,S]),H=p.useMemo(()=>{if(t==="all"){const I=J.all??0,ee=J.Draft??0;return Math.max(0,I-ee)}return J[t]??0},[J,t]);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l phin u gi"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Theo di danh sch phin, ph duyt hoc t chi."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:S,onChange:I=>w(I.target.value),placeholder:"Tm theo m phin hoc nng tri",className:"pl-9"})]}),a.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>ge(),disabled:b,children:b?"ang ti...":"Lm mi"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[we.map(I=>{const ee=I.key==="all"?J.all??0:J[I.key]??0;return a.jsxs("button",{type:"button",onClick:()=>{n(I.key),u(1)},className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${t===I.key?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[I.label," ",a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:ee})]},I.key)}),a.jsxs("div",{className:"relative",children:[a.jsx(ad,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${fe.find(I=>I.key===t)?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:fe.find(I=>I.key===t)?t:"",onChange:I=>{I.target.value?(n(I.target.value),u(1)):(n("all"),u(1))},className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${fe.find(I=>I.key===t)?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Lc thm..."}),fe.map(I=>{const ee=J[I.key]??0;return a.jsxs("option",{value:I.key,children:[I.label," (",ee,")"]},I.key)})]}),a.jsx(Om,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${fe.find(I=>I.key===t)?"text-emerald-600":"text-gray-400"}`})]})]})]}),a.jsxs(at,{className:"card-responsive",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch phin u gi"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:b?"ang ti...":`Hin th ${q.length} / ${H||g} phin`})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Trang ",o,"/",f||1]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[10%] whitespace-nowrap text-left",children:"M phin"}),a.jsx(xe,{className:"hidden md:table-cell w-[15%] whitespace-nowrap text-left",children:"Nng tri"}),a.jsx(xe,{className:"hidden md:table-cell w-[12%] whitespace-nowrap text-left",children:"Bt u"}),a.jsx(xe,{className:"hidden md:table-cell w-[12%] whitespace-nowrap text-left",children:"Kt thc"}),a.jsx(xe,{className:"w-[10%] text-left",children:"Trng thi"}),a.jsx(xe,{className:"w-[18%] text-left",children:"Thao tc"}),a.jsx(xe,{className:"w-[5%] text-left",children:" "})]})}),a.jsx(sn,{children:q.map(I=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"w-[10%] font-mono text-xs whitespace-nowrap text-left",children:I.sessionCode}),a.jsx(be,{className:"w-[15%] text-xs truncate hidden md:table-cell text-left",children:I.farmName}),a.jsx(be,{className:"w-[12%] text-xs hidden md:table-cell whitespace-nowrap text-left",children:g_(I.publishDate)}),a.jsx(be,{className:"w-[12%] text-xs hidden md:table-cell text-left",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"whitespace-nowrap",children:g_(I.endDate)}),V(I.id)>0&&a.jsxs("span",{className:"text-green-600 text-xs mt-0.5",children:["(+",V(I.id)," pht)"]})]})}),a.jsx(be,{className:"w-[10%] text-left",children:sae(I.uiStatus)}),a.jsxs(be,{className:"w-[18%]",children:[I.uiStatus==="Pending"&&a.jsxs("div",{className:"flex gap-1.5 flex max-w-[180px]",children:[a.jsx(ce,{size:"sm",onClick:()=>pe(I.id,"approve"),className:"bg-emerald-600 hover:bg-emerald-700 text-white flex-1 min-w-[90px] text-xs",children:" Duyt"}),a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>pe(I.id,"reject"),className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 flex-1 min-w-[90px] text-xs",children:" Khng duyt"})]}),I.uiStatus==="OnGoing"&&a.jsxs("div",{className:"flex gap-1.5 justify-start flex-wrap",children:[a.jsxs(ce,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-white",onClick:()=>pe(I.id,"pause"),children:[a.jsx(Rl,{className:"w-4 h-4 mr-1.5"}),"Tm dng"]}),a.jsx(ce,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",onClick:()=>pe(I.id,"cancel"),children:" Hy"})]}),I.uiStatus==="Pause"&&a.jsxs("div",{className:"flex gap-1.5 justify-start flex-wrap",children:[a.jsxs(ce,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>pe(I.id,"resume"),children:[a.jsx(Ol,{className:"w-4 h-4 mr-1.5"}),"Tip tc"]}),a.jsx(ce,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>pe(I.id,"cancel"),children:" Hy"})]}),I.uiStatus!=="Pending"&&I.uiStatus!=="OnGoing"&&I.uiStatus!=="Pause"&&a.jsx("span",{className:"text-sm text-gray-400",children:""})]}),a.jsx(be,{className:"w-[5%] text-left",children:a.jsx(ce,{size:"sm",variant:"outline",className:"text-xs px-2 py-1",onClick:()=>e(et.ADMIN_AUCTIONS_BY_ID.replace(":id",I.id)),children:"Chi tit"})})]},I.id))})]}),f>1&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm px-4",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",o,"/",f]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(I=>Math.max(1,I-1)),disabled:o<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>u(I=>Math.min(f,I+1)),disabled:o>=f,children:"Sau"})]})]})]})]}),K&&a.jsx(Ng,{isOpen:L.isOpen,onOpenChange:le,onConfirm:ke,title:K.title,description:K.description,actionLabel:K.actionLabel,actionVariant:K.variant,children:se})]})}function p_(e){return e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}function oae(e){return e?new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-"}function cae(e){switch(e){case"Draft":return a.jsx(Re,{className:"bg-gray-100 text-gray-700",children:"Bn nhp"});case"Pending":return a.jsx(Re,{className:"bg-yellow-100 text-yellow-700",children:"i xt duyt"});case"Rejected":return a.jsx(Re,{className:"bg-red-100 text-red-700",children:"B t chi"});case"Approved":return a.jsx(Re,{className:"bg-green-100 text-green-700",children:"Chp nhn"});case"OnGoing":return a.jsx(Re,{className:"bg-blue-100 text-blue-700",children:"ang din ra"});case"Pause":return a.jsx(Re,{className:"bg-amber-100 text-amber-700",children:"ang tm dng"});case"Completed":return a.jsx(Re,{className:"bg-gray-100 text-gray-700",children:"Hon thnh"});case"NoWinner":return a.jsx(Re,{className:"bg-orange-100 text-orange-700",children:"Khng c ngi chin thng"});case"Cancelled":return a.jsx(Re,{className:"bg-rose-100 text-rose-700",children:"Hy"});default:return a.jsx(Re,{className:"bg-gray-100 text-gray-700",children:"Khng xc nh"})}}function kd({auction:e,farmName:t,totalExtendMinutes:n=0,priceChanged:r=!1}){const[s,o]=p.useState(!1),[u,d]=p.useState(e.currentPrice??null),[f,m]=p.useState(e.currentPrice??null);return p.useEffect(()=>{const g=e.currentPrice??null;if(g!==u&&g!==null&&u!==null){m(u),o(!0),d(g);const x=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(x)}else g!==u&&g!==null&&d(g)},[e.currentPrice,u]),p.useEffect(()=>{if(r){o(!0);const g=setTimeout(()=>{o(!1)},1500);return()=>clearTimeout(g)}},[r]),a.jsx(at,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 overflow-hidden",children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-5 mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase text-blue-600 mb-2",children:"M phin"}),a.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-3",children:e.sessionCode}),e.note&&a.jsxs("p",{className:"text-sm text-gray-600 max-w-3xl whitespace-nowrap",children:["Ghi ch: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.note})]})]}),cae(e.status)]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Z_,{className:"w-5 h-5 text-green-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Gi Khi im"})]}),a.jsx("p",{className:"text-lg font-extrabold text-gray-900 whitespace-nowrap",children:st(e.startingPrice,{unit:"VND"})})]}),a.jsxs("div",{className:`bg-white rounded-2xl p-4 border transition-all duration-500 ${s?"border-green-400 bg-green-50 shadow-lg shadow-green-200/50":"border-blue-100"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Is,{className:`w-5 h-5 transition-colors duration-300 ${s?"text-green-600":"text-blue-600"}`}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Gi Hin Ti"})]}),a.jsx("p",{className:`text-lg font-extrabold whitespace-nowrap transition-all duration-500 ${s?"scale-110 drop-shadow-lg":"text-gray-900 scale-100"}`,style:s?{animation:"priceUpdate 1.5s ease-in-out"}:{},children:u!=null?st(u):e.currentPrice!==void 0&&e.currentPrice!==null?st(e.currentPrice):"-"}),s&&f!==null&&u!==null&&u>f&&a.jsxs("div",{className:"mt-1 text-xs font-semibold text-green-600 opacity-0 animate-in fade-in duration-300",children:[" +",st(u-f)]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mB,{className:"w-5 h-5 text-orange-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Bc Gi"})]}),a.jsx("p",{className:"text-lg font-extrabold text-gray-900 whitespace-nowrap",children:st(e.minBidIncrement)})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Iu,{className:"w-5 h-5 text-teal-600"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Bt u"})]}),a.jsx("p",{className:"text-base font-bold text-gray-900",children:p_(e.publishDate)})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_l,{className:"w-5 h-5 text-purple-600"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Kt Thc"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-base font-bold text-gray-900",children:p_(e.endDate)}),n>0&&a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["(+",n," pht)"]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx($u,{className:"w-5 h-5 text-indigo-600"}),a.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-[0.18em]",children:"Nng Tri"})]}),a.jsx("p",{className:"text-sm font-bold text-gray-900 truncate whitespace-nowrap",children:t})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-base",children:[a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Mua ngay: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.enableBuyNow?st(e.buyNowPrice):"Khng"})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Chng cht gi cui: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.enableAntiSniping?`C (+${e.antiSnipingExtensionSeconds} giy)`:"Khng"})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"D thu hoch: "}),a.jsx("span",{className:"font-semibold text-gray-900",children:oae(e.expectedHarvestDate)})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-4 border border-blue-100",children:a.jsxs("p",{className:"whitespace-nowrap",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Tng lng d kin: "}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[e.expectedTotalQuantity," kg"]})]})})]})]})})}const x_=e=>{if(!e)return"--";const t=new Date(e);return Number.isNaN(t.getTime())?"--":t.toLocaleDateString("vi-VN")};function uae({harvests:e,farm:t,cropsById:n={},currentHarvestByCropId:r={}}){return e.length===0?a.jsx(at,{children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Cf,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Khng c l hng"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(BL,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"L Hng / Ma V"}),a.jsxs(Re,{variant:"outline",className:"ml-2 px-3 py-1 border-blue-200 text-blue-700",children:[e.length," l"]})]}),a.jsx("div",{className:"grid gap-6",children:e.map((s,o)=>{const u=n[s.cropID],d=r[s.cropID],f=s.harvestGradeDetailDTOs??[],m=f.reduce((g,x)=>g+(x.quantity??0),0);return a.jsxs(at,{className:"overflow-hidden border border-gray-200",children:[a.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-700 font-bold text-lg",children:["#",o+1]}),a.jsx("div",{children:a.jsxs("p",{className:"text-xl font-bold text-blue-700",children:["LOT-",s.id.slice(0,8).toUpperCase()]})})]}),s.note&&a.jsxs("div",{className:"flex items-start gap-2 pl-14",children:[a.jsx(Bi,{className:"h-3.5 w-3.5 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-xs text-gray-500",children:s.note})]})]}),a.jsx("div",{className:"flex items-center gap-4 sm:gap-6",children:a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs mb-1",children:[a.jsx(_l,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:"Ngy bt u"})]}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(s.startDate).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})})]})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[minmax(0,58%)_minmax(0,42%)]",children:[a.jsxs("div",{className:"relative rounded-lg border border-emerald-200 bg-emerald-50/30 p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:a.jsx(Ru,{className:"h-5 w-5 text-emerald-600"})}),a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-emerald-700",children:"Thng tin trang tri"})]}),t?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ru,{className:"h-4 w-4 text-emerald-600 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tn trang tri"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.name})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(JL,{className:"h-4 w-4 text-emerald-600 mt-1 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Trng thi"}),a.jsx(Re,{variant:"outline",className:t.isActive?"border-emerald-300 text-emerald-700 bg-emerald-50":"border-gray-300 text-gray-500 bg-gray-50",children:t.isActive?"ang hot ng":"Tm ngng"})]})]})]}):a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(Ru,{className:"h-4 w-4"}),"Khng c thng tin trang tri"]})]}),a.jsxs("div",{className:"relative rounded-lg border border-amber-200 bg-amber-50/30 p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-amber-100",children:a.jsx(Lu,{className:"h-5 w-5 text-amber-600"})}),a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-amber-700",children:"Thng tin cy trng"})]}),u?a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-[repeat(auto-fit,minmax(200px,1fr))]",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Loi mng cu"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.custardAppleType||"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Din tch"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.area?`${u.area.toLocaleString("vi-VN")} m`:"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"S cy"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.treeCount?.toLocaleString("vi-VN")??"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Thi gian canh tc"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.farmingDuration?`${u.farmingDuration} ngy`:"--"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Ngy trng"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:x_(d?.startDate??u.startPlantingDate)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Ngy thu hoch"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:x_(d?.harvestDate||"--")})]})]}):a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx(Lu,{className:"h-4 w-4"}),"Khng c thng tin cy trng"]})]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white overflow-hidden",children:[a.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:a.jsx(Y_,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-blue-700",children:"Chi tit phn hng"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"S lng tng loi ca l hng"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 bg-white rounded-lg px-4 py-2.5 border border-blue-200",children:[a.jsx(Cf,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Tng sn lng"}),a.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[m.toLocaleString("vi-VN")," ",f[0]?.unit??""]})]})]})]})}),f.length>0?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:f.map(g=>a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1.5",children:"Phn loi"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:g.grade||""})]}),a.jsx(Re,{variant:"outline",className:"px-3 py-1.5 text-xs font-semibold rounded-full border-blue-300 text-blue-700 bg-blue-50 whitespace-nowrap",children:g.unit||"--"})]}),a.jsx("div",{className:"pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Sn lng"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.quantity?.toLocaleString("vi-VN")??0})]}),a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:g.unit})]})})]},g.id??g.grade))})}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Cf,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c d liu phn hng cho l hng ny."})]})]})]})]},s.id)})})]})}function dae({data:e=[],currentPrice:t=0,startingPrice:n=0}){const[r,s]=p.useState(!1);p.useEffect(()=>{s(!0)},[]);const o=Date.now(),u=e.length>0?e:[{time:o-1,price:n,label:"Bt u",fullTime:"Bt u"},{time:o,price:t||n,label:"Hin ti",fullTime:"Hin ti"}],d=u.length>0?Math.max(...u.map(j=>j.time)):null;p.useEffect(()=>{console.log("[PriceChart] Chart data updated:",u.length,"points",u),console.log("[PriceChart] Current price:",t,"Starting price:",n)},[u.length,t,n,e.length]);const m=(()=>{if(u.length===0)return t-n;if(e.length>0){const E=e[0]?.price??n,A=e.map(_=>_.price);return(A.length>0?Math.max(...A):t)-E}const j=u.filter(E=>E.label!=="Bt u"),S=j.length>0?j[0]?.price:n,w=u.map(E=>E.price);return(w.length>0?Math.max(...w):t)-S})(),g=t-n,x=n!==0?(g/n*100).toFixed(1):"0.0",b=st(Math.abs(g));return r?a.jsx(at,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Is,{className:"w-5 h-5 text-blue-600"}),"Biu  Gi"]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Thay i:"}),a.jsxs("span",{className:`text-lg font-bold ${g>=0?"text-green-600":"text-red-600"}`,children:[g>0?"+":g<0?"-":"",b," (",x,"%)"]})]})]})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 w-full",style:{height:"320px",minHeight:"320px"},children:a.jsx(ud,{width:"100%",height:300,children:a.jsxs(lM,{data:u,margin:{top:5,right:30,left:0,bottom:5},children:[a.jsx(Ad,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Td,{dataKey:"time",type:"number",scale:"time",stroke:"#9ca3af",style:{fontSize:"12px"},domain:["dataMin","dataMax"],tickFormatter:j=>new Date(j).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}),a.jsx(_d,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:["dataMin - 1000","dataMax + 1000"]}),a.jsx(Sd,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelFormatter:(j,S)=>{const w=S&&S[0]?.payload,N=d!==null&&w?.time===d,E=S&&S[0]?.payload?.fullTime;if(E&&!N)return E;let A=null;if(w?.time)A=new Date(w.time);else{const T=typeof j=="number"?j:Number(j);!isNaN(T)&&T>0&&(A=new Date(T))}if(A&&!isNaN(A.getTime())){const T=String(A.getDate()).padStart(2,"0"),_=String(A.getMonth()+1).padStart(2,"0"),O=A.getFullYear();if(N)return`${T}/${_}/${O}`;const k=String(A.getHours()).padStart(2,"0"),R=String(A.getMinutes()).padStart(2,"0"),P=String(A.getSeconds()).padStart(2,"0");return`${k}:${R}:${P} ${T}/${_}/${O}`}return String(j||"")},formatter:(j,S,w)=>{const N=typeof j=="number"?j:Number(j)||0,E=w?.payload?.durationLabel,A=E?` (${E})`:"";return[`${st(N)}${A}`,"Gi"]},labelStyle:{color:"#1f2937"}}),a.jsx(dw,{type:"stepAfter",dataKey:"price",name:"Gi u",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,strokeWidth:2,stroke:"#3b82f6",fill:"#fff"},activeDot:{r:6}})]})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center border border-blue-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Khi im"}),a.jsx("p",{className:"text-lg font-bold text-blue-700",children:st(n)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center border border-green-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Hin Ti"}),a.jsx("p",{className:"text-lg font-bold text-green-700",children:st(t)})]}),a.jsxs("div",{className:`rounded-lg p-3 text-center border ${m>=0?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Mc Gi  Tng Trong Ngy"}),a.jsxs("p",{className:`text-lg font-bold ${m>=0?"text-orange-700":"text-red-700"}`,children:[m>0?"+":"",st(m)]})]})]})]})}):a.jsx(at,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("div",{children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Is,{className:"w-5 h-5 text-blue-600"}),"Biu  Gi"]})})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-2 h-80 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"ang ti biu ..."})})]})})}const kv=`${ib.replace(/\/+$/,"")}/api/messaging-service/hubs/global`;class hae{connection=null;currentAuctionId=null;isConnecting=!1;handlers={};lastProcessedBidId=null;lastProcessedBidTime=0;lastProcessedBuyNowId=null;lastProcessedBuyNowTime=0;getToken(){return typeof window>"u"?null:localStorage.getItem("authToken")}async connect(t,n){if(this.connection&&this.currentAuctionId===t){this.handlers=n,this.registerHandlers();return}this.connection&&await this.disconnect();const r=this.getToken();if(!r){console.warn("[SignalR] No auth token found, cannot connect");return}this.currentAuctionId=t,this.isConnecting=!0,this.handlers=n,console.log("[SignalR] Connecting to hub:",kv,"for auction:",t),this.connection=new yR().withUrl(kv,{transport:En.LongPolling,accessTokenFactory:()=>r??""}).withAutomaticReconnect([0,2e3,5e3,1e4]).configureLogging(Ae.Information).build(),this.registerHandlers(),this.connection.onreconnected(()=>{console.log("[SignalR] Reconnected, resubscribing to auction:",this.currentAuctionId),this.currentAuctionId&&this.subscribeToAuction(this.currentAuctionId).catch(console.error)});try{await this.connection.start(),console.log("[SignalR] Connected successfully"),await this.subscribeToAuction(t)}catch(s){throw console.error("[SignalR] Failed to connect to hub:",s),console.error("[SignalR] Hub URL was:",kv),console.error("[SignalR] Error details:",s instanceof Error?s.message:String(s)),s}finally{this.isConnecting=!1}}registerHandlers(){if(this.connection){if(this.connection.off("BidPlaced"),this.connection.off("bidplaced"),this.connection.off("BuyNow"),this.connection.off("buynow"),this.connection.off("NewNotification"),this.connection.off("SystemNotification"),this.handlers.bidPlaced){const t=n=>{const r=Date.now();if(this.lastProcessedBidId===n.bidId&&r-this.lastProcessedBidTime<200){console.log("[SignalR] Duplicate BidPlaced event ignored:",n.bidId,"Time diff:",r-this.lastProcessedBidTime,"ms");return}this.lastProcessedBidId=n.bidId,this.lastProcessedBidTime=r,console.log("[SignalR] Received BidPlaced event:",n),this.handlers.bidPlaced?.(n)};this.connection.on("BidPlaced",t),this.connection.on("bidplaced",t)}if(this.handlers.buyNow){const t=n=>{const r=Date.now();if(this.lastProcessedBuyNowId===n.bidId&&r-this.lastProcessedBuyNowTime<200){console.log("[SignalR] Duplicate BuyNow event ignored:",n.bidId,"Time diff:",r-this.lastProcessedBuyNowTime,"ms");return}this.lastProcessedBuyNowId=n.bidId,this.lastProcessedBuyNowTime=r,console.log("[SignalR] Received BuyNow event:",n),this.handlers.buyNow?.(n)};this.connection.on("BuyNow",t),this.connection.on("buynow",t)}this.handlers.newNotification&&this.connection.on("NewNotification",t=>{console.log("[SignalR] Received NewNotification event:",t),this.handlers.newNotification?.(t)}),this.handlers.systemNotification&&this.connection.on("SystemNotification",t=>{console.log("[SignalR] Received SystemNotification event:",t),this.handlers.systemNotification?.(t)})}}async subscribeToAuction(t){if(!this.connection||this.connection.state!==Pt.Connected){console.warn("[SignalR] Cannot subscribe: connection not ready");return}try{console.log("[SignalR] Subscribing to auction group:",t),await this.connection.invoke("JoinAuctionGroup",t),console.log("[SignalR] Successfully subscribed to auction:",t)}catch(n){console.error("[SignalR] Failed to subscribe to auction:",n)}}async disconnect(){if(!this.isConnecting&&this.connection)try{await this.connection.stop(),console.log("[SignalR] Disconnected")}catch(t){console.error("[SignalR] Failed to stop connection:",t)}finally{this.connection=null,this.currentAuctionId=null,this.handlers={},this.lastProcessedBidId=null,this.lastProcessedBidTime=0,this.lastProcessedBuyNowId=null,this.lastProcessedBuyNowTime=0}}async joinGroup(t){console.log("[SignalR] joinGroup called (legacy), use connect() instead")}async leaveGroup(t){console.log("[SignalR] leaveGroup called (legacy), use disconnect() instead")}on(t,n){return console.warn("[SignalR] Using legacy on() method. Consider using connect() instead."),t==="BidPlaced"?this.handlers.bidPlaced=n:t==="BuyNow"?this.handlers.buyNow=n:t==="NewNotification"?this.handlers.newNotification=n:t==="SystemNotification"&&(this.handlers.systemNotification=n),()=>{t==="BidPlaced"?delete this.handlers.bidPlaced:t==="BuyNow"?delete this.handlers.buyNow:t==="NewNotification"?delete this.handlers.newNotification:t==="SystemNotification"&&delete this.handlers.systemNotification}}off(t,n){t==="BidPlaced"?delete this.handlers.bidPlaced:t==="BuyNow"&&delete this.handlers.buyNow}}const li=new hae,kf=e=>{if(typeof e=="number"&&!Number.isNaN(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e.replace(/,/g,""));if(!Number.isNaN(t))return t}},Dv=e=>{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){const t=e.trim().toLowerCase();if(["true","1","yes"].includes(t))return!0;if(["false","0","no"].includes(t))return!1}},Em=e=>{if(!e)return null;try{const t=typeof e=="string"?JSON.parse(e):e;if(t&&typeof t=="object")return t}catch{}return null},fae=e=>{if(!e)return null;const t=e.Bid??e.bid??e.BID??(typeof e=="object"?e:null);return t&&typeof t=="object"?t:null},m4=e=>{const t=Em(e.newEntity)??Em(e.oldEntity);if(!t)return null;const n=fae(t);if(!n)return null;const r=kf(n.BidAmount??n.bidAmount??n.amount??n.price)??kf(t.currentPrice??t.newPrice??t.price??t.amount),s=kf(n.AutoBidMaxLimit??n.autoBidMaxLimit),o=Dv(n.IsAutoBid??n.isAutoBid),u=Dv(n.IsWinning??n.isWinning),d=Dv(n.IsCancelled??n.isCancelled);return r===void 0&&s===void 0&&o===void 0&&u===void 0&&d===void 0?null:{bidAmount:r,autoBidMaxLimit:s,isAutoBid:o,isWinning:u,isCancelled:d}},mae=e=>{const t=m4(e);if(t?.bidAmount!==void 0)return t.bidAmount;const n=Em(e.newEntity)??Em(e.oldEntity);return n?kf(n.currentPrice??n.newPrice??n.price??n.amount)??null:null},v_=e=>e.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),gae=e=>{const t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),u=e.getFullYear();return`${t}:${n}:${r} ${s}/${o}/${u}`},y_=e=>{const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}/${n}/${r}`},Pv=e=>{if(e<=0||Number.isNaN(e))return"< 1 giy";const t=Math.floor(e/1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),s=t%60,o=[];return n&&o.push(`${n} gi`),r&&o.push(`${r} pht`),(s||o.length===0)&&o.push(`${s} giy`),o.join(" ")};function pae(){const{id:e}=oc(),t=mr(),n=Lr(),[r,s]=p.useState(null),[o,u]=p.useState([]),[d,f]=p.useState("Unknown"),[m,g]=p.useState(null),[x,b]=p.useState({}),[j,S]=p.useState({}),[w,N]=p.useState(!0),[E,A]=p.useState(!1),[T,_]=p.useState({isOpen:!1,actionType:null}),[O,k]=p.useState(""),[R,P]=p.useState(null),[F,re]=p.useState(""),[L,G]=p.useState("0"),[J,je]=p.useState([]),[ge,$]=p.useState([]),[U,V]=p.useState(!1),[,pe]=p.useState(0),[,ke]=p.useState(new Set),{toast:B}=$n(),K=p.useCallback(async te=>{try{const W=await tt.getAuctionExtendsByAuctionId(te);W.isSuccess&&W.data&&je(W.data)}catch(W){console.error("Error fetching auction extends:",W)}},[]),le=p.useCallback(async(te,W,Q,ne)=>{const Ce=await tt.getBidLogsByAuctionId(te);if(Ce.isSuccess&&Ce.data){const Fe=new Set(Ce.data.map(Me=>Me.bidId||Me.id).filter(Boolean));ke(Fe);const Xe=[...Ce.data].sort((Me,Ze)=>new Date(Me.dateTimeUpdate).getTime()-new Date(Ze.dateTimeUpdate).getTime()).map(Me=>{const Ze=mae(Me);if(!Ze||Number.isNaN(Ze))return null;let lt;Me.dateTimeUpdate?(lt=new Date(Me.dateTimeUpdate),isNaN(lt.getTime())&&(console.warn("[AuctionDetailPage] Invalid dateTimeUpdate, using current time:",Me.dateTimeUpdate),lt=new Date)):(console.warn("[AuctionDetailPage] Missing dateTimeUpdate, using current time"),lt=new Date);const It=v_(lt),ln=gae(lt);return{time:lt.getTime(),label:It,price:Ze,fullTime:ln,durationMs:0,durationLabel:""}}).filter(Me=>Me!==null);for(let Me=0;Me<Xe.length;Me++){const Ze=Xe[Me],lt=Xe[Me+1],ln=(lt?lt.time:ne?new Date(ne).getTime():Date.now())-Ze.time;Ze.durationMs=ln,Ze.durationLabel=Pv(ln)}if(Xe.length>0){const Me=Xe[Xe.length-1],Ze=new Date(Me.time);Me.fullTime=y_(Ze)}const it=W||Q||ne,Pe=it?new Date(it).getTime():Date.now(),Le=r?.startingPrice&&Pe?[{time:Pe,label:"Bt u",price:r.startingPrice,fullTime:"Bt u",durationMs:Xe[0]?Xe[0].time-Pe:0,durationLabel:Xe[0]?Pv(Xe[0].time-Pe):""}]:[];$([...Le,...Xe])}},[r?.startingPrice]);p.useEffect(()=>{if(!e){console.log("[AuctionDetailPage] No auction ID, skipping SignalR setup");return}return console.log("[AuctionDetailPage] Setting up SignalR for auction:",e),li.connect(e,{bidPlaced:te=>{if(te.auctionId!==e){console.log("[AuctionDetailPage] Event auctionId mismatch, ignoring:",te.auctionId,"vs",e);return}console.log("[AuctionDetailPage] Processing BidPlaced event for auction:",e),V(!0),setTimeout(()=>V(!1),1e3),s(W=>W?(console.log("[AuctionDetailPage] Updating price from",W.currentPrice,"to",te.newPrice),{...W,currentPrice:te.newPrice}):(console.warn("[AuctionDetailPage] No auction data to update"),W)),$(W=>{let Q;typeof te.placedAt=="string"?(Q=new Date(te.placedAt),isNaN(Q.getTime())&&(console.warn("[AuctionDetailPage] Invalid placedAt date, using current time:",te.placedAt),Q=new Date)):typeof te.placedAt=="number"?Q=new Date(te.placedAt):(console.warn("[AuctionDetailPage] Unknown placedAt format, using current time"),Q=new Date);const ne=Q.getTime(),Ce=v_(Q),Fe=y_(Q),Oe=[...W];if(Oe.length>0){const it=Oe.length-1,Pe={...Oe[it]};Pe.durationMs=ne-Pe.time,Pe.durationLabel=Pv(Pe.durationMs||0),Oe[it]=Pe}const Ie={time:ne,label:Ce,price:te.newPrice,fullTime:Fe,durationMs:0,durationLabel:"ang gi"};console.log("[AuctionDetailPage] Adding new chart data point:",Ie),console.log("[AuctionDetailPage] Previous chart data length:",W.length);const Xe=[...Oe,Ie];return console.log("[AuctionDetailPage] Updated chart data length:",Xe.length),Xe}),le(te.auctionId,r?.publishDate,r?.createdAt,r?.endDate).catch(W=>console.error("[AuctionDetailPage] Failed to refresh bid logs after BidPlaced:",W)),pe(W=>{const Q=W+1;return console.log("[AuctionDetailPage] Refresh trigger updated to:",Q),Q}),ke(W=>{if(W.has(te.bidId))return W;const Q=new Set(W);return Q.add(te.bidId),B({title:"C lt t gi mi",description:`${te.userName}  t gi ${te.newPrice.toLocaleString("vi-VN")} VN`}),Q})},buyNow:te=>{if(te.auctionId!==e){console.log("[AuctionDetailPage] Event auctionId mismatch, ignoring:",te.auctionId,"vs",e);return}console.log("[AuctionDetailPage] Processing BuyNow event for auction:",e),s(W=>W&&{...W,status:"Completed",currentPrice:te.buyNowPrice}),B({title:" mua ngay",description:`${te.userName}  mua ngay vi gi ${te.buyNowPrice.toLocaleString("vi-VN")} VN`,variant:"default"}),te.auctionId&&tt.getEnglishAuctionById(te.auctionId).then(W=>{W.isSuccess&&W.data&&(s(W.data),le(te.auctionId,W.data.publishDate,W.data.createdAt,W.data.endDate).catch(console.error))})}}).then(()=>{console.log("[AuctionDetailPage] SignalR connected successfully")}).catch(te=>{console.error("[AuctionDetailPage] Failed to init realtime auction connection:",te)}),()=>{console.log("[AuctionDetailPage] Cleaning up SignalR connection for auction:",e),li.disconnect().catch(console.error)}},[e,B]),p.useEffect(()=>{(async()=>{if(e)try{N(!0);const W=await tt.getEnglishAuctionById(e);if(!W.isSuccess||!W.data)return;const Q=W.data;s(Q);const ne=await tt.getHarvestsByAuctionSessionId(Q.id),Ce=ne.isSuccess&&ne.data?ne.data.map(Xe=>Xe.harvestId):[],Fe=[],Oe={};for(const Xe of Ce){const it=await Ot.getHarvestById(Xe);if(it.isSuccess&&it.data){const Pe=it.data;let Le=[];try{const lt=await Ot.getHarvestGradeDetailsByHarvestId(Pe.id);lt.isSuccess&&lt.data&&(Le=lt.data)}catch(lt){console.error(`Li ly grade detail cho harvest ${Pe.id}:`,lt)}const Me=Le.map(lt=>({id:lt.id,grade:lt.grade?.toString(),quantity:lt.quantity,unit:lt.unit}));Fe.push({...Pe,harvestGradeDetailDTOs:Me});const Ze=await Ot.getCurrentHarvestByCropId(Pe.cropID);Ze.isSuccess&&Ze.data&&(Oe[Pe.cropID]=Ze.data)}}u(Fe),S(Oe);const Ie=await Ot.getFarms();if(Ie.isSuccess&&Ie.data){const Xe=Ie.data.find(it=>it.userId===Q.farmerId);if(Xe){f(Xe.name),g(Xe);const it=await Ot.getCropsByFarmId(Xe.id);if(it.isSuccess&&it.data){const Pe=it.data.reduce((Le,Me)=>(Le[Me.id]=Me,Le),{});b(Pe)}}}await K(Q.id),await le(Q.id,Q.publishDate,Q.createdAt,Q.endDate)}finally{N(!1)}})()},[le,K,e]),p.useEffect(()=>{if(!e||r?.status!=="OnGoing")return;const te=setInterval(()=>{le(e,r.publishDate,r.createdAt,r.endDate).catch(W=>console.error("[AuctionDetailPage] Poll refresh bid logs failed:",W))},5e3);return()=>clearInterval(te)},[r?.createdAt,r?.endDate,r?.publishDate,r?.status,le,e]);const Y=p.useCallback(()=>e?J.filter(te=>te.auctionId===e).reduce((te,W)=>te+W.extendDurationInMinutes,0):0,[J,e]);if(w)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})});if(!r)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})});const se=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",we=te=>{e&&(te==="overview"?t(`/admin/auctions/${e}`):te==="activity-history"?t(`/admin/auctions/${e}/activity-history`):te==="bid-history"?t(`/admin/auctions/${e}/bid-history`):te==="winner"?t(`/admin/auctions/${e}/winner`):te==="reports"&&t(`/admin/auctions/${e}/reports`))},fe=te=>{te==="pause"&&(k(""),P(null),re("")),te==="resume"&&G("0"),_({isOpen:!0,actionType:te})},q=async()=>{if(!e||!T.actionType)return;if(T.actionType==="pause"){if(!R)throw B({title:ie.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"}),new Error("PAUSE_REASON_CATEGORY_REQUIRED");if(R!=="other"&&!F)throw B({title:ie.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_SPECIFIC_REQUIRED");const Q=O.trim();if(!Q)throw B({title:ie.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"}),new Error("PAUSE_REASON_REQUIRED");try{A(!0);const ne=await tt.pauseEnglishAuction({auctionId:e,reason:Q});if(ne.isSuccess){const Ce=await tt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),B({title:ie.SUCCESS,description:ft.PAUSE_SUCCESS})}else B({title:ie.ERROR,description:ne.message||ft.PAUSE_ERROR,variant:"destructive"})}catch(ne){const Ce=ne instanceof Error?ne.message:ft.PAUSE_ERROR;throw B({title:ie.ERROR,description:Ce,variant:"destructive"}),ne}finally{A(!1)}return}if(T.actionType==="resume"){const Q=Math.max(0,Number(L)||0);try{A(!0);const ne=await tt.resumeEnglishAuction({auctionId:e,extendMinute:Q});if(ne.isSuccess){const Ce=await tt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),e&&await K(e),B({title:ie.SUCCESS,description:ft.RESUME_SUCCESS})}else B({title:ie.ERROR,description:ne.message||ft.RESUME_ERROR,variant:"destructive"})}catch(ne){const Ce=ne instanceof Error?ne.message:ft.RESUME_ERROR;throw B({title:ie.ERROR,description:Ce,variant:"destructive"}),ne}finally{A(!1)}return}const W={approve:"Approved",reject:"Rejected",stop:"Completed",cancel:"Cancelled"}[T.actionType];try{A(!0);const Q=await tt.updateEnglishAuctionStatus(e,W);if(Q.isSuccess){const ne=await tt.getEnglishAuctionById(e);ne.isSuccess&&ne.data&&s(ne.data),B({title:ie.SUCCESS,description:ft.STATUS_UPDATE_SUCCESS||"Cp nht trng thi thnh cng"})}else B({title:ie.ERROR,description:Q.message||ft.STATUS_UPDATE_ERROR||"Khng th cp nht trng thi",variant:"destructive"})}catch(Q){const ne=Q instanceof Error?Q.message:" xy ra li khi cp nht trng thi";throw B({title:ie.ERROR,description:ne,variant:"destructive"}),Q}finally{A(!1)}},H=()=>T.actionType?{approve:{title:"Xc nhn duyt phin u gi",description:"Bn c chc chn mun duyt phin u gi ny? Phin s c kch hot v c sn cho ngi dng.",actionLabel:"Duyt",variant:"approve"},reject:{title:"Xc nhn t chi phin u gi",description:"Bn c chc chn mun t chi phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"T chi",variant:"reject"},stop:{title:"Xc nhn dng phin u gi",description:"Bn c chc chn mun dng phin u gi ny? Phin s c kt thc ngay lp tc.",actionLabel:"Dng",variant:"reject"},cancel:{title:"Xc nhn hy phin u gi",description:"Bn c chc chn mun hy phin u gi ny? Hnh ng ny khng th hon tc.",actionLabel:"Hy",variant:"reject"},pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[T.actionType]:null,I={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},ee=(()=>{if(T.actionType==="pause"){const te=R,W=te&&te!=="other"?I[te].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(I).map(([Q,ne],Ce)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-category",value:Q,checked:R===Q,onChange:()=>{P(Q),re(""),k("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Ce+1,". ",ne.title]})})]})},Q)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-category",value:"other",checked:R==="other",onChange:()=>{P("other"),re(""),k("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),te&&te!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:W.map((Q,ne)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"detail-pause-reason-specific",value:Q,checked:F===Q,onChange:()=>{re(Q);const Ce=I[te].title;k(`${Ce}: ${Q}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Q})})]})},ne))})]}),te==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(rr,{id:"detail-pause-reason",rows:3,value:O,onChange:Q=>k(Q.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return T.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"detail-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(nn,{id:"detail-resume-extend",type:"number",min:0,value:L,onChange:te=>G(te.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),z=H(),ve=te=>{if(te){_(W=>({...W,isOpen:te}));return}_({isOpen:!1,actionType:null}),k(""),P(null),re(""),G("0")};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(cc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="Pending"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>fe("approve"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:[a.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Duyt"]}),a.jsxs(ce,{onClick:()=>fe("reject"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",disabled:E,children:[a.jsx(ri,{className:"w-4 h-4 mr-2"}),"Khng duyt"]})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>fe("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:E,children:[a.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>fe("cancel"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:E,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>fe("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>fe("cancel"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:E,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Ws,{value:se(),onValueChange:we,className:"w-full",children:a.jsxs(ts,{children:[a.jsx(bt,{value:"overview",children:"Tng Quan"}),a.jsx(bt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(bt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(bt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(bt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(kd,{auction:r,farmName:d,totalExtendMinutes:Y(),priceChanged:U}),a.jsx(dae,{data:ge,currentPrice:r.currentPrice||r.startingPrice,startingPrice:r.startingPrice}),a.jsx(uae,{harvests:o,farm:m,cropsById:x,currentHarvestByCropId:j})]}),T.actionType&&z&&a.jsx(Ng,{isOpen:T.isOpen,onOpenChange:ve,onConfirm:q,title:z.title,description:z.description,actionLabel:z.actionLabel,actionVariant:z.variant,isLoading:E,children:ee})]})}function xae(){const{id:e}=oc(),t=mr(),n=Lr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[j,S]=p.useState("all"),[w,N]=p.useState([]),[E,A]=p.useState([]),[T,_]=p.useState(!1),[,O]=p.useState(new Set),[k,R]=p.useState(!1),[P,F]=p.useState({isOpen:!1,actionType:null}),[re,L]=p.useState(""),[G,J]=p.useState(null),[je,ge]=p.useState(""),[$,U]=p.useState("0"),{toast:V}=$n(),pe=p.useCallback(async(Q,ne)=>{try{b(!0);let Ce;if(ne){if(Ce=await tt.getAuctionLogsByType(ne),Ce.isSuccess&&Ce.data){const Oe=[...Ce.data.filter(Ie=>Ie.auctionPostId===Q)].sort((Ie,Xe)=>new Date(Xe.dateTimeUpdate).getTime()-new Date(Ie.dateTimeUpdate).getTime());g(Oe)}}else if(Ce=await tt.getAuctionLogsByAuctionId(Q),Ce.isSuccess&&Ce.data){const Fe=[...Ce.data].sort((Oe,Ie)=>new Date(Ie.dateTimeUpdate).getTime()-new Date(Oe.dateTimeUpdate).getTime());g(Fe)}Ce&&!Ce.isSuccess&&V({title:ie.ERROR,description:Ce.message||"Khng th ti lch s hot ng",variant:"destructive"})}catch(Ce){const Fe=Ce instanceof Error?Ce.message:" xy ra li khi ti lch s hot ng";V({title:ie.ERROR,description:Fe,variant:"destructive"})}finally{b(!1)}},[V]);p.useEffect(()=>{if(e)return li.connect(e,{bidPlaced:Q=>{Q.auctionId===e&&(s(ne=>ne&&{...ne,currentPrice:Q.newPrice}),_(!0),setTimeout(()=>_(!1),1e3),O(ne=>{if(ne.has(Q.bidId))return ne;const Ce=new Set(ne);return Ce.add(Q.bidId),V({title:"C lt t gi mi",description:`${Q.userName}  t gi ${Q.newPrice.toLocaleString("vi-VN")} VN`}),Ce}),pe(e,j==="all"?void 0:j))},buyNow:Q=>{Q.auctionId===e&&(pe(e,j==="all"?void 0:j),s(ne=>ne&&{...ne,currentPrice:Q.buyNowPrice,status:"Completed"}))}}).catch(Q=>{console.error("[AuctionActivityHistoryPage] Failed to init realtime connection:",Q)}),()=>{li.disconnect().catch(console.error)}},[e,j,pe]);const ke=async Q=>{try{const ne=await tt.getAuctionPausesByAuctionId(Q);ne.isSuccess&&ne.data&&N(ne.data)}catch(ne){console.error("Error fetching pause sessions:",ne)}},B=async Q=>{try{const ne=await tt.getAuctionExtendsByAuctionId(Q);ne.isSuccess&&ne.data&&A(ne.data)}catch(ne){console.error("Error fetching auction extends:",ne)}};p.useEffect(()=>{if(!e)return;(async()=>{try{f(!0);const ne=await tt.getEnglishAuctionById(e);if(ne.isSuccess&&ne.data){if(s(ne.data),ne.data.farmerId)try{const Ce=await Ot.getFarms();if(Ce.isSuccess&&Ce.data){const Fe=Ce.data.find(Oe=>Oe.userId===ne.data?.farmerId);Fe&&u(Fe.name)}}catch(Ce){console.error("Error fetching farm:",Ce)}}else V({title:ie.ERROR,description:ne.message||"Khng th ti thng tin phin u gi",variant:"destructive"})}catch(ne){const Ce=ne instanceof Error?ne.message:" xy ra li khi ti thng tin phin u gi";V({title:ie.ERROR,description:Ce,variant:"destructive"})}finally{f(!1)}})()},[e,V]),p.useEffect(()=>{e&&(ke(e),B(e))},[e]),p.useEffect(()=>{e&&pe(e,j==="all"?void 0:j)},[j,e,pe]);const K=Q=>{switch(Q){case"Create":return a.jsx(Bi,{className:"w-4 h-4"});case"StatusChange":return a.jsx(Bu,{className:"w-4 h-4"});case"Publish":return a.jsx(HL,{className:"w-4 h-4"});case"Update":return a.jsx(Bu,{className:"w-4 h-4"});case"Delete":return a.jsx(Li,{className:"w-4 h-4"});case"Pause":return a.jsx(Rl,{className:"w-4 h-4"});case"Resume":return a.jsx(Ol,{className:"w-4 h-4"});case"Extend":return a.jsx(Is,{className:"w-4 h-4"});case"End":return a.jsx(Iu,{className:"w-4 h-4"});default:return a.jsx(Iu,{className:"w-4 h-4"})}},le=Q=>{switch(Q){case"Create":return a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:"To mi"});case"StatusChange":return a.jsx(Re,{variant:"outline",className:"text-purple-600 border-purple-600",children:"Thay i trng thi"});case"Publish":return a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"Xut bn"});case"Update":return a.jsx(Re,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Cp nht"});case"Delete":return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:"Xa"});case"Pause":return a.jsx(Re,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Tm dng"});case"Resume":return a.jsx(Re,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:"Tip tc"});case"Extend":return a.jsx(Re,{variant:"outline",className:"text-teal-600 border-teal-600",children:"Gia hn"});case"End":return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Kt thc"});default:return a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:Q})}},Y=Q=>{if(Q.type!=="Pause"&&Q.type!=="Resume")return null;const ne=new Date(Q.dateTimeUpdate).getTime();return w.filter(Fe=>{const Oe=new Date(Fe.pauseStartAt).getTime();return Math.abs(Oe-ne)<300*1e3}).sort((Fe,Oe)=>{const Ie=Math.abs(new Date(Fe.pauseStartAt).getTime()-ne),Xe=Math.abs(new Date(Oe.pauseStartAt).getTime()-ne);return Ie-Xe})[0]||null},se=Q=>{if(Q.type!=="Extend"&&Q.type!=="Resume")return null;const ne=new Date(Q.dateTimeUpdate).getTime();return E.filter(Fe=>{const Oe=new Date(Fe.createdAt).getTime();return Math.abs(Oe-ne)<300*1e3}).sort((Fe,Oe)=>{const Ie=Math.abs(new Date(Fe.createdAt).getTime()-ne),Xe=Math.abs(new Date(Oe.createdAt).getTime()-ne);return Ie-Xe})[0]||null},we=Q=>new Date(Q).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),fe=E.reduce((Q,ne)=>Q+ne.extendDurationInMinutes,0),q=Q=>{Q==="pause"&&(L(""),J(null),ge("")),Q==="resume"&&U("0"),F({isOpen:!0,actionType:Q})},H=async()=>{if(!(!e||!P.actionType)){if(P.actionType==="pause"){if(!G){V({title:ie.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(G!=="other"&&!je){V({title:ie.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const Q=re.trim();if(!Q){V({title:ie.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{R(!0);const ne=await tt.pauseEnglishAuction({auctionId:e,reason:Q});if(ne.isSuccess){const Ce=await tt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),V({title:ie.SUCCESS,description:ft.PAUSE_SUCCESS}),F({isOpen:!1,actionType:null}),L(""),J(null),ge("")}else V({title:ie.ERROR,description:ne.message||ft.PAUSE_ERROR,variant:"destructive"})}catch(ne){const Ce=ne instanceof Error?ne.message:ft.PAUSE_ERROR;V({title:ie.ERROR,description:Ce,variant:"destructive"})}finally{R(!1)}return}if(P.actionType==="resume"){const Q=Math.max(0,Number($)||0);try{R(!0);const ne=await tt.resumeEnglishAuction({auctionId:e,extendMinute:Q});if(ne.isSuccess){const Ce=await tt.getEnglishAuctionById(e);Ce.isSuccess&&Ce.data&&s(Ce.data),await B(e),V({title:ie.SUCCESS,description:ft.RESUME_SUCCESS}),F({isOpen:!1,actionType:null}),U("0")}else V({title:ie.ERROR,description:ne.message||ft.RESUME_ERROR,variant:"destructive"})}catch(ne){const Ce=ne instanceof Error?ne.message:ft.RESUME_ERROR;V({title:ie.ERROR,description:Ce,variant:"destructive"})}finally{R(!1)}return}}},I={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},ee=(()=>{if(P.actionType==="pause"){const Q=G,ne=Q&&Q!=="other"?I[Q].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(I).map(([Ce,Fe],Oe)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-category",value:Ce,checked:G===Ce,onChange:()=>{J(Ce),ge(""),L("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Oe+1,". ",Fe.title]})})]})},Ce)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-category",value:"other",checked:G==="other",onChange:()=>{J("other"),ge(""),L("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),Q&&Q!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:ne.map((Ce,Fe)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"activity-history-pause-reason-specific",value:Ce,checked:je===Ce,onChange:()=>{ge(Ce);const Oe=I[Q].title;L(`${Oe}: ${Ce}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Ce})})]})},Fe))})]}),Q==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(rr,{rows:3,value:re,onChange:Ce=>L(Ce.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return P.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"activity-history-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(nn,{id:"activity-history-resume-extend",type:"number",min:0,value:$,onChange:Q=>U(Q.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),ve=P.actionType?{pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[P.actionType]:null,te=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",W=Q=>{e&&(Q==="overview"?t(`/admin/auctions/${e}`):Q==="activity-history"?t(`/admin/auctions/${e}/activity-history`):Q==="bid-history"?t(`/admin/auctions/${e}/bid-history`):Q==="winner"?t(`/admin/auctions/${e}/winner`):Q==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(cc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>q("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:k,children:[a.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>q("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:k,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>q("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:k,children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>q("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:k,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Ws,{value:te(),onValueChange:W,className:"w-full",children:a.jsxs(ts,{children:[a.jsx(bt,{value:"overview",children:"Tng Quan"}),a.jsx(bt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(bt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(bt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(bt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(kd,{auction:r,farmName:o,totalExtendMinutes:fe,priceChanged:T}),a.jsx(at,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Bi,{className:"w-5 h-5 text-blue-600"}),"Lch S Hot ng"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"ang ti...":`Tng ${m.length} hot ng`})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ad,{className:"w-4 h-4 text-gray-400"}),a.jsxs("select",{value:j,onChange:Q=>S(Q.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c loi"}),a.jsx("option",{value:"Create",children:"To mi"}),a.jsx("option",{value:"Update",children:"Cp nht"}),a.jsx("option",{value:"Delete",children:"Xa"}),a.jsx("option",{value:"Publish",children:"Xut bn"}),a.jsx("option",{value:"End",children:"Kt thc"}),a.jsx("option",{value:"StatusChange",children:"Thay i trng thi"}),a.jsx("option",{value:"Extend",children:"Gia hn"}),a.jsx("option",{value:"Pause",children:"Tm dng"}),a.jsx("option",{value:"Resume",children:"Tip tc"})]})]})})]}),x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti lch s..."})}):m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Cha c hot ng no"})}):a.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:m.map(Q=>a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:K(Q.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[le(Q.type),a.jsx("span",{className:"text-xs text-gray-500",children:we(Q.dateTimeUpdate)})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[Q.type==="StatusChange"&&Q.oldEntity&&Q.newEntity&&a.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Thay i trng thi:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Trc:"}),a.jsx(Re,{variant:"outline",className:"text-xs",children:(()=>{try{const ne=JSON.parse(Q.oldEntity);return{0:"Draft",1:"Pending",2:"Rejected",3:"Approved",4:"OnGoing",5:"Completed",6:"NoWinner",7:"Cancelled",8:"Pause"}[ne.status]||`Status ${ne.status}`}catch{return"N/A"}})()}),a.jsx("span",{className:"text-xs text-gray-400",children:""}),a.jsx("span",{className:"text-xs text-gray-500",children:"Sau:"}),a.jsx(Re,{variant:"outline",className:"text-xs",children:(()=>{try{const ne=JSON.parse(Q.newEntity);return{0:"Draft",1:"Pending",2:"Rejected",3:"Approved",4:"OnGoing",5:"Completed",6:"NoWinner",7:"Cancelled",8:"Pause"}[ne.status]||`Status ${ne.status}`}catch{return"N/A"}})()})]})]}),Q.type==="Publish"&&a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c xut bn"}),Q.type==="Create"&&a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c to mi"}),Q.type==="Pause"&&(()=>{const ne=Y(Q);if(!ne)return a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c tm dng"});let Ce=ne.pauseDurationInMinutes;if(Ce===null&&ne.pauseEndAt){const Fe=new Date(ne.pauseStartAt).getTime(),Oe=new Date(ne.pauseEndAt).getTime();Ce=Math.round((Oe-Fe)/(1e3*60))}return a.jsxs("div",{className:"bg-orange-50 p-3 rounded border border-orange-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-orange-700 mb-2",children:"Chi tit tm dng:"}),a.jsxs("div",{className:"space-y-1 text-xs text-orange-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"L do:"})," ",ne.reason]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bt u:"})," ",we(ne.pauseStartAt)]}),ne.pauseEndAt&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",we(ne.pauseEndAt)]}),Ce!==null&&Ce>0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian tm dng:"})," ",Ce," pht"]}),ne.note&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",ne.note]})]})]})})(),Q.type==="Resume"&&(()=>{const ne=Y(Q),Ce=se(Q);let Fe=ne?.pauseDurationInMinutes??null;if(Fe===null&&ne?.pauseEndAt){const Oe=new Date(ne.pauseStartAt).getTime(),Ie=new Date(ne.pauseEndAt).getTime();Fe=Math.round((Ie-Oe)/(1e3*60))}return a.jsxs("div",{className:"bg-emerald-50 p-3 rounded border border-emerald-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-700 mb-2",children:"Chi tit tip tc:"}),a.jsxs("div",{className:"space-y-1 text-xs text-emerald-600",children:[ne&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bt u tm dng:"})," ",we(ne.pauseStartAt)]}),ne.pauseEndAt&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Kt thc tm dng:"})," ",we(ne.pauseEndAt)]}),Fe!==null&&Fe>0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian tm dng:"})," ",Fe," pht"]}),ne.note&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",ne.note]})]}),Ce&&Ce.extendDurationInMinutes>0&&a.jsxs("p",{className:"mt-2 pt-2 border-t border-emerald-300",children:[a.jsx("span",{className:"font-medium",children:"Gia hn thm:"})," ",Ce.extendDurationInMinutes," pht"]})]})]})})(),Q.type==="Extend"&&(()=>{const ne=se(Q);return ne?a.jsxs("div",{className:"bg-teal-50 p-3 rounded border border-teal-200 mt-2",children:[a.jsx("p",{className:"text-xs font-semibold text-teal-700 mb-2",children:"Chi tit gia hn:"}),a.jsxs("div",{className:"space-y-1 text-xs text-teal-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian gia hn:"})," ",ne.extendDurationInMinutes," pht"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Loi:"})," ",ne.extendType]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Thi gian to:"})," ",we(ne.createdAt)]})]})]}):a.jsx("p",{className:"text-xs text-gray-600",children:"Phin u gi  c gia hn"})})()]})]})]},Q.id))})]})})]}),P.actionType&&ve&&a.jsx(Ng,{isOpen:P.isOpen,onOpenChange:Q=>{Q||(F({isOpen:!1,actionType:null}),L(""),J(null),ge(""),U("0"))},onConfirm:H,title:ve.title,description:ve.description,actionLabel:ve.actionLabel,actionVariant:ve.variant,isLoading:k,children:ee})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}function vae(){const{id:e}=oc(),t=mr(),n=Lr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[j,S]=p.useState([]),[w,N]=p.useState(!1),[E,A]=p.useState(!1),[,T]=p.useState(new Set),[_,O]=p.useState(!1),[k,R]=p.useState({isOpen:!1,actionType:null}),[P,F]=p.useState(""),[re,L]=p.useState(null),[G,J]=p.useState(""),[je,ge]=p.useState("0"),{toast:$}=$n(),U=I=>{if(I<=0||Number.isNaN(I))return"< 1 giy";const ee=Math.floor(I/1e3),z=Math.floor(ee/3600),ve=Math.floor(ee%3600/60),te=ee%60,W=[];return z&&W.push(`${z} gi`),ve&&W.push(`${ve} pht`),(te||W.length===0)&&W.push(`${te} giy`),W.join(" ")},V=(I,ee)=>{const z=new Date(ee.dateTimeUpdate).getTime();if(Number.isNaN(z))return"Khng xc nh";if(I===0){const W=Date.now()-z;return W>0?`${U(W)} (cha b vt)`:"< 1 giy"}const ve=m[I-1];if(!ve)return"Khng xc nh";const te=new Date(ve.dateTimeUpdate).getTime();return Number.isNaN(te)||te<=z?"< 1 giy":U(te-z)},pe=p.useCallback(async(I,ee=!1)=>{try{ee||b(!0);const z=await tt.getBidLogsByAuctionId(I);if(z.isSuccess&&z.data){const ve=[...z.data].sort((W,Q)=>new Date(Q.dateTimeUpdate).getTime()-new Date(W.dateTimeUpdate).getTime());g(ve);const te=new Set(ve.map(W=>W.bidId||W.id).filter(Boolean));T(te)}else ee||$({title:ie.ERROR,description:z.message||"Khng th ti lch s t gi",variant:"destructive"})}catch(z){const ve=z instanceof Error?z.message:" xy ra li khi ti lch s t gi";ee||$({title:ie.ERROR,description:ve,variant:"destructive"})}finally{ee||b(!1)}},[$]);p.useEffect(()=>{if(!e){console.log("[AuctionBidHistoryPage] No auction ID, skipping SignalR setup");return}let I=!0;return(async()=>{try{console.log("[AuctionBidHistoryPage]  Setting up SignalR connection for current price updates:",e),await li.connect(e,{bidPlaced:z=>{if(I){if(console.log("[AuctionBidHistoryPage]  BidPlaced event received for price update:",{auctionId:z.auctionId,bidId:z.bidId,userName:z.userName,newPrice:z.newPrice,currentAuctionId:e}),z.auctionId!==e){console.log("[AuctionBidHistoryPage]  Event auctionId mismatch, ignoring");return}s(ve=>ve&&{...ve,currentPrice:z.newPrice}),N(!0),setTimeout(()=>N(!1),1e3),T(ve=>{if(ve.has(z.bidId))return ve;const te=new Set(ve);return te.add(z.bidId),$({title:"C lt t gi mi",description:`${z.userName}  t gi ${z.newPrice.toLocaleString("vi-VN")} VN`}),te})}}}),I&&console.log("[AuctionBidHistoryPage]  SignalR connected successfully for price updates:",e)}catch(z){console.error("[AuctionBidHistoryPage]  Failed to init SignalR connection for price updates:",z)}})(),()=>{I=!1,console.log("[AuctionBidHistoryPage]  Cleaning up SignalR connection for auction:",e),li.disconnect().catch(console.error)}},[e,$]),p.useEffect(()=>{(async()=>{if(e)try{f(!0);const ee=await tt.getEnglishAuctionById(e);if(!ee.isSuccess||!ee.data)return;const z=ee.data;s(z);const ve=await Ot.getFarms();if(ve.isSuccess&&ve.data){const te=ve.data.find(W=>W.userId===z.farmerId);te&&u(te.name)}await pe(e,!0),await ke(e)}finally{f(!1)}})()},[e,pe]),p.useEffect(()=>{if(!e||!r){A(!1);return}const I=r.status==="OnGoing"||r.status==="Pending"||r.status==="Approved";if(A(I),!I)return;console.log("[AuctionBidHistoryPage]  Setting up auto-reload for bid logs (polling every 5s)");const ee=setInterval(()=>{pe(e,!0)},5e3);return()=>{console.log("[AuctionBidHistoryPage]  Cleaning up auto-reload interval"),clearInterval(ee)}},[e,r,pe]);const ke=async I=>{try{const ee=await tt.getAuctionExtendsByAuctionId(I);ee.isSuccess&&ee.data&&S(ee.data)}catch(ee){console.error("Error fetching auction extends:",ee)}},B=j.reduce((I,ee)=>I+ee.extendDurationInMinutes,0),K=I=>{I==="pause"&&(F(""),L(null),J("")),I==="resume"&&ge("0"),R({isOpen:!0,actionType:I})},le=async()=>{if(!(!e||!k.actionType)){if(k.actionType==="pause"){if(!re){$({title:ie.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(re!=="other"&&!G){$({title:ie.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const I=P.trim();if(!I){$({title:ie.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{O(!0);const ee=await tt.pauseEnglishAuction({auctionId:e,reason:I});if(ee.isSuccess){const z=await tt.getEnglishAuctionById(e);z.isSuccess&&z.data&&s(z.data),$({title:ie.SUCCESS,description:ft.PAUSE_SUCCESS}),R({isOpen:!1,actionType:null}),F(""),L(null),J("")}else $({title:ie.ERROR,description:ee.message||ft.PAUSE_ERROR,variant:"destructive"})}catch(ee){const z=ee instanceof Error?ee.message:ft.PAUSE_ERROR;$({title:ie.ERROR,description:z,variant:"destructive"})}finally{O(!1)}return}if(k.actionType==="resume"){const I=Math.max(0,Number(je)||0);try{O(!0);const ee=await tt.resumeEnglishAuction({auctionId:e,extendMinute:I});if(ee.isSuccess){const z=await tt.getEnglishAuctionById(e);z.isSuccess&&z.data&&s(z.data),await ke(e),$({title:ie.SUCCESS,description:ft.RESUME_SUCCESS}),R({isOpen:!1,actionType:null}),ge("0")}else $({title:ie.ERROR,description:ee.message||ft.RESUME_ERROR,variant:"destructive"})}catch(ee){const z=ee instanceof Error?ee.message:ft.RESUME_ERROR;$({title:ie.ERROR,description:z,variant:"destructive"})}finally{O(!1)}return}}},Y={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},se=(()=>{if(k.actionType==="pause"){const I=re,ee=I&&I!=="other"?Y[I].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(Y).map(([z,ve],te)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-category",value:z,checked:re===z,onChange:()=>{L(z),J(""),F("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[te+1,". ",ve.title]})})]})},z)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-category",value:"other",checked:re==="other",onChange:()=>{L("other"),J(""),F("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),I&&I!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:ee.map((z,ve)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"bid-history-pause-reason-specific",value:z,checked:G===z,onChange:()=>{J(z);const te=Y[I].title;F(`${te}: ${z}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:z})})]})},ve))})]}),I==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(rr,{rows:3,value:P,onChange:z=>F(z.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return k.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"bid-history-resume-extend",children:"Gia hn thm (pht)"}),a.jsx(nn,{id:"bid-history-resume-extend",type:"number",min:0,value:je,onChange:I=>ge(I.target.value)}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),fe=k.actionType?{pause:{title:"Tm dng phin u gi",description:"Nhp l do tm dng, phin s b kha vi ngi tham gia.",actionLabel:"Tm dng",variant:"pending"},resume:{title:"Tip tc phin u gi",description:"Thit lp thi gian gia hn (nu cn) ri m li phin.",actionLabel:"Tip tc",variant:"approve"}}[k.actionType]:null,q=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",H=I=>{e&&(I==="overview"?t(`/admin/auctions/${e}`):I==="activity-history"?t(`/admin/auctions/${e}/activity-history`):I==="bid-history"?t(`/admin/auctions/${e}/bid-history`):I==="winner"?t(`/admin/auctions/${e}/winner`):I==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(cc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>K("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:_,children:[a.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>K("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:_,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>K("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:_,children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>K("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:_,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Ws,{value:q(),onValueChange:H,className:"w-full",children:a.jsxs(ts,{children:[a.jsx(bt,{value:"overview",children:"Tng Quan"}),a.jsx(bt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(bt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(bt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(bt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(kd,{auction:r,farmName:o,totalExtendMinutes:B,priceChanged:w}),a.jsx(at,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Bi,{className:"w-5 h-5 text-blue-600"}),"Lch S t Gi",E&&a.jsx("span",{className:"flex items-center gap-1 text-xs font-normal text-blue-600 bg-blue-50 px-2 py-1 rounded",children:a.jsx(ti,{className:"w-3 h-3 animate-spin"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"ang ti...":`Tng ${m.length} lt t gi`})]})}),x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti danh sch t gi..."})}):m.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Cha c lt t gi no cho phin u gi ny"})}):a.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs("tr",{children:[a.jsx(xe,{children:"STT"}),a.jsx(xe,{children:"Thng li"}),a.jsx(xe,{className:"text-right",children:"Gi t"}),a.jsx(xe,{className:"text-center",children:"T ng"}),a.jsx(xe,{className:"text-right",children:"Gii hn t ng t gi"}),a.jsx(xe,{className:"text-right",children:"Gi v tr cao nht"})]})}),a.jsx(sn,{children:m.map((I,ee)=>{const z=m4(I),ve=V(ee,I),te=`${I.id||I.bidId||"unknown"}-${I.dateTimeUpdate||"no-date"}`;return a.jsxs(rt,{children:[a.jsx(be,{children:ee+1}),a.jsx(be,{className:"text-sm text-gray-900",children:I.userName?.trim()||"Unknown"}),a.jsx(be,{className:"text-right font-semibold text-emerald-700",children:z?.bidAmount!==void 0?st(z.bidAmount):""}),a.jsx(be,{className:"text-center",children:z?.isAutoBid?"C":"Khng"}),a.jsx(be,{className:"text-right",children:z&&z.autoBidMaxLimit&&z.autoBidMaxLimit>0?st(z.autoBidMaxLimit):""}),a.jsx(be,{className:"text-right text-sm text-gray-700",children:ve})]},te)})})]})})]})})]}),k.actionType&&fe&&a.jsx(Ng,{isOpen:k.isOpen,onOpenChange:I=>{I||(R({isOpen:!1,actionType:null}),F(""),L(null),J(""),ge("0"))},onConfirm:le,title:fe.title,description:fe.description,actionLabel:fe.actionLabel,actionVariant:fe.variant,isLoading:_,children:se})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}function yae({winner:e}){return e?a.jsx(at,{className:"overflow-hidden border-2 border-amber-300 bg-gradient-to-br from-amber-50 to-orange-50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(IE,{className:"w-6 h-6 text-amber-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Ngi Thng u Gi"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Tn Thng Li"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.name})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Re,{className:"bg-green-100 text-green-700 flex items-center gap-1",children:[a.jsx(Ea,{className:"w-4 h-4"})," Chin Thng"]})})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Gi Thng"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:st(e.finalPrice)})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"S Ln u Gi"}),a.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[e.bidCount," ln"]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-amber-200 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rb,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(tR,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"in Thoi"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.phone})]})]})]})]})}):a.jsx(at,{className:"bg-gray-50 border-gray-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(IE,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Cha c ngi thng u gi"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Phin u gi vn ang din ra hoc cha c kt qu"})]})})}function bae(){const{id:e}=oc(),t=mr(),n=Lr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState([]),[x,b]=p.useState(!1),[,j]=p.useState(new Set),{toast:S}=$n(),[w,N]=p.useState(void 0),E=p.useCallback(async k=>{try{const R=await tt.getAuctionExtendsByAuctionId(k);R.isSuccess&&R.data&&g(R.data)}catch(R){console.error("Error fetching auction extends:",R)}},[]),A=p.useCallback(async()=>{if(e)try{const k=await tt.getEnglishAuctionById(e);if(!k.isSuccess||!k.data)return;const R=k.data;s(R);const P=await Ot.getFarms();if(P.isSuccess&&P.data){const F=P.data.find(re=>re.userId===R.farmerId);F&&u(F.name)}if(R.winnerId&&R.winningPrice)try{const F=await jr.getById(R.winnerId);if(F.isSuccess&&F.data){const re=F.data,L=await tt.getBidLogsByAuctionId(e);let G=0;L.isSuccess&&L.data&&(G=L.data.filter(je=>je.userId===R.winnerId).length);const J=`${re.firstName||""} ${re.lastName||""}`.trim()||re.email||R.winnerId;N({id:re.id,name:J,email:re.email||"",phone:re.phoneNumber||"",finalPrice:R.winningPrice,bidCount:G,winTime:new Date(R.updatedAt||R.endDate)})}}catch(F){console.error("Error fetching winner info:",F),R.winnerId&&R.winningPrice&&N({id:R.winnerId,name:R.winnerId,email:"",phone:"",finalPrice:R.winningPrice,bidCount:0,winTime:new Date(R.updatedAt||R.endDate)})}else N(void 0);await E(e)}catch(k){console.error("Error fetching winner data:",k)}},[e,E]);p.useEffect(()=>{if(e)return li.connect(e,{bidPlaced:k=>{k.auctionId===e&&(s(R=>R&&{...R,currentPrice:k.newPrice}),b(!0),setTimeout(()=>b(!1),1e3),j(R=>{if(R.has(k.bidId))return R;const P=new Set(R);return P.add(k.bidId),S({title:"C lt t gi mi",description:`${k.userName}  t gi ${k.newPrice.toLocaleString("vi-VN")} VN`}),P}),setTimeout(()=>{A()},500))},buyNow:k=>{k.auctionId===e&&A()}}).catch(k=>{console.error("[AuctionWinnerPage] Failed to init realtime connection:",k)}),()=>{li.disconnect().catch(console.error)}},[e,A]),p.useEffect(()=>{(async()=>{if(e)try{f(!0),await A()}finally{f(!1)}})()},[e,A]);const T=m.reduce((k,R)=>k+R.extendDurationInMinutes,0),_=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",O=k=>{e&&(k==="overview"?t(`/admin/auctions/${e}`):k==="activity-history"?t(`/admin/auctions/${e}/activity-history`):k==="bid-history"?t(`/admin/auctions/${e}/bid-history`):k==="winner"?t(`/admin/auctions/${e}/winner`):k==="reports"&&t(`/admin/auctions/${e}/reports`))};return d?a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})}):r?a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("div",{className:"flex items-center justify-between gap-3 mb-6",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(cc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]})}),a.jsx(Ws,{value:_(),onValueChange:O,className:"w-full",children:a.jsxs(ts,{children:[a.jsx(bt,{value:"overview",children:"Tng Quan"}),a.jsx(bt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(bt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(bt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(bt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(kd,{auction:r,farmName:o,totalExtendMinutes:T,priceChanged:x}),a.jsx(yae,{winner:w})]})]}):a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})})}const Au={async getDisputes(e={}){return nt.get(De.dispute.list,{cache:!1,params:e})},async getPendingDisputes(){return nt.get(De.dispute.pending,{cache:!1})},async getDisputeById(e){return nt.get(De.dispute.detail(e),{cache:!1})},async updateDisputeStatus(e,t){return nt.patch(De.dispute.updateStatus(e),t,{invalidateCache:De.dispute.list})},async createDisputeResolve(e){return nt.post(De.dispute.createResolve,e,{invalidateCache:De.dispute.list})},async getResolveByDisputeId(e){return nt.get(De.dispute.resolveByDisputeId(e),{cache:!1})}},jae="https://gateway.a-379.store",Za=new Dm(jae),Ts={async getCategories(){return Za.get(De.policy.categories.list,{cache:!1})},async getCategoryById(e){return Za.get(De.policy.categories.detail(e),{cache:!1})},async createCategory(e){return Za.post(De.policy.categories.create,e)},async updateCategory(e,t){return Za.put(De.policy.categories.update(e),t)},async deleteCategory(e){return Za.delete(De.policy.categories.delete(e))},async getCategoryItems(e){return Za.get(De.policy.categories.items(e),{cache:!1})},async getItemById(e){return Za.get(De.policy.items.detail(e),{cache:!1})},async createItem(e){return Za.post(De.policy.items.create,e)},async updateItem(e,t){return Za.put(De.policy.items.update(e),t)},async deleteItem(e){return Za.delete(De.policy.items.delete(e))}},wae=["Pending","InReview","Resolved","ActionTaken","Rejected"],Nae=["Fraud","FalseInformation","TechnicalIssue","PolicyViolated","Other"],jf={Fraud:"Gian ln",FalseInformation:"Thng tin sai",TechnicalIssue:"Li k thut",PolicyViolated:"Vi phm chnh sch",Other:"Khc"};function Sae(){const{id:e}=oc(),t=mr(),n=Lr(),[r,s]=p.useState(null),[o,u]=p.useState("Unknown"),[d,f]=p.useState(!0),[m,g]=p.useState({}),[x,b]=p.useState(null),[j,S]=p.useState(!1),[w,N]=p.useState(null),[E,A]=p.useState(null),[T,_]=p.useState(""),[O,k]=p.useState(1),[R,P]=p.useState(10),[F,re]=p.useState([]),[L,G]=p.useState(!1),[,J]=p.useState(new Set),[je,ge]=p.useState({}),[$,U]=p.useState(!1),[V,pe]=p.useState(null),[ke,B]=p.useState(null),[K,le]=p.useState(!1),[Y,se]=p.useState({isOpen:!1,actionType:null}),[we,fe]=p.useState(""),[q,H]=p.useState(null),[I,ee]=p.useState(""),[z,ve]=p.useState("0"),{toast:te}=$n(),W=p.useCallback(async()=>{if(e)try{const Se=await tt.getEnglishAuctionById(e);if(!Se.isSuccess||!Se.data)return;const $e=Se.data;s($e);const Ve=await Ot.getFarms();if(Ve.isSuccess&&Ve.data){const Vt=Ve.data.find(Rt=>Rt.userId===$e.farmerId);Vt&&u(Vt.name)}await ne(e)}catch(Se){console.error("Error fetching auction data:",Se)}},[e]),Q=p.useCallback(async(Se={})=>{if(!e)return;const{silent:$e=!1}=Se;try{$e||S(!0),A(null);const Ve=await nc.getReportsByAuctionId(e);Ve.data&&(b(Ve.data),$e||te({title:ie.SUCCESS,description:Yr.FETCH_SUCCESS}))}catch(Ve){const Vt=Ve instanceof Error&&Ve.message?Ve.message:Yr.FETCH_ERROR;A(Vt),$e||te({title:ie.ERROR,description:Vt,variant:"destructive"})}finally{$e||S(!1)}},[e,te]);p.useEffect(()=>{if(!e)return;let Se=!0,$e=0;const Ve=3,Vt=async()=>{try{console.log("[AuctionReportsPage]  Setting up SignalR connection for auction:",e),await li.connect(e,{bidPlaced:Rt=>{!Se||Rt.auctionId!==e||(s(St=>St&&{...St,currentPrice:Rt.newPrice}),G(!0),setTimeout(()=>G(!1),1e3),J(St=>{if(St.has(Rt.bidId))return St;const Cr=new Set(St);return Cr.add(Rt.bidId),te({title:"C lt t gi mi",description:`${Rt.userName}  t gi ${Rt.newPrice.toLocaleString("vi-VN")} VN`}),Cr}),W(),setTimeout(()=>{Se&&(Q({silent:!0}),setTimeout(()=>{Se&&Q({silent:!0})},1e3))},1500))},buyNow:Rt=>{!Se||Rt.auctionId!==e||(W(),setTimeout(()=>{Se&&(Q({silent:!0}),setTimeout(()=>{Se&&Q({silent:!0})},1e3))},1500))}}),Se&&(console.log("[AuctionReportsPage]  SignalR connected successfully for auction:",e),$e=0)}catch(Rt){if(console.error("[AuctionReportsPage]  Failed to init realtime connection:",Rt),Se&&$e<Ve){$e++;const St=Math.min(1e3*Math.pow(2,$e-1),5e3);console.log(`[AuctionReportsPage]  Retrying SignalR connection (${$e}/${Ve}) in ${St}ms...`),setTimeout(()=>{Se&&Vt()},St)}}};return Vt(),()=>{Se=!1,console.log("[AuctionReportsPage]  Cleaning up SignalR connection for auction:",e),li.disconnect().catch(console.error)}},[e,W,Q,te]),p.useEffect(()=>{(async()=>{try{const $e=await jr.list();if($e.isSuccess&&$e.data){const Ve=$e.data,Vt=Array.isArray(Ve)?Ve:Ve?.items??[],Rt={};Vt.forEach(St=>{Rt[St.id]=`${St.firstName} ${St.lastName}`.trim()||St.email}),ge(Rt)}}catch($e){console.error("Error fetching users:",$e)}})()},[]),p.useEffect(()=>{(async()=>{if(e)try{f(!0),await W()}finally{f(!1)}})()},[e,W]);const ne=async Se=>{try{const $e=await tt.getAuctionExtendsByAuctionId(Se);$e.isSuccess&&$e.data&&re($e.data)}catch($e){console.error("Error fetching auction extends:",$e)}},Ce=(Se,$e)=>{g(Ve=>({...Ve,[Se]:$e||void 0})),k(1)};p.useEffect(()=>{e&&Q({silent:!0})},[Q,e]);const Fe=Se=>{k($e=>Math.max(1,$e+(Se==="next"?1:-1)))},Oe=Se=>{P(Se),k(1)},Ie=(Se,$e)=>{pe(Se),B($e),U(!0)},Xe=async()=>{if(!(!V||!ke))try{N(V.id),A(null),await nc.updateReportStatus(V.id,ke),te({title:ie.SUCCESS,description:Yr.UPDATE_SUCCESS}),U(!1),pe(null),B(null),await Q({silent:!0})}catch(Se){const $e=Se instanceof Error&&Se.message?Se.message:Yr.UPDATE_ERROR;A($e),te({title:ie.ERROR,description:$e,variant:"destructive"})}finally{N(null)}},it=Se=>{Se==="pause"&&(fe(""),H(null),ee("")),Se==="resume"&&ve("0"),se({isOpen:!0,actionType:Se})},Pe=async()=>{if(!(!e||!Y.actionType)){if(Y.actionType==="pause"){if(!q){te({title:ie.ERROR,description:"Vui lng chn loi bo co.",variant:"destructive"});return}if(q!=="other"&&!I){te({title:ie.ERROR,description:"Vui lng chn l do tm dng.",variant:"destructive"});return}const Se=we.trim();if(!Se){te({title:ie.ERROR,description:"Vui lng nhp l do tm dng.",variant:"destructive"});return}try{le(!0);const $e=await tt.pauseEnglishAuction({auctionId:e,reason:Se});if($e.isSuccess){const Ve=await tt.getEnglishAuctionById(e);Ve.isSuccess&&Ve.data&&s(Ve.data),te({title:ie.SUCCESS,description:ft.PAUSE_SUCCESS}),se({isOpen:!1,actionType:null}),fe(""),H(null),ee("")}else te({title:ie.ERROR,description:$e.message||ft.PAUSE_ERROR,variant:"destructive"})}catch($e){const Ve=$e instanceof Error?$e.message:ft.PAUSE_ERROR;te({title:ie.ERROR,description:Ve,variant:"destructive"})}finally{le(!1)}return}if(Y.actionType==="resume"){const Se=Math.max(0,Number(z)||0);try{le(!0);const $e=await tt.resumeEnglishAuction({auctionId:e,extendMinute:Se});if($e.isSuccess){const Ve=await tt.getEnglishAuctionById(e);Ve.isSuccess&&Ve.data&&s(Ve.data),await ne(e),te({title:ie.SUCCESS,description:ft.RESUME_SUCCESS}),se({isOpen:!1,actionType:null}),ve("0")}else te({title:ie.ERROR,description:$e.message||ft.RESUME_ERROR,variant:"destructive"})}catch($e){const Ve=$e instanceof Error?$e.message:ft.RESUME_ERROR;te({title:ie.ERROR,description:Ve,variant:"destructive"})}finally{le(!1)}return}}},Le={fraud:{title:"Gian ln",reasons:["S dng ti khon gi mo","Li dng li h thng  trc li","Gi ni dung lp hoc spam","Mo danh ngi khc","Thao tng nh gi / bnh chn","Cc hnh vi gian ln khc"]},wrongInfo:{title:"Thng tin sai lch",reasons:["Cung cp thng tin khng chnh xc","Thng tin c, li thi","Sai a ch, s in thoi, email","Tin gi / tin khng kim chng","Cc trng hp thng tin gy hiu lm khc"]},technical:{title:"Vn  k thut",reasons:["Li hin th / giao din","Li chc nng (khng click c, khng gi c)","Trang ti chm / crash","Li khi upload file / nh","Li lin quan n ng nhp / ng k","Cc li k thut khc"]},policy:{title:"Vi phm chnh sch",reasons:["Ni dung phn cm / nhy cm","Quy ri, e da ngi khc","Spam / qung co khng ng quy nh","Vi phm bn quyn / thng hiu","Cc hnh vi tri php lut hoc chnh sch khc"]}},Me=(()=>{if(Y.actionType==="pause"){const Se=q,$e=Se&&Se!=="other"?Le[Se].reasons:[];return a.jsxs("div",{className:"space-y-4 text-left",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Loi bo co",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[Object.entries(Le).map(([Ve,Vt],Rt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-category",value:Ve,checked:q===Ve,onChange:()=>{H(Ve),ee(""),fe("")}}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Rt+1,". ",Vt.title]})})]})},Ve)),a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-category",value:"other",checked:q==="other",onChange:()=>{H("other"),ee(""),fe("")}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"5. Khc"})})]})})]}),Se&&Se!=="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:$e.map((Ve,Vt)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",className:"mt-1",name:"reports-pause-reason-specific",value:Ve,checked:I===Ve,onChange:()=>{ee(Ve);const Rt=Le[Se].title;fe(`${Rt}: ${Ve}`)}}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-800",children:Ve})})]})},Vt))})]}),Se==="other"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["L do tm dng",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(rr,{rows:3,value:we,onChange:Ve=>fe(Ve.target.value),placeholder:"Nhp l do tm dng phin u gi..."})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"L do s xut hin trong lch s hot ng."})]})}return Y.actionType==="resume"?a.jsxs("div",{className:"space-y-2 text-left",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"reports-resume-extend",children:"Gia hn thm (pht)"}),a.jsx("input",{id:"reports-resume-extend",type:"number",min:0,value:z,onChange:Se=>ve(Se.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Nhp 0 nu khng cn gia hn."})]}):null})(),Ze=p.useMemo(()=>{if(!x?.items)return[];let Se=x.items;m.status&&(Se=Se.filter(Ve=>Ve.reportStatus===m.status)),m.type&&(Se=Se.filter(Ve=>Ve.reportType===m.type));const $e=T.trim().toLowerCase();return $e&&(Se=Se.filter(Ve=>Ve.note.toLowerCase().includes($e)||Ve.auctionId.toLowerCase().includes($e)||Ve.reporterId.toLowerCase().includes($e)||jf[Ve.reportType].toLowerCase().includes($e))),Se},[x,T,m.status,m.type]),lt=Ze.length,It=Math.max(1,Math.ceil(lt/R)),ln=(O-1)*R,Yn=Ze.slice(ln,ln+R),Cn=Se=>{switch(Se){case"Pending":return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:wa[Se]});case"InReview":return a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:wa[Se]});case"Resolved":return a.jsx(Re,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:wa[Se]});case"ActionTaken":return a.jsx(Re,{variant:"outline",className:"text-purple-600 border-purple-600",children:wa[Se]});case"Rejected":return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:wa[Se]});default:return a.jsx(Re,{variant:"outline",children:Se})}},Xn=Se=>new Date(Se).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Nt=()=>n.pathname.includes("/activity-history")?"activity-history":n.pathname.includes("/bid-history")?"bid-history":n.pathname.includes("/winner")?"winner":n.pathname.includes("/reports")?"reports":"overview",gr=Se=>{e&&(Se==="overview"?t(`/admin/auctions/${e}`):Se==="activity-history"?t(`/admin/auctions/${e}/activity-history`):Se==="bid-history"?t(`/admin/auctions/${e}/bid-history`):Se==="winner"?t(`/admin/auctions/${e}/winner`):Se==="reports"&&t(`/admin/auctions/${e}/reports`))};if(d)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"ang ti..."})})});if(!r)return a.jsx("div",{className:"mx-auto max-w-7xl p-4 sm:p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-600",children:"Khng tm thy phin u gi"})})});const zt=F.reduce((Se,$e)=>Se+$e.extendDurationInMinutes,0);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t(et.ADMIN_AUCTIONS),className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 text-base font-semibold mb-4",children:[a.jsx(cc,{className:"w-4 h-4"}),"Quay li"]}),a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Chi Tit Phin u Gi"})]}),r.status==="OnGoing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>it("pause"),className:"bg-amber-500 hover:bg-amber-600 text-white",disabled:K,children:[a.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Tm dng"]}),a.jsxs(ce,{onClick:()=>it("resume"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:K,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]}),r.status==="Pause"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{onClick:()=>it("resume"),className:"bg-emerald-600 hover:bg-emerald-700 text-white",disabled:K,children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Tip tc"]}),a.jsxs(ce,{onClick:()=>it("pause"),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",disabled:K,children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Hy"]})]})]}),a.jsx(Ws,{value:Nt(),onValueChange:gr,className:"w-full",children:a.jsxs(ts,{children:[a.jsx(bt,{value:"overview",children:"Tng Quan"}),a.jsx(bt,{value:"activity-history",children:"Lch S Hot ng"}),a.jsx(bt,{value:"bid-history",children:"Lch S u Gi"}),a.jsx(bt,{value:"winner",children:"Ngi Thng u Gi"}),a.jsx(bt,{value:"reports",children:"Bo Co"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(kd,{auction:r,farmName:o,totalExtendMinutes:zt,priceChanged:L}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"B lc"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:m.status??"",onChange:Se=>Ce("status",Se.target.value||void 0),children:[a.jsx("option",{value:"",children:"Tt c"}),wae.map(Se=>a.jsx("option",{value:Se,children:wa[Se]},Se))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi bo co"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:m.type??"",onChange:Se=>Ce("type",Se.target.value||void 0),children:[a.jsx("option",{value:"",children:"Tt c"}),Nae.map(Se=>a.jsx("option",{value:Se,children:jf[Se]},Se))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kch thc trang"}),a.jsx("select",{className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 bg-white h-10",value:R,onChange:Se=>Oe(Number(Se.target.value)),children:[10,20,50].map(Se=>a.jsxs("option",{value:Se,children:[Se," kt qu"]},Se))})]})]})]}),E&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:E})]}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch bo co"}),a.jsx("p",{className:"text-sm text-gray-600",children:j?"ang ti...":x?`Hin th ${Yn.length} / ${lt} bo co (tng ${x.totalCount})`:"Cha c d liu"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:T,onChange:Se=>_(Se.target.value),placeholder:"Tm theo ni dung, m phin...",className:"pl-9"})]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Q(),disabled:j,children:[a.jsx(ti,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),j?"ang ti...":"Lm mi"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:j?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left w-[12%] min-w-[110px]",children:"Loi bo co"}),a.jsx(xe,{className:"text-left w-[20%] min-w-[180px]",children:"Ni dung"}),a.jsx(xe,{className:"text-left w-[15%] min-w-[140px]",children:"M phin u gi"}),a.jsx(xe,{className:"text-left w-[15%] min-w-[140px]",children:"Ngi bo co"}),a.jsx(xe,{className:"text-left w-[10%] min-w-[110px]",children:"Trng thi"}),a.jsx(xe,{className:"text-left w-[13%] min-w-[130px]",children:"Ngy to"}),a.jsx(xe,{className:"text-right w-[15%] min-w-[150px]",children:"Thao tc"})]})}),a.jsx(sn,{children:[...Array(5)].map((Se,$e)=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"w-[14%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[28%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[18%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"w-[10%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"})}),a.jsx(be,{className:"w-[13%]",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:"text-right w-[17%]",children:a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 ml-auto"})})]},$e))})]}):Yn.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left w-[14%] min-w-[130px]",children:"Loi bo co"}),a.jsx(xe,{className:"text-left w-[28%] min-w-[220px]",children:"Ni dung"}),a.jsx(xe,{className:"text-left w-[18%] min-w-[160px]",children:"Ngi bo co"}),a.jsx(xe,{className:"text-left w-[10%] min-w-[120px]",children:"Trng thi"}),a.jsx(xe,{className:"text-left w-[13%] min-w-[140px]",children:"Ngy to"}),a.jsx(xe,{className:"text-right w-[17%] min-w-[180px]",children:"Thao tc"})]})}),a.jsx(sn,{children:Yn.map(Se=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:"min-h-[48px] w-[12%]",children:a.jsx("div",{className:"font-medium text-gray-900",children:jf[Se.reportType]})}),a.jsx(be,{className:"min-h-[48px] w-[20%]",children:a.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",title:Se.note,children:Se.note})}),a.jsx(be,{className:"text-sm min-h-[48px] w-[15%]",children:a.jsx("div",{className:"truncate max-w-[200px]",title:je[Se.reporterId]||Se.reporterId,children:je[Se.reporterId]||Se.reporterId})}),a.jsx(be,{className:"min-h-[48px] w-[10%]",children:Cn(Se.reportStatus)}),a.jsx(be,{className:"text-sm min-h-[48px] w-[13%]",children:Xn(Se.createdAt)}),a.jsx(be,{className:"text-right min-h-[48px] w-[15%]",children:Se.reportStatus==="Pending"?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Ie(Se,"InReview"),disabled:!!w,className:"text-emerald-600 border-emerald-600 hover:bg-emerald-50",children:[a.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Xem xt"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Ie(Se,"Rejected"),disabled:!!w,className:"text-red-600 border-red-600 hover:bg-red-50",children:[a.jsx(ri,{className:"h-4 w-4 mr-2"}),"T chi"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:""})})]},Se.id))})]}),It>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",O," / ",It]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Fe("prev"),disabled:j||O<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Fe("next"),disabled:j||O>=It,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(km,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:T?"Khng tm thy bo co":"Cha c bo co no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:T?"Th tm kim vi t kha khc hoc xa b lc":"Hin ti cha c bo co no cho phin u gi ny"}),T&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>_(""),children:"Xa tm kim"})]})})]})]}),a.jsx(Xt,{open:$,onOpenChange:U,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:ke==="InReview"?"text-emerald-600":"text-red-600",children:ke==="InReview"?"Xc nhn xem xt bo co":"Xc nhn t chi bo co"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:ke==="InReview"?"Bn c chc chn mun chuyn bo co ny sang trng thi 'ang xem xt'?":"Bn c chc chn mun t chi bo co ny? Hnh ng ny khng th hon tc."}),V&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Loi: ",jf[V.reportType]]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",title:V.note,children:V.note}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ngi bo co: ",je[V.reporterId]||V.reporterId]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{U(!1),pe(null),B(null)},disabled:!!w,children:"Hy"}),a.jsx(ce,{onClick:Xe,disabled:!!w,className:ke==="InReview"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:w?a.jsxs(a.Fragment,{children:[a.jsx(ti,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:ke==="InReview"?a.jsxs(a.Fragment,{children:[a.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Xc nhn xem xt"]}):a.jsxs(a.Fragment,{children:[a.jsx(ri,{className:"h-4 w-4 mr-2"}),"Xc nhn t chi"]})})})]})]})]})}),Y.actionType&&a.jsx(Xt,{open:Y.isOpen,onOpenChange:Se=>{Se||(se({isOpen:!1,actionType:null}),fe(""),H(null),ee(""),ve("0"))},children:a.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:Y.actionType==="pause"?"text-amber-600":"text-emerald-600",children:Y.actionType==="pause"?"Tm dng phin u gi":"Tip tc phin u gi"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:Y.actionType==="pause"?"Nhp l do tm dng, phin s b kha vi ngi tham gia.":"Thit lp thi gian gia hn (nu cn) ri m li phin."}),Me,a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{se({isOpen:!1,actionType:null}),fe(""),H(null),ee(""),ve("0")},disabled:K,children:"Hy"}),a.jsx(ce,{onClick:Pe,disabled:K,className:Y.actionType==="pause"?"bg-amber-500 hover:bg-amber-600 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white",children:K?a.jsxs(a.Fragment,{children:[a.jsx(ti,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:Y.actionType==="pause"?a.jsxs(a.Fragment,{children:[a.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Tm dng"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Tip tc"]})})})]})]})]})})]})}function Eae(){const{token:e}=Hs(),n=(()=>{try{const o=localStorage.getItem("currentUser");if(o)return JSON.parse(o)}catch(o){console.error("Li khi c thng tin ngi dng:",o)}return null})(),r=o=>o?new Date(o).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",s=o=>o?a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600",children:"C"}):a.jsx(Re,{variant:"outline",className:"text-gray-600 border-gray-600",children:"Khng"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold text-gray-900 mb-2",children:"Ci t h thng"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Thng tin ti khon ca bn"})]}),a.jsxs(at,{className:"card-responsive",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-responsive-xl font-semibold text-gray-900 mb-2",children:"Thng tin c nhn"})}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:n.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"H"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.firstName||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.lastName||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"H v tn"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:`${n.firstName} ${n.lastName}`.trim()||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S in thoi"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.phoneNumber||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"a ch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.address||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"X/Phng"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.communes||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tnh/Thnh ph"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.province||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vai tr ID"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:n.roleId||""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vai tr"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:typeof n.role=="string"?n.role:n.roleObject?.name||n.roleObject?.fullName||n.roleId||""})]}),n.roleObject&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Chi tit vai tr"}),a.jsx("div",{className:"mt-1",children:a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:n.roleObject?.name||n.roleObject?.fullName||n.roleId||(typeof n.role=="string"?n.role:"")})})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Trng thi ti khon"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email  xc nhn"}),a.jsx("div",{className:"mt-1",children:s(n.emailConfirmed)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S in thoi  xc nhn"}),a.jsx("div",{className:"mt-1",children:s(n.phoneNumberConfirmed)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Xc thc hai yu t"}),a.jsx("div",{className:"mt-1",children:s(n.twoFactorEnabled)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Kha ti khon"}),a.jsx("div",{className:"mt-1",children:s(n.lockoutEnabled)})]}),n.lockoutEnd&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy ht hn kha"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.lockoutEnd)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"S ln ng nhp sai"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.accessFailedCount||0})]})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thng tin h thng"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.createdAt)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r(n.updatedAt)})]}),e&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Token (n mt phn)"}),a.jsxs("p",{className:"text-sm text-gray-900 mt-1 font-mono break-all",children:[e.substring(0,20),"...",e.substring(e.length-20)]})]})]})]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ngi dng."})]})]})}function Cae(){return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:"Tr gip & lin h"})}const Aae=["Pending","InReview","Resolved","ActionTaken","Rejected"],Tae=["Fraud","FalseInformation","TechnicalIssue","PolicyViolated","Other"],wf={Fraud:"Gian ln",FalseInformation:"Thng tin sai",TechnicalIssue:"Li k thut",PolicyViolated:"Vi phm chnh sch",Other:"Khc"},Dr="text-left px-3 py-2 text-xs whitespace-nowrap",Pr="px-3 py-2 text-xs align-top";function _ae(){const[e,t]=p.useState({pageNumber:1,pageSize:10}),[n,r]=p.useState(null),[s,o]=p.useState(!1),[u,d]=p.useState(null),[f,m]=p.useState(null),[g,x]=p.useState(""),[b,j]=p.useState({}),[S,w]=p.useState({}),[N,E]=p.useState(!1),[A,T]=p.useState(null),[_,O]=p.useState(null),{toast:k}=$n(),R=(U,V)=>{t(pe=>({...pe,[U]:V||void 0,pageNumber:1}))},P=p.useCallback(async(U={})=>{const{silent:V=!1}=U;try{o(!0),m(null);const pe=await nc.getReports(e);pe.data&&(r(pe.data),V||k({title:ie.SUCCESS,description:Yr.FETCH_SUCCESS}))}catch(pe){const ke=pe instanceof Error&&pe.message?pe.message:Yr.FETCH_ERROR;m(ke),k({title:ie.ERROR,description:ke,variant:"destructive"})}finally{o(!1)}},[e,k]);p.useEffect(()=>{(async()=>{try{const V={};let pe=1,ke=!0;const B=100;for(;ke;){const le=await tt.getEnglishAuctions(void 0,pe,B);if(le.isSuccess&&le.data?.items){const Y=le.data.items;Y.forEach(se=>{V[se.id]=se.sessionCode||se.id}),ke=Y.length===B,pe++}else ke=!1}j(V);const K=await jr.list();if(K.isSuccess&&K.data){const le=K.data,Y=Array.isArray(le)?le:le?.items??[],se={};Y.forEach(we=>{se[we.id]=`${we.firstName} ${we.lastName}`.trim()||we.email}),w(se)}}catch(V){console.error("Error fetching auction and user data:",V)}})()},[]),p.useEffect(()=>{P({silent:!0})},[P]);const F=U=>{t(V=>({...V,pageNumber:Math.max(1,(V.pageNumber??1)+(U==="next"?1:-1))}))},re=(U,V)=>{T(U),O(V),E(!0)},L=async()=>{if(!(!A||!_))try{d(A.id),m(null),await nc.updateReportStatus(A.id,_),k({title:ie.SUCCESS,description:Yr.UPDATE_SUCCESS}),E(!1),T(null),O(null),await P({silent:!0})}catch(U){const V=U instanceof Error&&U.message?U.message:Yr.UPDATE_ERROR;m(V),k({title:ie.ERROR,description:V,variant:"destructive"})}finally{d(null)}},G=p.useCallback(U=>b[U]||U,[b]),J=p.useCallback(U=>S[U]||U,[S]),je=p.useMemo(()=>{if(!n?.items)return[];const U=g.trim().toLowerCase();return(U?n.items.filter(pe=>pe.note.toLowerCase().includes(U)||pe.auctionId.toLowerCase().includes(U)||G(pe.auctionId).toLowerCase().includes(U)||pe.reporterId.toLowerCase().includes(U)||J(pe.reporterId).toLowerCase().includes(U)||wf[pe.reportType].toLowerCase().includes(U)):n.items).sort((pe,ke)=>{const B=new Date(pe.createdAt).getTime();return new Date(ke.createdAt).getTime()-B})},[n,g,G,J]),ge=U=>{switch(U){case"Pending":return a.jsx(Re,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:wa[U]});case"InReview":return a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600",children:wa[U]});case"Resolved":return a.jsx(Re,{variant:"outline",className:"text-emerald-600 border-emerald-600",children:wa[U]});case"ActionTaken":return a.jsx(Re,{variant:"outline",className:"text-purple-600 border-purple-600",children:wa[U]});case"Rejected":return a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600",children:wa[U]});default:return a.jsx(Re,{variant:"outline",children:U})}},$=U=>new Date(U).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bo co"}),a.jsx("p",{className:"text-base text-gray-600",children:"Qun l bo co v cp nht trng thi x l."})]}),a.jsxs(at,{className:"p-6",children:[a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Danh sch bo co"}),a.jsx("p",{className:"text-sm text-gray-600",children:s?"ang ti...":n?`Hin th ${je.length} / ${n.totalCount} bo co`:"Cha c d liu"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:g,onChange:U=>x(U.target.value),placeholder:"Tm theo ni dung, m phin...",className:"pl-9"})]}),a.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>P(),disabled:s,children:[a.jsx(ti,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"ang ti...":"Lm mi"]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>R("status",void 0),className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${e.status?"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700":"border-emerald-500 bg-emerald-50 text-emerald-700"}`,children:["Tt c trng thi",n&&a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:n.totalCount})]}),Aae.map(U=>{const V=n?.items?.filter(pe=>pe.reportStatus===U).length??0;return a.jsxs("button",{type:"button",onClick:()=>R("status",U),className:`rounded-2xl border px-4 py-2 text-sm font-semibold transition ${e.status===U?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[wa[U],n&&a.jsx("span",{className:"ml-2 rounded-full bg-white px-2 py-0.5 text-xs",children:V})]},U)}),a.jsxs("div",{className:"relative",children:[a.jsx(ad,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${e.type?"text-emerald-600":"text-gray-400"}`}),a.jsxs("select",{value:e.type??"",onChange:U=>R("type",U.target.value||void 0),className:`appearance-none rounded-2xl border px-10 py-2 pr-8 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-1 ${e.type?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-600 hover:border-emerald-200 hover:text-emerald-700"}`,children:[a.jsx("option",{value:"",children:"Tt c loi bo co"}),Tae.map(U=>{const V=n?.items?.filter(pe=>pe.reportType===U).length??0;return a.jsxs("option",{value:U,children:[wf[U]," ",n&&`(${V})`]},U)})]}),a.jsx(Om,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none ${e.type?"text-emerald-600":"text-gray-400"}`})]})]}),f&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:f})]}),a.jsx("div",{className:"overflow-x-auto",children:s?a.jsxs(rn,{className:"text-xs",children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:`${Dr} w-[12%] min-w-[110px]`,children:"Loi bo co"}),a.jsx(xe,{className:`${Dr} w-[20%] min-w-[180px]`,children:"Ni dung"}),a.jsx(xe,{className:`${Dr} w-[15%] min-w-[140px]`,children:"M phin u gi"}),a.jsx(xe,{className:`${Dr} w-[15%] min-w-[140px]`,children:"Ngi bo co"}),a.jsx(xe,{className:`${Dr} w-[10%] min-w-[110px]`,children:"Trng thi"}),a.jsx(xe,{className:`${Dr} w-[13%] min-w-[130px]`,children:"Ngy to"}),a.jsx(xe,{className:`${Dr} text-right w-[15%] min-w-[150px]`,children:"Thao tc"})]})}),a.jsx(sn,{children:[...Array(5)].map((U,V)=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:`${Pr} w-[12%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:`${Pr} w-[20%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:`${Pr} w-[15%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:`${Pr} w-[15%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:`${Pr} w-[10%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-16"})}),a.jsx(be,{className:`${Pr} w-[13%]`,children:a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})}),a.jsx(be,{className:`${Pr} text-right w-[15%]`,children:a.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-20 ml-auto"})})]},V))})]}):je.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(rn,{className:"text-xs",children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:`${Dr} w-[12%] min-w-[110px]`,children:"Loi bo co"}),a.jsx(xe,{className:`${Dr} w-[20%] min-w-[180px]`,children:"Ni dung"}),a.jsx(xe,{className:`${Dr} w-[15%] min-w-[140px]`,children:"M phin u gi"}),a.jsx(xe,{className:`${Dr} w-[15%] min-w-[140px]`,children:"Ngi bo co"}),a.jsx(xe,{className:`${Dr} w-[10%] min-w-[110px]`,children:"Trng thi"}),a.jsx(xe,{className:`${Dr} w-[13%] min-w-[130px]`,children:"Ngy to"}),a.jsx(xe,{className:`${Dr} text-right w-[15%] min-w-[150px]`,children:"Thao tc"})]})}),a.jsx(sn,{children:je.map(U=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{className:`${Pr} w-[12%]`,children:a.jsx("div",{className:"font-medium text-gray-900 truncate",children:wf[U.reportType]})}),a.jsx(be,{className:`${Pr} w-[20%]`,children:a.jsx("div",{className:"text-xs text-gray-700 line-clamp-2",title:U.note,children:U.note})}),a.jsx(be,{className:`${Pr} w-[15%]`,children:a.jsx("div",{className:"truncate max-w-[200px]",title:G(U.auctionId),children:G(U.auctionId)})}),a.jsx(be,{className:`${Pr} w-[15%]`,children:a.jsx("div",{className:"truncate max-w-[200px]",title:J(U.reporterId),children:J(U.reporterId)})}),a.jsx(be,{className:`${Pr} w-[10%]`,children:ge(U.reportStatus)}),a.jsx(be,{className:`${Pr} w-[13%]`,children:$(U.createdAt)}),a.jsx(be,{className:`${Pr} text-right w-[15%]`,children:U.reportStatus==="Pending"?a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(ce,{size:"sm",onClick:()=>re(U,"InReview"),disabled:!!u,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Xem xt"]}),a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>re(U,"Rejected"),disabled:!!u,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600",children:[a.jsx(ri,{className:"h-4 w-4 mr-2"}),"T chi"]})]}):a.jsx("span",{className:"text-sm text-gray-500",children:""})})]},U.id))})]}),n&&n.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-end mt-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600 mr-4",children:["Trang ",n.pageNumber," / ",n.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>F("prev"),disabled:s||n.previousPage===!1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>F("next"),disabled:s||n.nextPage===!1,children:"Sau"})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(km,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g?"Khng tm thy bo co":"Cha c bo co no"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:g?"Th tm kim vi t kha khc hoc xa b lc":"Hin ti cha c bo co no trong h thng"}),g&&a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>x(""),children:"Xa tm kim"})]})})]}),a.jsx(Xt,{open:N,onOpenChange:E,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:_==="InReview"?"text-emerald-600":"text-red-600",children:_==="InReview"?"Xc nhn xem xt bo co":"Xc nhn t chi bo co"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:_==="InReview"?"Bn c chc chn mun chuyn bo co ny sang trng thi 'ang xem xt'?":"Bn c chc chn mun t chi bo co ny? Hnh ng ny khng th hon tc."}),A&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Loi: ",wf[A.reportType]]}),a.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",title:A.note,children:A.note}),a.jsxs("p",{className:"text-xs text-gray-500",children:["M phin: ",G(A.auctionId)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{E(!1),T(null),O(null)},disabled:!!u,children:"Hy"}),a.jsx(ce,{onClick:L,disabled:!!u,className:_==="InReview"?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ti,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):a.jsx(a.Fragment,{children:_==="InReview"?a.jsxs(a.Fragment,{children:[a.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Xc nhn xem xt"]}):a.jsxs(a.Fragment,{children:[a.jsx(ri,{className:"h-4 w-4 mr-2"}),"Xc nhn t chi"]})})})]})]})]})})]})}const Rae={0:"Hot ng",1:"Tm ngng",2:" ng"},Oae={0:"Ch duyt",1:" duyt",2:" t chi",3:" hon thnh",4:" hy"},b_={0:"PayOS",1:"Wallet"},kae={1:"Thanh ton Escrow",2:"Gii phng Escrow",3:"Hon tin Escrow",4:"Np tin",5:"Rt tin",6:"Thanh ton phn cn li Escrow",7:"Ph tham gia u gi",8:"Hon ph tham gia u gi",9:"Ph u gi"},Dae=e=>{const t={0:"text-green-600 border-green-600",1:"text-yellow-600 border-yellow-600",2:"text-red-600 border-red-600"};return a.jsx(Re,{variant:"outline",className:t[e],children:Rae[e]})},j_=e=>{const t={0:"text-yellow-600 border-yellow-600 bg-yellow-50",1:"text-blue-600 border-blue-600 bg-blue-50",2:"text-red-600 border-red-600 bg-red-50",3:"text-green-600 border-green-600 bg-green-50",4:"text-gray-600 border-gray-600 bg-gray-50"};return a.jsx(Re,{variant:"outline",className:t[e],children:Oae[e]})},_s=e=>new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),w_=e=>{if(!e)return"";let t=e.replace(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,"");return t=t.replace(/auction\s*:?\s*[0-9a-f-]+/gi,""),t=t.replace(/auctionId\s*:?\s*[0-9a-f-]+/gi,""),t=t.replace(/\s*[,:]\s*/g," ").replace(/\s+/g," ").trim(),t||""};function Pae(){const{toast:e}=$n(),t=mr(),[n,r]=p.useState(null),[s,o]=p.useState([]),[u,d]=p.useState(!0),[f,m]=p.useState(!1),[g,x]=p.useState(""),[b,j]=p.useState("all"),[S,w]=p.useState(""),[N,E]=p.useState(""),[A,T]=p.useState([]),[_,O]=p.useState(!1),[k,R]=p.useState(""),[P,F]=p.useState("all"),[re,L]=p.useState(!1),[G,J]=p.useState(!1),[je,ge]=p.useState(!1),[$,U]=p.useState(null),[V,pe]=p.useState(""),[ke,B]=p.useState(null),[K,le]=p.useState(null),[Y,se]=p.useState(!1),[we,fe]=p.useState(null),[q,H]=p.useState(!1),[I,ee]=p.useState(null),[z,ve]=p.useState(!1),[te,W]=p.useState(null),[Q,ne]=p.useState(!1),[Ce,Fe]=p.useState(null),[Oe,Ie]=p.useState(null),[Xe,it]=p.useState(!1),[Pe,Le]=p.useState(!1),[Me,Ze]=p.useState(null),[lt,It]=p.useState(null),[ln,Yn]=p.useState(null),[Cn,Xn]=p.useState(null),[Nt,gr]=p.useState(!1),[zt,Se]=p.useState(null),[$e,Ve]=p.useState(!1),Vt=p.useCallback(async()=>{try{console.log("[WalletPage] Fetching system wallet...");const M=await On.getSystemWallet();return console.log("[WalletPage] System wallet response:",M),M.isSuccess&&M.data?(console.log("[WalletPage] Wallet data:",M.data),r(M.data),M.data):(console.error("[WalletPage] Failed to get wallet:",M.message),e({title:ie.ERROR,description:M.message||"Khng th ti thng tin v",variant:"destructive"}),null)}catch(M){console.error("[WalletPage] Error fetching wallet:",M);const oe=M instanceof Error?M.message:" xy ra li khi ti thng tin v";return e({title:ie.ERROR,description:oe,variant:"destructive"}),null}},[e]),Rt=p.useCallback(async M=>{try{m(!0),console.log("[WalletPage] Fetching ledgers for wallet:",M);const oe=await On.getLedgersByWallet(M);if(console.log("[WalletPage] Ledgers response:",oe),oe.isSuccess&&oe.data){console.log("[WalletPage] Ledgers data:",oe.data);const Ne=[...oe.data].sort((Ht,ia)=>Ht.createdAt&&ia.createdAt?new Date(ia.createdAt).getTime()-new Date(Ht.createdAt).getTime():ia.balanceAfter-Ht.balanceAfter);o(Ne)}else console.error("[WalletPage] Failed to get ledgers:",oe.message),e({title:ie.ERROR,description:oe.message||"Khng th ti lch s giao dch",variant:"destructive"})}catch(oe){console.error("[WalletPage] Error fetching ledgers:",oe);const Ne=oe instanceof Error?oe.message:" xy ra li khi ti lch s giao dch";e({title:ie.ERROR,description:Ne,variant:"destructive"})}finally{m(!1)}},[e]),St=p.useCallback(async()=>{try{O(!0);const M=await On.getWithdrawRequests();if(M.isSuccess&&M.data){const oe=[...M.data].sort((Ne,Ht)=>Ne.createdAt&&Ht.createdAt?new Date(Ht.createdAt).getTime()-new Date(Ne.createdAt).getTime():0);T(oe)}else e({title:ie.ERROR,description:M.message||"Khng th ti danh sch yu cu rt tin",variant:"destructive"})}catch(M){const oe=M instanceof Error?M.message:" xy ra li khi ti danh sch yu cu rt tin";e({title:ie.ERROR,description:oe,variant:"destructive"})}finally{O(!1)}},[e]),Cr=p.useCallback(M=>{U(M),J(!0)},[]),Da=p.useCallback(async()=>{if($)try{B($.id);const M=await On.approveWithdrawRequest($.id);M.isSuccess&&M.data?(e({title:ie.SUCCESS,description:"Duyt yu cu rt tin thnh cng",variant:"default"}),J(!1),U(null),await St()):e({title:ie.ERROR,description:M.message||"Khng th duyt yu cu rt tin",variant:"destructive"})}catch(M){const oe=M instanceof Error?M.message:" xy ra li khi duyt yu cu rt tin";e({title:ie.ERROR,description:oe,variant:"destructive"})}finally{B(null)}},[e,St,$]),ra=p.useCallback(async(M,oe)=>{try{B(M);const Ne=await On.rejectWithdrawRequest(M,oe?{reason:oe}:void 0);Ne.isSuccess&&Ne.data?(e({title:ie.SUCCESS,description:"T chi yu cu rt tin thnh cng",variant:"default"}),L(!1),pe(""),U(null),await St()):e({title:ie.ERROR,description:Ne.message||"Khng th t chi yu cu rt tin",variant:"destructive"})}catch(Ne){const Ht=Ne instanceof Error?Ne.message:" xy ra li khi t chi yu cu rt tin";e({title:ie.ERROR,description:Ht,variant:"destructive"})}finally{B(null)}},[e,St]),Sc=p.useCallback(M=>{U(M),ge(!0)},[]),Vl=p.useCallback(async()=>{if($)try{B($.id);const M=await On.completeWithdrawRequest($.id);M.isSuccess&&M.data?(e({title:ie.SUCCESS,description:"Hon thnh yu cu rt tin thnh cng",variant:"default"}),ge(!1),U(null),await St()):e({title:ie.ERROR,description:M.message||"Khng th hon thnh yu cu rt tin",variant:"destructive"})}catch(M){const oe=M instanceof Error?M.message:" xy ra li khi hon thnh yu cu rt tin";e({title:ie.ERROR,description:oe,variant:"destructive"})}finally{B(null)}},[e,St,$]);p.useEffect(()=>{(async()=>{d(!0);const oe=await Vt();oe&&await Rt(oe.id),d(!1)})()},[]),p.useEffect(()=>{St()},[St]);const Ys=p.useCallback(async M=>{try{const oe=await On.getWithdrawRequestById(M);if(oe.isSuccess&&oe.data){if(le(oe.data),oe.data.userId)try{ve(!0);const Ne=await jr.getById(oe.data.userId);Ne.isSuccess&&Ne.data&&ee(Ne.data)}catch(Ne){console.error("Error fetching user info:",Ne)}finally{ve(!1)}if(oe.data.walletId)try{ne(!0);const Ne=await On.getWalletById(oe.data.walletId);Ne.isSuccess&&Ne.data&&W(Ne.data)}catch(Ne){console.error("Error fetching wallet info:",Ne)}finally{ne(!1)}if(oe.data.userBankAccountId)try{H(!0);const Ne=await On.getUserBankAccountById(oe.data.userBankAccountId);Ne.isSuccess&&Ne.data&&fe(Ne.data)}catch(Ne){console.error("Error fetching bank account:",Ne)}finally{H(!1)}}}catch{e({title:ie.ERROR,description:"Khng th ti chi tit yu cu rt tin",variant:"destructive"})}},[e]),Ga=()=>{(async()=>{d(!0);const oe=await Vt();oe&&await Rt(oe.id),d(!1)})(),St()},ns=async M=>{U(M),fe(null),ee(null),W(null),se(!0),await Ys(M.id)},Ec=p.useCallback(async M=>{if(Ze(null),It(null),Yn(null),Xn(null),!(!M.fromWalletId&&!M.toWalletId))try{if(gr(!0),M.fromWalletId)try{const oe=await On.getWalletById(M.fromWalletId);if(oe.isSuccess&&oe.data&&(Ze(oe.data),oe.data.userId)){const Ne=await jr.getById(oe.data.userId);Ne.isSuccess&&Ne.data&&Yn(Ne.data)}}catch(oe){console.error("Error fetching from wallet/user:",oe)}if(M.toWalletId)try{const oe=await On.getWalletById(M.toWalletId);if(oe.isSuccess&&oe.data&&(It(oe.data),oe.data.userId)){const Ne=await jr.getById(oe.data.userId);Ne.isSuccess&&Ne.data&&Xn(Ne.data)}}catch(oe){console.error("Error fetching to wallet/user:",oe)}}finally{gr(!1)}},[]),Xs=p.useCallback(async M=>{Se(null);try{if(Ve(!0),console.log("[loadRelatedEntityInfo] Transaction:",{transactionType:M.transactionType,escrowId:M.escrowId,relatedEntityId:M.relatedEntityId,relatedEntityType:M.relatedEntityType}),(M.transactionType===1||M.transactionType===6)&&M.escrowId&&M.escrowId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow:",M.escrowId);const oe=await On.getEscrowById(M.escrowId);if(console.log("[loadRelatedEntityInfo] Escrow response:",oe),oe.isSuccess&&oe.data){const Ne=oe.data;if(console.log("[loadRelatedEntityInfo] Escrow data:",Ne),Ne.auctionId&&Ne.auctionId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow by auctionId:",Ne.auctionId);const Ht=await On.getEscrowByAuctionId(Ne.auctionId);console.log("[loadRelatedEntityInfo] Escrow by auction response:",Ht);const ia=await tt.getEnglishAuctionById(Ne.auctionId);if(ia.isSuccess&&ia.data){console.log("[loadRelatedEntityInfo] Auction loaded successfully:",ia.data),Se(ia.data);return}}catch(Ht){console.error("[loadRelatedEntityInfo] Error fetching escrow/auction or auction:",Ht)}if(Ne.buyRequestId&&Ne.buyRequestId!=="00000000-0000-0000-0000-000000000000")try{console.log("[loadRelatedEntityInfo] Loading escrow by buyRequestId:",Ne.buyRequestId);const Ht=await On.getEscrowByBuyRequestId(Ne.buyRequestId);console.log("[loadRelatedEntityInfo] Escrow by buyRequest response:",Ht)}catch(Ht){console.error("[loadRelatedEntityInfo] Error fetching escrow/buyrequest:",Ht)}!Ne.auctionId&&!Ne.buyRequestId&&console.log("[loadRelatedEntityInfo] Escrow does not have auctionId or buyRequestId, trying fallback")}else console.warn("[loadRelatedEntityInfo] Escrow API failed:",oe.message)}catch(oe){console.error("[loadRelatedEntityInfo] Error fetching escrow detail:",oe)}if(M.relatedEntityId&&M.relatedEntityId!=="00000000-0000-0000-0000-000000000000"&&(M.relatedEntityType||(M.transactionType===7||M.transactionType===8||M.transactionType===9?"Auction":null))==="Auction"&&M.relatedEntityId)try{console.log("[loadRelatedEntityInfo] Loading auction from relatedEntityId:",M.relatedEntityId);const Ne=await tt.getEnglishAuctionById(M.relatedEntityId);if(Ne.isSuccess&&Ne.data){console.log("[loadRelatedEntityInfo] Auction loaded from relatedEntityId:",Ne.data),Se(Ne.data);return}}catch(Ne){console.error("[loadRelatedEntityInfo] Error fetching auction detail:",Ne)}}finally{Ve(!1)}},[]),Wl=p.useCallback(async M=>{fe(null),ee(null),W(null),se(!0);try{const oe=await On.getWithdrawRequestById(M);if(oe.isSuccess&&oe.data){if(U(oe.data),le(oe.data),oe.data.userId)try{ve(!0);const Ne=await jr.getById(oe.data.userId);Ne.isSuccess&&Ne.data&&ee(Ne.data)}catch(Ne){console.error("Error fetching user info:",Ne)}finally{ve(!1)}if(oe.data.walletId)try{ne(!0);const Ne=await On.getWalletById(oe.data.walletId);Ne.isSuccess&&Ne.data&&W(Ne.data)}catch(Ne){console.error("Error fetching wallet info:",Ne)}finally{ne(!1)}if(oe.data.userBankAccountId)try{H(!0);const Ne=await On.getUserBankAccountById(oe.data.userBankAccountId);Ne.isSuccess&&Ne.data&&fe(Ne.data)}catch(Ne){console.error("Error fetching bank account:",Ne)}finally{H(!1)}}else e({title:ie.ERROR,description:oe.message||"Khng th ti chi tit yu cu rt tin",variant:"destructive"})}catch(oe){const Ne=oe instanceof Error?oe.message:" xy ra li khi ti chi tit yu cu rt tin";e({title:ie.ERROR,description:Ne,variant:"destructive"})}},[e]),aa=p.useMemo(()=>{let M=s;if(g){const oe=g.toLowerCase();M=M.filter(Ne=>Ne.description.toLowerCase().includes(oe)||Ne.transactionId.toLowerCase().includes(oe)||Ne.walletId.toLowerCase().includes(oe))}if(b!=="all"&&(M=M.filter(oe=>oe.direction===Number(b))),S){const oe=new Date(S);oe.setHours(0,0,0,0),M=M.filter(Ne=>{if(!Ne.createdAt)return!1;const Ht=new Date(Ne.createdAt);return Ht.setHours(0,0,0,0),Ht>=oe})}if(N){const oe=new Date(N);oe.setHours(23,59,59,999),M=M.filter(Ne=>Ne.createdAt?new Date(Ne.createdAt)<=oe:!1)}return M},[s,g,b,S,N]),rs=p.useMemo(()=>{let M=A;if(k){const oe=k.toLowerCase();M=M.filter(Ne=>Ne.id.toLowerCase().includes(oe)||Ne.userId.toLowerCase().includes(oe)||Ne.walletId.toLowerCase().includes(oe)||Ne.userBankAccountId.toLowerCase().includes(oe))}return P!=="all"&&(M=M.filter(oe=>oe.status===P)),M},[A,k,P]),Qs=M=>{U(M),pe(""),L(!0)},Yl=()=>{$&&ra($.id,V)};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l v"}),a.jsx("p",{className:"text-gray-600",children:"Qun l s d, lch s giao dch v yu cu rt tin"})]}),a.jsx(at,{className:"mb-6",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"S d hin ti"}),u?a.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}):a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:n?st(n.balance):""}),n&&a.jsx("div",{className:"mt-3 flex items-center gap-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Trng thi:"})," ",Dae(n.walletStatus)]})})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(ce,{variant:"outline",onClick:Ga,disabled:u||f||_,children:[a.jsx(ti,{className:`w-4 h-4 mr-2 ${u||f||_?"animate-spin":""}`}),"Lm mi"]})})]})})}),a.jsxs(Ws,{defaultValue:"system-wallet",className:"w-full",children:[a.jsxs(ts,{className:"mb-6",children:[a.jsx(bt,{value:"system-wallet",children:"V h thng"}),a.jsx(bt,{value:"withdraw-requests",children:"Yu cu rt tin"})]}),a.jsx(Mi,{value:"system-wallet",children:a.jsx(at,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Lch s giao dch"}),a.jsx("p",{className:"text-sm text-gray-600",children:f?"ang ti...":a.jsxs(a.Fragment,{children:["Hin th ",aa.length," / ",s.length," giao dch"]})})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(nn,{placeholder:"Tm kim theo m t, m giao dch...",value:g,onChange:M=>x(M.target.value),className:"pl-10"})]}),a.jsx("div",{children:a.jsxs("select",{value:b,onChange:M=>{const oe=M.target.value;j(oe==="all"?"all":Number(oe))},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c giao dch"}),a.jsx("option",{value:"1",children:"Tin vo"}),a.jsx("option",{value:"2",children:"Tin ra"})]})}),a.jsx("div",{children:a.jsx(nn,{type:"date",placeholder:"T ngy",value:S,onChange:M=>w(M.target.value),className:"w-full"})}),a.jsx("div",{children:a.jsx(nn,{type:"date",placeholder:"n ngy",value:N,onChange:M=>E(M.target.value),className:"w-full",min:S||void 0})})]}),(g||b!=="all"||S||N)&&a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{x(""),j("all"),w(""),E("")},className:"h-8 px-3 text-xs",children:[a.jsx(ql,{className:"w-3 h-3 mr-1"}),"Xa b lc"]})})]}),f?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"ang ti lch s giao dch..."})}):aa.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Cha c giao dch no"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[15%]",children:"S tin"}),a.jsx(xe,{className:"w-[15%]",children:"S d sau"}),a.jsx(xe,{className:"w-[30%]",children:"M t"}),a.jsx(xe,{className:"w-[20%]",children:"Thi gian"}),a.jsx(xe,{className:"w-[20%] text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:aa.map((M,oe)=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{children:a.jsxs("span",{className:`font-semibold ${M.direction===1?"text-green-600":"text-red-600"}`,children:[M.direction===1?"+":"-",st(M.amount)]})}),a.jsx(be,{children:a.jsx("span",{className:"font-medium text-gray-900",children:st(M.balanceAfter)})}),a.jsx(be,{children:a.jsx("div",{className:"truncate max-w-[300px]",title:w_(M.description),children:w_(M.description)})}),a.jsx(be,{children:M.createdAt?a.jsx("span",{className:"text-sm text-gray-600",children:_s(M.createdAt)}):a.jsx("span",{className:"text-sm text-gray-400",children:""})}),a.jsx(be,{className:"text-right",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:async()=>{Fe(M.transactionId),Le(!0),it(!0);try{const Ne=await On.getTransactionById(M.transactionId);Ne.isSuccess&&Ne.data&&(Ie(Ne.data),await Ec(Ne.data),await Xs(Ne.data))}catch{e({title:ie.ERROR,description:"Khng th ti thng tin giao dch",variant:"destructive"})}finally{it(!1)}},className:"h-8 px-3 text-xs",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),"Xem chi tit"]})})]},M.id||`${M.transactionId}-${oe}`))})]})})]})})}),a.jsx(Mi,{value:"withdraw-requests",children:a.jsx(at,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Yu cu rt tin"}),a.jsx("p",{className:"text-sm text-gray-600",children:_?"ang ti...":`Tng ${rs.length} yu cu`})]})}),a.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(nn,{placeholder:"Tm kim theo s tin, l do...",value:k,onChange:M=>R(M.target.value),className:"pl-10"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("select",{value:P,onChange:M=>F(M.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:0,children:"Ch duyt"}),a.jsx("option",{value:1,children:" duyt"}),a.jsx("option",{value:2,children:" t chi"}),a.jsx("option",{value:3,children:" hon thnh"}),a.jsx("option",{value:4,children:" hy"})]})})]}),_?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kn,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-500",children:"ang ti danh sch yu cu rt tin..."})]}):rs.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Khng tm thy yu cu rt tin no"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[15%]",children:"S tin"}),a.jsx(xe,{className:"w-[15%]",children:"Trng thi"}),a.jsx(xe,{className:"w-[18%]",children:"Ngy to"}),a.jsx(xe,{className:"w-[20%]",children:"L do"}),a.jsx(xe,{className:"w-[32%] text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:rs.map(M=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{children:a.jsx("span",{className:"font-semibold text-gray-900",children:st(M.amount)})}),a.jsx(be,{children:j_(M.status)}),a.jsx(be,{children:a.jsx("span",{className:"text-sm text-gray-600",children:_s(M.createdAt)})}),a.jsx(be,{children:a.jsx("span",{className:"text-sm text-gray-600",children:M.reason||""})}),a.jsx(be,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>ns(M),className:"h-8 px-3 text-xs",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),"Chi tit"]}),M.status===0&&a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx(ce,{size:"sm",onClick:()=>Cr(M),disabled:!!ke,className:"bg-emerald-600 hover:bg-emerald-700 text-white flex-1 min-w-[90px] text-xs",children:" Duyt"}),a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>Qs(M),disabled:!!ke,className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-600 flex-1 min-w-[90px] text-xs",children:" T chi"})]}),M.status===1&&a.jsxs(ce,{size:"sm",onClick:()=>Sc(M),disabled:!!ke,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:[a.jsx(Ea,{className:"w-3 h-3 mr-1"}),"Hon thnh"]})]})})]},M.id))})]})})]})})})]}),a.jsx(Xt,{open:G,onOpenChange:J,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-emerald-600",children:"Xc nhn duyt yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun duyt yu cu rt tin ny? Yu cu s c chuyn sang trng thi " duyt".'}),$&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",st($.amount)]}),$.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:$.reason,children:["L do: ",$.reason]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{J(!1),U(null)},disabled:!!ke,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:Da,disabled:!!ke,className:"bg-emerald-600 hover:bg-emerald-700 text-white min-h-[40px] px-4",children:ke===$?.id?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang duyt..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Xc nhn duyt"]})})]})]})]})}),a.jsx(Xt,{open:je,onOpenChange:ge,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-blue-600",children:"Xc nhn hon thnh yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:'Bn c chc chn mun hon thnh yu cu rt tin ny? Yu cu s c chuyn sang trng thi " hon thnh" v tin s c chuyn vo ti khon ngn hng.'}),$&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",st($.amount)]}),$.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:$.reason,children:["L do: ",$.reason]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{ge(!1),U(null)},disabled:!!ke,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:Vl,disabled:!!ke,className:"bg-blue-600 hover:bg-blue-700 text-white min-h-[40px] px-4",children:ke===$?.id?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang hon thnh..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Xc nhn hon thnh"]})})]})]})]})}),a.jsx(Xt,{open:re,onOpenChange:L,children:a.jsxs(Ft,{className:"max-w-md",children:[a.jsx(Qt,{children:a.jsx(Kt,{className:"text-xl font-semibold text-red-600",children:"Xc nhn t chi yu cu rt tin"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Bn c chc chn mun t chi yu cu rt tin ny? Hnh ng ny khng th hon tc."}),$&&a.jsxs("div",{className:"rounded-lg bg-gray-50 p-3 space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["S tin: ",st($.amount)]}),$.reason&&a.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",title:$.reason,children:["L do: ",$.reason]})]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"rejectReason",className:"text-sm font-medium text-gray-700",children:"L do t chi (ty chn)"}),a.jsx(rr,{id:"rejectReason",placeholder:"Nhp l do t chi yu cu rt tin ny...",value:V,onChange:M=>pe(M.target.value),className:"mt-1",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ce,{variant:"outline",onClick:()=>{L(!1),pe(""),U(null)},disabled:!!ke,className:"min-h-[40px] px-4",children:"Hy"}),a.jsx(ce,{onClick:Yl,disabled:!!ke,className:"bg-red-600 hover:bg-red-700 text-white min-h-[40px] px-4",children:ke===$?.id?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang t chi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ri,{className:"w-4 h-4 mr-2"}),"Xc nhn t chi"]})})]})]})]})}),a.jsx(Xt,{open:Y,onOpenChange:se,children:a.jsx(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:$&&a.jsxs(a.Fragment,{children:[a.jsx(Qt,{className:"pb-4 border-b border-gray-200",children:a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit yu cu rt tin"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thng tin ngi dng"}),z?a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(kn,{className:"w-4 h-4 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin ngi dng..."})]}):I?a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[I.firstName," ",I.lastName]})}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:I.email})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"S in thoi"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:I.phoneNumber||""})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"a ch"}),a.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[I.address,", ",I.communes,", ",I.province]})]})]})]})}):a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ngi dng"})})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"S tin"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:st(K?.amount||$.amount)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:j_(K?.status||$.status)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thng tin ti khon ngn hng"}),q?a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx(kn,{className:"w-4 h-4 text-gray-400 animate-spin"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin ngn hng..."})]}):we?a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[we.bank?.logo&&a.jsx("img",{src:we.bank.logo,alt:we.bank.name,className:"w-10 h-10 object-contain"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:we.bank?.name||we.bank?.shortName||"N/A"}),we.bank?.code&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Code: ",we.bank.code]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"S ti khon"}),a.jsx("p",{className:"text-sm font-mono text-gray-900 mt-1",children:we.accountNumber})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-xs text-gray-600",children:"Tn ch ti khon"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:we.accountName})]})]}),we.isPrimary&&a.jsx("div",{className:"mt-2",children:a.jsx(Re,{variant:"outline",className:"text-blue-600 border-blue-600 bg-blue-50",children:"Ti khon chnh"})})]})]})}):a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Khng th ti thng tin ti khon ngn hng"})})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"L do"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:K?.reason||$.reason||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:_s(K?.createdAt||$.createdAt)})]}),K?.updatedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:_s(K.updatedAt)})]})]})]})})}),a.jsx(Xt,{open:Pe,onOpenChange:M=>{M||(Le(!1),Fe(null),Ie(null),Ze(null),It(null),Yn(null),Xn(null),Se(null))},children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Qt,{className:"pb-4 border-b border-gray-200",children:[a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit giao dch"}),Oe&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["S tin: ",st(Oe.amount)," |"," ","Loi tin: ",Oe.currency]})]}),a.jsx("div",{className:"space-y-6",children:Xe?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kn,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-500",children:"ang ti thng tin giao dch..."})]}):Oe?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Code"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Oe.code||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Oe.desc||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:Oe.success?a.jsx(Re,{variant:"outline",className:"text-green-600 border-green-600 bg-green-50",children:"Thnh cng"}):a.jsx(Re,{variant:"outline",className:"text-red-600 border-red-600 bg-red-50",children:"Tht bi"})})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Order Code"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Oe.orderCode||""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"S tin"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:st(Oe.amount)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Loi tin"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Oe.currency})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Loi giao dch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:kae[Oe.transactionType]||`Type ${Oe.transactionType}`})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Loi thanh ton"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:b_[Oe.paymentType]!==void 0?b_[Oe.paymentType]:`Type ${Oe.paymentType}`})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Escrow ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-600 mt-1",children:Oe.escrowId!=="00000000-0000-0000-0000-000000000000"?Oe.escrowId:""})]}),Oe.relatedEntityId&&a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Related Entity ID"}),a.jsx("p",{className:"text-xs font-mono text-gray-700 mt-1 break-all",children:Oe.relatedEntityId})]})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian giao dch"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Oe.transactionDateTime&&Oe.transactionDateTime!=="0001-01-01T00:00:00"?_s(Oe.transactionDateTime):""})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy to"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:_s(Oe.createdAt)})]}),Oe.updatedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ngy cp nht"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:_s(Oe.updatedAt)})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thng tin ngi gi / ngi nhn"}),Nt?a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(kn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin v v ngi dng..."]}):a.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngi gi"}),a.jsx("p",{className:"font-medium text-gray-900",children:ln?`${ln.firstName} ${ln.lastName}`:Me?`Wallet ${Me.id}`:Oe.fromWalletId||""}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Wallet ID:"," ",a.jsx("span",{className:"font-mono",children:Me?.id||Oe.fromWalletId||""})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngi nhn"}),a.jsx("p",{className:"font-medium text-gray-900",children:Cn?`${Cn.firstName} ${Cn.lastName}`:lt?`Wallet ${lt.id}`:Oe.toWalletId||""}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Wallet ID:"," ",a.jsx("span",{className:"font-mono",children:lt?.id||Oe.toWalletId||""})]})]})]})]}),(Oe.relatedEntityId||(Oe.transactionType===1||Oe.transactionType===6)&&Oe.escrowId&&Oe.escrowId!=="00000000-0000-0000-0000-000000000000")&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2 space-y-3",children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"i tng lin quan"}),$e?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(kn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin i tng lin quan..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{className:"text-gray-700",children:["Loi:"," ",a.jsx("span",{className:"font-medium",children:Oe.relatedEntityType||(zt||Oe.transactionType===7||Oe.transactionType===8||Oe.transactionType===9?"Auction":Oe.transactionType===1||Oe.transactionType===6?"Auction/BuyRequest":"")})]}),Oe.relatedEntityId&&Oe.relatedEntityId!=="00000000-0000-0000-0000-000000000000"?a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Related Entity ID:"," ",a.jsx("span",{className:"font-mono break-all",children:Oe.relatedEntityId})]}):null,Oe.escrowId&&Oe.escrowId!=="00000000-0000-0000-0000-000000000000"&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Escrow ID:"," ",a.jsx("span",{className:"font-mono break-all",children:Oe.escrowId})]})]}),zt&&a.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-200 space-y-2",children:[a.jsxs("p",{className:"text-sm font-semibold text-emerald-900",children:["Phin u gi #",zt.sessionCode]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-700",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gi khi im:"})," ",a.jsx("span",{className:"font-medium",children:st(zt.startingPrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gi hin ti:"})," ",a.jsx("span",{className:"font-medium",children:zt.currentPrice?st(zt.currentPrice):""})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Trng thi:"})," ",a.jsx(Re,{variant:"outline",className:"text-xs",children:zt.status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ngy kt thc:"})," ",a.jsx("span",{className:"font-medium",children:_s(zt.endDate)})]})]})]}),(zt||Oe.relatedEntityType==="Auction"||Oe.transactionType===7||Oe.transactionType===8||Oe.transactionType===9||Oe.transactionType===1||Oe.transactionType===6)&&a.jsx(ce,{size:"sm",variant:"outline",className:"text-emerald-700 border-emerald-600 hover:bg-emerald-50",onClick:()=>{Oe.relatedEntityId&&t(`/admin/auctions/${Oe.relatedEntityId}`)},children:"i ti phin u gi"}),Oe.relatedEntityType==="BuyRequest"&&a.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Yu cu mua ID: ",a.jsx("span",{className:"font-mono",children:Oe.relatedEntityId})]})})]})]}),Oe.relatedEntityId&&(Oe.relatedEntityType==="WithdrawRequest"||Oe.transactionType===5)&&a.jsxs("div",{className:"pt-2 border-t border-gray-200 mt-2",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Giao dch ny lin quan ti mt yu cu rt tin. Bn c th m chi tit  xem y  thng tin."}),a.jsx(ce,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>{Le(!1),Oe.relatedEntityId&&Wl(Oe.relatedEntityId)},children:"Xem chi tit yu cu rt tin"})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Khng th ti thng tin giao dch"})})})]})})]})}const Mae={0:"Ch phn hi",1:"Hai bn  ng ",2:"Ngi dng t chi",3:"Admin ang x l",4:" kt thc"},Iae={0:"text-amber-600 border-amber-200 bg-amber-50",1:"text-emerald-700 border-emerald-200 bg-emerald-50",2:"text-red-600 border-red-200 bg-red-50",3:"text-blue-600 border-blue-200 bg-blue-50",4:"text-slate-700 border-slate-200 bg-slate-50"},N_=e=>a.jsx(Re,{variant:"outline",className:Iae[e],children:Mae[e]}),Ho=e=>e?new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";function Lae(){const{toast:e}=$n(),[t,n]=p.useState([]),[r,s]=p.useState(!0),[o,u]=p.useState("all"),[d,f]=p.useState(""),[m,g]=p.useState(1),[x]=p.useState(10),[b,j]=p.useState(1),[S,w]=p.useState(0),[N,E]=p.useState(null),[A,T]=p.useState(null),[_,O]=p.useState(!1),[k,R]=p.useState(!1),[P,F]=p.useState(!1),[re,L]=p.useState(""),[G,J]=p.useState(""),je=p.useCallback(async(K,le)=>{try{s(!0);const Y=await Au.getDisputes({pageNumber:K,pageSize:x,status:le==="all"?void 0:le});Y.isSuccess&&Y.data?(n(Y.data.data),j(Y.data.totalPages),w(Y.data.totalCount)):e({title:ie.ERROR,description:Y.message||"Khng th ti danh sch tranh chp",variant:"destructive"})}catch(Y){const se=Y instanceof Error?Y.message:" xy ra li khi ti danh sch tranh chp";e({title:ie.ERROR,description:se,variant:"destructive"})}finally{s(!1)}},[x,e]);p.useEffect(()=>{je(m,o)},[je,m,o]);const ge=p.useMemo(()=>{let K=t;if(d){const le=d.toLowerCase();K=K.filter(Y=>Y.id.toLowerCase().includes(le)||Y.escrowId.toLowerCase().includes(le)||(Y.disputeMessage||"").toLowerCase().includes(le))}return K},[t,d]),$=async K=>{if(E(K),T(null),L(""),J(""),F(!0),K.disputeStatus===4)try{O(!0);const le=await Au.getResolveByDisputeId(K.id);le.isSuccess&&le.data&&(T(le.data),L(le.data.adminNote||""),J(le.data.refundAmount.toString()))}catch(le){console.error("Failed to load dispute resolve info",le)}finally{O(!1)}},U=async()=>{if(N)try{R(!0);const K=await Au.updateDisputeStatus(N.id,{status:"InAdminReview",adminNote:re||"Bt u xem xt tranh chp"});K.isSuccess&&K.data?(e({title:ie.SUCCESS,description:" chuyn tranh chp sang trng thi admin ang x l"}),E(K.data),await je(m,o)):e({title:ie.ERROR,description:K.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"})}catch(K){const le=K instanceof Error?K.message:" xy ra li khi cp nht trng thi tranh chp";e({title:ie.ERROR,description:le,variant:"destructive"})}finally{R(!1)}},V=async()=>{if(!N)return;const K=Number(G||"0");if(Number.isNaN(K)||K<0){e({title:ie.ERROR,description:"S tin hon phi l s khng m",variant:"destructive"});return}if(!re.trim()){e({title:ie.ERROR,description:"Vui lng nhp ghi ch quyt nh ca admin",variant:"destructive"});return}try{R(!0);const le=await Au.updateDisputeStatus(N.id,{status:"Resolved",adminNote:re});if(!le.isSuccess||!le.data){e({title:ie.ERROR,description:le.message||"Khng th cp nht trng thi tranh chp",variant:"destructive"}),R(!1);return}const Y=await Au.createDisputeResolve({disputeId:N.id,refundAmount:K,adminNote:re});Y.isSuccess&&Y.data?(e({title:ie.SUCCESS,description:" kt thc tranh chp v ghi nhn thng tin hon tin"}),E(le.data),T(Y.data),await je(m,o)):e({title:ie.ERROR,description:Y.message||"Khng th to bn ghi gii quyt tranh chp",variant:"destructive"})}catch(le){const Y=le instanceof Error?le.message:" xy ra li khi x l tranh chp";e({title:ie.ERROR,description:Y,variant:"destructive"})}finally{R(!1)}},pe=N?.disputeStatus===2,ke=N?.disputeStatus===3,B=K=>{K<1||K>b||K===m||g(K)};return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Qun l tranh chp"}),a.jsx("p",{className:"text-gray-600",children:"Theo di v x l cc tranh chp gia Nng dn v Thng li lin quan."})]}),a.jsx(at,{className:"mb-6",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(qv,{className:"w-5 h-5 text-emerald-600"}),"Danh sch tranh chp"]}),a.jsx("p",{className:"text-sm text-gray-600",children:r?"ang ti...":`Tng ${S} tranh chp`})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(nn,{placeholder:"Tm theo ID, M giao dch, ni dung...",value:d,onChange:K=>f(K.target.value),className:"pl-10"})]}),a.jsxs("select",{value:o,onChange:K=>u(K.target.value==="all"?"all":Number(K.target.value)),className:"w-full sm:w-[220px] px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:0,children:"Ch phn hi"}),a.jsx("option",{value:1,children:"Hai bn  ng "}),a.jsx("option",{value:2,children:"Ngi dng t chi"}),a.jsx("option",{value:3,children:"Admin ang x l"}),a.jsx("option",{value:4,children:" kt thc"})]})]})]}),r?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(kn,{className:"w-8 h-8 text-emerald-500 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"ang ti danh sch tranh chp..."})]}):ge.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx(qv,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600 mb-1",children:"Cha c tranh chp no ph hp b lc"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Khi c tranh chp mi, chng s xut hin ti y  bn x l."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"w-[16%]",children:"ID"}),a.jsx(xe,{className:"w-[16%]",children:"Escrow ID"}),a.jsx(xe,{className:"w-[12%] text-right",children:"S tin thc t"}),a.jsx(xe,{className:"w-[14%]",children:"Trng thi"}),a.jsx(xe,{className:"w-[18%]",children:"Thi gian to / cp nht"}),a.jsx(xe,{className:"w-[24%] text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:ge.map(K=>a.jsxs(rt,{className:"hover:bg-gray-50",children:[a.jsx(be,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-mono text-xs text-gray-800 truncate max-w-[220px]",children:K.id}),K.disputeMessage&&a.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[220px]",children:K.disputeMessage})]})}),a.jsx(be,{children:a.jsx("span",{className:"font-mono text-xs text-gray-700 truncate max-w-[220px]",children:K.escrowId})}),a.jsx(be,{className:"text-right",children:a.jsx("span",{className:"font-semibold text-gray-900",children:st(K.actualAmount)})}),a.jsx(be,{children:N_(K.disputeStatus)}),a.jsx(be,{children:a.jsxs("div",{className:"flex flex-col text-xs text-gray-600",children:[a.jsxs("span",{children:["To: ",Ho(K.createdAt)]}),a.jsxs("span",{children:["Cp nht: ",Ho(K.updatedAt)]})]})}),a.jsx(be,{className:"text-right",children:a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>$(K),className:"h-8 px-3 text-xs",children:[a.jsx(wr,{className:"w-3 h-3 mr-1"}),"Chi tit"]})})})]},K.id))})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{children:["Trang ",m,"/",b,"  ",S," tranh chp"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ce,{variant:"outline",size:"sm",className:"h-8 px-3",onClick:()=>B(m-1),disabled:m<=1,children:[a.jsx(rL,{className:"w-4 h-4 mr-1"}),"Trc"]}),a.jsxs(ce,{variant:"outline",size:"sm",className:"h-8 px-3",onClick:()=>B(m+1),disabled:m>=b,children:["Sau",a.jsx(iL,{className:"w-4 h-4 ml-1"})]})]})]})]})]})}),a.jsx(Xt,{open:P,onOpenChange:K=>{F(K),K||(E(null),T(null),L(""),J(""))},children:a.jsx(Ft,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:N&&a.jsxs(a.Fragment,{children:[a.jsxs(Qt,{className:"pb-4 border-b border-gray-200",children:[a.jsx(Kt,{className:"text-2xl font-semibold text-gray-900",children:"Chi tit tranh chp"}),a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Escrow ID:"," ",a.jsx("span",{className:"font-mono text-xs text-gray-800",children:N.escrowId})]})]}),a.jsxs("div",{className:"space-y-6 pt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Trng thi"}),a.jsx("div",{className:"mt-1",children:N_(N.disputeStatus)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"S tin tranh chp"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:st(N.actualAmount)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian to"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Ho(N.createdAt)})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian cp nht"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Ho(N.updatedAt)})]}),N.resolvedAt&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Thi gian kt thc"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Ho(N.resolvedAt)})]})]}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Ni dung tranh chp"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:N.disputeMessage||""})]}),N.attachments&&N.attachments.length>0&&a.jsxs("div",{children:[a.jsx(Ke,{className:"text-sm font-medium text-gray-700",children:"Hnh nh nh km"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:N.attachments.map(K=>a.jsxs("a",{href:K.url,target:"_blank",rel:"noreferrer",className:"block group",children:[a.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100 border border-gray-200 group-hover:border-emerald-500 transition-colors",children:a.jsx("img",{src:K.url,alt:"Dispute attachment",className:"w-full h-full object-cover"})}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:K.id})]},K.id))})]}),a.jsxs("div",{className:"pt-2 border-t border-gray-200 space-y-4",children:[_&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(kn,{className:"w-4 h-4 animate-spin"}),"ang ti thng tin gii quyt..."]}),a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"adminNote",className:"text-sm font-medium text-gray-700",children:"Ghi ch ca admin"}),a.jsx(rr,{id:"adminNote",rows:4,placeholder:"Ghi li nhn nh, quyt nh x l tranh chp...",value:re,onChange:K=>L(K.target.value),className:"mt-1",disabled:_})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"refundAmount",className:"text-sm font-medium text-gray-700",children:"S tin hon (VND)"}),a.jsx(nn,{id:"refundAmount",type:"number",min:0,step:1e3,placeholder:"Nhp s tin hon...",value:G,onChange:K=>J(K.target.value),className:"mt-1"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Theo rule: RefundAmount khng c vt qu s tin escrow."})]}),A&&a.jsxs("div",{className:"rounded-lg border border-emerald-100 bg-emerald-50 px-3 py-2 text-xs text-emerald-800",children:[a.jsx("p",{className:"font-semibold mb-1",children:"Thng tin gii quyt  ghi nhn"}),a.jsxs("p",{children:["S tin hon: ",st(A.refundAmount)]}),a.jsxs("p",{children:["Ghi ch: ",A.adminNote]}),a.jsxs("p",{children:["Ngy to: ",Ho(A.createdAt)]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 pt-2",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("p",{children:"- Rejected  InAdminReview  Resolved (khng c li trng thi)"}),a.jsx("p",{children:"- Approved / Resolved l trng thi cui cng, khng chnh sa li."})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:()=>F(!1),className:"h-9 px-4",disabled:k,children:"ng"}),pe&&a.jsx(ce,{type:"button",variant:"outline",onClick:U,disabled:k,className:"h-9 px-4 border-blue-600 text-blue-600 hover:bg-blue-50",children:k?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang cp nht..."]}):"Bt u xem xt"}),ke&&a.jsx(ce,{type:"button",onClick:V,disabled:k,className:"h-9 px-4 bg-emerald-600 hover:bg-emerald-700 text-white",children:k?a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-4 h-4 mr-2 animate-spin"}),"ang x l..."]}):"Kt thc tranh chp"})]})]})]})]})})})]})}function Bae(){const{toast:e}=$n(),[t,n]=p.useState("categories"),[r,s]=p.useState([]),[o,u]=p.useState(!1),[d,f]=p.useState(1),[m,g]=p.useState(""),[x,b]=p.useState(!1),[j,S]=p.useState({name:"",description:""}),[w,N]=p.useState(!1),[E,A]=p.useState(!1),[T,_]=p.useState(null),[O,k]=p.useState({name:"",description:"",isActive:!0}),[R,P]=p.useState(!1),[F,re]=p.useState(null),[L,G]=p.useState(!1),[J,je]=p.useState([]),[ge,$]=p.useState(!1),[U,V]=p.useState(1),[pe,ke]=p.useState(""),[B,K]=p.useState(null),[le,Y]=p.useState(!1),[se,we]=p.useState({categoryId:"",content:"",description:""}),[fe,q]=p.useState(!1),[H,I]=p.useState(!1),[ee,z]=p.useState(null),[ve,te]=p.useState({categoryId:"",content:"",description:"",isActive:!0}),[W,Q]=p.useState(!1),[ne,Ce]=p.useState(null),[Fe,Oe]=p.useState(!1),Ie=10,Xe=p.useCallback(async({silent:M=!1}={})=>{u(!0);try{const oe=await Ts.getCategories();oe.isSuccess&&oe.data?(s(oe.data),M||e({title:ie.SUCCESS,description:"Ly danh sch danh mc chnh sch thnh cng"})):e({title:ie.ERROR,description:oe.message||"Li khi ly danh sch danh mc",variant:"destructive"})}catch(oe){e({title:ie.ERROR,description:oe instanceof Error?oe.message:"Li khi ly danh sch danh mc",variant:"destructive"})}finally{u(!1)}},[e]),it=p.useCallback(async({silent:M=!1}={})=>{if(!B){je([]);return}$(!0);try{const oe=await Ts.getCategoryItems(B);oe.isSuccess&&oe.data?(je(oe.data),M||e({title:ie.SUCCESS,description:"Ly danh sch chnh sch thnh cng"})):e({title:ie.ERROR,description:oe.message||"Li khi ly danh sch chnh sch",variant:"destructive"})}catch(oe){e({title:ie.ERROR,description:oe instanceof Error?oe.message:"Li khi ly danh sch chnh sch",variant:"destructive"})}finally{$(!1)}},[B,e]);p.useEffect(()=>{Xe({silent:!0})},[Xe]),p.useEffect(()=>{t==="items"&&B&&it({silent:!0})},[t,B,it]);const Pe=p.useMemo(()=>{const M=m.trim().toLowerCase();return M?r.filter(oe=>oe.name.toLowerCase().includes(M)||oe.description.toLowerCase().includes(M)):r},[r,m]),Le=p.useMemo(()=>{const M=pe.trim().toLowerCase();return M?J.filter(oe=>oe.description.toLowerCase().includes(M)||oe.content.toLowerCase().includes(M)||oe.categoryName.toLowerCase().includes(M)):J},[J,pe]),Me=()=>S({name:"",description:""}),Ze=()=>{Me(),b(!0)},lt=(M,oe)=>{S(Ne=>({...Ne,[M]:oe}))},It=()=>{Me(),b(!1)},ln=async()=>{if(!(!j.name.trim()||w)){N(!0);try{const M=await Ts.createCategory({name:j.name.trim(),description:j.description.trim()});if(M.isSuccess){await Xe();const oe=Math.max(1,Math.ceil((r.length+1)/Ie));f(oe),It(),e({title:ie.SUCCESS,description:"To danh mc chnh sch thnh cng"})}else e({title:ie.ERROR,description:M.message||"Li khi to danh mc",variant:"destructive"})}catch(M){e({title:ie.ERROR,description:M instanceof Error?M.message:"Li khi to danh mc",variant:"destructive"})}finally{N(!1)}}},Yn=M=>{_(M.id),k({name:M.name,description:M.description,isActive:M.isActive}),A(!0)},Cn=()=>{A(!1),_(null),k({name:"",description:"",isActive:!0})},Xn=(M,oe)=>{k(Ne=>({...Ne,[M]:oe}))},Nt=async()=>{if(!(!T||!O.name.trim()||R)){P(!0);try{const M=await Ts.updateCategory(T,{name:O.name.trim(),description:O.description.trim(),isActive:O.isActive});M.isSuccess?(await Xe(),Cn(),e({title:ie.SUCCESS,description:"Cp nht danh mc chnh sch thnh cng"})):e({title:ie.ERROR,description:M.message||"Li khi cp nht danh mc",variant:"destructive"})}catch(M){e({title:ie.ERROR,description:M instanceof Error?M.message:"Li khi cp nht danh mc",variant:"destructive"})}finally{P(!1)}}},gr=M=>re(M),zt=async()=>{if(!(!F||L)){G(!0);try{const M=await Ts.deleteCategory(F.id);if(M.isSuccess){await Xe();const oe=r.length-1,Ne=Math.max(1,Math.ceil(oe/Ie));d>Ne&&f(Math.max(1,Ne)),T===F.id&&Cn(),re(null),e({title:ie.SUCCESS,description:"Xa danh mc chnh sch thnh cng"})}else e({title:ie.ERROR,description:M.message||"Li khi xa danh mc",variant:"destructive"})}catch(M){e({title:ie.ERROR,description:M instanceof Error?M.message:"Li khi xa danh mc",variant:"destructive"})}finally{G(!1)}}},Se=()=>re(null),$e=()=>we({categoryId:B||"",content:"",description:""}),Ve=()=>{if(!B){e({title:ie.ERROR,description:"Vui lng chn danh mc trc",variant:"destructive"});return}$e(),Y(!0)},Vt=(M,oe)=>{we(Ne=>({...Ne,[M]:oe}))},Rt=()=>{$e(),Y(!1)},St=async()=>{if(!(!se.categoryId||!se.content.trim()||fe)){q(!0);try{const M=await Ts.createItem({categoryId:se.categoryId,content:se.content.trim(),description:se.description.trim()});if(M.isSuccess){await it();const oe=Math.max(1,Math.ceil((J.length+1)/Ie));V(oe),Rt(),e({title:ie.SUCCESS,description:"To chnh sch thnh cng"})}else e({title:ie.ERROR,description:M.message||"Li khi to chnh sch",variant:"destructive"})}catch(M){e({title:ie.ERROR,description:M instanceof Error?M.message:"Li khi to chnh sch",variant:"destructive"})}finally{q(!1)}}},Cr=async M=>{z(M.id),te({categoryId:M.categoryId,content:M.content,description:M.description,isActive:M.isActive}),I(!0)},Da=()=>{I(!1),z(null),te({categoryId:"",content:"",description:"",isActive:!0})},ra=(M,oe)=>{te(Ne=>({...Ne,[M]:oe}))},Sc=async()=>{if(!(!ee||!ve.content.trim()||W)){Q(!0);try{const M=await Ts.updateItem(ee,{categoryId:ve.categoryId,content:ve.content.trim(),description:ve.description.trim(),isActive:ve.isActive});M.isSuccess?(await it(),Da(),e({title:ie.SUCCESS,description:"Cp nht chnh sch thnh cng"})):e({title:ie.ERROR,description:M.message||"Li khi cp nht chnh sch",variant:"destructive"})}catch(M){e({title:ie.ERROR,description:M instanceof Error?M.message:"Li khi cp nht chnh sch",variant:"destructive"})}finally{Q(!1)}}},Vl=M=>Ce(M),Ys=async()=>{if(!(!ne||Fe)){Oe(!0);try{const M=await Ts.deleteItem(ne.id);if(M.isSuccess){await it();const oe=J.length-1,Ne=Math.max(1,Math.ceil(oe/Ie));U>Ne&&V(Math.max(1,Ne)),ee===ne.id&&Da(),Ce(null),e({title:ie.SUCCESS,description:"Xa chnh sch thnh cng"})}else e({title:ie.ERROR,description:M.message||"Li khi xa chnh sch",variant:"destructive"})}catch(M){e({title:ie.ERROR,description:M instanceof Error?M.message:"Li khi xa chnh sch",variant:"destructive"})}finally{Oe(!1)}}},Ga=()=>Ce(null),ns=Math.max(1,Math.ceil(Pe.length/Ie)),Xs=(Math.min(d,ns)-1)*Ie,Wl=Pe.slice(Xs,Xs+Ie),aa=Math.max(1,Math.ceil(Le.length/Ie)),Qs=(Math.min(U,aa)-1)*Ie,Yl=Le.slice(Qs,Qs+Ie);return a.jsxs("div",{className:"mx-auto max-w-[1800px] p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l chnh sch"}),a.jsx("p",{className:"text-responsive-base text-gray-600",children:"Qun l danh mc v ni dung chnh sch ca h thng"})]}),a.jsx(at,{className:"card-responsive",children:a.jsxs(Ws,{value:t,onValueChange:M=>n(M),children:[a.jsxs(ts,{className:"mb-6",children:[a.jsx(bt,{value:"categories",children:"Danh mc chnh sch"}),a.jsx(bt,{value:"items",children:"Ni dung chnh sch"})]}),a.jsxs(Mi,{value:"categories",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch danh mc"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:o?"ang ti...":`C ${Pe.length} danh mc`})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:m,onChange:M=>g(M.target.value),placeholder:"Tm theo tn hoc m t",className:"pl-9"})]}),!x&&a.jsxs(ce,{onClick:Ze,children:[a.jsx(ME,{className:"h-4 w-4 mr-2"}),"Thm danh mc"]})]})]}),x&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn danh mc"}),a.jsx(nn,{value:j.name,onChange:M=>lt("name",M.target.value),placeholder:"V d: Chnh sch bo mt"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(rr,{rows:2,value:j.description,onChange:M=>lt("description",M.target.value),placeholder:"M t v danh mc chnh sch"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:It,disabled:w,children:"Hy"}),a.jsx(ce,{onClick:ln,disabled:w,children:w?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:o?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left",children:"Tn"}),a.jsx(xe,{className:"text-left",children:"M t"}),a.jsx(xe,{className:"text-center",children:"Trng thi"}),a.jsx(xe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:Array.from({length:3}).map((M,oe)=>a.jsxs(rt,{children:[a.jsx(be,{children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-16 animate-pulse rounded bg-gray-200 mx-auto"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-200 ml-auto"})})]},oe))})]}):Pe.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left",children:"Tn"}),a.jsx(xe,{className:"text-left",children:"M t"}),a.jsx(xe,{className:"text-center",children:"Trng thi"}),a.jsx(xe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:Wl.map(M=>a.jsxs(rt,{children:[a.jsx(be,{className:"font-medium",children:M.name}),a.jsx(be,{className:"text-sm text-gray-600",children:M.description||""}),a.jsx(be,{className:"text-center",children:a.jsx(Re,{variant:M.isActive?"default":"outline",children:M.isActive?"Hot ng":"Tm dng"})}),a.jsx(be,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>Yn(M),children:[a.jsx(Bu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>gr(M),children:[a.jsx(Fv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},M.id))})]}),Pe.length>Ie&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",d,"/",ns]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>f(M=>Math.max(1,M-1)),disabled:d<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>f(M=>Math.min(ns,M+1)),disabled:d>=ns,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(Bi,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c danh mc no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm danh mc mi  bt u qun l chnh sch."}),a.jsx(ce,{onClick:Ze,children:"Thm danh mc u tin"})]})})]}),a.jsxs(Mi,{value:"items",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sch chnh sch"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:ge?"ang ti...":`C ${Le.length} chnh sch`})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("div",{className:"relative w-full sm:w-48",children:a.jsxs("select",{value:B||"",onChange:M=>{K(M.target.value||null),V(1)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Tt c danh mc"}),r.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(nn,{value:pe,onChange:M=>ke(M.target.value),placeholder:"Tm theo ni dung",className:"pl-9"})]}),!le&&a.jsxs(ce,{onClick:Ve,disabled:!B,children:[a.jsx(ME,{className:"h-4 w-4 mr-2"}),"Thm chnh sch"]})]})]}),le&&a.jsxs("div",{className:"mt-4 space-y-4 border rounded-2xl p-4 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Danh mc"}),a.jsxs("select",{value:se.categoryId,onChange:M=>Vt("categoryId",M.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Chn danh mc"}),r.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ni dung"}),a.jsx(rr,{rows:4,value:se.content,onChange:M=>Vt("content",M.target.value),placeholder:"Ni dung chnh sch"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(rr,{rows:2,value:se.description,onChange:M=>Vt("description",M.target.value),placeholder:"M t ngn gn v chnh sch"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Rt,disabled:fe,children:"Hy"}),a.jsx(ce,{onClick:St,disabled:fe,children:fe?"ang to...":"Thm mi"})]})]}),a.jsx("div",{className:"mt-6 overflow-x-auto",children:!B&&t==="items"?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-gray-50 p-4",children:a.jsx(Bi,{className:"h-6 w-6 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chn danh mc"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Vui lng chn danh mc  xem danh sch chnh sch."})]}):ge?a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left",children:"Danh mc"}),a.jsx(xe,{className:"text-left",children:"M t"}),a.jsx(xe,{className:"text-left",children:"Ni dung"}),a.jsx(xe,{className:"text-center",children:"Trng thi"}),a.jsx(xe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:Array.from({length:3}).map((M,oe)=>a.jsxs(rt,{children:[a.jsx(be,{children:a.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded bg-gray-200"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-5/6 animate-pulse rounded bg-gray-200"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-gray-200"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-16 animate-pulse rounded bg-gray-200 mx-auto"})}),a.jsx(be,{children:a.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-200 ml-auto"})})]},oe))})]}):Le.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(rn,{children:[a.jsx(an,{children:a.jsxs(rt,{children:[a.jsx(xe,{className:"text-left",children:"Danh mc"}),a.jsx(xe,{className:"text-left",children:"M t"}),a.jsx(xe,{className:"text-left",children:"Ni dung"}),a.jsx(xe,{className:"text-center",children:"Trng thi"}),a.jsx(xe,{className:"text-right",children:"Thao tc"})]})}),a.jsx(sn,{children:Yl.map(M=>a.jsxs(rt,{children:[a.jsx(be,{className:"font-medium",children:M.categoryName}),a.jsx(be,{className:"text-sm text-gray-600",children:M.description||""}),a.jsx(be,{className:"text-sm text-gray-600 max-w-md truncate",children:M.content||""}),a.jsx(be,{className:"text-center",children:a.jsx(Re,{variant:M.isActive?"default":"outline",children:M.isActive?"Hot ng":"Tm dng"})}),a.jsx(be,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1.5",children:[a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-gray-900",onClick:()=>Cr(M),children:[a.jsx(Bu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Sa"})]}),a.jsxs(ce,{size:"icon",variant:"ghost",className:"h-8 w-8 text-gray-500 hover:text-rose-600",onClick:()=>Vl(M),children:[a.jsx(Fv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},M.id))})]}),Le.length>Ie&&a.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Trang ",U,"/",aa]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>V(M=>Math.max(1,M-1)),disabled:U<=1,children:"Trc"}),a.jsx(ce,{variant:"outline",size:"sm",onClick:()=>V(M=>Math.min(aa,M+1)),disabled:U>=aa,children:"Sau"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-center",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-4",children:a.jsx(Bi,{className:"h-6 w-6 text-emerald-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cha c chnh sch no"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Thm chnh sch mi  bt u qun l ni dung."}),a.jsx(ce,{onClick:Ve,disabled:!B,children:"Thm chnh sch u tin"})]})})]})]})}),a.jsx(Xt,{open:E,onOpenChange:M=>{M||Cn()},children:a.jsxs(Ft,{className:"max-w-lg",children:[a.jsx(Qt,{children:a.jsx(Kt,{children:"Chnh sa danh mc chnh sch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tn danh mc"}),a.jsx(nn,{value:O.name,onChange:M=>Xn("name",M.target.value),placeholder:"Tn danh mc"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(rr,{rows:3,value:O.description,onChange:M=>Xn("description",M.target.value),placeholder:"M t danh mc"})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:O.isActive,onChange:M=>Xn("isActive",M.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hot ng"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Cn,disabled:R,children:"Hy"}),a.jsx(ce,{onClick:Nt,disabled:R,children:R?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Xt,{open:!!F,onOpenChange:M=>{M||Se()},children:a.jsxs(Ft,{className:"max-w-sm",children:[a.jsx(Qt,{children:a.jsx(Kt,{children:"Xa danh mc chnh sch"})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn c chc mun xa danh mc"," ",a.jsx("span",{className:"font-semibold text-gray-900",children:F?.name}),"? Thao tc ny khng th hon tc."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Se,disabled:L,children:"Hy"}),a.jsx(ce,{variant:"destructive",onClick:zt,disabled:L,children:L?"ang xa...":"Xa"})]})]})}),a.jsx(Xt,{open:H,onOpenChange:M=>{M||Da()},children:a.jsxs(Ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Qt,{children:a.jsx(Kt,{children:"Chnh sa chnh sch"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Danh mc"}),a.jsxs("select",{value:ve.categoryId,onChange:M=>ra("categoryId",M.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",children:[a.jsx("option",{value:"",children:"Chn danh mc"}),r.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ni dung"}),a.jsx(rr,{rows:6,value:ve.content,onChange:M=>ra("content",M.target.value),placeholder:"Ni dung chnh sch"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"M t"}),a.jsx(rr,{rows:3,value:ve.description,onChange:M=>ra("description",M.target.value),placeholder:"M t chnh sch"})]}),a.jsx("div",{className:"space-y-1",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:ve.isActive,onChange:M=>ra("isActive",M.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Hot ng"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Da,disabled:W,children:"Hy"}),a.jsx(ce,{onClick:Sc,disabled:W,children:W?"ang lu...":"Lu thay i"})]})]})}),a.jsx(Xt,{open:!!ne,onOpenChange:M=>{M||Ga()},children:a.jsxs(Ft,{className:"max-w-sm",children:[a.jsx(Qt,{children:a.jsx(Kt,{children:"Xa chnh sch"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bn c chc mun xa chnh sch ny? Thao tc ny khng th hon tc."}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:Ga,disabled:Fe,children:"Hy"}),a.jsx(ce,{variant:"destructive",onClick:Ys,disabled:Fe,children:Fe?"ang xa...":"Xa"})]})]})})]})}function pn({children:e}){const{user:t,loading:n}=Hs();return n?null:t&&t.role==="admin"?a.jsx(a.Fragment,{children:e}):a.jsx(Uv,{to:et.ADMIN_LOGIN,replace:!0})}function $ae(){const{user:e}=Hs();return a.jsx(i$,{children:a.jsx(N3,{children:a.jsxs(J5,{children:[a.jsx(Wt,{path:et.ADMIN_DASHBOARD,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Lte,{})})})}),a.jsx(Wt,{path:et.ADMIN_USERS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(yre,{})})})}),a.jsx(Wt,{path:et.ADMIN_APPROVAL,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Gre,{})})})}),a.jsx(Wt,{path:et.ADMIN_FARMS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Wre,{})})})}),a.jsx(Wt,{path:et.ADMIN_FARM_PROFILE,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Xre,{})})})}),a.jsx(Wt,{path:et.ADMIN_CROPS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Qre,{})})})}),a.jsx(Wt,{path:et.ADMIN_CATEGORIES,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Zre,{})})})}),a.jsx(Wt,{path:et.ADMIN_HARVESTS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Jre,{})})})}),a.jsx(Wt,{path:et.ADMIN_ORDERS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(eae,{})})})}),a.jsx(Wt,{path:et.ADMIN_REPORTS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(_ae,{})})})}),a.jsx(Wt,{path:et.ADMIN_PRODUCTS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(tae,{})})})}),a.jsx(Wt,{path:et.ADMIN_SHIPPERS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(nae,{})})})}),a.jsx(Wt,{path:et.ADMIN_AUCTIONS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(lae,{})})})}),a.jsx(Wt,{path:et.ADMIN_AUCTIONS_BY_ID,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(pae,{})})})}),a.jsx(Wt,{path:et.ADMIN_AUCTIONS_BY_ID_ACTIVITY_HISTORY,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(xae,{})})})}),a.jsx(Wt,{path:et.ADMIN_AUCTIONS_BY_ID_BID_HISTORY,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(vae,{})})})}),a.jsx(Wt,{path:et.ADMIN_AUCTIONS_BY_ID_WINNER,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(bae,{})})})}),a.jsx(Wt,{path:et.ADMIN_AUCTIONS_BY_ID_REPORTS,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Sae,{})})})}),a.jsx(Wt,{path:"/admin/settings",element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Eae,{})})})}),a.jsx(Wt,{path:"/admin/help",element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Cae,{})})})}),a.jsx(Wt,{path:et.ADMIN_WALLET,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Pae,{})})})}),a.jsx(Wt,{path:et.ADMIN_DISPUTES,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Lae,{})})})}),a.jsx(Wt,{path:et.ADMIN_POLICY,element:a.jsx(pn,{children:a.jsx(gn,{children:a.jsx(Bae,{})})})}),a.jsx(Wt,{path:et.ADMIN_LOGIN,element:e&&e.role==="admin"?a.jsx(Uv,{to:et.ADMIN_DASHBOARD,replace:!0}):a.jsx(fU,{})}),a.jsx(Wt,{path:"*",element:a.jsx(Uv,{to:et.ADMIN_LOGIN,replace:!0})})]})})})}const Uae=new l5({defaultOptions:{queries:{refetchOnWindowFocus:!0,refetchOnReconnect:!0,staleTime:30*1e3,gcTime:300*1e3}}});M6.createRoot(document.getElementById("root")).render(a.jsx(p.StrictMode,{children:a.jsx(c5,{client:Uae,children:a.jsx(P3,{children:a.jsx($ae,{})})})}));
